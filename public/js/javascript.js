function _init(){$.AdminLTE.layout={activate:function(){var e=this;e.fix(),e.fixSidebar(),$(window,".wrapper").resize(function(){e.fix(),e.fixSidebar()})},fix:function(){var e=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),t=$(window).height(),n=$(".sidebar").height();if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",t-$(".main-footer").outerHeight());else{var i;t>=n?($(".content-wrapper, .right-side").css("min-height",t-e),i=t-e):($(".content-wrapper, .right-side").css("min-height",n),i=n);var r=$($.AdminLTE.options.controlSidebarOptions.selector);"undefined"!=typeof r&&r.height()>i&&$(".content-wrapper, .right-side").css("min-height",r.height())}},fixSidebar:function(){return $("body").hasClass("fixed")?("undefined"==typeof $.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),void($.AdminLTE.options.sidebarSlimScroll&&"undefined"!=typeof $.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void("undefined"!=typeof $.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu={activate:function(e){var t=$.AdminLTE.options.screenSizes;$(e).on("click",function(e){e.preventDefault(),$(window).width()>t.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=t.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var e=this,t=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>t&&e.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>t&&e.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(e){var t=this,n=$.AdminLTE.options.animationSpeed;$("li a",$(e)).on("click",function(e){var i=$(this),r=i.next();if(r.is(".treeview-menu")&&r.is(":visible"))r.slideUp(n,function(){r.removeClass("menu-open")}),r.parent("li").removeClass("active");else if(r.is(".treeview-menu")&&!r.is(":visible")){var o=i.parents("ul").first(),a=o.find("ul:visible").slideUp(n);a.removeClass("menu-open");var s=i.parent("li");r.slideDown(n,function(){r.addClass("menu-open"),o.find("li.active").removeClass("active"),s.addClass("active"),t.layout.fix()})}r.is(".treeview-menu")&&e.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var e=this,t=$.AdminLTE.options.controlSidebarOptions,n=$(t.selector),i=$(t.toggleBtnSelector);i.on("click",function(i){i.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?e.close(n,t.slide):e.open(n,t.slide)});var r=$(".control-sidebar-bg");e._fix(r),$("body").hasClass("fixed")?e._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&e._fixForContent(n)},open:function(e,t){t?e.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(e,t){t?e.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(e){var t=this;$("body").hasClass("layout-boxed")?(e.css("position","absolute"),e.height($(".wrapper").height()),$(window).resize(function(){t._fix(e)})):e.css({position:"fixed",height:"auto"})},_fixForFixed:function(e){e.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(e){$(".content-wrapper, .right-side").css("min-height",e.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(e){var t=this;e||(e=document),$(e).find(t.selectors.collapse).on("click",function(e){e.preventDefault(),t.collapse($(this))}),$(e).find(t.selectors.remove).on("click",function(e){e.preventDefault(),t.remove($(this))})},collapse:function(e){var t=this,n=e.parents(".box").first(),i=n.find("> .box-body, > .box-footer");n.hasClass("collapsed-box")?(e.children(":first").removeClass(t.icons.open).addClass(t.icons.collapse),i.slideDown(t.animationSpeed,function(){n.removeClass("collapsed-box")})):(e.children(":first").removeClass(t.icons.collapse).addClass(t.icons.open),i.slideUp(t.animationSpeed,function(){n.addClass("collapsed-box")}))},remove:function(e){var t=e.parents(".box").first();t.slideUp(this.animationSpeed)}}}if(!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t="length"in e&&e.length,n=Q.type(e);return"function"!==n&&!Q.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}function i(e,t,n){if(Q.isFunction(t))return Q.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return Q.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(se.test(t))return Q.filter(t,e,n);t=Q.filter(t,e)}return Q.grep(e,function(e){return q.call(t,e)>=0!==n})}function r(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function o(e){var t=pe[e]={};return Q.each(e.match(he)||[],function(e,n){t[n]=!0}),t}function a(){J.removeEventListener("DOMContentLoaded",a,!1),e.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(we,"-$1").toLowerCase(),n=e.getAttribute(i),"string"==typeof n){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:ye.test(n)?Q.parseJSON(n):n)}catch(r){}be.set(e,t,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function d(){try{return J.activeElement}catch(e){}}function f(e,t){return Q.nodeName(e,"table")&&Q.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function h(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function p(e){var t=Re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function m(e,t){for(var n=0,i=e.length;i>n;n++)ve.set(e[n],"globalEval",!t||ve.get(t[n],"globalEval"))}function g(e,t){var n,i,r,o,a,s,l,u;if(1===t.nodeType){if(ve.hasData(e)&&(o=ve.access(e),a=ve.set(t,o),u=o.events)){delete a.handle,a.events={};for(r in u)for(n=0,i=u[r].length;i>n;n++)Q.event.add(t,r,u[r][n])}be.hasData(e)&&(s=be.access(e),l=Q.extend({},s),be.set(t,l))}}function v(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&Q.nodeName(e,t)?Q.merge([e],n):n}function b(e,t){var n=t.nodeName.toLowerCase();"input"===n&&ke.test(e.type)?t.checked=e.checked:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}function y(t,n){var i,r=Q(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(i=e.getDefaultComputedStyle(r[0]))?i.display:Q.css(r[0],"display");return r.detach(),o}function w(e){var t=J,n=He[e];return n||(n=y(e,t),"none"!==n&&n||(Fe=(Fe||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=Fe[0].contentDocument,t.write(),t.close(),n=y(e,t),Fe.detach()),He[e]=n),n}function x(e,t,n){var i,r,o,a,s=e.style;return n=n||ze(e),n&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||Q.contains(e.ownerDocument,e)||(a=Q.style(e,t)),Ve.test(a)&&je.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function C(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function _(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ke.length;r--;)if(t=Ke[r]+n,t in e)return t;return i}function k(e,t,n){var i=We.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function S(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(e,n+Ce[o],!0,r)),i?("content"===n&&(a-=Q.css(e,"padding"+Ce[o],!0,r)),"margin"!==n&&(a-=Q.css(e,"border"+Ce[o]+"Width",!0,r))):(a+=Q.css(e,"padding"+Ce[o],!0,r),"padding"!==n&&(a+=Q.css(e,"border"+Ce[o]+"Width",!0,r)));return a}function D(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=ze(e),a="border-box"===Q.css(e,"boxSizing",!1,o);if(0>=r||null==r){if(r=x(e,t,o),(0>r||null==r)&&(r=e.style[t]),Ve.test(r))return r;i=a&&(X.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+S(e,t,n||(a?"border":"content"),i,o)+"px"}function $(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=ve.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&_e(i)&&(o[a]=ve.access(i,"olddisplay",w(i.nodeName)))):(r=_e(i),"none"===n&&r||ve.set(i,"olddisplay",r?n:Q.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function T(e,t,n,i,r){return new T.prototype.init(e,t,n,i,r)}function E(){return setTimeout(function(){Xe=void 0}),Xe=Q.now()}function A(e,t){var n,i=0,r={height:e};for(t=t?1:0;4>i;i+=2-t)n=Ce[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function O(e,t,n){for(var i,r=(nt[t]||[]).concat(nt["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function M(e,t,n){var i,r,o,a,s,l,u,c,d=this,f={},h=e.style,p=e.nodeType&&_e(e),m=ve.get(e,"fxshow");n.queue||(s=Q._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,Q.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],u=Q.css(e,"display"),c="none"===u?ve.get(e,"olddisplay")||w(e.nodeName):u,"inline"===c&&"none"===Q.css(e,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ze.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;p=!0}f[i]=m&&m[i]||Q.style(e,i)}else u=void 0;if(Q.isEmptyObject(f))"inline"===("none"===u?w(e.nodeName):u)&&(h.display=u);else{m?"hidden"in m&&(p=m.hidden):m=ve.access(e,"fxshow",{}),o&&(m.hidden=!p),p?Q(e).show():d.done(function(){Q(e).hide()}),d.done(function(){var t;ve.remove(e,"fxshow");for(t in f)Q.style(e,t,f[t])});for(i in f)a=O(p?m[i]:0,i,d),i in m||(m[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function N(e,t){var n,i,r,o,a;for(n in e)if(i=Q.camelCase(n),r=t[i],o=e[n],Q.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=Q.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function P(e,t,n){var i,r,o=0,a=tt.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=Xe||E(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:Q.extend({},t),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xe||E(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Q.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?s.resolveWith(e,[u,t]):s.rejectWith(e,[u,t]),this}}),c=u.props;for(N(c,u.opts.specialEasing);a>o;o++)if(i=tt[o].call(u,e,c,u.opts))return i;return Q.map(c,O,u),Q.isFunction(u.opts.start)&&u.opts.start.call(e,u),Q.fx.timer(Q.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function I(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(he)||[];if(Q.isFunction(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function R(e,t,n,i){function r(s){var l;return o[s]=!0,Q.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===yt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function L(e,t){var n,i,r=Q.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&Q.extend(!0,e,i),e}function B(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function F(e,t,n,i){var r,o,a,s,l,u={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(d){return{state:"parsererror",error:a?d:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function H(e,t,n,i){var r;if(Q.isArray(t))Q.each(t,function(t,r){n||kt.test(e)?i(e,r):H(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Q.type(t))i(e,t);else for(r in t)H(e+"["+r+"]",t[r],n,i)}function j(e){return Q.isWindow(e)?e:9===e.nodeType&&e.defaultView}var V=[],z=V.slice,U=V.concat,W=V.push,q=V.indexOf,Y={},G=Y.toString,K=Y.hasOwnProperty,X={},J=e.document,Z="2.1.4",Q=function(e,t){return new Q.fn.init(e,t)},ee=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,te=/^-ms-/,ne=/-([\da-z])/gi,ie=function(e,t){return t.toUpperCase()};Q.fn=Q.prototype={jquery:Z,constructor:Q,selector:"",length:0,toArray:function(){return z.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:z.call(this)},pushStack:function(e){var t=Q.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Q.each(this,e,t)},map:function(e){return this.pushStack(Q.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(z.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:V.sort,splice:V.splice},Q.extend=Q.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],i=e[t],a!==i&&(u&&i&&(Q.isPlainObject(i)||(r=Q.isArray(i)))?(r?(r=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[t]=Q.extend(u,o,i)):void 0!==i&&(a[t]=i));return a},Q.extend({expando:"jQuery"+(Z+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===Q.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!Q.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===Q.type(e)&&!e.nodeType&&!Q.isWindow(e)&&!(e.constructor&&!K.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?Y[G.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;e=Q.trim(e),e&&(1===e.indexOf("use strict")?(t=J.createElement("script"),t.text=e,J.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(te,"ms-").replace(ne,ie)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var r,o=0,a=e.length,s=n(e);if(i){if(s)for(;a>o&&(r=t.apply(e[o],i),r!==!1);o++);else for(o in e)if(r=t.apply(e[o],i),r===!1)break}else if(s)for(;a>o&&(r=t.call(e[o],o,e[o]),r!==!1);o++);else for(o in e)if(r=t.call(e[o],o,e[o]),r===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(ee,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?Q.merge(i,"string"==typeof e?[e]:e):W.call(i,e)),i},inArray:function(e,t,n){return null==t?-1:q.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o=0,a=e.length,s=n(e),l=[];if(s)for(;a>o;o++)r=t(e[o],o,i),null!=r&&l.push(r);else for(o in e)r=t(e[o],o,i),null!=r&&l.push(r);return U.apply([],l)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(n=e[t],t=e,e=n),Q.isFunction(e)?(i=z.call(arguments,2),r=function(){return e.apply(t||this,i.concat(z.call(arguments)))},r.guid=e.guid=e.guid||Q.guid++,r):void 0},now:Date.now,support:X}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){Y["[object "+t+"]"]=t.toLowerCase()});var re=function(e){function t(e,t,n,i){var r,o,a,s,l,u,d,h,p,m;if((t?t.ownerDocument||t:H)!==M&&O(t),t=t||M,n=n||[],s=t.nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&P){if(11!==s&&(r=be.exec(e)))if(a=r[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&B(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&x.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(a)),n}if(x.qsa&&(!I||!I.test(e))){if(h=d=F,p=t,m=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(u=S(e),(d=t.getAttribute("id"))?h=d.replace(we,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=u.length;l--;)u[l]=h+f(u[l]);p=ye.test(e)&&c(t.parentNode)||t,m=u.join(",")}if(m)try{return Z.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{d||t.removeAttribute("id")}}}return $(e.replace(le,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[F]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=e.length;i--;)C.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function c(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function d(){}function f(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function h(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=V++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[j,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(l=t[F]||(t[F]={}),(s=l[i])&&s[0]===j&&s[1]===o)return u[2]=s[2];if(l[i]=u,u[2]=e(t,n,a))return!0}}}function p(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function m(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function g(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),u&&t.push(s));return a}function v(e,t,n,r,o,a){return r&&!r[F]&&(r=v(r)),o&&!o[F]&&(o=v(o,a)),i(function(i,a,s,l){var u,c,d,f=[],h=[],p=a.length,v=i||m(t||"*",s.nodeType?[s]:s,[]),b=!e||!i&&t?v:g(v,f,e,s,l),y=n?o||(i?e:p||r)?[]:a:b;if(n&&n(b,y,s,l),r)for(u=g(y,h),r(u,[],s,l),c=u.length;c--;)(d=u[c])&&(y[h[c]]=!(b[h[c]]=d));if(i){if(o||e){if(o){for(u=[],c=y.length;c--;)(d=y[c])&&u.push(b[c]=d);o(null,y=[],u,l)}for(c=y.length;c--;)(d=y[c])&&(u=o?ee(i,d):f[c])>-1&&(i[u]=!(a[u]=d))}}else y=g(y===a?y.splice(p,y.length):y),o?o(null,a,y,l):Z.apply(a,y)})}function b(e){for(var t,n,i,r=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,l=h(function(e){return e===t},a,!0),u=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,i){var r=!o&&(i||n!==T)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=C.relative[e[s].type])c=[h(p(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[F]){for(i=++s;r>i&&!C.relative[e[i].type];i++);return v(s>1&&p(c),s>1&&f(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(le,"$1"),n,i>s&&b(e.slice(s,i)),r>i&&b(e=e.slice(i)),r>i&&f(e))}c.push(n)}return p(c)}function y(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var c,d,f,h=0,p="0",m=i&&[],v=[],b=T,y=i||o&&C.find.TAG("*",u),w=j+=null==b?1:Math.random()||.1,x=y.length;for(u&&(T=a!==M&&a);p!==x&&null!=(c=y[p]);p++){if(o&&c){for(d=0;f=e[d++];)if(f(c,a,s)){l.push(c);break}u&&(j=w)}r&&((c=!f&&c)&&h--,i&&m.push(c))}if(h+=p,r&&p!==h){for(d=0;f=n[d++];)f(m,v,a,s);if(i){if(h>0)for(;p--;)m[p]||v[p]||(v[p]=X.call(l));v=g(v)}Z.apply(l,v),u&&!i&&v.length>0&&h+n.length>1&&t.uniqueSort(l)}return u&&(j=w,T=b),m};return r?i(a):a}var w,x,C,_,k,S,D,$,T,E,A,O,M,N,P,I,R,L,B,F="sizzle"+1*new Date,H=e.document,j=0,V=0,z=n(),U=n(),W=n(),q=function(e,t){return e===t&&(A=!0),0},Y=1<<31,G={}.hasOwnProperty,K=[],X=K.pop,J=K.push,Z=K.push,Q=K.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=ie.replace("w","w#"),oe="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(ne+"+","g"),le=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),ce=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(ae),he=new RegExp("^"+re+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie.replace("w","w*")+")"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ve=/^[^{]+\{\s*\[native \w/,be=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,we=/'|\\/g,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),Ce=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},_e=function(){O()};try{Z.apply(K=Q.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(ke){Z={apply:K.length?function(e,t){J.apply(e,Q.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}x=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},O=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:H;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,N=i.documentElement,n=i.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_e,!1):n.attachEvent&&n.attachEvent("onunload",_e)),P=!k(i),x.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),x.getElementsByTagName=r(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),x.getElementsByClassName=ve.test(i.getElementsByClassName),x.getById=r(function(e){return N.appendChild(e).id=F,!i.getElementsByName||!i.getElementsByName(F).length}),x.getById?(C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){return e.getAttribute("id")===t}}):(delete C.find.ID,C.filter.ID=function(e){var t=e.replace(xe,Ce);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),C.find.TAG=x.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):x.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=x.getElementsByClassName&&function(e,t){return P?t.getElementsByClassName(e):void 0},R=[],I=[],(x.qsa=ve.test(i.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&I.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||I.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+F+"-]").length||I.push("~="),e.querySelectorAll(":checked").length||I.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||I.push(".#.+[+~]")}),r(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&I.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),I.push(",.*:")})),(x.matchesSelector=ve.test(L=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){x.disconnectedMatch=L.call(e,"div"),L.call(e,"[s!='']:x"),R.push("!=",ae)}),I=I.length&&new RegExp(I.join("|")),R=R.length&&new RegExp(R.join("|")),t=ve.test(N.compareDocumentPosition),B=t||ve.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},q=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!x.sortDetached&&t.compareDocumentPosition(e)===n?e===i||e.ownerDocument===H&&B(H,e)?-1:t===i||t.ownerDocument===H&&B(H,t)?1:E?ee(E,e)-ee(E,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,r=0,o=e.parentNode,s=t.parentNode,l=[e],u=[t];if(!o||!s)return e===i?-1:t===i?1:o?-1:s?1:E?ee(E,e)-ee(E,t):0;if(o===s)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;l[r]===u[r];)r++;return r?a(l[r],u[r]):l[r]===H?-1:u[r]===H?1:0},i):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&O(e),n=n.replace(de,"='$1']"),!(!x.matchesSelector||!P||R&&R.test(n)||I&&I.test(n)))try{var i=L.call(e,n);if(i||x.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&O(e),B(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&O(e);var n=C.attrHandle[t.toLowerCase()],i=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==i?i:x.attributes||!P?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!x.detectDuplicates,E=!x.sortStable&&e.slice(0),e.sort(q),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return E=null,e},_=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=_(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=_(t);return n},C=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Ce),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,Ce),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Ce).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:!n||(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(se," ")+" ").indexOf(i)>-1:"|="===n&&(o===i||o.slice(0,i.length+1)===i+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(c=g[F]||(g[F]={}),u=c[e]||[],h=u[0]===j&&u[1],f=u[0]===j&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[j,h,f];break}}else if(b&&(u=(t[F]||(t[F]={}))[e])&&u[0]===j)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[F]||(d[F]={}))[e]=[j,f]),d!==t)););return f-=r,f===i||f%i===0&&f/i>=0}}},PSEUDO:function(e,n){var r,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);
return o[F]?o(n):o.length>1?(r=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=D(e.replace(le,"$1"));return r[F]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(xe,Ce),function(t){return(t.textContent||t.innerText||_(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,Ce).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return me.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=l(w);return d.prototype=C.filters=C.pseudos,C.setFilters=new d,S=t.tokenize=function(e,n){var i,r,o,a,s,l,u,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,l=[],u=C.preFilter;s;){(!i||(r=ue.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ce.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(le," ")}),s=s.slice(i.length));for(a in C.filter)!(r=pe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):U(e,l).slice(0)},D=t.compile=function(e,t){var n,i=[],r=[],o=W[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=b(t[n]),o[F]?i.push(o):r.push(o);o=W(e,y(r,i)),o.selector=e}return o},$=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,d=!i&&S(e=u.selector||e);if(n=n||[],1===d.length){if(o=d[0]=d[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===t.nodeType&&P&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(xe,Ce),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!C.relative[s=a.type]);)if((l=C.find[s])&&(i=l(a.matches[0].replace(xe,Ce),ye.test(o[0].type)&&c(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&f(o),!e)return Z.apply(n,i),n;break}}return(u||D(e,d))(i,t,!P,n,ye.test(e)&&c(t.parentNode)||t),n},x.sortStable=F.split("").sort(q).join("")===F,x.detectDuplicates=!!A,O(),x.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),x.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);Q.find=re,Q.expr=re.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=re.uniqueSort,Q.text=re.getText,Q.isXMLDoc=re.isXML,Q.contains=re.contains;var oe=Q.expr.match.needsContext,ae=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,se=/^.[^:#\[\.,]*$/;Q.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?Q.find.matchesSelector(i,e)?[i]:[]:Q.find.matches(e,Q.grep(t,function(e){return 1===e.nodeType}))},Q.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(Q(e).filter(function(){for(t=0;n>t;t++)if(Q.contains(r[t],this))return!0}));for(t=0;n>t;t++)Q.find(e,r[t],i);return i=this.pushStack(n>1?Q.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&oe.test(e)?Q(e):e||[],!1).length}});var le,ue=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ce=Q.fn.init=function(e,t){var n,i;if(!e)return this;if("string"==typeof e){if(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:ue.exec(e),!n||!n[1]&&t)return!t||t.jquery?(t||le).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Q?t[0]:t,Q.merge(this,Q.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:J,!0)),ae.test(n[1])&&Q.isPlainObject(t))for(n in t)Q.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return i=J.getElementById(n[2]),i&&i.parentNode&&(this.length=1,this[0]=i),this.context=J,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):Q.isFunction(e)?"undefined"!=typeof le.ready?le.ready(e):e(Q):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),Q.makeArray(e,this))};ce.prototype=Q.fn,le=Q(J);var de=/^(?:parents|prev(?:Until|All))/,fe={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&Q(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),Q.fn.extend({has:function(e){var t=Q(e,this),n=t.length;return this.filter(function(){for(var e=0;n>e;e++)if(Q.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=oe.test(e)||"string"!=typeof e?Q(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(e){return e?"string"==typeof e?q.call(Q(e),this[0]):q.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Q.unique(Q.merge(this.get(),Q(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Q.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Q.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Q.dir(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return Q.dir(e,"nextSibling")},prevAll:function(e){return Q.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Q.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Q.dir(e,"previousSibling",n)},siblings:function(e){return Q.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Q.sibling(e.firstChild)},contents:function(e){return e.contentDocument||Q.merge([],e.childNodes)}},function(e,t){Q.fn[e]=function(n,i){var r=Q.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=Q.filter(i,r)),this.length>1&&(fe[e]||Q.unique(r),de.test(e)&&r.reverse()),this.pushStack(r)}});var he=/\S+/g,pe={};Q.Callbacks=function(e){e="string"==typeof e?pe[e]||o(e):Q.extend({},e);var t,n,i,r,a,s,l=[],u=!e.once&&[],c=function(o){for(t=e.memory&&o,n=!0,s=r||0,r=0,a=l.length,i=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&e.stopOnFalse){t=!1;break}i=!1,l&&(u?u.length&&c(u.shift()):t?l=[]:d.disable())},d={add:function(){if(l){var n=l.length;!function o(t){Q.each(t,function(t,n){var i=Q.type(n);"function"===i?e.unique&&d.has(n)||l.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),i?a=l.length:t&&(r=n,c(t))}return this},remove:function(){return l&&Q.each(arguments,function(e,t){for(var n;(n=Q.inArray(t,l,n))>-1;)l.splice(n,1),i&&(a>=n&&a--,s>=n&&s--)}),this},has:function(e){return e?Q.inArray(e,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=t=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,t||d.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!l||n&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):c(t)),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!n}};return d},Q.extend({Deferred:function(e){var t=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Q.Deferred(function(n){Q.each(t,function(t,o){var a=Q.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&Q.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?Q.extend(e,i):i}},r={};return i.pipe=i.then,Q.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=z.call(arguments),a=o.length,s=1!==a||e&&Q.isFunction(e.promise)?a:0,l=1===s?e:Q.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?z.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Q.isFunction(o[r].promise)?o[r].promise().done(u(r,i,o)).fail(l.reject).progress(u(r,n,t)):--s;return s||l.resolveWith(i,o),l.promise()}});var me;Q.fn.ready=function(e){return Q.ready.promise().done(e),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(e){e?Q.readyWait++:Q.ready(!0)},ready:function(e){(e===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,e!==!0&&--Q.readyWait>0||(me.resolveWith(J,[Q]),Q.fn.triggerHandler&&(Q(J).triggerHandler("ready"),Q(J).off("ready"))))}}),Q.ready.promise=function(t){return me||(me=Q.Deferred(),"complete"===J.readyState?setTimeout(Q.ready):(J.addEventListener("DOMContentLoaded",a,!1),e.addEventListener("load",a,!1))),me.promise(t)},Q.ready.promise();var ge=Q.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===Q.type(n)){r=!0;for(s in n)Q.access(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,Q.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(Q(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o};Q.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(e){if(!s.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=s.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(i){t[this.expando]=n,Q.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?(i=this.get(e,t),void 0!==i?i:this.get(e,Q.camelCase(t))):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{Q.isArray(t)?i=t.concat(t.map(Q.camelCase)):(r=Q.camelCase(t),t in a?i=[t,r]:(i=r,i=i in a?[i]:i.match(he)||[])),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!Q.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var ve=new s,be=new s,ye=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,we=/([A-Z])/g;Q.extend({hasData:function(e){return be.hasData(e)||ve.hasData(e)},data:function(e,t,n){return be.access(e,t,n)},removeData:function(e,t){be.remove(e,t)},_data:function(e,t,n){return ve.access(e,t,n)},_removeData:function(e,t){ve.remove(e,t)}}),Q.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=be.get(o),1===o.nodeType&&!ve.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=Q.camelCase(i.slice(5)),l(o,i,r[i])));ve.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){be.set(this,e)}):ge(this,function(t){var n,i=Q.camelCase(e);if(o&&void 0===t){if(n=be.get(o,e),void 0!==n)return n;if(n=be.get(o,i),void 0!==n)return n;if(n=l(o,i,void 0),void 0!==n)return n}else this.each(function(){var n=be.get(this,i);be.set(this,i,t),-1!==e.indexOf("-")&&void 0!==n&&be.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){be.remove(this,e)})}}),Q.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=ve.get(e,t),n&&(!i||Q.isArray(n)?i=ve.access(e,t,Q.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Q.queue(e,t),i=n.length,r=n.shift(),o=Q._queueHooks(e,t),a=function(){Q.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return ve.get(e,n)||ve.access(e,n,{empty:Q.Callbacks("once memory").add(function(){ve.remove(e,[t+"queue",n])})})}}),Q.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Q.queue(this[0],e):void 0===t?this:this.each(function(){var n=Q.queue(this,e,t);Q._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Q.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Q.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=Q.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=ve.get(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ce=["Top","Right","Bottom","Left"],_e=function(e,t){return e=t||e,"none"===Q.css(e,"display")||!Q.contains(e.ownerDocument,e)},ke=/^(?:checkbox|radio)$/i;!function(){var e=J.createDocumentFragment(),t=e.appendChild(J.createElement("div")),n=J.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),X.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",X.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var Se="undefined";X.focusinBubbles="onfocusin"in e;var De=/^key/,$e=/^(?:mouse|pointer|contextmenu)|click/,Te=/^(?:focusinfocus|focusoutblur)$/,Ee=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,h,p,m,g=ve.get(e);if(g)for(n.handler&&(o=n,n=o.handler,r=o.selector),n.guid||(n.guid=Q.guid++),(l=g.events)||(l=g.events={}),(a=g.handle)||(a=g.handle=function(t){return typeof Q!==Se&&Q.event.triggered!==t.type?Q.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(he)||[""],u=t.length;u--;)s=Ee.exec(t[u])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h&&(d=Q.event.special[h]||{},h=(r?d.delegateType:d.bindType)||h,d=Q.event.special[h]||{},c=Q.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&Q.expr.match.needsContext.test(r),namespace:p.join(".")},o),(f=l[h])||(f=l[h]=[],f.delegateCount=0,d.setup&&d.setup.call(e,i,p,a)!==!1||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?f.splice(f.delegateCount++,0,c):f.push(c),Q.event.global[h]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,u,c,d,f,h,p,m,g=ve.hasData(e)&&ve.get(e);if(g&&(l=g.events)){for(t=(t||"").match(he)||[""],u=t.length;u--;)if(s=Ee.exec(t[u])||[],h=m=s[1],p=(s[2]||"").split(".").sort(),h){for(d=Q.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,f=l[h]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!r&&m!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,d.remove&&d.remove.call(e,c));a&&!f.length&&(d.teardown&&d.teardown.call(e,p,g.handle)!==!1||Q.removeEvent(e,h,g.handle),delete l[h])}else for(h in l)Q.event.remove(e,h+t[u],n,i,!0);Q.isEmptyObject(l)&&(delete g.handle,ve.remove(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,c,d,f=[i||J],h=K.call(t,"type")?t.type:t,p=K.call(t,"namespace")?t.namespace.split("."):[];if(a=s=i=i||J,3!==i.nodeType&&8!==i.nodeType&&!Te.test(h+Q.event.triggered)&&(h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),u=h.indexOf(":")<0&&"on"+h,t=t[Q.expando]?t:new Q.Event(h,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=p.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:Q.makeArray(n,[t]),d=Q.event.special[h]||{},r||!d.trigger||d.trigger.apply(i,n)!==!1)){if(!r&&!d.noBubble&&!Q.isWindow(i)){for(l=d.delegateType||h,Te.test(l+h)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(i.ownerDocument||J)&&f.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=f[o++])&&!t.isPropagationStopped();)t.type=o>1?l:d.bindType||h,c=(ve.get(a,"events")||{})[t.type]&&ve.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Q.acceptData(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,r||t.isDefaultPrevented()||d._default&&d._default.apply(f.pop(),n)!==!1||!Q.acceptData(i)||u&&Q.isFunction(i[h])&&!Q.isWindow(i)&&(s=i[u],s&&(i[u]=null),Q.event.triggered=h,i[h](),Q.event.triggered=void 0,s&&(i[u]=s)),t.result}},dispatch:function(e){e=Q.event.fix(e);var t,n,i,r,o,a=[],s=z.call(arguments),l=(ve.get(this,"events")||{})[e.type]||[],u=Q.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=Q.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((Q.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==e.type){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?Q(r,this).index(l)>=0:Q.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(n=e.target.ownerDocument||J,i=n.documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[Q.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=$e.test(r)?this.mouseHooks:De.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new Q.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=J),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==d()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(e){return Q.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=Q.extend(new Q.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Q.event.trigger(r,null,t):Q.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},Q.Event=function(e,t){return this instanceof Q.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?u:c):this.type=e,t&&Q.extend(this,t),this.timeStamp=e&&e.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(e,t)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=u,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=u,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=u,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Q.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!Q.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),X.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Q.event.simulate(t,e.target,Q.event.fix(e),!0)};Q.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=ve.access(i,t);r||i.addEventListener(e,n,!0),ve.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=ve.access(i,t)-1;r?ve.access(i,t,r):(i.removeEventListener(e,n,!0),ve.remove(i,t))}}}),Q.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){"string"!=typeof t&&(n=n||t,t=void 0);for(a in e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),i===!1)i=c;else if(!i)return this;return 1===r&&(o=i,i=function(e){return Q().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,Q(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){Q.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?Q.event.trigger(e,t,n,!0):void 0}});var Ae=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Oe=/<([\w:]+)/,Me=/<|&#?\w+;/,Ne=/<(?:script|style|link)/i,Pe=/checked\s*(?:[^=]|=\s*.checked.)/i,Ie=/^$|\/(?:java|ecma)script/i,Re=/^true\/(.*)/,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Be={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Be.optgroup=Be.option,Be.tbody=Be.tfoot=Be.colgroup=Be.caption=Be.thead,Be.th=Be.td,Q.extend({clone:function(e,t,n){var i,r,o,a,s=e.cloneNode(!0),l=Q.contains(e.ownerDocument,e);if(!(X.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Q.isXMLDoc(e)))for(a=v(s),o=v(e),i=0,r=o.length;r>i;i++)b(o[i],a[i]);if(t)if(n)for(o=o||v(e),a=a||v(s),i=0,r=o.length;r>i;i++)g(o[i],a[i]);else g(e,s);return a=v(s,"script"),a.length>0&&m(a,!l&&v(e,"script")),s},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,u,c=t.createDocumentFragment(),d=[],f=0,h=e.length;h>f;f++)if(r=e[f],r||0===r)if("object"===Q.type(r))Q.merge(d,r.nodeType?[r]:r);else if(Me.test(r)){for(o=o||c.appendChild(t.createElement("div")),a=(Oe.exec(r)||["",""])[1].toLowerCase(),s=Be[a]||Be._default,o.innerHTML=s[1]+r.replace(Ae,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(d,o.childNodes),o=c.firstChild,o.textContent=""}else d.push(t.createTextNode(r));for(c.textContent="",f=0;r=d[f++];)if((!i||-1===Q.inArray(r,i))&&(l=Q.contains(r.ownerDocument,r),o=v(c.appendChild(r),"script"),l&&m(o),n))for(u=0;r=o[u++];)Ie.test(r.type||"")&&n.push(r);return c},cleanData:function(e){for(var t,n,i,r,o=Q.event.special,a=0;void 0!==(n=e[a]);a++){if(Q.acceptData(n)&&(r=n[ve.expando],r&&(t=ve.cache[r]))){if(t.events)for(i in t.events)o[i]?Q.event.remove(n,i):Q.removeEvent(n,i,t.handle);ve.cache[r]&&delete ve.cache[r]}delete be.cache[n[be.expando]]}}}),Q.fn.extend({text:function(e){return ge(this,function(e){return void 0===e?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?Q.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(t&&Q.contains(n.ownerDocument,n)&&m(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Q.cleanData(v(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Q.clone(this,e,t)})},html:function(e){return ge(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ne.test(e)&&!Be[(Oe.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Ae,"<$1></$2>");try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(Q.cleanData(v(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,Q.cleanData(v(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=U.apply([],e);var n,i,r,o,a,s,l=0,u=this.length,c=this,d=u-1,f=e[0],m=Q.isFunction(f);if(m||u>1&&"string"==typeof f&&!X.checkClone&&Pe.test(f))return this.each(function(n){var i=c.eq(n);m&&(e[0]=f.call(this,n,i.html())),i.domManip(e,t)});if(u&&(n=Q.buildFragment(e,this[0].ownerDocument,!1,this),i=n.firstChild,1===n.childNodes.length&&(n=i),i)){for(r=Q.map(v(n,"script"),h),o=r.length;u>l;l++)a=n,l!==d&&(a=Q.clone(a,!0,!0),o&&Q.merge(r,v(a,"script"))),t.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,Q.map(r,p),l=0;o>l;l++)a=r[l],Ie.test(a.type||"")&&!ve.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Le,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Q.fn[e]=function(e){for(var n,i=[],r=Q(e),o=r.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(r[a])[t](n),W.apply(i,n.get());return this.pushStack(i)}});var Fe,He={},je=/^margin/,Ve=new RegExp("^("+xe+")(?!px)[a-z%]+$","i"),ze=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};!function(){function t(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(o);var t=e.getComputedStyle(a,null);n="1%"!==t.top,i="4px"===t.width,r.removeChild(o)}var n,i,r=J.documentElement,o=J.createElement("div"),a=J.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",X.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),e.getComputedStyle&&Q.extend(X,{pixelPosition:function(){return t(),n},boxSizingReliable:function(){return null==i&&t(),i},reliableMarginRight:function(){var t,n=a.appendChild(J.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",r.appendChild(o),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(o),a.removeChild(n),t}}))}(),Q.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r};var Ue=/^(none|table(?!-c[ea]).+)/,We=new RegExp("^("+xe+")(.*)$","i"),qe=new RegExp("^([+-])=("+xe+")","i"),Ye={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Ke=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=x(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=Q.camelCase(t),l=e.style;return t=Q.cssProps[s]||(Q.cssProps[s]=_(l,s)),a=Q.cssHooks[t]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t]:(o=typeof n,"string"===o&&(r=qe.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(Q.css(e,t)),o="number"),
void(null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),X.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))))}},css:function(e,t,n,i){var r,o,a,s=Q.camelCase(t);return t=Q.cssProps[s]||(Q.cssProps[s]=_(e.style,s)),a=Q.cssHooks[t]||Q.cssHooks[s],a&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=x(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(o=parseFloat(r),n===!0||Q.isNumeric(o)?o||0:r):r}}),Q.each(["height","width"],function(e,t){Q.cssHooks[t]={get:function(e,n,i){return n?Ue.test(Q.css(e,"display"))&&0===e.offsetWidth?Q.swap(e,Ye,function(){return D(e,t,i)}):D(e,t,i):void 0},set:function(e,n,i){var r=i&&ze(e);return k(e,n,i?S(e,t,i,"border-box"===Q.css(e,"boxSizing",!1,r),r):0)}}}),Q.cssHooks.marginRight=C(X.reliableMarginRight,function(e,t){return t?Q.swap(e,{display:"inline-block"},x,[e,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(e,t){Q.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+Ce[i]+t]=o[i]||o[i-2]||o[0];return r}},je.test(e)||(Q.cssHooks[e+t].set=k)}),Q.fn.extend({css:function(e,t){return ge(this,function(e,t,n){var i,r,o={},a=0;if(Q.isArray(t)){for(i=ze(e),r=t.length;r>a;a++)o[t[a]]=Q.css(e,t[a],!1,i);return o}return void 0!==n?Q.style(e,t,n):Q.css(e,t)},e,t,arguments.length>1)},show:function(){return $(this,!0)},hide:function(){return $(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){_e(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=T,T.prototype={constructor:T,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var e=T.propHooks[this.prop];return e&&e.get?e.get(this):T.propHooks._default.get(this)},run:function(e){var t,n=T.propHooks[this.prop];return this.options.duration?this.pos=t=Q.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):T.propHooks._default.set(this),this}},T.prototype.init.prototype=T.prototype,T.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Q.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Q.fx.step[e.prop]?Q.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Q.cssProps[e.prop]]||Q.cssHooks[e.prop])?Q.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},T.propHooks.scrollTop=T.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Q.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Q.fx=T.prototype.init,Q.fx.step={};var Xe,Je,Ze=/^(?:toggle|show|hide)$/,Qe=new RegExp("^(?:([+-])=|)("+xe+")([a-z%]*)$","i"),et=/queueHooks$/,tt=[M],nt={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Qe.exec(t),o=r&&r[3]||(Q.cssNumber[e]?"":"px"),a=(Q.cssNumber[e]||"px"!==o&&+i)&&Qe.exec(Q.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],r=r||[],a=+i||1;do s=s||".5",a/=s,Q.style(n.elem,e,a+o);while(s!==(s=n.cur()/i)&&1!==s&&--l)}return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};Q.Animation=Q.extend(P,{tweener:function(e,t){Q.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],nt[n]=nt[n]||[],nt[n].unshift(t)},prefilter:function(e,t){t?tt.unshift(e):tt.push(e)}}),Q.speed=function(e,t,n){var i=e&&"object"==typeof e?Q.extend({},e):{complete:n||!n&&t||Q.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Q.isFunction(t)&&t};return i.duration=Q.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Q.fx.speeds?Q.fx.speeds[i.duration]:Q.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Q.isFunction(i.old)&&i.old.call(this),i.queue&&Q.dequeue(this,i.queue)},i},Q.fn.extend({fadeTo:function(e,t,n,i){return this.filter(_e).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Q.isEmptyObject(e),o=Q.speed(t,n,i),a=function(){var t=P(this,Q.extend({},e),o);(r||ve.get(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=Q.timers,a=ve.get(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&et.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&Q.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=ve.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=Q.timers,a=i?i.length:0;for(n.finish=!0,Q.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(e,t){var n=Q.fn[t];Q.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(A(t,!0),e,i,r)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Q.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Q.timers=[],Q.fx.tick=function(){var e,t=0,n=Q.timers;for(Xe=Q.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Q.fx.stop(),Xe=void 0},Q.fx.timer=function(e){Q.timers.push(e),e()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Je||(Je=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Je),Je=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(e,t){return e=Q.fx?Q.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},function(){var e=J.createElement("input"),t=J.createElement("select"),n=t.appendChild(J.createElement("option"));e.type="checkbox",X.checkOn=""!==e.value,X.optSelected=n.selected,t.disabled=!0,X.optDisabled=!n.disabled,e=J.createElement("input"),e.value="t",e.type="radio",X.radioValue="t"===e.value}();var it,rt,ot=Q.expr.attrHandle;Q.fn.extend({attr:function(e,t){return ge(this,Q.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Q.removeAttr(this,e)})}}),Q.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Se?Q.prop(e,t,n):(1===o&&Q.isXMLDoc(e)||(t=t.toLowerCase(),i=Q.attrHooks[t]||(Q.expr.match.bool.test(t)?rt:it)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Q.find.attr(e,t),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void Q.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(he);if(o&&1===e.nodeType)for(;n=o[r++];)i=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!X.radioValue&&"radio"===t&&Q.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),rt={set:function(e,t,n){return t===!1?Q.removeAttr(e,n):e.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ot[t]||Q.find.attr;ot[t]=function(e,t,i){var r,o;return i||(o=ot[t],ot[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,ot[t]=o),r}});var at=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(e,t){return ge(this,Q.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Q.propFix[e]||e]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var i,r,o,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(e),o&&(t=Q.propFix[t]||t,r=Q.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||at.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),X.optSelected||(Q.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var st=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(e){var t,n,i,r,o,a,s="string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):" ")){for(o=0;r=t[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=Q.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,i,r,o,a,s=0===arguments.length||"string"==typeof e&&e,l=0,u=this.length;if(Q.isFunction(e))return this.each(function(t){Q(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(he)||[];u>l;l++)if(n=this[l],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(st," "):"")){for(o=0;r=t[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");a=e?Q.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):this.each(Q.isFunction(e)?function(n){Q(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var t,i=0,r=Q(this),o=e.match(he)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(n===Se||"boolean"===n)&&(this.className&&ve.set(this,"__className__",this.className),this.className=this.className||e===!1?"":ve.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(st," ").indexOf(t)>=0)return!0;return!1}});var lt=/\r/g;Q.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=Q.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,Q(this).val()):e,null==r?r="":"number"==typeof r?r+="":Q.isArray(r)&&(r=Q.map(r,function(e){return null==e?"":e+""})),t=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=Q.valHooks[r.type]||Q.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(lt,""):null==n?"":n)):void 0}}),Q.extend({valHooks:{option:{get:function(e){var t=Q.find.attr(e,"value");return null!=t?t:Q.trim(Q.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],!(!n.selected&&l!==r||(X.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(t=Q(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=Q.makeArray(t),a=r.length;a--;)i=r[a],(i.selected=Q.inArray(i.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(e,t){return Q.isArray(t)?e.checked=Q.inArray(Q(e).val(),t)>=0:void 0}},X.checkOn||(Q.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Q.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Q.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var ut=Q.now(),ct=/\?/;Q.parseJSON=function(e){return JSON.parse(e+"")},Q.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(i){t=void 0}return(!t||t.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+e),t};var dt=/#.*$/,ft=/([?&])_=[^&]*/,ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,pt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,mt=/^(?:GET|HEAD)$/,gt=/^\/\//,vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,bt={},yt={},wt="*/".concat("*"),xt=e.location.href,Ct=vt.exec(xt.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt,type:"GET",isLocal:pt.test(Ct[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?L(L(e,Q.ajaxSettings),t):L(Q.ajaxSettings,e)},ajaxPrefilter:I(bt),ajaxTransport:I(yt),ajax:function(e,t){function n(e,t,n,a){var l,c,v,b,w,C=t;2!==y&&(y=2,s&&clearTimeout(s),i=void 0,o=a||"",x.readyState=e>0?4:0,l=e>=200&&300>e||304===e,n&&(b=B(d,x,n)),b=F(d,b,x,l),l?(d.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(Q.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(Q.etag[r]=w)),204===e||"HEAD"===d.type?C="nocontent":304===e?C="notmodified":(C=b.state,c=b.data,v=b.error,l=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(t||C)+"",l?p.resolveWith(f,[c,C,x]):p.rejectWith(f,[x,C,v]),x.statusCode(g),g=void 0,u&&h.trigger(l?"ajaxSuccess":"ajaxError",[x,d,l?c:v]),m.fireWith(f,[x,C]),u&&(h.trigger("ajaxComplete",[x,d]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,s,l,u,c,d=Q.ajaxSetup({},t),f=d.context||d,h=d.context&&(f.nodeType||f.jquery)?Q(f):Q.event,p=Q.Deferred(),m=Q.Callbacks("once memory"),g=d.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!a)for(a={};t=ht.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?o:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)g[t]=[g[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return i&&i.abort(t),n(0,t),this}};if(p.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,d.url=((e||d.url||xt)+"").replace(dt,"").replace(gt,Ct[1]+"//"),d.type=t.method||t.type||d.method||d.type,d.dataTypes=Q.trim(d.dataType||"*").toLowerCase().match(he)||[""],null==d.crossDomain&&(l=vt.exec(d.url.toLowerCase()),d.crossDomain=!(!l||l[1]===Ct[1]&&l[2]===Ct[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ct[3]||("http:"===Ct[1]?"80":"443")))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=Q.param(d.data,d.traditional)),R(bt,d,t,x),2===y)return x;u=Q.event&&d.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!mt.test(d.type),r=d.url,d.hasContent||(d.data&&(r=d.url+=(ct.test(r)?"&":"?")+d.data,delete d.data),d.cache===!1&&(d.url=ft.test(r)?r.replace(ft,"$1_="+ut++):r+(ct.test(r)?"&":"?")+"_="+ut++)),d.ifModified&&(Q.lastModified[r]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[r]),Q.etag[r]&&x.setRequestHeader("If-None-Match",Q.etag[r])),(d.data&&d.hasContent&&d.contentType!==!1||t.contentType)&&x.setRequestHeader("Content-Type",d.contentType),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+wt+"; q=0.01":""):d.accepts["*"]);for(c in d.headers)x.setRequestHeader(c,d.headers[c]);if(d.beforeSend&&(d.beforeSend.call(f,x,d)===!1||2===y))return x.abort();w="abort";for(c in{success:1,error:1,complete:1})x[c](d[c]);if(i=R(yt,d,t,x)){x.readyState=1,u&&h.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},d.timeout));try{y=1,i.send(v,n)}catch(C){if(!(2>y))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(e,t,n){return Q.get(e,t,n,"json")},getScript:function(e,t){return Q.get(e,void 0,t,"script")}}),Q.each(["get","post"],function(e,t){Q[t]=function(e,n,i,r){return Q.isFunction(n)&&(r=r||i,i=n,n=void 0),Q.ajax({url:e,type:t,dataType:r,data:n,success:i})}}),Q._evalUrl=function(e){return Q.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(e){var t;return Q.isFunction(e)?this.each(function(t){Q(this).wrapAll(e.call(this,t))}):(this[0]&&(t=Q(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return this.each(Q.isFunction(e)?function(t){Q(this).wrapInner(e.call(this,t))}:function(){var t=Q(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Q.isFunction(e);return this.each(function(n){Q(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},Q.expr.filters.visible=function(e){return!Q.expr.filters.hidden(e)};var _t=/%20/g,kt=/\[\]$/,St=/\r?\n/g,Dt=/^(?:submit|button|image|reset|file)$/i,$t=/^(?:input|select|textarea|keygen)/i;Q.param=function(e,t){var n,i=[],r=function(e,t){t=Q.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(e)||e.jquery&&!Q.isPlainObject(e))Q.each(e,function(){r(this.name,this.value)});else for(n in e)H(n,e[n],t,r);return i.join("&").replace(_t,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Q.prop(this,"elements");return e?Q.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Q(this).is(":disabled")&&$t.test(this.nodeName)&&!Dt.test(e)&&(this.checked||!ke.test(e))}).map(function(e,t){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:n.replace(St,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Tt=0,Et={},At={0:200,1223:204},Ot=Q.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in Et)Et[e]()}),X.cors=!!Ot&&"withCredentials"in Ot,X.ajax=Ot=!!Ot,Q.ajaxTransport(function(e){var t;return X.cors||Ot&&!e.crossDomain?{send:function(n,i){var r,o=e.xhr(),a=++Tt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(r in e.xhrFields)o[r]=e.xhrFields[r];e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)o.setRequestHeader(r,n[r]);t=function(e){return function(){t&&(delete Et[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?i(o.status,o.statusText):i(At[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=Et[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(s){if(t)throw s}},abort:function(){t&&t()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Q.globalEval(e),e}}}),Q.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Q.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(i,r){t=Q("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),J.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Mt=[],Nt=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Mt.pop()||Q.expando+"_"+ut++;return this[e]=!0,e}}),Q.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(Nt.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Nt.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=Q.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Nt,"$1"+r):t.jsonp!==!1&&(t.url+=(ct.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||Q.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,Mt.push(r)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||J;var i=ae.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=Q.buildFragment([e],t,r),r&&r.length&&Q(r).remove(),Q.merge([],i.childNodes))};var Pt=Q.fn.load;Q.fn.load=function(e,t,n){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>=0&&(i=Q.trim(e.slice(s)),e=e.slice(0,s)),Q.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&Q.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?Q("<div>").append(Q.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Q.fn[t]=function(e){return this.on(t,e)}}),Q.expr.filters.animated=function(e){return Q.grep(Q.timers,function(t){return e===t.elem}).length};var It=e.document.documentElement;Q.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,c=Q.css(e,"position"),d=Q(e),f={};"static"===c&&(e.style.position="relative"),s=d.offset(),o=Q.css(e,"top"),l=Q.css(e,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(i=d.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),Q.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+r),"using"in t?t.using.call(e,f):d.css(f)}},Q.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Q.offset.setOffset(this,e,t)});var t,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(t=o.documentElement,Q.contains(t,i)?(typeof i.getBoundingClientRect!==Se&&(r=i.getBoundingClientRect()),n=j(o),{top:r.top+n.pageYOffset-t.clientTop,left:r.left+n.pageXOffset-t.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===Q.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Q.nodeName(e[0],"html")||(i=e.offset()),i.top+=Q.css(e[0],"borderTopWidth",!0),i.left+=Q.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Q.css(n,"marginTop",!0),left:t.left-i.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!Q.nodeName(e,"html")&&"static"===Q.css(e,"position");)e=e.offsetParent;return e||It})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var i="pageYOffset"===n;Q.fn[t]=function(r){return ge(this,function(t,r,o){var a=j(t);return void 0===o?a?a[n]:t[r]:void(a?a.scrollTo(i?e.pageXOffset:o,i?o:e.pageYOffset):t[r]=o)},t,r,arguments.length,null)}}),Q.each(["top","left"],function(e,t){Q.cssHooks[t]=C(X.pixelPosition,function(e,n){return n?(n=x(e,t),Ve.test(n)?Q(e).position()[t]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(e,t){Q.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){Q.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return ge(this,function(t,n,i){var r;return Q.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?Q.css(t,n,a):Q.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Rt=e.jQuery,Lt=e.$;return Q.noConflict=function(t){return e.$===Q&&(e.$=Lt),t&&e.jQuery===Q&&(e.jQuery=Rt),Q},typeof t===Se&&(e.jQuery=e.$=Q),Q}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,i){var r,o,a,s=t.nodeName.toLowerCase();return"area"===s?(r=t.parentNode,o=r.name,!(!t.href||!o||"map"!==r.nodeName.toLowerCase())&&(a=e("img[usemap='#"+o+"']")[0],!!a&&n(a))):(/^(input|select|textarea|button|object)$/.test(s)?!t.disabled:"a"===s?t.href||i:i)&&n(t)}function n(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}function i(e){for(var t,n;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}function r(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=o(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function o(t){var n="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(n,"mouseout",function(){e(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(n,"mouseover",a)}function a(){e.datepicker._isDisabledDatepicker(v.inline?v.dpDiv.parent()[0]:v.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&e(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&e(this).addClass("ui-datepicker-next-hover"))}function s(t,n){e.extend(t,n);for(var i in n)null==n[i]&&(t[i]=n[i]);return t}function l(e){return function(){var t=this.element.val();e.apply(this,arguments),this._refresh(),t!==this.element.val()&&this._trigger("change")}}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var n=this.css("position"),i="absolute"===n,r=t?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var t=e(this);return(!i||"static"!==t.css("position"))&&r.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&o.length?o:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,i){return!!e.data(t,i[3])},focusable:function(n){return t(n,!isNaN(e.attr(n,"tabindex")))},tabbable:function(n){var i=e.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&t(n,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,n){function i(t,n,i,o){return e.each(r,function(){n-=parseFloat(e.css(t,"padding"+this))||0,i&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),o&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var r="Width"===n?["Left","Right"]:["Top","Bottom"],o=n.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+n]=function(t){return void 0===t?a["inner"+n].call(this):this.each(function(){e(this).css(o,i(this,t)+"px")})},e.fn["outer"+n]=function(t,r){return"number"!=typeof t?a["outer"+n].call(this,t):this.each(function(){e(this).css(o,i(this,t,!0,r)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(n,i){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var n,i,r=e(this[0]);r.length&&r[0]!==document;){if(n=r.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),e.ui.plugin={add:function(t,n,i){
var r,o=e.ui[t].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;o.length>r;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}};var u=0,c=Array.prototype.slice;e.cleanData=function(t){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{i=e._data(r,"events"),i&&i.remove&&e(r).triggerHandler("remove")}catch(a){}t(n)}}(e.cleanData),e.widget=function(t,n,i){var r,o,a,s,l={},u=t.split(".")[0];return t=t.split(".")[1],r=u+"-"+t,i||(i=n,n=e.Widget),e.expr[":"][r.toLowerCase()]=function(t){return!!e.data(t,r)},e[u]=e[u]||{},o=e[u][t],a=e[u][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new a(e,t)},e.extend(a,o,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),s=new n,s.options=e.widget.extend({},s.options),e.each(i,function(t,i){return e.isFunction(i)?void(l[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},r=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(l[t]=i)}),a.prototype=e.widget.extend(s,{widgetEventPrefix:o?s.widgetEventPrefix||t:t},l,{constructor:a,namespace:u,widgetName:t,widgetFullName:r}),o?(e.each(o._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,a,n._proto)}),delete o._childConstructors):n._childConstructors.push(a),e.widget.bridge(t,a),a},e.widget.extend=function(t){for(var n,i,r=c.call(arguments,1),o=0,a=r.length;a>o;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t[n]=e.isPlainObject(i)?e.isPlainObject(t[n])?e.widget.extend({},t[n],i):e.widget.extend({},i):i);return t},e.widget.bridge=function(t,n){var i=n.prototype.widgetFullName||t;e.fn[t]=function(r){var o="string"==typeof r,a=c.call(arguments,1),s=this;return o?this.each(function(){var n,o=e.data(this,i);return"instance"===r?(s=o,!1):o?e.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,a),n!==o&&void 0!==n?(s=n&&n.jquery?s.pushStack(n.get()):n,!1):void 0):e.error("no such method '"+r+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+r+"'")}):(a.length&&(r=e.widget.extend.apply(null,[r].concat(a))),this.each(function(){var t=e.data(this,i);t?(t.option(r||{}),t._init&&t._init()):e.data(this,i,new n(r,this))})),s}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,n){n=e(n||this.defaultElement||this)[0],this.element=e(n),this.uuid=u++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),n!==this&&(e.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===n&&this.destroy()}}),this.document=e(n.style?n.ownerDocument:n.document||n),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},i=t.split("."),t=i.shift(),i.length){for(r=a[t]=e.widget.extend({},this.options[t]),o=0;i.length-1>o;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=n}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,a){function s(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof a?o[a]:a).apply(o,arguments):void 0}"string"!=typeof a&&(s.guid=a.guid=a.guid||s.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,s):n.bind(u,s)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(n).undelegate(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function n(){return("string"==typeof e?i[e]:e).apply(i,arguments)}var i=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,i){var r,o,a=this.options[t];if(i=i||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(a)&&a.apply(this.element[0],[n].concat(i))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){"string"==typeof r&&(r={effect:r});var a,s=r?r===!0||"number"==typeof r?n:r.effect||n:t;r=r||{},"number"==typeof r&&(r={duration:r}),a=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),a&&e.effects&&e.effects.effect[s]?i[t](r):s!==t&&i[s]?i[s](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget;var d=!1;e(document).mouseup(function(){d=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!d){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var n=this,i=1===t.which,r=!("string"!=typeof this.options.cancel||!t.target.nodeName)&&e(t.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return n._mouseMove(e)},this._mouseUpDelegate=function(e){return n._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),d=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),d=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,n){return[parseFloat(e[0])*(h.test(e[0])?t/100:1),parseFloat(e[1])*(h.test(e[1])?n/100:1)]}function n(t,n){return parseInt(e.css(t,n),10)||0}function i(t){var n=t[0];return 9===n.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var r,o,a=Math.max,s=Math.abs,l=Math.round,u=/left|center|right/,c=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,p=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==r)return r;var t,n,i=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=i.children()[0];return e("body").append(i),t=o.offsetWidth,i.css("overflow","scroll"),n=o.offsetWidth,t===n&&(n=i[0].clientWidth),i.remove(),r=t-n},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),i=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),r="scroll"===n||"auto"===n&&t.width<t.element[0].scrollWidth,o="scroll"===i||"auto"===i&&t.height<t.element[0].scrollHeight;return{width:o?e.position.scrollbarWidth():0,height:r?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),i=e.isWindow(n[0]),r=!!n[0]&&9===n[0].nodeType;return{element:n,isWindow:i,isDocument:r,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:i||r?n.width():n.outerWidth(),height:i||r?n.height():n.outerHeight()}}},e.fn.position=function(r){if(!r||!r.of)return p.apply(this,arguments);r=e.extend({},r);var h,m,g,v,b,y,w=e(r.of),x=e.position.getWithinInfo(r.within),C=e.position.getScrollInfo(x),_=(r.collision||"flip").split(" "),k={};return y=i(w),w[0].preventDefault&&(r.at="left top"),m=y.width,g=y.height,v=y.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,n=(r[this]||"").split(" ");1===n.length&&(n=u.test(n[0])?n.concat(["center"]):c.test(n[0])?["center"].concat(n):["center","center"]),n[0]=u.test(n[0])?n[0]:"center",n[1]=c.test(n[1])?n[1]:"center",e=d.exec(n[0]),t=d.exec(n[1]),k[this]=[e?e[0]:0,t?t[0]:0],r[this]=[f.exec(n[0])[0],f.exec(n[1])[0]]}),1===_.length&&(_[1]=_[0]),"right"===r.at[0]?b.left+=m:"center"===r.at[0]&&(b.left+=m/2),"bottom"===r.at[1]?b.top+=g:"center"===r.at[1]&&(b.top+=g/2),h=t(k.at,m,g),b.left+=h[0],b.top+=h[1],this.each(function(){var i,u,c=e(this),d=c.outerWidth(),f=c.outerHeight(),p=n(this,"marginLeft"),y=n(this,"marginTop"),S=d+p+n(this,"marginRight")+C.width,D=f+y+n(this,"marginBottom")+C.height,$=e.extend({},b),T=t(k.my,c.outerWidth(),c.outerHeight());"right"===r.my[0]?$.left-=d:"center"===r.my[0]&&($.left-=d/2),"bottom"===r.my[1]?$.top-=f:"center"===r.my[1]&&($.top-=f/2),$.left+=T[0],$.top+=T[1],o||($.left=l($.left),$.top=l($.top)),i={marginLeft:p,marginTop:y},e.each(["left","top"],function(t,n){e.ui.position[_[t]]&&e.ui.position[_[t]][n]($,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:f,collisionPosition:i,collisionWidth:S,collisionHeight:D,offset:[h[0]+T[0],h[1]+T[1]],my:r.my,at:r.at,within:x,elem:c})}),r.using&&(u=function(e){var t=v.left-$.left,n=t+m-d,i=v.top-$.top,o=i+g-f,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:c,left:$.left,top:$.top,width:d,height:f},horizontal:0>n?"left":t>0?"right":"center",vertical:0>o?"top":i>0?"bottom":"middle"};d>m&&m>s(t+n)&&(l.horizontal="center"),f>g&&g>s(i+o)&&(l.vertical="middle"),l.important=a(s(t),s(n))>a(s(i),s(o))?"horizontal":"vertical",r.using.call(this,e,l)}),c.offset(e.extend($,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,s=e.left-t.collisionPosition.marginLeft,l=r-s,u=s+t.collisionWidth-o-r;t.collisionWidth>o?l>0&&0>=u?(n=e.left+l+t.collisionWidth-o-r,e.left+=l-n):e.left=u>0&&0>=l?r:l>u?r+o-t.collisionWidth:r:l>0?e.left+=l:u>0?e.left-=u:e.left=a(e.left-s,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,s=e.top-t.collisionPosition.marginTop,l=r-s,u=s+t.collisionHeight-o-r;t.collisionHeight>o?l>0&&0>=u?(n=e.top+l+t.collisionHeight-o-r,e.top+=l-n):e.top=u>0&&0>=l?r:l>u?r+o-t.collisionHeight:r:l>0?e.top+=l:u>0?e.top-=u:e.top=a(e.top-s,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=e.left-t.collisionPosition.marginLeft,c=u-l,d=u+t.collisionWidth-a-l,f="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];0>c?(n=e.left+f+h+p+t.collisionWidth-a-o,(0>n||s(c)>n)&&(e.left+=f+h+p)):d>0&&(i=e.left-t.collisionPosition.marginLeft+f+h+p-l,(i>0||d>s(i))&&(e.left+=f+h+p))},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=e.top-t.collisionPosition.marginTop,c=u-l,d=u+t.collisionHeight-a-l,f="top"===t.my[1],h=f?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,p="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>c?(i=e.top+h+p+m+t.collisionHeight-a-o,(0>i||s(c)>i)&&(e.top+=h+p+m)):d>0&&(n=e.top-t.collisionPosition.marginTop+h+p+m-l,(n>0||d>s(n))&&(e.top+=h+p+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,i,r,a,s=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&e.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"});for(a in i)t.style[a]=i[a];t.appendChild(l),n=s||document.documentElement,n.insertBefore(t,n.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",r=e(l).offset().left,o=r>10&&11>r,t.innerHTML="",n.removeChild(t)}()}(),e.ui.position,e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var n=e.ui.keyCode,i=this.headers.length,r=this.headers.index(t.target),o=!1;switch(t.keyCode){case n.RIGHT:case n.DOWN:o=this.headers[(r+1)%i];break;case n.LEFT:case n.UP:o=this.headers[(r-1+i)%i];break;case n.SPACE:case n.ENTER:this._eventHandler(t);break;case n.HOME:o=this.headers[0];break;case n.END:o=this.headers[i-1]}o&&(e(t.target).attr("tabIndex",-1),e(o).attr("tabIndex",0),o.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,n=this.options,i=n.heightStyle,r=this.element.parent();this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),n=t.uniqueId().attr("id"),i=t.next(),r=i.uniqueId().attr("id");t.attr("aria-controls",r),i.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===i?(t=r.height(),this.element.siblings(":visible").each(function(){var n=e(this),i=n.css("position");"absolute"!==i&&"fixed"!==i&&(t-=n.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===i&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var n=this._findActive(t)[0];n!==this.active[0]&&(n=n||this.active[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var n={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r[0]===i[0],a=o&&n.collapsible,s=a?e():r.next(),l=i.next(),u={oldHeader:i,oldPanel:l,newHeader:a?e():r,newPanel:s};t.preventDefault(),o&&!n.collapsible||this._trigger("beforeActivate",t,u)===!1||(n.active=!a&&this.headers.index(r),this.active=o?e():r,this._toggle(u),i.removeClass("ui-accordion-header-active ui-state-active"),n.icons&&i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header),o||(r.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),n.icons&&r.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader),r.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var n=t.newPanel,i=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=n,this.prevHide=i,this.options.animate?this._animate(n,i,t):(i.hide(),n.show(),this._toggleComplete(t)),i.attr({"aria-hidden":"true"}),i.prev().attr({"aria-selected":"false","aria-expanded":"false"}),n.length&&i.length?i.prev().attr({tabIndex:-1,"aria-expanded":"false"}):n.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),n.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,n){var i,r,o,a=this,s=0,l=e.css("box-sizing"),u=e.length&&(!t.length||e.index()<t.index()),c=this.options.animate||{},d=u&&c.down||c,f=function(){a._toggleComplete(n)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||c.easing,o=o||d.duration||c.duration,t.length?e.length?(i=e.show().outerHeight(),t.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:f,step:function(e,n){n.now=Math.round(e),"height"!==n.prop?"content-box"===l&&(s+=n.now):"content"!==a.options.heightStyle&&(n.now=Math.round(i-t.outerHeight()-s),s=0)}})):t.animate(this.hideProps,o,r,f):e.animate(this.showProps,o,r,f)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),e.widget("ui.menu",{version:"1.11.4",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},items:"> *",menus:"ul",position:{my:"left-1 top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(t){var n=e(t.target);!this.mouseHandled&&n.not(".ui-state-disabled").length&&(this.select(t),t.isPropagationStopped()||(this.mouseHandled=!0),n.has(".ui-menu").length?this.expand(t):!this.element.is(":focus")&&e(this.document[0].activeElement).closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(t){if(!this.previousFilter){var n=e(t.currentTarget);n.siblings(".ui-state-active").removeClass("ui-state-active"),this.focus(t,n)}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(t){this._delay(function(){e.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(t)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-menu-icons ui-front").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").removeUniqueId().removeClass("ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var t=e(this);t.data("ui-menu-submenu-carat")&&t.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(t){var n,i,r,o,a=!0;switch(t.keyCode){case e.ui.keyCode.PAGE_UP:this.previousPage(t);break;case e.ui.keyCode.PAGE_DOWN:this.nextPage(t);break;case e.ui.keyCode.HOME:this._move("first","first",t);break;case e.ui.keyCode.END:this._move("last","last",t);break;case e.ui.keyCode.UP:this.previous(t);break;case e.ui.keyCode.DOWN:this.next(t);break;case e.ui.keyCode.LEFT:this.collapse(t);break;case e.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(t);break;case e.ui.keyCode.ENTER:case e.ui.keyCode.SPACE:this._activate(t);break;case e.ui.keyCode.ESCAPE:this.collapse(t);break;default:a=!1,i=this.previousFilter||"",r=String.fromCharCode(t.keyCode),o=!1,clearTimeout(this.filterTimer),r===i?o=!0:r=i+r,n=this._filterMenuItems(r),n=o&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(r=String.fromCharCode(t.keyCode),n=this._filterMenuItems(r)),n.length?(this.focus(t,n),this.previousFilter=r,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}a&&t.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.is("[aria-haspopup='true']")?this.expand(e):this.select(e))},refresh:function(){var t,n,i=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this.element.toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length),o.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-front").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var t=e(this),n=t.parent(),i=e("<span>").addClass("ui-menu-icon ui-icon "+r).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(i),t.attr("aria-labelledby",n.attr("id"))}),t=o.add(this.element),n=t.find(this.options.items),n.not(".ui-menu-item").each(function(){var t=e(this);i._isDivider(t)&&t.addClass("ui-widget-content ui-menu-divider")}),n.not(".ui-menu-item, .ui-menu-divider").addClass("ui-menu-item").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),n.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!e.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},focus:function(e,t){var n,i;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.addClass("ui-state-focus").removeClass("ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),this.active.parent().closest(".ui-menu-item").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),n=t.children(".ui-menu"),n.length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(t){var n,i,r,o,a,s;this._hasScroll()&&(n=parseFloat(e.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(e.css(this.activeMenu[0],"paddingTop"))||0,r=t.offset().top-this.activeMenu.offset().top-n-i,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),s=t.outerHeight(),0>r?this.activeMenu.scrollTop(o+r):r+s>a&&this.activeMenu.scrollTop(o+r-a+s))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(t){var n=e.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(t.parents(".ui-menu")).hide().attr("aria-hidden","true"),t.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(n)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var i=n?this.element:e(t&&t.target).closest(this.element.find(".ui-menu"));i.length||(i=this.element),this._close(i),this.blur(t),this.activeMenu=i},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find(".ui-state-active").not(".ui-state-focus").removeClass("ui-state-active")},_closeOnDocumentClick:function(t){return!e(t.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),
i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(t){var n,i,r;return this.active?void(this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return n=e(this),0>n.offset().top-i-r}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items)[this.active?"last":"first"]()))):void this.next(t)},previousPage:function(t){var n,i,r;return this.active?void(this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,r=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return n=e(this),n.offset().top-i+r>0}),this.focus(t,n)):this.focus(t,this.activeMenu.find(this.options.items).first()))):void this.next(t)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(t){this.active=this.active||e(t.target).closest(".ui-menu-item");var n={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(t,!0),this._trigger("select",t,n)},_filterMenuItems:function(t){var n=t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),i=RegExp("^"+n,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return i.test(e.trim(e(this).text()))})}}),e.widget("ui.autocomplete",{version:"1.11.4",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var t,n,i,r=this.element[0].nodeName.toLowerCase(),o="textarea"===r,a="input"===r;this.isMultiLine=!!o||!a&&this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(r){if(this.element.prop("readOnly"))return t=!0,i=!0,void(n=!0);t=!1,i=!1,n=!1;var o=e.ui.keyCode;switch(r.keyCode){case o.PAGE_UP:t=!0,this._move("previousPage",r);break;case o.PAGE_DOWN:t=!0,this._move("nextPage",r);break;case o.UP:t=!0,this._keyEvent("previous",r);break;case o.DOWN:t=!0,this._keyEvent("next",r);break;case o.ENTER:this.menu.active&&(t=!0,r.preventDefault(),this.menu.select(r));break;case o.TAB:this.menu.active&&this.menu.select(r);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(r),r.preventDefault());break;default:n=!0,this._searchTimeout(r)}},keypress:function(i){if(t)return t=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&i.preventDefault());if(!n){var r=e.ui.keyCode;switch(i.keyCode){case r.PAGE_UP:this._move("previousPage",i);break;case r.PAGE_DOWN:this._move("nextPage",i);break;case r.UP:this._keyEvent("previous",i);break;case r.DOWN:this._keyEvent("next",i)}}},input:function(e){return i?(i=!1,void e.preventDefault()):void this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),void this._change(e))}}),this._initSource(),this.menu=e("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._on(this.menu.element,{mousedown:function(t){t.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var n=this.menu.element[0];e(t.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(i){i.target===t.element[0]||i.target===n||e.contains(n,i.target)||t.close()})})},menufocus:function(t,n){var i,r;return this.isNewMenu&&(this.isNewMenu=!1,t.originalEvent&&/^mouse/.test(t.originalEvent.type))?(this.menu.blur(),void this.document.one("mousemove",function(){e(t.target).trigger(t.originalEvent)})):(r=n.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",t,{item:r})&&t.originalEvent&&/^key/.test(t.originalEvent.type)&&this._value(r.value),i=n.item.attr("aria-label")||r.value,void(i&&e.trim(i).length&&(this.liveRegion.children().hide(),e("<div>").text(i).appendTo(this.liveRegion))))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=e("<span>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_initSource:function(){var t,n,i=this;e.isArray(this.options.source)?(t=this.options.source,this.source=function(n,i){i(e.ui.autocomplete.filter(t,n.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(t,r){i.xhr&&i.xhr.abort(),i.xhr=e.ajax({url:n,data:t,dataType:"json",success:function(e){r(e)},error:function(){r([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),n=this.menu.element.is(":visible"),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;(!t||t&&!n&&!i)&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):this._trigger("search",t)!==!1?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return e.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this.element.removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(t){return t.length&&t[0].label&&t[0].value?t:e.map(t,function(t){return"string"==typeof t?{label:t,value:t}:e.extend({},t,{label:t.label||t.value,value:t.value||t.label})})},_suggest:function(t){var n=this.menu.element.empty();this._renderMenu(n,t),this.isNewMenu=!0,this.menu.refresh(),n.show(),this._resizeMenu(),n.position(e.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(t,n){var i=this;e.each(n,function(e,n){i._renderItemData(t,n)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(t,n){return e("<li>").text(n.label).appendTo(t)},_move:function(e,t){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t):void this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(e,t),t.preventDefault())}}),e.extend(e.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(t,n){var i=RegExp(e.ui.autocomplete.escapeRegex(n),"i");return e.grep(t,function(e){return i.test(e.label||e.value||e)})}}),e.widget("ui.autocomplete",e.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var n;this._superApply(arguments),this.options.disabled||this.cancelSearch||(n=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.children().hide(),e("<div>").text(n).appendTo(this.liveRegion))}}),e.ui.autocomplete;var f,h="ui-button ui-widget ui-state-default ui-corner-all",p="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",m=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},g=function(t){var n=t.name,i=t.form,r=e([]);return n&&(n=n.replace(/'/g,"\\'"),r=i?e(i).find("[name='"+n+"'][type=radio]"):e("[name='"+n+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),r};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,m),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,n=this.options,i="checkbox"===this.type||"radio"===this.type,r=i?"":"ui-state-active";null===n.label&&(n.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(h).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){n.disabled||this===f&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){n.disabled||e(this).removeClass(r)}).bind("click"+this.eventNamespace,function(e){n.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),i&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return!n.disabled&&void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(n.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var i=t.element[0];g(i).not(i).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return!n.disabled&&(e(this).addClass("ui-state-active"),f=this,void t.document.one("mouseup",function(){f=null}))}).bind("mouseup"+this.eventNamespace,function(){return!n.disabled&&void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return!n.disabled&&void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",n.disabled),this._resetButton()},_determineButtonType:function(){var e,t,n;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),n=this.element.is(":checked"),n&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",n)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(h+" ui-state-active "+p).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?g(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(p),n=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),i=this.options.icons,r=i.primary&&i.secondary,o=[];i.primary||i.secondary?(this.options.text&&o.push("ui-button-text-icon"+(r?"s":i.primary?"-primary":"-secondary")),i.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(o.push(r?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(n)))):o.push("ui-button-text-only"),t.addClass(o.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),n=this.element.find(this.options.items),i=n.filter(":ui-button");n.not(":ui-button").button(),i.button("refresh"),this.buttons=n.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.extend(e.ui,{datepicker:{version:"1.11.4"}});var v;e.extend(r.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return s(this._defaults,e||{}),this},_attachDatepicker:function(t,n){var i,r,o;i=t.nodeName.toLowerCase(),r="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),o=this._newInst(e(t),r),o.settings=e.extend({},n||{}),"input"===i?this._connectDatepicker(t,o):r&&this._inlineDatepicker(t,o)},_newInst:function(t,n){var i=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:i,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:n,dpDiv:n?o(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,n){var i=e(t);n.append=e([]),n.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,n),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(n),e.data(t,"datepicker",n),n.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,n){var i,r,o,a=this._get(n,"appendText"),s=this._get(n,"isRTL");n.append&&n.append.remove(),a&&(n.append=e("<span class='"+this._appendClass+"'>"+a+"</span>"),t[s?"before":"after"](n.append)),t.unbind("focus",this._showDatepicker),n.trigger&&n.trigger.remove(),i=this._get(n,"showOn"),("focus"===i||"both"===i)&&t.focus(this._showDatepicker),("button"===i||"both"===i)&&(r=this._get(n,"buttonText"),o=this._get(n,"buttonImage"),n.trigger=e(this._get(n,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:o,alt:r,title:r}):e("<button type='button'></button>").addClass(this._triggerClass).html(o?e("<img/>").attr({src:o,alt:r,title:r}):r)),t[s?"before":"after"](n.trigger),n.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(n=0,i=0,r=0;e.length>r;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(t,n){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(n.dpDiv),e.data(t,"datepicker",n),this._setDate(n,this._getDefaultDate(n),!0),this._updateDatepicker(n),this._updateAlternate(n),n.settings.disabled&&this._disableDatepicker(t),n.dpDiv.css("display","block"))},_dialogDatepicker:function(t,n,i,r,o){var a,l,u,c,d,f=this._dialogInst;return f||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),f=this._dialogInst=this._newInst(this._dialogInput,!1),f.settings={},e.data(this._dialogInput[0],"datepicker",f)),s(f.settings,r||{}),n=n&&n.constructor===Date?this._formatDate(f,n):n,this._dialogInput.val(n),this._pos=o?o.length?o:[o.pageX,o.pageY]:null,this._pos||(l=document.documentElement.clientWidth,u=document.documentElement.clientHeight,c=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+c,u/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),f.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",f),this},_destroyDatepicker:function(t){var n,i=e(t),r=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===n?(r.append.remove(),r.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===n||"span"===n)&&i.removeClass(this.markerClassName).empty(),v===r&&(v=null))},_enableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var n,i,r=e(t),o=e.data(t,"datepicker");r.hasClass(this.markerClassName)&&(n=t.nodeName.toLowerCase(),"input"===n?(t.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===n||"span"===n)&&(i=r.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;this._disabledInputs.length>t;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(n){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,n,i){var r,o,a,l,u=this._getInst(t);return 2===arguments.length&&"string"==typeof n?"defaults"===n?e.extend({},e.datepicker._defaults):u?"all"===n?e.extend({},u.settings):this._get(u,n):null:(r=n||{},"string"==typeof n&&(r={},r[n]=i),void(u&&(this._curInst===u&&this._hideDatepicker(),o=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(u,"min"),l=this._getMinMaxDate(u,"max"),s(u.settings,r),null!==a&&void 0!==r.dateFormat&&void 0===r.minDate&&(u.settings.minDate=this._formatDate(u,a)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(u.settings.maxDate=this._formatDate(u,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),u),this._autoSize(u),this._setDate(u,o),this._updateAlternate(u),this._updateDatepicker(u))))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(t){var n,i,r,o=e.datepicker._getInst(t.target),a=!0,s=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),a=!1;break;case 13:return r=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",o.dpDiv),r[0]&&e.datepicker._selectDay(t.target,o.selectedMonth,o.selectedYear,r[0]),n=e.datepicker._get(o,"onSelect"),n?(i=e.datepicker._formatDate(o),n.apply(o.input?o.input[0]:null,[i,o])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),a=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),a=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?1:-1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(o,"stepBigMonths"):-e.datepicker._get(o,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),a=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,s?-1:1,"D"),a=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(o,"stepBigMonths"):+e.datepicker._get(o,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),a=t.ctrlKey||t.metaKey;break;default:a=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):a=!1;a&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var n,i,r=e.datepicker._getInst(t.target);return e.datepicker._get(r,"constrainInput")?(n=e.datepicker._possibleChars(e.datepicker._get(r,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||" ">i||!n||n.indexOf(i)>-1):void 0},_doKeyUp:function(t){var n,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{n=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),n&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(r){}return!0},_showDatepicker:function(t){if(t=t.target||t,"input"!==t.nodeName.toLowerCase()&&(t=e("input",t.parentNode)[0]),!e.datepicker._isDisabledDatepicker(t)&&e.datepicker._lastInput!==t){var n,r,o,a,l,u,c;n=e.datepicker._getInst(t),e.datepicker._curInst&&e.datepicker._curInst!==n&&(e.datepicker._curInst.dpDiv.stop(!0,!0),n&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(n,"beforeShow"),o=r?r.apply(t,[t,n]):{},o!==!1&&(s(n.settings,o),n.lastVal=null,e.datepicker._lastInput=t,e.datepicker._setDateFromField(n),e.datepicker._inDialog&&(t.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(t),e.datepicker._pos[1]+=t.offsetHeight),a=!1,e(t).parents().each(function(){return a|="fixed"===e(this).css("position"),!a}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,n.dpDiv.empty(),n.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(n),l=e.datepicker._checkOffset(n,l,a),n.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":a?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),n.inline||(u=e.datepicker._get(n,"showAnim"),c=e.datepicker._get(n,"duration"),n.dpDiv.css("z-index",i(e(t))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[u]?n.dpDiv.show(u,e.datepicker._get(n,"showOptions"),c):n.dpDiv[u||"show"](u?c:null),e.datepicker._shouldFocusInput(n)&&n.input.focus(),e.datepicker._curInst=n))}},_updateDatepicker:function(t){this.maxRows=4,v=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t);var n,i=this._getNumberOfMonths(t),r=i[1],o=17,s=t.dpDiv.find("."+this._dayOverClass+" a");s.length>0&&a.apply(s.get(0)),t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),r>1&&t.dpDiv.addClass("ui-datepicker-multi-"+r).css("width",o*r+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(n=t.yearshtml,setTimeout(function(){n===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),n=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,n,i){var r=t.dpDiv.outerWidth(),o=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,s=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),u=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return n.left-=this._get(t,"isRTL")?r-a:0,n.left-=i&&n.left===t.input.offset().left?e(document).scrollLeft():0,n.top-=i&&n.top===t.input.offset().top+s?e(document).scrollTop():0,n.left-=Math.min(n.left,n.left+r>l&&l>r?Math.abs(n.left+r-l):0),n.top-=Math.min(n.top,n.top+o>u&&u>o?Math.abs(o+s):0),n},_findPos:function(t){for(var n,i=this._getInst(t),r=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[r?"previousSibling":"nextSibling"];return n=e(t).offset(),[n.left,n.top]},_hideDatepicker:function(t){var n,i,r,o,a=this._curInst;!a||t&&a!==e.data(t,"datepicker")||this._datepickerShowing&&(n=this._get(a,"showAnim"),i=this._get(a,"duration"),r=function(){e.datepicker._tidyDialog(a)},e.effects&&(e.effects.effect[n]||e.effects[n])?a.dpDiv.hide(n,e.datepicker._get(a,"showOptions"),i,r):a.dpDiv["slideDown"===n?"slideUp":"fadeIn"===n?"fadeOut":"hide"](n?i:null,r),n||r(),this._datepickerShowing=!1,o=this._get(a,"onClose"),o&&o.apply(a.input?a.input[0]:null,[a.input?a.input.val():"",a]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var n=e(t.target),i=e.datepicker._getInst(n[0]);(n[0].id!==e.datepicker._mainDivId&&0===n.parents("#"+e.datepicker._mainDivId).length&&!n.hasClass(e.datepicker.markerClassName)&&!n.closest("."+e.datepicker._triggerClass).length&&e.datepicker._datepickerShowing&&(!e.datepicker._inDialog||!e.blockUI)||n.hasClass(e.datepicker.markerClassName)&&e.datepicker._curInst!==i)&&e.datepicker._hideDatepicker()}},_adjustDate:function(t,n,i){var r=e(t),o=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(o,n+("M"===i?this._get(o,"showCurrentAtPos"):0),i),this._updateDatepicker(o))},_gotoToday:function(t){var n,i=e(t),r=this._getInst(i[0]);this._get(r,"gotoCurrent")&&r.currentDay?(r.selectedDay=r.currentDay,r.drawMonth=r.selectedMonth=r.currentMonth,r.drawYear=r.selectedYear=r.currentYear):(n=new Date,r.selectedDay=n.getDate(),r.drawMonth=r.selectedMonth=n.getMonth(),r.drawYear=r.selectedYear=n.getFullYear()),this._notifyChange(r),this._adjustDate(i)},_selectMonthYear:function(t,n,i){var r=e(t),o=this._getInst(r[0]);o["selected"+("M"===i?"Month":"Year")]=o["draw"+("M"===i?"Month":"Year")]=parseInt(n.options[n.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(r)},_selectDay:function(t,n,i,r){var o,a=e(t);e(r).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=e("a",r).html(),o.selectedMonth=o.currentMonth=n,o.selectedYear=o.currentYear=i,this._selectDate(t,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(t){var n=e(t);this._selectDate(n,"")},_selectDate:function(t,n){var i,r=e(t),o=this._getInst(r[0]);n=null!=n?n:this._formatDate(o),o.input&&o.input.val(n),this._updateAlternate(o),i=this._get(o,"onSelect"),i?i.apply(o.input?o.input[0]:null,[n,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var n,i,r,o=this._get(t,"altField");o&&(n=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),
r=this.formatDate(n,i,this._getFormatConfig(t)),e(o).each(function(){e(this).val(r)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&6>t,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(t,n,i){if(null==t||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var r,o,a,s,l=0,u=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),d=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,f=(i?i.dayNames:null)||this._defaults.dayNames,h=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,p=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(e){var n=t.length>r+1&&t.charAt(r+1)===e;return n&&r++,n},x=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,r="y"===e?i:1,o=RegExp("^\\d{"+r+","+i+"}"),a=n.substring(l).match(o);if(!a)throw"Missing number at position "+l;return l+=a[0].length,parseInt(a[0],10)},C=function(t,i,r){var o=-1,a=e.map(w(t)?r:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(a,function(e,t){var i=t[1];return n.substr(l,i.length).toLowerCase()===i.toLowerCase()?(o=t[0],l+=i.length,!1):void 0}),-1!==o)return o+1;throw"Unknown name at position "+l},_=function(){if(n.charAt(l)!==t.charAt(r))throw"Unexpected literal at position "+l;l++};for(r=0;t.length>r;r++)if(y)"'"!==t.charAt(r)||w("'")?_():y=!1;else switch(t.charAt(r)){case"d":v=x("d");break;case"D":C("D",d,f);break;case"o":b=x("o");break;case"m":g=x("m");break;case"M":g=C("M",h,p);break;case"y":m=x("y");break;case"@":s=new Date(x("@")),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"!":s=new Date((x("!")-this._ticksTo1970)/1e4),m=s.getFullYear(),g=s.getMonth()+1,v=s.getDate();break;case"'":w("'")?_():y=!0;break;default:_()}if(n.length>l&&(a=n.substr(l),!/^\s+/.test(a)))throw"Extra/unparsed characters found in date: "+a;if(-1===m?m=(new Date).getFullYear():100>m&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(c>=m?0:-100)),b>-1)for(g=1,v=b;o=this._getDaysInMonth(m,g-1),!(o>=v);)g++,v-=o;if(s=this._daylightSavingAdjust(new Date(m,g-1,v)),s.getFullYear()!==m||s.getMonth()+1!==g||s.getDate()!==v)throw"Invalid date";return s},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(e,t,n){if(!t)return"";var i,r=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,o=(n?n.dayNames:null)||this._defaults.dayNames,a=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,s=(n?n.monthNames:null)||this._defaults.monthNames,l=function(t){var n=e.length>i+1&&e.charAt(i+1)===t;return n&&i++,n},u=function(e,t,n){var i=""+t;if(l(e))for(;n>i.length;)i="0"+i;return i},c=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",f=!1;if(t)for(i=0;e.length>i;i++)if(f)"'"!==e.charAt(i)||l("'")?d+=e.charAt(i):f=!1;else switch(e.charAt(i)){case"d":d+=u("d",t.getDate(),2);break;case"D":d+=c("D",t.getDay(),r,o);break;case"o":d+=u("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=u("m",t.getMonth()+1,2);break;case"M":d+=c("M",t.getMonth(),a,s);break;case"y":d+=l("y")?t.getFullYear():(10>t.getYear()%100?"0":"")+t.getYear()%100;break;case"@":d+=t.getTime();break;case"!":d+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":f=!0;break;default:d+=e.charAt(i)}return d},_possibleChars:function(e){var t,n="",i=!1,r=function(n){var i=e.length>t+1&&e.charAt(t+1)===n;return i&&t++,i};for(t=0;e.length>t;t++)if(i)"'"!==e.charAt(t)||r("'")?n+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":n+="0123456789";break;case"D":case"M":return null;case"'":r("'")?n+="'":i=!0;break;default:n+=e.charAt(t)}return n},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(s){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,n,i){var r=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},o=function(n){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),n,e.datepicker._getFormatConfig(t))}catch(i){}for(var r=(n.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,o=r.getFullYear(),a=r.getMonth(),s=r.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,u=l.exec(n);u;){switch(u[2]||"d"){case"d":case"D":s+=parseInt(u[1],10);break;case"w":case"W":s+=7*parseInt(u[1],10);break;case"m":case"M":a+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(u[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(o,a))}u=l.exec(n)}return new Date(o,a,s)},a=null==n||""===n?i:"string"==typeof n?o(n):"number"==typeof n?isNaN(n)?i:r(n):new Date(n.getTime());return a=a&&"Invalid Date"==""+a?i:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var n=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-n,"M")},next:function(){e.datepicker._adjustDate(i,+n,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,b,y,w,x,C,_,k,S,D,$,T,E,A,O,M,N,P,I,R,L,B,F,H=new Date,j=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),V=this._get(e,"isRTL"),z=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),W=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),K=1!==q[0]||1!==q[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),J=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),Q=e.drawMonth-Y,ee=e.drawYear;if(0>Q&&(Q+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-q[0]*q[1]+1,Z.getDate())),t=J&&J>t?J:t;this._daylightSavingAdjust(new Date(ee,Q,1))>t;)Q--,0>Q&&(Q=11,ee--);for(e.drawMonth=Q,e.drawYear=ee,n=this._get(e,"prevText"),n=W?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Q-G,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Q)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=W?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Q+G,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Q)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(V?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?X:j,a=W?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",u=z?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(V?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(V?"":l)+"</div>":"",c=parseInt(this._get(e,"firstDay"),10),c=isNaN(c)?0:c,d=this._get(e,"showWeek"),f=this._get(e,"dayNames"),h=this._get(e,"dayNamesMin"),p=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",C=0;q[0]>C;C++){for(_="",this.maxRows=4,k=0;q[1]>k;k++){if(S=this._daylightSavingAdjust(new Date(ee,Q,e.selectedDay)),D=" ui-corner-all",$="",K){if($+="<div class='ui-datepicker-group",q[1]>1)switch(k){case 0:$+=" ui-datepicker-group-first",D=" ui-corner-"+(V?"right":"left");break;case q[1]-1:$+=" ui-datepicker-group-last",D=" ui-corner-"+(V?"left":"right");break;default:$+=" ui-datepicker-group-middle",D=""}$+="'>"}for($+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+D+"'>"+(/all|left/.test(D)&&0===C?V?o:i:"")+(/all|right/.test(D)&&0===C?V?i:o:"")+this._generateMonthYearHeader(e,Q,ee,J,Z,C>0||k>0,p,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;7>x;x++)E=(x+c)%7,T+="<th scope='col'"+((x+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+f[E]+"'>"+h[E]+"</span></th>";for($+=T+"</tr></thead><tbody>",A=this._getDaysInMonth(ee,Q),ee===e.selectedYear&&Q===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,A)),O=(this._getFirstDayOfMonth(ee,Q)-c+7)%7,M=Math.ceil((O+A)/7),N=K&&this.maxRows>M?this.maxRows:M,this.maxRows=N,P=this._daylightSavingAdjust(new Date(ee,Q,1-O)),I=0;N>I;I++){for($+="<tr>",R=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(P)+"</td>":"",x=0;7>x;x++)L=g?g.apply(e.input?e.input[0]:null,[P]):[!0,""],B=P.getMonth()!==Q,F=B&&!b||!L[0]||J&&J>P||Z&&P>Z,R+="<td class='"+((x+c+6)%7>=5?" ui-datepicker-week-end":"")+(B?" ui-datepicker-other-month":"")+(P.getTime()===S.getTime()&&Q===e.selectedMonth&&e._keyEvent||y.getTime()===P.getTime()&&y.getTime()===S.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(B&&!v?"":" "+L[1]+(P.getTime()===X.getTime()?" "+this._currentClass:"")+(P.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(B&&!v||!L[2]?"":" title='"+L[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+P.getMonth()+"' data-year='"+P.getFullYear()+"'")+">"+(B&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+P.getDate()+"</span>":"<a class='ui-state-default"+(P.getTime()===j.getTime()?" ui-state-highlight":"")+(P.getTime()===X.getTime()?" ui-state-active":"")+(B?" ui-priority-secondary":"")+"' href='#'>"+P.getDate()+"</a>")+"</td>",P.setDate(P.getDate()+1),P=this._daylightSavingAdjust(P);$+=R+"</tr>"}Q++,Q>11&&(Q=0,ee++),$+="</tbody></table>"+(K?"</div>"+(q[0]>0&&k===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),_+=$}w+=_}return w+=u,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,u,c,d,f,h,p,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,u=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;12>c;c++)(!l||c>=i.getMonth())&&(!u||r.getMonth()>=c)&&(w+="<option value='"+c+"'"+(c===t?" selected='selected'":"")+">"+s[c]+"</option>");w+="</select>"}if(b||(y+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)y+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),f=(new Date).getFullYear(),h=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?f+parseInt(e,10):parseInt(e,10);return isNaN(t)?f:t},p=h(d[0]),m=Math.max(p,h(d[1]||"")),p=i?Math.max(p,i.getFullYear()):p,m=r?Math.min(m,r.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=p;p++)e.yearshtml+="<option value='"+p+"'"+(p===n?" selected='selected'":"")+">"+p+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!o&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,n){var i=e.drawYear+("Y"===n?t:0),r=e.drawMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),("M"===n||"Y"===n)&&this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&n>t?n:t;return i&&r>i?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(0>t?t:r[0]*r[1]),1));return 0>t&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||s>=t.getFullYear())},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var n=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(n)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(n))},e.datepicker=new r,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.4",e.datepicker,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var n=this.options;return this._blurActiveElement(t),!(this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(t),!!this.handle&&(this._blockFrames(n.iframeFix===!0?"iframe":n.iframeFix),!0))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var n=this.document[0];if(this.handleElement.is(t.target))try{n.activeElement&&"body"!==n.activeElement.nodeName.toLowerCase()&&e(n.activeElement).blur()}catch(i){}},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,n){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!n){var i=this._uiHash();if(this._trigger("drag",t,i)===!1)return this._mouseUp({}),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper),r=i?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),i&&r[0]===this.element[0]&&this._setPositionRelative(),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),n=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==n&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options,o=this.document[0];return this.relativeContainer=null,r.containment?"window"===r.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===r.containment?void(this.containment=[0,0,e(o).width()-this.helperProportions.width-this.margins.left,(e(o).height()||o.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):r.containment.constructor===Array?void(this.containment=r.containment):("parent"===r.containment&&(r.containment=this.helper[0].parentNode),n=e(r.containment),i=n[0],void(i&&(t=/(scroll|auto)/.test(n.css("overflow")),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=n))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,u=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(u=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(u=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,u=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,n,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[n,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,n,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n,i){var r=e.extend({},n,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var n=e(this).sortable("instance");n&&!n.options.disabled&&(i.sortables.push(n),n.refreshPositions(),n._trigger("activate",t,r))})},stop:function(t,n,i){var r=e.extend({},n,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){var e=this;e.isOver?(e.isOver=0,i.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,r))})},drag:function(t,n,i){e.each(i.sortables,function(){var r=!1,o=this;o.positionAbs=i.positionAbs,o.helperProportions=i.helperProportions,o.offset.click=i.offset.click,o._intersectsWith(o.containerCache)&&(r=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==o&&this._intersectsWith(this.containerCache)&&e.contains(o.element[0],this.element[0])&&(r=!1),r})),r?(o.isOver||(o.isOver=1,i._parent=n.helper.parent(),o.currentItem=n.helper.appendTo(o.element).data("ui-sortable-item",!0),o.options._helper=o.options.helper,o.options.helper=function(){return n.helper[0]},t.target=o.currentItem[0],o._mouseCapture(t,!0),o._mouseStart(t,!0,!0),o.offset.click.top=i.offset.click.top,o.offset.click.left=i.offset.click.left,o.offset.parent.left-=i.offset.parent.left-o.offset.parent.left,o.offset.parent.top-=i.offset.parent.top-o.offset.parent.top,i._trigger("toSortable",t),i.dropped=o.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,o.fromOutside=i),o.currentItem&&(o._mouseDrag(t),n.position=o.position)):o.isOver&&(o.isOver=0,o.cancelHelperRemoval=!0,o.options._revert=o.options.revert,o.options.revert=!1,o._trigger("out",t,o._uiHash(o)),o._mouseStop(t,!0),o.options.revert=o.options._revert,o.options.helper=o.options._helper,o.placeholder&&o.placeholder.remove(),n.helper.appendTo(i._parent),i._refreshOffsets(t),n.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,n,i){var r=e("body"),o=i.options;r.css("cursor")&&(o._cursor=r.css("cursor")),r.css("cursor",o.cursor)},stop:function(t,n,i){var r=i.options;r._cursor&&e("body").css("cursor",r._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("opacity")&&(o._opacity=r.css("opacity")),r.css("opacity",o.opacity)},stop:function(t,n,i){var r=i.options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(t,n,i){var r=i.options,o=!1,a=i.scrollParentNotHidden[0],s=i.document[0];a!==s&&"HTML"!==a.tagName?(r.axis&&"x"===r.axis||(i.overflowOffset.top+a.offsetHeight-t.pageY<r.scrollSensitivity?a.scrollTop=o=a.scrollTop+r.scrollSpeed:t.pageY-i.overflowOffset.top<r.scrollSensitivity&&(a.scrollTop=o=a.scrollTop-r.scrollSpeed)),
r.axis&&"y"===r.axis||(i.overflowOffset.left+a.offsetWidth-t.pageX<r.scrollSensitivity?a.scrollLeft=o=a.scrollLeft+r.scrollSpeed:t.pageX-i.overflowOffset.left<r.scrollSensitivity&&(a.scrollLeft=o=a.scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(s).scrollTop()<r.scrollSensitivity?o=e(s).scrollTop(e(s).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(s).scrollTop())<r.scrollSensitivity&&(o=e(s).scrollTop(e(s).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(s).scrollLeft()<r.scrollSensitivity?o=e(s).scrollLeft(e(s).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(s).scrollLeft())<r.scrollSensitivity&&(o=e(s).scrollLeft(e(s).scrollLeft()+r.scrollSpeed)))),o!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,n,i){var r=i.options;i.snapElements=[],e(r.snap.constructor!==String?r.snap.items||":data(ui-draggable)":r.snap).each(function(){var t=e(this),n=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:n.top,left:n.left})})},drag:function(t,n,i){var r,o,a,s,l,u,c,d,f,h,p=i.options,m=p.snapTolerance,g=n.offset.left,v=g+i.helperProportions.width,b=n.offset.top,y=b+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)l=i.snapElements[f].left-i.margins.left,u=l+i.snapElements[f].width,c=i.snapElements[f].top-i.margins.top,d=c+i.snapElements[f].height,l-m>v||g>u+m||c-m>y||b>d+m||!e.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==p.snapMode&&(r=m>=Math.abs(c-y),o=m>=Math.abs(d-b),a=m>=Math.abs(l-v),s=m>=Math.abs(u-g),r&&(n.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l-i.helperProportions.width}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u}).left)),h=r||o||a||s,"outer"!==p.snapMode&&(r=m>=Math.abs(c-b),o=m>=Math.abs(d-y),a=m>=Math.abs(l-g),s=m>=Math.abs(u-v),r&&(n.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),o&&(n.position.top=i._convertPositionTo("relative",{top:d-i.helperProportions.height,left:0}).top),a&&(n.position.left=i._convertPositionTo("relative",{top:0,left:l}).left),s&&(n.position.left=i._convertPositionTo("relative",{top:0,left:u-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(r||o||a||s||h)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=r||o||a||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(t,n,i){var r,o=i.options,a=e.makeArray(e(o.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});a.length&&(r=parseInt(e(a[0]).css("zIndex"),10)||0,e(a).each(function(t){e(this).css("zIndex",r+t)}),this.css("zIndex",r+a.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n,i){var r=e(n.helper),o=i.options;r.css("zIndex")&&(o._zIndex=r.css("zIndex")),r.css("zIndex",o.zIndex)},stop:function(t,n,i){var r=i.options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}}),e.ui.draggable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var i=n&&"left"===n?"scrollLeft":"scrollTop",r=!1;return t[i]>0||(t[i]=1,r=t[i]>0,t[i]=0,r)},_create:function(){var t,n,i,r,o,a=this,s=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!s.aspectRatio,aspectRatio:s.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:s.helper||s.ghost||s.animate?s.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=s.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;t.length>n;n++)i=e.trim(t[n]),o="ui-resizable-"+i,r=e("<div class='ui-resizable-handle "+o+"'></div>"),r.css({zIndex:s.zIndex}),"se"===i&&r.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(r);this._renderAxis=function(t){var n,i,r,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String?this.handles[n]=this.element.children(this.handles[n]).first().show():(this.handles[n].jquery||this.handles[n].nodeType)&&(this.handles[n]=e(this.handles[n]),this._on(this.handles[n],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(i=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?i.outerHeight():i.outerWidth(),r=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(r,o),this._proportionallyResize()),this._handles=this._handles.add(this.handles[n])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),s.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){s.disabled||(e(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){s.disabled||a.resizing||(e(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,i,r=!1;for(n in this.handles)i=e(this.handles[n])[0],(i===t.target||e.contains(i,t.target))&&(r=!0);return!this.options.disabled&&r},_mouseStart:function(t){var n,i,r,o=this.options,a=this.element;return this.resizing=!0,this._renderProxy(),n=this._num(this.helper.css("left")),i=this._num(this.helper.css("top")),o.containment&&(n+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalPosition={left:n,top:i},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof o.aspectRatio?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,r=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===r?this.axis+"-resize":r),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,i,r=this.originalMousePosition,o=this.axis,a=t.pageX-r.left||0,s=t.pageY-r.top||0,l=this._change[o];return this._updatePrevProperties(),!!l&&(n=l.apply(this,[t,a,s]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),i=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var n,i,r,o,a,s,l,u=this.options,c=this;return this._helper&&(n=this._proportionallyResizeElements,i=n.length&&/textarea/i.test(n[0].nodeName),r=i&&this._hasScroll(n[0],"left")?0:c.sizeDiff.height,o=i?0:c.sizeDiff.width,a={width:c.helper.width()-o,height:c.helper.height()-r},s=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,l=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,u.animate||this.element.css(e.extend(a,{top:l,left:s})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!u.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),o.maxWidth>n&&(o.maxWidth=n),o.maxHeight>r&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,u=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&u&&(e.left=s-t.minWidth),i&&u&&(e.left=s-t.maxWidth),a&&c&&(e.top=l-t.minHeight),r&&c&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)n[t]=parseInt(i[t],10)||0,n[t]+=parseInt(r[t],10)||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,i=this.originalPosition;return{left:i.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize,r=this.originalPosition;return{top:r.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},sw:function(t,n,i){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,i]))},ne:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,i]))},nw:function(t,n,i){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,i]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).resizable("instance"),i=n.options,r=n._proportionallyResizeElements,o=r.length&&/textarea/i.test(r[0].nodeName),a=o&&n._hasScroll(r[0],"left")?0:n.sizeDiff.height,s=o?0:n.sizeDiff.width,l={width:n.size.width-s,height:n.size.height-a},u=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,c=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(l,c&&u?{top:c,left:u}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var i={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};r&&r.length&&e(r[0]).css({width:i.width,height:i.height}),n._updateCache(i),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,n,i,r,o,a,s,l=e(this).resizable("instance"),u=l.options,c=l.element,d=u.containment,f=d instanceof e?d.get(0):/parent/.test(d)?c.parent().get(0):d;f&&(l.containerElement=e(f),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(f),n=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){n[e]=l._num(t.css("padding"+i))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-n[3],width:t.innerWidth()-n[1]},i=l.containerOffset,r=l.containerSize.height,o=l.containerSize.width,a=l._hasScroll(f,"left")?f.scrollWidth:o,s=l._hasScroll(f)?f.scrollHeight:r,l.parentData={element:f,left:i.left,top:i.top,width:a,height:s}))},resize:function(t){var n,i,r,o,a=e(this).resizable("instance"),s=a.options,l=a.containerOffset,u=a.position,c=a._aspectRatio||t.shiftKey,d={top:0,left:0},f=a.containerElement,h=!0;f[0]!==document&&/static/.test(f.css("position"))&&(d=l),u.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-d.left),c&&(a.size.height=a.size.width/a.aspectRatio,h=!1),a.position.left=s.helper?l.left:0),u.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),c&&(a.size.width=a.size.height*a.aspectRatio,h=!1),a.position.top=a._helper?l.top:0),r=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),r&&o?(a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top):(a.offset.left=a.element.offset().left,a.offset.top=a.element.offset().top),n=Math.abs(a.sizeDiff.width+(a._helper?a.offset.left-d.left:a.offset.left-l.left)),i=Math.abs(a.sizeDiff.height+(a._helper?a.offset.top-d.top:a.offset.top-l.top)),n+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-n,c&&(a.size.height=a.size.width/a.aspectRatio,h=!1)),i+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-i,c&&(a.size.width=a.size.height*a.aspectRatio,h=!1)),h||(a.position.left=a.prevPosition.left,a.position.top=a.prevPosition.top,a.size.width=a.prevSize.width,a.size.height=a.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),n=t.options,i=t.containerOffset,r=t.containerPosition,o=t.containerElement,a=e(t.helper),s=a.offset(),l=a.outerWidth()-t.sizeDiff.width,u=a.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:s.left-r.left-i.left,width:l,height:u})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),n=t.options;e(n.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,n){var i=e(this).resizable("instance"),r=i.options,o=i.originalSize,a=i.originalPosition,s={height:i.size.height-o.height||0,width:i.size.width-o.width||0,top:i.position.top-a.top||0,left:i.position.left-a.left||0};e(r.alsoResize).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),r={},o=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(s[t]||0);n&&n>=0&&(r[t]=n||null)}),t.css(r)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),n=t.options,i=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,n=e(this).resizable("instance"),i=n.options,r=n.size,o=n.originalSize,a=n.originalPosition,s=n.axis,l="number"==typeof i.grid?[i.grid,i.grid]:i.grid,u=l[0]||1,c=l[1]||1,d=Math.round((r.width-o.width)/u)*u,f=Math.round((r.height-o.height)/c)*c,h=o.width+d,p=o.height+f,m=i.maxWidth&&h>i.maxWidth,g=i.maxHeight&&p>i.maxHeight,v=i.minWidth&&i.minWidth>h,b=i.minHeight&&i.minHeight>p;i.grid=l,v&&(h+=u),b&&(p+=c),m&&(h-=u),g&&(p-=c),/^(se|s|e)$/.test(s)?(n.size.width=h,n.size.height=p):/^(ne)$/.test(s)?(n.size.width=h,n.size.height=p,n.position.top=a.top-f):/^(sw)$/.test(s)?(n.size.width=h,n.size.height=p,n.position.left=a.left-d):((0>=p-c||0>=h-u)&&(t=n._getPaddingPlusBorderDimensions(this)),p-c>0?(n.size.height=p,n.position.top=a.top-f):(p=c-t.height,n.size.height=p,n.position.top=a.top+o.height-p),h-u>0?(n.size.width=h,n.position.left=a.left-d):(h=u-t.width,n.size.width=h,n.position.left=a.left+o.width-h))}}),e.ui.resizable,e.widget("ui.dialog",{version:"1.11.4",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"Close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var n=e(this).css(t).offset().top;0>n&&e(this).css("top",t.top-n)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&e.fn.draggable&&this._makeDraggable(),this.options.resizable&&e.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?e(t):this.document.find(t||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),e=t.parent.children().eq(t.index),e.length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:e.noop,enable:e.noop,close:function(t){var n,i=this;if(this._isOpen&&this._trigger("beforeClose",t)!==!1){if(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),!this.opener.filter(":focusable").focus().length)try{n=this.document[0].activeElement,n&&"body"!==n.nodeName.toLowerCase()&&e(n).blur()}catch(r){}this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",t)})}},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,n){var i=!1,r=this.uiDialog.siblings(".ui-front:visible").map(function(){return+e(this).css("z-index")}).get(),o=Math.max.apply(null,r);return o>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",o+1),i=!0),i&&!n&&this._trigger("focus",t),i},open:function(){var t=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=e(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),void this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(t){function n(){var t=this.document[0].activeElement,n=this.uiDialog[0]===t||e.contains(this.uiDialog[0],t);n||this._focusTabbable()}t.preventDefault(),n.call(this),this._delay(n)},_createWrapper:function(){this.uiDialog=e("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===e.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===e.ui.keyCode.TAB&&!t.isDefaultPrevented()){var n=this.uiDialog.find(":tabbable"),i=n.filter(":first"),r=n.filter(":last");t.target!==r[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==i[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){r.focus()}),t.preventDefault()):(this._delay(function(){i.focus()}),t.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=e("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(t){e(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=e("<button type='button'></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),t=e("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(t),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=e("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=e("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var t=this,n=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),e.isEmptyObject(n)||e.isArray(n)&&!n.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(e.each(n,function(n,i){var r,o;i=e.isFunction(i)?{click:i,text:n}:i,i=e.extend({type:"button"},i),r=i.click,i.click=function(){r.apply(t.element[0],arguments)},o={icons:i.icons,text:i.showText},delete i.icons,delete i.showText,e("<button></button>",i).button(o).appendTo(t.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function t(e){return{position:e.position,offset:e.offset}}var n=this,i=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,r){e(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",i,t(r))},drag:function(e,i){n._trigger("drag",e,t(i))},stop:function(r,o){var a=o.offset.left-n.document.scrollLeft(),s=o.offset.top-n.document.scrollTop();i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(s>=0?"+":"")+s,of:n.window},e(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",r,t(o))}})},_makeResizable:function(){function t(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,i=this.options,r=i.resizable,o=this.uiDialog.css("position"),a="string"==typeof r?r:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:a,start:function(i,r){e(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",i,t(r))},resize:function(e,i){n._trigger("resize",e,t(i))},stop:function(r,o){var a=n.uiDialog.offset(),s=a.left-n.document.scrollLeft(),l=a.top-n.document.scrollTop();i.height=n.uiDialog.height(),i.width=n.uiDialog.width(),i.position={my:"left top",at:"left"+(s>=0?"+":"")+s+" top"+(l>=0?"+":"")+l,of:n.window},e(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",r,t(o))}}).css("position",o)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=e(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),n=e.inArray(this,t);-1!==n&&t.splice(n,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(t){var n=this,i=!1,r={};e.each(t,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"dialogClass"===e&&r.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&(n=r.is(":data(ui-draggable)"),n&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&(i=r.is(":data(ui-resizable)"),i&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||t===!1||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight());
},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=e(this);return e("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!e(t.target).closest(".ui-dialog").length||!!e(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=e("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):this.document.unbind("focusin").removeData("ui-dialog-overlays"),this.overlay.remove(),this.overlay=null}}}),e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,i=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(i)?i:function(e){return e.is(i)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(n.scope),n.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){if("accept"===t)this.accept=e.isFunction(n)?n:function(e){return e.is(n)};else if("scope"===t){var i=e.ui.ddmanager.droppables[this.options.scope];this._splice(i),this._addToManager(n)}this._super(t,n)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;n&&(n.currentItem||n.element)[0]!==this.element[0]&&this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var i=n||e.ui.ddmanager.current,r=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var n=e(this).droppable("instance");return n.options.greedy&&!n.options.disabled&&n.options.scope===i.options.scope&&n.accept.call(n.element[0],i.currentItem||i.element)&&e.ui.intersect(i,e.extend(n,{offset:n.element.offset()}),n.options.tolerance,t)?(r=!0,!1):void 0}),!r&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,n){return e>=t&&t+n>e}return function(t,n,i,r){if(!n.offset)return!1;var o=(t.positionAbs||t.position.absolute).left+t.margins.left,a=(t.positionAbs||t.position.absolute).top+t.margins.top,s=o+t.helperProportions.width,l=a+t.helperProportions.height,u=n.offset.left,c=n.offset.top,d=u+n.proportions().width,f=c+n.proportions().height;switch(i){case"fit":return o>=u&&d>=s&&a>=c&&f>=l;case"intersect":return o+t.helperProportions.width/2>u&&d>s-t.helperProportions.width/2&&a+t.helperProportions.height/2>c&&f>l-t.helperProportions.height/2;case"pointer":return e(r.pageY,c,n.proportions().height)&&e(r.pageX,u,n.proportions().width);case"touch":return(a>=c&&f>=a||l>=c&&f>=l||c>a&&l>f)&&(o>=u&&d>=o||s>=u&&d>=s||u>o&&s>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var i,r,o=e.ui.ddmanager.droppables[t.options.scope]||[],a=n?n.type:null,s=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(i=0;o.length>i;i++)if(!(o[i].options.disabled||t&&!o[i].accept.call(o[i].element[0],t.currentItem||t.element))){for(r=0;s.length>r;r++)if(s[r]===o[i].element[0]){o[i].proportions().height=0;continue e}o[i].visible="none"!==o[i].element.css("display"),o[i].visible&&("mousedown"===a&&o[i]._activate.call(o[i],n),o[i].offset=o[i].element.offset(),o[i].proportions({width:o[i].element[0].offsetWidth,height:o[i].element[0].offsetHeight}))}},drop:function(t,n){var i=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,n)&&(i=this._drop.call(this,n)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n)))}),i},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var i,r,o,a=e.ui.intersect(t,this,this.options.tolerance,n),s=!a&&this.isover?"isout":a&&!this.isover?"isover":null;s&&(this.options.greedy&&(r=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===r}),o.length&&(i=e(o[0]).droppable("instance"),i.greedyChild="isover"===s)),i&&"isover"===s&&(i.isover=!1,i.isout=!0,i._out.call(i,n)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,n),i&&"isout"===s&&(i.isout=!1,i.isover=!0,i._over.call(i,n)))}})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}},e.ui.droppable;var b="ui-effects-",y=e;e.effects={effect:{}},function(e,t){function n(e,t,n){var i=d[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:e>i.max?i.max:e)}function i(n){var i=u(),r=i._rgba=[];return n=n.toLowerCase(),p(l,function(e,o){var a,s=o.re.exec(n),l=s&&o.parse(s),u=o.space||"rgba";return l?(a=i[u](l),i[c[u].cache]=a[c[u].cache],r=i._rgba=a._rgba,!1):t}),r.length?("0,0,0,0"===r.join()&&e.extend(r,o.transparent),i):o[n]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+6*(t-e)*n:1>2*n?t:2>3*n?e+6*(t-e)*(2/3-n):e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},c={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},d={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=u.support={},h=e("<p>")[0],p=e.each;h.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=h.style.backgroundColor.indexOf("rgba")>-1,p(c,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var d=this,f=e.type(r),h=this._rgba=[];return a!==t&&(r=[r,a,s,l],f="array"),"string"===f?this.parse(i(r)||o._default):"array"===f?(p(c.rgba.props,function(e,t){h[t.idx]=n(r[t.idx],t)}),this):"object"===f?(r instanceof u?p(c,function(e,t){r[t.cache]&&(d[t.cache]=r[t.cache].slice())}):p(c,function(t,i){var o=i.cache;p(i.props,function(e,t){if(!d[o]&&i.to){if("alpha"===e||null==r[e])return;d[o]=i.to(d._rgba)}d[o][t.idx]=n(r[e],t,!0)}),d[o]&&0>e.inArray(null,d[o].slice(0,3))&&(d[o][3]=1,i.from&&(d._rgba=i.from(d[o])))}),this):t},is:function(e){var n=u(e),i=!0,r=this;return p(c,function(e,o){var a,s=n[o.cache];return s&&(a=r[o.cache]||o.to&&o.to(r._rgba)||[],p(o.props,function(e,n){return null!=s[n.idx]?i=s[n.idx]===a[n.idx]:t})),i}),i},_space:function(){var e=[],t=this;return p(c,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=u(e),r=i._space(),o=c[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],p(o.props,function(e,r){var o=r.idx,a=s[o],u=i[o],c=d[r.type]||{};null!==u&&(null===a?l[o]=u:(c.mod&&(u-a>c.mod/2?a+=c.mod:a-u>c.mod/2&&(a-=c.mod)),l[o]=n((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(t)._rgba;return u(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,c.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,c=s+l,d=.5*c;return t=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=d?u/c:u/(2-c),[Math.round(t)%360,n,d,null==a?1:a]},c.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},p(c,function(i,r){var o=r.props,a=r.cache,l=r.to,c=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),d="array"===s||"object"===s?i:arguments,f=this[a].slice();return p(o,function(e,t){var i=d["object"===s?e:t.idx];null==i&&(i=f[t.idx]),f[t.idx]=n(i,t)}),c?(r=u(c(f)),r[a]=f,r):u(f)},p(o,function(t,n){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),c=u[n.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=e.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(t){var n=t.split(" ");p(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=u(o||r),!f.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=u(t.elem,n),t.end=u(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return p(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(y),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function n(t,n){var i,o,a={};for(i in n)o=n[i],t[i]!==o&&(r[i]||(e.fx.step[i]||!isNaN(parseFloat(o)))&&(a[i]=o));return a}var i=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(y.style(e.elem,n,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(r,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var n=e(this);return{el:n,start:t(this)}}),o=function(){e.each(i,function(e,t){r[t]&&a[t+"Class"](r[t])})},o(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function t(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function n(t){return!(t&&"number"!=typeof t&&!e.fx.speeds[t])||("string"==typeof t&&!e.effects.effect[t]||(!!e.isFunction(t)||"object"==typeof t&&!t.effect))}e.extend(e.effects,{version:"1.11.4",save:function(e,t){for(var n=0;t.length>n;n++)null!==t[n]&&e.data(b+t[n],e[0].style[t[n]])},restore:function(e,t){var n,i;for(i=0;t.length>i;i++)null!==t[i]&&(n=e.data(b+t[i]),void 0===n&&(n=""),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function n(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):a.call(r[0],i,n)}var i=t.apply(this,arguments),r=i.mode,o=i.queue,a=e.effects.effect[i.effect];return e.fx.off||!a?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(n):this.queue(o||"fx",n)},show:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(i){if(n(i))return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(i){if(n(i)||"boolean"==typeof i)return e.apply(this,arguments);var r=t.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;((t=Math.pow(2,--n))-1)/11>e;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects,e.effects.effect.blind=function(t,n){var i,r,o,a=e(this),s=/up|down|vertical/,l=/up|left|vertical|horizontal/,u=["position","top","bottom","left","right","height","width"],c=e.effects.setMode(a,t.mode||"hide"),d=t.direction||"up",f=s.test(d),h=f?"height":"width",p=f?"top":"left",m=l.test(d),g={},v="show"===c;a.parent().is(".ui-effects-wrapper")?e.effects.save(a.parent(),u):e.effects.save(a,u),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),r=i[h](),o=parseFloat(i.css(p))||0,g[h]=v?r:0,m||(a.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),g[p]=v?o:r+o),v&&(i.css(h,0),m||i.css(p,o+r)),i.animate(g,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){"hide"===c&&a.hide(),e.effects.restore(a,u),e.effects.removeWrapper(a),n()}})},e.effects.effect.bounce=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"effect"),u="hide"===l,c="show"===l,d=t.direction||"up",f=t.distance,h=t.times||5,p=2*h+(c||u?1:0),m=t.duration/p,g=t.easing,v="up"===d||"down"===d?"top":"left",b="up"===d||"left"===d,y=a.queue(),w=y.length;for((c||u)&&s.push("opacity"),e.effects.save(a,s),a.show(),e.effects.createWrapper(a),f||(f=a["top"===v?"outerHeight":"outerWidth"]()/3),c&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,b?2*-f:2*f).animate(o,m,g)),u&&(f/=Math.pow(2,h-1)),o={},o[v]=0,i=0;h>i;i++)r={},r[v]=(b?"-=":"+=")+f,a.animate(r,m,g).animate(o,m,g),f=u?2*f:f/2;u&&(r={opacity:0},r[v]=(b?"-=":"+=")+f,a.animate(r,m,g)),a.queue(function(){u&&a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}),w>1&&y.splice.apply(y,[1,0].concat(y.splice(w,p+1))),a.dequeue()},e.effects.effect.clip=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","height","width"],l=e.effects.setMode(a,t.mode||"hide"),u="show"===l,c=t.direction||"vertical",d="vertical"===c,f=d?"height":"width",h=d?"top":"left",p={};e.effects.save(a,s),a.show(),i=e.effects.createWrapper(a).css({overflow:"hidden"}),r="IMG"===a[0].tagName?i:a,o=r[f](),u&&(r.css(f,0),r.css(h,o/2)),p[f]=u?o:0,p[h]=u?0:o/2,r.animate(p,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){u||a.hide(),e.effects.restore(a,s),e.effects.removeWrapper(a),n()}})},e.effects.effect.drop=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","opacity","height","width"],a=e.effects.setMode(r,t.mode||"hide"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l?"pos":"neg",d={opacity:s?1:0};e.effects.save(r,o),r.show(),e.effects.createWrapper(r),i=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0)/2,s&&r.css("opacity",0).css(u,"pos"===c?-i:i),d[u]=(s?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.explode=function(t,n){function i(){y.push(this),y.length===d*f&&r()}function r(){h.css({visibility:"visible"}),e(y).remove(),m||h.hide(),n()}var o,a,s,l,u,c,d=t.pieces?Math.round(Math.sqrt(t.pieces)):3,f=d,h=e(this),p=e.effects.setMode(h,t.mode||"hide"),m="show"===p,g=h.show().css("visibility","hidden").offset(),v=Math.ceil(h.outerWidth()/f),b=Math.ceil(h.outerHeight()/d),y=[];for(o=0;d>o;o++)for(l=g.top+o*b,c=o-(d-1)/2,a=0;f>a;a++)s=g.left+a*v,u=a-(f-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*b}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:b,left:s+(m?u*v:0),top:l+(m?c*b:0),opacity:m?0:1}).animate({left:s+(m?0:u*v),top:l+(m?0:c*b),opacity:m?1:0},t.duration||500,t.easing,i)},e.effects.effect.fade=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"toggle");i.animate({opacity:r},{queue:!1,duration:t.duration,easing:t.easing,complete:n})},e.effects.effect.fold=function(t,n){var i,r,o=e(this),a=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(o,t.mode||"hide"),l="show"===s,u="hide"===s,c=t.size||15,d=/([0-9]+)%/.exec(c),f=!!t.horizFirst,h=l!==f,p=h?["width","height"]:["height","width"],m=t.duration/2,g={},v={};e.effects.save(o,a),o.show(),i=e.effects.createWrapper(o).css({overflow:"hidden"}),r=h?[i.width(),i.height()]:[i.height(),i.width()],d&&(c=parseInt(d[1],10)/100*r[u?0:1]),l&&i.css(f?{height:0,width:c}:{height:c,width:0}),g[p[0]]=l?r[0]:c,v[p[1]]=l?r[1]:0,i.animate(g,m,t.easing).animate(v,m,t.easing,function(){u&&o.hide(),e.effects.restore(o,a),e.effects.removeWrapper(o),n()})},e.effects.effect.highlight=function(t,n){var i=e(this),r=["backgroundImage","backgroundColor","opacity"],o=e.effects.setMode(i,t.mode||"show"),a={backgroundColor:i.css("backgroundColor")};"hide"===o&&(a.opacity=0),e.effects.save(i,r),i.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(a,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===o&&i.hide(),e.effects.restore(i,r),n()}})},e.effects.effect.size=function(t,n){var i,r,o,a=e(this),s=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],u=["width","height","overflow"],c=["fontSize"],d=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],f=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],h=e.effects.setMode(a,t.mode||"effect"),p=t.restore||"effect"!==h,m=t.scale||"both",g=t.origin||["middle","center"],v=a.css("position"),b=p?s:l,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===h&&a.show(),i={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===t.mode&&"show"===h?(a.from=t.to||y,a.to=t.from||i):(a.from=t.from||("show"===h?y:i),a.to=t.to||("hide"===h?y:i)),o={from:{y:a.from.height/i.height,x:a.from.width/i.width},to:{y:a.to.height/i.height,x:a.to.width/i.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(b=b.concat(d),a.from=e.effects.setTransition(a,d,o.from.y,a.from),a.to=e.effects.setTransition(a,d,o.to.y,a.to)),o.from.x!==o.to.x&&(b=b.concat(f),a.from=e.effects.setTransition(a,f,o.from.x,a.from),a.to=e.effects.setTransition(a,f,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(b=b.concat(c).concat(u),a.from=e.effects.setTransition(a,c,o.from.y,a.from),a.to=e.effects.setTransition(a,c,o.to.y,a.to)),e.effects.save(a,b),a.show(),e.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(r=e.effects.getBaseline(g,i),a.from.top=(i.outerHeight-a.outerHeight())*r.y,a.from.left=(i.outerWidth-a.outerWidth())*r.x,a.to.top=(i.outerHeight-a.to.outerHeight)*r.y,a.to.left=(i.outerWidth-a.to.outerWidth)*r.x),a.css(a.from),("content"===m||"both"===m)&&(d=d.concat(["marginTop","marginBottom"]).concat(c),f=f.concat(["marginLeft","marginRight"]),u=s.concat(d).concat(f),a.find("*[width]").each(function(){var n=e(this),i={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};p&&e.effects.save(n,u),n.from={height:i.height*o.from.y,width:i.width*o.from.x,outerHeight:i.outerHeight*o.from.y,outerWidth:i.outerWidth*o.from.x},n.to={height:i.height*o.to.y,width:i.width*o.to.x,outerHeight:i.height*o.to.y,outerWidth:i.width*o.to.x},o.from.y!==o.to.y&&(n.from=e.effects.setTransition(n,d,o.from.y,n.from),n.to=e.effects.setTransition(n,d,o.to.y,n.to)),o.from.x!==o.to.x&&(n.from=e.effects.setTransition(n,f,o.from.x,n.from),n.to=e.effects.setTransition(n,f,o.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){p&&e.effects.restore(n,u)})})),a.animate(a.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===h&&a.hide(),e.effects.restore(a,b),p||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):e.each(["top","left"],function(e,t){a.css(t,function(t,n){var i=parseInt(n,10),r=e?a.to.left:a.to.top;return"auto"===n?r+"px":i+r+"px"})})),e.effects.removeWrapper(a),n()}})},e.effects.effect.scale=function(t,n){var i=e(this),r=e.extend(!0,{},t),o=e.effects.setMode(i,t.mode||"effect"),a=parseInt(t.percent,10)||(0===parseInt(t.percent,10)?0:"hide"===o?0:100),s=t.direction||"both",l=t.origin,u={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==s?a/100:1,x:"vertical"!==s?a/100:1};r.effect="size",r.queue=!1,r.complete=n,"effect"!==o&&(r.origin=l||["middle","center"],r.restore=!0),r.from=t.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:u),r.to={height:u.height*c.y,width:u.width*c.x,outerHeight:u.outerHeight*c.y,outerWidth:u.outerWidth*c.x},r.fade&&("show"===o&&(r.from.opacity=0,r.to.opacity=1),"hide"===o&&(r.from.opacity=1,r.to.opacity=0)),i.effect(r)},e.effects.effect.puff=function(t,n){var i=e(this),r=e.effects.setMode(i,t.mode||"hide"),o="hide"===r,a=parseInt(t.percent,10)||150,s=a/100,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:r,complete:n,percent:o?a:100,from:o?l:{height:l.height*s,width:l.width*s,outerHeight:l.outerHeight*s,outerWidth:l.outerWidth*s}}),i.effect(t)},e.effects.effect.pulsate=function(t,n){var i,r=e(this),o=e.effects.setMode(r,t.mode||"show"),a="show"===o,s="hide"===o,l=a||"hide"===o,u=2*(t.times||5)+(l?1:0),c=t.duration/u,d=0,f=r.queue(),h=f.length;for((a||!r.is(":visible"))&&(r.css("opacity",0).show(),d=1),i=1;u>i;i++)r.animate({opacity:d},c,t.easing),d=1-d;r.animate({opacity:d},c,t.easing),r.queue(function(){s&&r.hide(),n()}),h>1&&f.splice.apply(f,[1,0].concat(f.splice(h,u+1))),r.dequeue()},e.effects.effect.shake=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","height","width"],a=e.effects.setMode(r,t.mode||"effect"),s=t.direction||"left",l=t.distance||20,u=t.times||3,c=2*u+1,d=Math.round(t.duration/c),f="up"===s||"down"===s?"top":"left",h="up"===s||"left"===s,p={},m={},g={},v=r.queue(),b=v.length;for(e.effects.save(r,o),r.show(),e.effects.createWrapper(r),p[f]=(h?"-=":"+=")+l,m[f]=(h?"+=":"-=")+2*l,g[f]=(h?"-=":"+=")+2*l,r.animate(p,d,t.easing),i=1;u>i;i++)r.animate(m,d,t.easing).animate(g,d,t.easing);r.animate(m,d,t.easing).animate(p,d/2,t.easing).queue(function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}),b>1&&v.splice.apply(v,[1,0].concat(v.splice(b,c+1))),r.dequeue()},e.effects.effect.slide=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,d={};e.effects.save(r,o),r.show(),i=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,c?isNaN(i)?"-"+i:-i:i),d[u]=(s?c?"+=":"-=":c?"-=":"+=")+i,r.animate(d,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})},e.effects.effect.transfer=function(t,n){var i=e(this),r=e(t.to),o="fixed"===r.css("position"),a=e("body"),s=o?a.scrollTop():0,l=o?a.scrollLeft():0,u=r.offset(),c={top:u.top-s,left:u.left-l,height:r.innerHeight(),width:r.innerWidth()},d=i.offset(),f=e("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(t.className).css({top:d.top-s,left:d.left-l,height:i.innerHeight(),width:i.innerWidth(),position:o?"fixed":"absolute"}).animate(c,t.duration,t.easing,function(){f.remove(),n()})},e.widget("ui.progressbar",{version:"1.11.4",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=e("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){
this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){return void 0===e?this.options.value:(this.options.value=this._constrainedValue(e),void this._refreshValue())},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=e===!1,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),"disabled"===e&&this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,n=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).toggleClass("ui-corner-right",t===this.options.max).width(n.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=e("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}}),e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,n=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(n.options.filter,n.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),n=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:n.left,top:n.top,right:n.left+t.outerWidth(),bottom:n.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var n=this,i=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(i.filter,this.element[0]),this._trigger("start",t),e(i.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),i.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var i=e.data(this,"selectable-item");i.startselected=!0,t.metaKey||t.ctrlKey||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element}))}),e(t.target).parents().addBack().each(function(){var i,r=e.data(this,"selectable-item");return r?(i=!t.metaKey&&!t.ctrlKey||!r.$element.hasClass("ui-selected"),r.$element.removeClass(i?"ui-unselecting":"ui-selected").addClass(i?"ui-selecting":"ui-unselecting"),r.unselecting=!i,r.selecting=i,r.selected=i,i?n._trigger("selecting",t,{selecting:r.element}):n._trigger("unselecting",t,{unselecting:r.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var n,i=this,r=this.options,o=this.opos[0],a=this.opos[1],s=t.pageX,l=t.pageY;return o>s&&(n=s,s=o,o=n),a>l&&(n=l,l=a,a=n),this.helper.css({left:o,top:a,width:s-o,height:l-a}),this.selectees.each(function(){var n=e.data(this,"selectable-item"),u=!1;n&&n.element!==i.element[0]&&("touch"===r.tolerance?u=!(n.left>s||o>n.right||n.top>l||a>n.bottom):"fit"===r.tolerance&&(u=n.left>o&&s>n.right&&n.top>a&&l>n.bottom),u?(n.selected&&(n.$element.removeClass("ui-selected"),n.selected=!1),n.unselecting&&(n.$element.removeClass("ui-unselecting"),n.unselecting=!1),n.selecting||(n.$element.addClass("ui-selecting"),n.selecting=!0,i._trigger("selecting",t,{selecting:n.element}))):(n.selecting&&((t.metaKey||t.ctrlKey)&&n.startselected?(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.$element.addClass("ui-selected"),n.selected=!0):(n.$element.removeClass("ui-selecting"),n.selecting=!1,n.startselected&&(n.$element.addClass("ui-unselecting"),n.unselecting=!0),i._trigger("unselecting",t,{unselecting:n.element}))),n.selected&&(t.metaKey||t.ctrlKey||n.startselected||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-unselecting"),i.unselecting=!1,i.startselected=!1,n._trigger("unselected",t,{unselected:i.element})}),e(".ui-selecting",this.element[0]).each(function(){var i=e.data(this,"selectable-item");i.$element.removeClass("ui-selecting").addClass("ui-selected"),i.selecting=!1,i.selected=!0,i.startselected=!0,n._trigger("selected",t,{selected:i.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.selectmenu",{version:"1.11.4",defaultElement:"<select>",options:{appendTo:null,disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:null,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this.options.disabled&&this.disable()},_drawButton:function(){var t=this;this.label=e("label[for='"+this.ids.element+"']").attr("for",this.ids.button),this._on(this.label,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=e("<span>",{"class":"ui-selectmenu-button ui-widget ui-state-default ui-corner-all",tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true"}).insertAfter(this.element),e("<span>",{"class":"ui-icon "+this.options.icons.button}).prependTo(this.button),this.buttonText=e("<span>",{"class":"ui-selectmenu-text"}).appendTo(this.button),this._setText(this.buttonText,this.element.find("option:selected").text()),this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t.menuItems||t._refreshMenu()}),this._hoverable(this.button),this._focusable(this.button)},_drawMenu:function(){var t=this;this.menu=e("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=e("<div>",{"class":"ui-selectmenu-menu ui-front"}).append(this.menu).appendTo(this._appendTo()),this.menuInstance=this.menu.menu({role:"listbox",select:function(e,n){e.preventDefault(),t._setSelection(),t._select(n.item.data("ui-selectmenu-item"),e)},focus:function(e,n){var i=n.item.data("ui-selectmenu-item");null!=t.focusIndex&&i.index!==t.focusIndex&&(t._trigger("focus",e,{item:i}),t.isOpen||t._select(i,e)),t.focusIndex=i.index,t.button.attr("aria-activedescendant",t.menuItems.eq(i.index).attr("id"))}}).menu("instance"),this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this._setText(this.buttonText,this._getSelectedItem().text()),this.options.width||this._resizeButton()},_refreshMenu:function(){this.menu.empty();var e,t=this.element.find("option");t.length&&(this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup"),e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this.menuItems?(this.menu.find(".ui-state-focus").removeClass("ui-state-focus"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e))},_position:function(){this.menuWrap.position(e.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(t,n){var i=this,r="";e.each(n,function(n,o){o.optgroup!==r&&(e("<li>",{"class":"ui-selectmenu-optgroup ui-menu-divider"+(o.element.parent("optgroup").prop("disabled")?" ui-state-disabled":""),text:o.optgroup}).appendTo(t),r=o.optgroup),i._renderItemData(t,o)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(t,n){var i=e("<li>");return n.disabled&&i.addClass("ui-state-disabled"),this._setText(i,n.label),i.appendTo(t)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex):(n=this.menuItems.eq(this.element[0].selectedIndex),r+=":not(.ui-state-disabled)"),i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0),i.length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?(e=window.getSelection(),e.removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(t){this.isOpen&&(e(t.target).closest(".ui-selectmenu-menu, #"+this.ids.button).length||this.close(t))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection(),e.rangeCount&&(this.range=e.getRangeAt(0))):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(t){var n=!0;switch(t.keyCode){case e.ui.keyCode.TAB:case e.ui.keyCode.ESCAPE:this.close(t),n=!1;break;case e.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(t);break;case e.ui.keyCode.UP:t.altKey?this._toggle(t):this._move("prev",t);break;case e.ui.keyCode.DOWN:t.altKey?this._toggle(t):this._move("next",t);break;case e.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(t):this._toggle(t);break;case e.ui.keyCode.LEFT:this._move("prev",t);break;case e.ui.keyCode.RIGHT:this._move("next",t);break;case e.ui.keyCode.HOME:case e.ui.keyCode.PAGE_UP:this._move("first",t);break;case e.ui.keyCode.END:case e.ui.keyCode.PAGE_DOWN:this._move("last",t);break;default:this.menu.trigger(t),n=!1}n&&t.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex);t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this._setText(this.buttonText,e.label),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){"icons"===e&&this.button.find("span.ui-icon").removeClass(this.options.icons.button).addClass(t.button),this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"disabled"===e&&(this.menuInstance.option("disabled",t),this.button.toggleClass("ui-state-disabled",t).attr("aria-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)),"width"===e&&this._resizeButton()},_appendTo:function(){var t=this.options.appendTo;return t&&(t=t.jquery||t.nodeType?e(t):this.document.find(t).eq(0)),t&&t[0]||(t=this.element.closest(".ui-front")),t.length||(t=this.document[0].body),t},_toggleAttr:function(){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen).attr("aria-expanded",this.isOpen),this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;e||(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){return{disabled:this.element.prop("disabled")}},_parseOptions:function(t){var n=[];t.each(function(t,i){var r=e(i),o=r.parent("optgroup");n.push({element:r,index:t,value:r.val(),label:r.text(),optgroup:o.attr("label")||"",disabled:o.prop("disabled")||r.prop("disabled")})}),this.items=n},_destroy:function(){this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.label.attr("for",this.ids.element)}}),e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",a=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;n>t;t++)a.push(o);this.handles=r.add(e(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(n+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,a,s,l,u,c=this,d=this.options;return!d.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===d.min))&&(r=n,o=e(this),a=t)}),s=this._start(t,a),s!==!1&&(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),u=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=u?{left:0,top:0}:{left:t.pageX-l.left-o.width()/2,top:t.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,a,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),i=n/t,i>1&&(i=1),0>i&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var i,r,o;this.options.values&&this.options.values.length?(i=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&n>i||1===t&&i>n)&&(n=i),n!==this.values(t)&&(r=this.values(),r[t]=n,o=this._trigger("slide",e,{handle:this.handles[t],value:n,values:r}),i=this.values(t?0:1),o!==!1&&this.values(t,n))):n!==this.value()&&(o=this._trigger("slide",e,{handle:this.handles[t],value:n}),o!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;i.length>o;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&this.options.range===!0&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!n),this._super(t,n),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;r>i;i+=1)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(n=this.options.values.slice(),i=0;n.length>i;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.floor(+(e-t).toFixed(this._precision())/n)*n;e=i+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,n,i,r,o,a=this.options.range,s=this.options,l=this,u=!this._animateOff&&s.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(i){n=100*((l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())),c["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[u?"animate":"css"](c,s.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[u?"animate":"css"]({left:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:s.animate})):(0===i&&l.range.stop(1,1)[u?"animate":"css"]({bottom:n+"%"},s.animate),1===i&&l.range[u?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:s.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?100*((i-r)/(o-r)):0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[u?"animate":"css"](c,s.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:n+"%"},s.animate),"max"===a&&"horizontal"===this.orientation&&this.range[u?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:s.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:n+"%"},s.animate),"max"===a&&"vertical"===this.orientation&&this.range[u?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:s.animate}))},_handleEvents:{keydown:function(t){var n,i,r,o,a=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),n=this._start(t,a),n===!1))return}switch(o=this.options.step,i=r=this.options.values&&this.options.values.length?this.values(a):this.value(),t.keyCode){case e.ui.keyCode.HOME:r=this._valueMin();break;case e.ui.keyCode.END:r=this._valueMax();break;case e.ui.keyCode.PAGE_UP:r=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:r=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;r=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;r=this._trimAlignValue(i-o)}this._slide(t,a,r)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return e>=t&&t+n>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,n){var i=null,r=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,o.widgetName+"-item")===o?(i=e(this),!1):void 0}),e.data(t.target,o.widgetName+"-item")===o&&(i=e(t.target)),!!i&&(!(this.options.handle&&!n&&(e(this.options.handle,i).find("*").addBack().each(function(){this===t.target&&(r=!0)}),!r))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(t,n,i){var r,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=e("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,i,r,o,a=this.options,s=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop+a.scrollSpeed:t.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=s=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft+a.scrollSpeed:t.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=s=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(t.pageY-this.document.scrollTop()<a.scrollSensitivity?s=this.document.scrollTop(this.document.scrollTop()-a.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<a.scrollSensitivity&&(s=this.document.scrollTop(this.document.scrollTop()+a.scrollSpeed)),t.pageX-this.document.scrollLeft()<a.scrollSensitivity?s=this.document.scrollLeft(this.document.scrollLeft()-a.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<a.scrollSensitivity&&(s=this.document.scrollLeft(this.document.scrollLeft()+a.scrollSpeed))),s!==!1&&e.ui.ddmanager&&!a.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(i=this.items[n],r=i.item[0],o=this._intersectsWithPointer(i),o&&i.instance===this.currentContainer&&r!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==r&&!e.contains(this.placeholder[0],r)&&("semi-dynamic"!==this.options.type||!e.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(t,i),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(a.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){i._clear(t)})}else this._clear(t,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),
this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&i.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},n.each(function(){i.push(e(t.item||this).attr(t.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,u=this.offset.click.top,c=this.offset.click.left,d="x"===this.options.axis||i+u>s&&l>i+u,f="y"===this.options.axis||t+c>o&&a>t+c,h=d&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?h:t+this.helperProportions.width/2>o&&a>n-this.helperProportions.width/2&&i+this.helperProportions.height/2>s&&l>r-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function n(){s.push(this)}var i,r,o,a,s=[],l=[],u=this._connectWith();if(u&&t)for(i=u.length-1;i>=0;i--)for(o=e(u[i],this.document[0]),r=o.length-1;r>=0;r--)a=e.data(o[r],this.widgetFullName),a&&a!==this&&!a.options.disabled&&l.push([e.isFunction(a.options.items)?a.options.items.call(a.element):e(a.options.items,a.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),a]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=l.length-1;i>=0;i--)l[i][0].each(n);return e(s)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;t.length>n;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,i,r,o,a,s,l,u,c=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(n=f.length-1;n>=0;n--)for(r=e(f[n],this.document[0]),i=r.length-1;i>=0;i--)o=e.data(r[i],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(d.push([e.isFunction(o.options.items)?o.options.items.call(o.element[0],t,{item:this.currentItem}):e(o.options.items,o.element),o]),this.containers.push(o));for(n=d.length-1;n>=0;n--)for(a=d[n][1],s=d[n][0],i=0,u=s.length;u>i;i++)l=e(s[i]),l.data(this.widgetName+"-item",a),c.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,i,r,o;for(n=this.items.length-1;n>=0;n--)i=this.items[n],i.instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?e(this.options.toleranceElement,i.item):i.item,t||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,i=t.options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=t.currentItem[0].nodeName.toLowerCase(),r=e("<"+i+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(r)):"tr"===i?t._createTrPlaceholder(t.currentItem,r):"img"===i&&r.attr("src",t.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(e,r){(!n||i.forcePlaceholderSize)&&(r.height()||r.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(i.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),i.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,n){var i=this;t.children().each(function(){e("<td>&#160;</td>",i.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(n)})},_contactContainers:function(t){var n,i,r,o,a,s,l,u,c,d,f=null,h=null;for(n=this.containers.length-1;n>=0;n--)if(!e.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(f&&e.contains(this.containers[n].element[0],f.element[0]))continue;f=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",t,this._uiHash(this)),this.containers[n].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(r=1e4,o=null,c=f.floating||this._isFloating(this.currentItem),a=c?"left":"top",s=c?"width":"height",d=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)e.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[a],u=!1,t[d]-l>this.items[i][s]/2&&(u=!0),r>Math.abs(t[d]-l)&&(r=Math.abs(t[d]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(t,o,null,!0):this._rearrange(t,null,this.containers[h].element,!0),this._trigger("change",t,this._uiHash()),this.containers[h]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",t,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(t){var n=this.options,i=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||e("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!i[0].style.width||n.forceHelperSize)&&i.width(this.currentItem.width()),(!i[0].style.height||n.forceHelperSize)&&i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),("document"===r.containment||"window"===r.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(t=e(r.containment)[0],n=e(r.containment).offset(),i="hidden"!==e(t).css("overflow"),this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var i="absolute"===t?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(t){var n,i,r=this.options,o=t.pageX,a=t.pageY,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(s[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((a-this.originalPageY)/r.grid[1])*r.grid[1],a=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:s.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:s.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){function n(e,t,n){return function(i){n._trigger(e,i,t._uiHash(t))}}this.reverting=!1;var i,r=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)t||r.push(n("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(r.push(n("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;r.length>i;i++)r[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}}),e.widget("ui.spinner",{version:"1.11.4",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var t={},n=this.element;return e.each(["min","max","step"],function(e,i){var r=n.attr(i);void 0!==r&&r.length&&(t[i]=r)}),t},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",e)))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((t>0?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(t){function n(){var e=this.element[0]===this.document[0].activeElement;e||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),t.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),this._start(t)!==!1&&this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(t){return e(t.currentTarget).hasClass("ui-state-active")?this._start(t)!==!1&&void this._repeat(null,e(t.currentTarget).hasClass("ui-spinner-up")?1:-1,t):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&e.height()>0&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(t){var n=this.options,i=e.ui.keyCode;switch(t.keyCode){case i.UP:return this._repeat(null,1,t),!0;case i.DOWN:return this._repeat(null,-1,t),!0;case i.PAGE_UP:return this._repeat(null,n.page,t),!0;case i.PAGE_DOWN:return this._repeat(null,-n.page,t),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&this._trigger("start",e)===!1)&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&this._trigger("spin",t,{value:n})===!1||(this._value(n),this.counter++)},_increment:function(t){var n=this.options.incremental;return n?e.isFunction(n)?n(t):Math.floor(t*t*t/5e4-t*t/500+17*t/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return t=null!==i.min?i.min:0,n=e-t,n=Math.round(n/i.step)*i.step,e=t+n,e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&i.min>e?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var n=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(n))}("max"===e||"min"===e||"step"===e)&&"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable"))},_setOptions:l(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&(n=this._parse(e),null!==n&&(t||(n=this._adjustValue(n)),e=this._format(n))),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:l(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:l(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:l(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:l(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){return arguments.length?void l(this._value).call(this,e):this._parse(this.element.val())},widget:function(){return this.uiSpinner}}),e.widget("ui.tabs",{version:"1.11.4",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:function(){var e=/#.*$/;return function(t){var n,i;t=t.cloneNode(!1),n=t.href.replace(e,""),i=location.href.replace(e,"");try{n=decodeURIComponent(n)}catch(r){}try{i=decodeURIComponent(i)}catch(r){}return t.hash.length>1&&n===i}}(),_create:function(){var t=this,n=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",n.collapsible),this._processTabs(),n.active=this._initialActive(),e.isArray(n.disabled)&&(n.disabled=e.unique(n.disabled.concat(e.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(n.active):e(),this._refresh(),this.active.length&&this.load(n.active)},_initialActive:function(){var t=this.options.active,n=this.options.collapsible,i=location.hash.substring(1);return null===t&&(i&&this.tabs.each(function(n,r){return e(r).attr("aria-controls")===i?(t=n,!1):void 0}),null===t&&(t=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===t||-1===t)&&(t=!!this.tabs.length&&0)),t!==!1&&(t=this.tabs.index(this.tabs.eq(t)),-1===t&&(t=!n&&0)),!n&&t===!1&&this.anchors.length&&(t=0),t},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):e()}},_tabKeydown:function(t){var n=e(this.document[0].activeElement).closest("li"),i=this.tabs.index(n),r=!0;if(!this._handlePageNav(t)){switch(t.keyCode){case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:i++;break;case e.ui.keyCode.UP:case e.ui.keyCode.LEFT:r=!1,i--;break;case e.ui.keyCode.END:i=this.anchors.length-1;break;case e.ui.keyCode.HOME:i=0;break;case e.ui.keyCode.SPACE:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i);case e.ui.keyCode.ENTER:return t.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}t.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,r),t.ctrlKey||t.metaKey||(n.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(t){this._handlePageNav(t)||t.ctrlKey&&t.keyCode===e.ui.keyCode.UP&&(t.preventDefault(),this.active.focus())},_handlePageNav:function(t){return t.altKey&&t.keyCode===e.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):t.altKey&&t.keyCode===e.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(t,n){function i(){return t>r&&(t=0),0>t&&(t=r),t}for(var r=this.tabs.length-1;-1!==e.inArray(i(),this.options.disabled);)t=n?t+1:t-1;return t},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){return"active"===e?void this._activate(t):"disabled"===e?void this._setupDisabled(t):(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||this.options.active!==!1||this._activate(0)),"event"===e&&this._setupEvents(t),void("heightStyle"===e&&this._setupHeightStyle(t)))},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var t=this.options,n=this.tablist.children(":has(a[href])");t.disabled=e.map(n.filter(".ui-state-disabled"),function(e){return n.index(e)}),this._processTabs(),t.active!==!1&&this.anchors.length?this.active.length&&!e.contains(this.tablist[0],this.active[0])?this.tabs.length===t.disabled.length?(t.active=!1,this.active=e()):this._activate(this._findNextTab(Math.max(0,t.active-1),!1)):t.active=this.tabs.index(this.active):(t.active=!1,this.active=e()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var t=this,n=this.tabs,i=this.anchors,r=this.panels;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist").delegate("> li","mousedown"+this.eventNamespace,function(t){e(this).is(".ui-state-disabled")&&t.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){e(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return e("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=e(),this.anchors.each(function(n,i){var r,o,a,s=e(i).uniqueId().attr("id"),l=e(i).closest("li"),u=l.attr("aria-controls");t._isLocal(i)?(r=i.hash,a=r.substring(1),o=t.element.find(t._sanitizeSelector(r))):(a=l.attr("aria-controls")||e({}).uniqueId()[0].id,r="#"+a,o=t.element.find(r),o.length||(o=t._createPanel(a),o.insertAfter(t.panels[n-1]||t.tablist)),o.attr("aria-live","polite")),o.length&&(t.panels=t.panels.add(o)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":a,"aria-labelledby":s}),o.attr("aria-labelledby",s)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel"),n&&(this._off(n.not(this.tabs)),this._off(i.not(this.anchors)),this._off(r.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol,ul").eq(0)},_createPanel:function(t){return e("<div>").attr("id",t).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(t){e.isArray(t)&&(t.length?t.length===this.anchors.length&&(t=!0):t=!1);for(var n,i=0;n=this.tabs[i];i++)t===!0||-1!==e.inArray(i,t)?e(n).addClass("ui-state-disabled").attr("aria-disabled","true"):e(n).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=t},_setupEvents:function(t){var n={};t&&e.each(t.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(t){var n,i=this.element.parent();"fill"===t?(n=i.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var t=e(this),i=t.css("position");"absolute"!==i&&"fixed"!==i&&(n-=t.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=e(this).outerHeight(!0)}),this.panels.each(function(){e(this).height(Math.max(0,n-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.panels.each(function(){n=Math.max(n,e(this).height("").height())}).height(n))},_eventHandler:function(t){var n=this.options,i=this.active,r=e(t.currentTarget),o=r.closest("li"),a=o[0]===i[0],s=a&&n.collapsible,l=s?e():this._getPanelForTab(o),u=i.length?this._getPanelForTab(i):e(),c={oldTab:i,oldPanel:u,newTab:s?e():o,newPanel:l};t.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!n.collapsible||this._trigger("beforeActivate",t,c)===!1||(n.active=!s&&this.tabs.index(o),this.active=a?e():o,this.xhr&&this.xhr.abort(),u.length||l.length||e.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),t),this._toggle(t,c))},_toggle:function(t,n){function i(){o.running=!1,o._trigger("activate",t,n)}function r(){n.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,i):(a.show(),i())}var o=this,a=n.newPanel,s=n.oldPanel;this.running=!0,s.length&&this.options.hide?this._hide(s,this.options.hide,function(){n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r()}):(n.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s.hide(),r()),s.attr("aria-hidden","true"),n.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),a.length&&s.length?n.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){
return 0===e(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr("aria-hidden","false"),n.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(t){var n,i=this._findActive(t);i[0]!==this.active[0]&&(i.length||(i=this.active),n=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:n,currentTarget:n,preventDefault:e.noop}))},_findActive:function(t){return t===!1?e():this.tabs.eq(t)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tablist.unbind(this.eventNamespace),this.tabs.add(this.panels).each(function(){e.data(this,"ui-tabs-destroy")?e(this).remove():e(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var t=e(this),n=t.data("ui-tabs-aria-controls");n?t.attr("aria-controls",n).removeData("ui-tabs-aria-controls"):t.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(t){var n=this.options.disabled;n!==!1&&(void 0===t?n=!1:(t=this._getIndex(t),n=e.isArray(n)?e.map(n,function(e){return e!==t?e:null}):e.map(this.tabs,function(e,n){return n!==t?n:null})),this._setupDisabled(n))},disable:function(t){var n=this.options.disabled;if(n!==!0){if(void 0===t)n=!0;else{if(t=this._getIndex(t),-1!==e.inArray(t,n))return;n=e.isArray(n)?e.merge([t],n).sort():[t]}this._setupDisabled(n)}},load:function(t,n){t=this._getIndex(t);var i=this,r=this.tabs.eq(t),o=r.find(".ui-tabs-anchor"),a=this._getPanelForTab(r),s={tab:r,panel:a},l=function(e,t){"abort"===t&&i.panels.stop(!1,!0),r.removeClass("ui-tabs-loading"),a.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr};this._isLocal(o[0])||(this.xhr=e.ajax(this._ajaxSettings(o,n,s)),this.xhr&&"canceled"!==this.xhr.statusText&&(r.addClass("ui-tabs-loading"),a.attr("aria-busy","true"),this.xhr.done(function(e,t,r){setTimeout(function(){a.html(e),i._trigger("load",n,s),l(r,t)},1)}).fail(function(e,t){setTimeout(function(){l(e,t)},1)})))},_ajaxSettings:function(t,n,i){var r=this;return{url:t.attr("href"),beforeSend:function(t,o){return r._trigger("beforeLoad",n,e.extend({jqXHR:t,ajaxSettings:o},i))}}},_getPanelForTab:function(t){var n=e(t).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+n))}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,n){var i=(t.attr("aria-describedby")||"").split(/\s+/);i.push(n),t.data("ui-tooltip-id",n).attr("aria-describedby",e.trim(i.join(" ")))},_removeDescribedBy:function(t){var n=t.data("ui-tooltip-id"),i=(t.attr("aria-describedby")||"").split(/\s+/),r=e.inArray(n,i);-1!==r&&i.splice(r,1),t.removeData("ui-tooltip-id"),i=e.trim(i.join(" ")),i?t.attr("aria-describedby",i):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,n){var i=this;return"disabled"===t?(this[n?"_disable":"_enable"](),void(this.options[t]=n)):(this._super(t,n),void("content"===t&&e.each(this.tooltips,function(e,t){i._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur");r.target=r.currentTarget=i.element[0],t.close(r,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var n=this,i=e(t?t.target:this.element).closest(this.options.items);i.length&&!i.data("ui-tooltip-id")&&(i.attr("title")&&i.data("ui-tooltip-title",i.attr("title")),i.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&i.parents().each(function(){var t,i=e(this);i.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,n.close(t,!0)),i.attr("title")&&(i.uniqueId(),n.parents[this.id]={element:this,title:i.attr("title")},i.attr("title",""))}),this._registerCloseHandlers(t,i),this._updateContent(i,t))},_updateContent:function(e,t){var n,i=this.options.content,r=this,o=t?t.type:null;return"string"==typeof i?this._open(t,e,i):(n=i.call(e[0],function(n){r._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=o),this._open(t,e,n))})}),void(n&&this._open(t,e,n)))},_open:function(t,n,i){function r(e){u.of=e,a.is(":hidden")||a.position(u)}var o,a,s,l,u=e.extend({},this.options.position);if(i){if(o=this._find(n))return void o.tooltip.find(".ui-tooltip-content").html(i);n.is("[title]")&&(t&&"mouseover"===t.type?n.attr("title",""):n.removeAttr("title")),o=this._tooltip(n),a=o.tooltip,this._addDescribedBy(n,a.attr("id")),a.find(".ui-tooltip-content").html(i),this.liveRegion.children().hide(),i.clone?(l=i.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=i,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:r}),r(t)):a.position(e.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(s=this.delayedShow=setInterval(function(){a.is(":visible")&&(r(u.of),clearInterval(s))},e.fx.interval)),this._trigger("open",t,{tooltip:a})}},_registerCloseHandlers:function(t,n){var i={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var i=e.Event(t);i.currentTarget=n[0],this.close(i,!0)}}};n[0]!==this.element[0]&&(i.remove=function(){this._removeTooltip(this._find(n).tooltip)}),t&&"mouseover"!==t.type||(i.mouseleave="close"),t&&"focusin"!==t.type||(i.focusout="close"),this._on(!0,n,i)},close:function(t){var n,i=this,r=e(t?t.currentTarget:this.element),o=this._find(r);return o?(n=o.tooltip,void(o.closing||(clearInterval(this.delayedShow),r.data("ui-tooltip-title")&&!r.attr("title")&&r.attr("title",r.data("ui-tooltip-title")),this._removeDescribedBy(r),o.hiding=!0,n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(e(this))}),r.removeData("ui-tooltip-open"),this._off(r,"mouseleave focusout keyup"),r[0]!==this.element[0]&&this._off(r,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,n){e(n.element).attr("title",n.title),delete i.parents[t]}),o.closing=!0,this._trigger("close",t,{tooltip:n}),o.hiding||(o.closing=!1)))):void r.removeData("ui-tooltip-open")},_tooltip:function(t){var n=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),i=n.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(n),n.appendTo(this.document[0].body),this.tooltips[i]={element:t,tooltip:n}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(n,i){var r=e.Event("blur"),o=i.element;r.target=r.currentTarget=o[0],t.close(r,!0),e("#"+n).remove(),o.data("ui-tooltip-title")&&(o.attr("title")||o.attr("title",o.data("ui-tooltip-title")),o.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");if(+function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,i=this;e(this).one("bsTransitionEnd",function(){n=!0});var r=function(){n||e(i).trigger(e.support.transition.end)};return setTimeout(r,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),r=n.data("bs.alert");r||n.data("bs.alert",r=new i(this)),"string"==typeof t&&r[t].call(n)})}var n='[data-dismiss="alert"]',i=function(t){e(t).on("click",n,this.close)};i.VERSION="3.3.5",i.TRANSITION_DURATION=150,i.prototype.close=function(t){function n(){a.detach().trigger("closed.bs.alert").remove()}var r=e(this),o=r.attr("data-target");o||(o=r.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var a=e(o);t&&t.preventDefault(),a.length||(a=r.closest(".alert")),a.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(a.removeClass("in"),e.support.transition&&a.hasClass("fade")?a.one("bsTransitionEnd",n).emulateTransitionEnd(i.TRANSITION_DURATION):n())};var r=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",n,i.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.button"),o="object"==typeof t&&t;r||i.data("bs.button",r=new n(this,o)),"toggle"==t?r.toggle():t&&r.setState(t)})}var n=function(t,i){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.5",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",i=this.$element,r=i.is("input")?"val":"html",o=i.data();t+="Text",null==o.resetText&&i.data("resetText",i[r]()),setTimeout(e.proxy(function(){i[r](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,i.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=e(n.target);i.hasClass("btn")||(i=i.closest(".btn")),t.call(i,"toggle"),e(n.target).is('input[type="radio"]')||e(n.target).is('input[type="checkbox"]')||n.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.carousel"),o=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t),a="string"==typeof t?t:o.slide;r||i.data("bs.carousel",r=new n(this,o)),"number"==typeof t?r.to(t):a?r[a]():o.interval&&r.pause().cycle()})}var n=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",e.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t),i="prev"==e&&0===n||"next"==e&&n==this.$items.length-1;if(i&&!this.options.wrap)return t;var r="prev"==e?-1:1,o=(n+r)%this.$items.length;return this.$items.eq(o)},n.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",this.$items.eq(e))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,i){var r=this.$element.find(".item.active"),o=i||this.getItemForDirection(t,r),a=this.interval,s="next"==t?"left":"right",l=this;if(o.hasClass("active"))return this.sliding=!1;var u=o[0],c=e.Event("slide.bs.carousel",{relatedTarget:u,direction:s});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(o)]);d&&d.addClass("active")}var f=e.Event("slid.bs.carousel",{relatedTarget:u,direction:s});return e.support.transition&&this.$element.hasClass("slide")?(o.addClass(t),o[0].offsetWidth,r.addClass(s),o.addClass(s),r.one("bsTransitionEnd",function(){o.removeClass([t,s].join(" ")).addClass("active"),r.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(f)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(r.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger(f)),a&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this};var r=function(n){var i,r=e(this),o=e(r.attr("data-target")||(i=r.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var a=e.extend({},o.data(),r.data()),s=r.attr("data-slide-to");s&&(a.interval=!1),t.call(o,a),s&&o.data("bs.carousel").to(s),n.preventDefault()}};e(document).on("click.bs.carousel.data-api","[data-slide]",r).on("click.bs.carousel.data-api","[data-slide-to]",r),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){var n,i=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(i)}function n(t){return this.each(function(){var n=e(this),r=n.data("bs.collapse"),o=e.extend({},i.DEFAULTS,n.data(),"object"==typeof t&&t);!r&&o.toggle&&/show|hide/.test(t)&&(o.toggle=!1),r||n.data("bs.collapse",r=new i(this,o)),"string"==typeof t&&r[t]()})}var i=function(t,n){this.$element=e(t),this.options=e.extend({},i.DEFAULTS,n),this.$trigger=e('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.5",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t,r=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(r&&r.length&&(t=r.data("bs.collapse"),t&&t.transitioning))){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){r&&r.length&&(n.call(r,"hide"),t||r.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var l=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][l])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return e.support.transition?void this.$element[n](0).one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION):r.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},i.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(n,i){var r=e(i);this.addAriaAndCollapsedClass(t(r),r)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var r=e.fn.collapse;e.fn.collapse=n,e.fn.collapse.Constructor=i,e.fn.collapse.noConflict=function(){return e.fn.collapse=r,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var r=e(this);r.attr("data-target")||i.preventDefault();var o=t(r),a=o.data("bs.collapse"),s=a?"toggle":r.data();n.call(o,s)})}(jQuery),+function(e){"use strict";function t(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&e(n);return i&&i.length?i:t.parent()}function n(n){n&&3===n.which||(e(r).remove(),e(o).each(function(){var i=e(this),r=t(i),o={relatedTarget:this};r.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&e.contains(r[0],n.target)||(r.trigger(n=e.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),r.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function i(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var r=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(t){e(t).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(i){var r=e(this);if(!r.is(".disabled, :disabled")){var o=t(r),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(e(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(i=e.Event("show.bs.dropdown",s)),i.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=e(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".disabled, :disabled")){var r=t(i),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(o).trigger("focus"),i.trigger("click");var s=" li:not(.disabled):visible a",l=r.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=i,e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t,i){return this.each(function(){var r=e(this),o=r.data("bs.modal"),a=e.extend({},n.DEFAULTS,r.data(),"object"==typeof t&&t);o||r.data("bs.modal",o=new n(this,a)),"string"==typeof t?o[t](i):a.show&&o.show(i)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.3.5",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var i=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(t){e(t.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var r=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),r&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});r?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(o)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var i=this,r=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&r;if(this.$backdrop=e(document.createElement("div")).addClass("modal-backdrop "+r).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;o?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else t&&t()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var i=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=e(this),r=i.attr("href"),o=e(i.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},o.data(),i.data());i.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),t.call(o,a,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tooltip"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.tooltip",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,i){if(this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&e(e.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var r=this.options.trigger.split(" "),o=r.length;o--;){var a=r[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",l="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,i){n[e]!=i&&(t[e]=i)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusin"==t.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},n.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),t instanceof e.Event&&(n.inState["focusout"==t.type?"focus":"hover"]=!1),n.isInStateTrue()?void 0:(clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide())},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!i)return;var r=this,o=this.tip(),a=this.getUID(this.type);this.setContent(),o.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&o.addClass("fade");var s="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,u=l.test(s);u&&(s=s.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(s).data("bs."+this.type,this),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);
var c=this.getPosition(),d=o[0].offsetWidth,f=o[0].offsetHeight;if(u){var h=s,p=this.getPosition(this.$viewport);s="bottom"==s&&c.bottom+f>p.bottom?"top":"top"==s&&c.top-f<p.top?"bottom":"right"==s&&c.right+d>p.width?"left":"left"==s&&c.left-d<p.left?"right":s,o.removeClass(h).addClass(s)}var m=this.getCalculatedOffset(s,c,d,f);this.applyPlacement(m,s);var g=function(){var e=r.hoverState;r.$element.trigger("shown.bs."+r.type),r.hoverState=null,"out"==e&&r.leave(r)};e.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",g).emulateTransitionEnd(n.TRANSITION_DURATION):g()}},n.prototype.applyPlacement=function(t,n){var i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top+=a,t.left+=s,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var l=i[0].offsetWidth,u=i[0].offsetHeight;"top"==n&&u!=o&&(t.top=t.top+o-u);var c=this.getViewportAdjustedDelta(n,t,l,u);c.left?t.left+=c.left:t.top+=c.top;var d=/top|bottom/.test(n),f=d?2*c.left-r+l:2*c.top-o+u,h=d?"offsetWidth":"offsetHeight";i.offset(t),this.replaceArrow(f,i[0][h],d)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(t){function i(){"in"!=r.hoverState&&o.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),t&&t()}var r=this,o=e(this.$tip),a=e.Event("hide.bs."+this.type);return this.$element.trigger(a),a.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],i="BODY"==n.tagName,r=n.getBoundingClientRect();null==r.width&&(r=e.extend({},r,{width:r.right-r.left,height:r.bottom-r.top}));var o=i?{top:0,left:0}:t.offset(),a={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=i?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},r,a,s,o)},n.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var u=t.left-o,c=t.left+o+n;u<a.left?r.left=a.left-u:c>a.right&&(r.left=a.left+a.width-c)}return r},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){if(!this.$tip&&(this.$tip=e(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),t?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null})};var i=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.popover"),o="object"==typeof t&&t;(r||!/destroy|hide/.test(t))&&(r||i.data("bs.popover",r=new n(this,o)),"string"==typeof t&&r[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.3.5",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var i=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(jQuery),+function(e){"use strict";function t(n,i){this.$body=e(document.body),this.$scrollElement=e(e(n).is(document.body)?window:n),this.options=e.extend({},t.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",e.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=e(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new t(this,o)),"string"==typeof n&&r[n]()})}t.VERSION="3.3.5",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),e.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var t=e(this),r=t.data("target")||t.attr("href"),o=/^#./.test(r)&&e(r);return o&&o.length&&o.is(":visible")&&[[o[n]().top+i,r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]),t.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=i)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,this.clear();var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',i=e(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},t.prototype.clear=function(){e(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new n(this)),"string"==typeof t&&r[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.3.5",n.TRANSITION_DURATION=150,n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),i=t.data("target");if(i||(i=t.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var r=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:r[0]});if(r.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(i);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){r.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:r[0]})})}}},n.prototype.activate=function(t,i,r){function o(){a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),t.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu").length&&t.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),r&&r()}var a=i.find("> .active"),s=r&&e.support.transition&&(a.length&&a.hasClass("fade")||!!i.find("> .fade").length);a.length&&s?a.one("bsTransitionEnd",o).emulateTransitionEnd(n.TRANSITION_DURATION):o(),a.removeClass("in")};var i=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=i,this};var r=function(n){n.preventDefault(),t.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',r).on("click.bs.tab.data-api",'[data-toggle="pill"]',r)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var i=e(this),r=i.data("bs.affix"),o="object"==typeof t&&t;r||i.data("bs.affix",r=new n(this,o)),"string"==typeof t&&r[t]()})}var n=function(t,i){this.options=e.extend({},n.DEFAULTS,i),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.5",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return n>r&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(e-i>=r+a)&&"bottom";var s=null==this.affixed,l=s?r:o.top,u=s?a:t;return null!=n&&n>=r?"top":null!=i&&l+u>=e-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=this.$element.height(),i=this.options.offset,r=i.top,o=i.bottom,a=Math.max(e(document).height(),e(document.body).height());"object"!=typeof i&&(o=r=i),"function"==typeof r&&(r=i.top(this.$element)),"function"==typeof o&&(o=i.bottom(this.$element));var s=this.getState(a,t,r,o);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),u=e.Event(l+".bs.affix");if(this.$element.trigger(u),u.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-t-o})}};var i=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),t.call(n,i)})})}(jQuery),!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.concat(n);return e.apply(null,r)}}function n(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function i(e){var t={},n={},i=[],r={},o={},a=function(t,n,i){var r=e[t];return r?r=$r(r,/[, ]/,$r(r.toUpperCase(),/[, ]/)):(r=Sr[t])||(r=$r(n," ",$r(n.toUpperCase()," ")),r=Er(r,i),Sr[t]=r),r},s=Nr((e=e||{}).schema);!1===e.verify_html&&(e.valid_elements="*[*]");var l=Pr(e.valid_styles),u=Pr(e.invalid_styles,"map"),c=Pr(e.valid_classes,"map"),d=a("whitespace_elements","pre script noscript style textarea video audio iframe object code"),f=a("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),h=a("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),p=a("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),m=a("non_empty_elements","td th iframe video audio object script pre code",h),g=a("move_caret_before_on_enter_elements","table",m),v=a("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),b=a("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",v),y=a("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");Tr((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){o[e]=new RegExp("</"+e+"[^>]*>","gi")});var w=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var n,r,o,a,s,l,u,c,d,f,h,p,m,g,v,b,y,x,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,_=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,k=/[*?+]/;if(e)for(e=Mr(e,","),t["@"]&&(b=t["@"].attributes,y=t["@"].attributesOrder),n=0,r=e.length;n<r;n++)if(s=C.exec(e[n])){if(g=s[1],d=s[2],v=s[3],c=s[5],l={attributes:p={},attributesOrder:m=[]},"#"===g&&(l.paddEmpty=!0),"-"===g&&(l.removeEmpty=!0),"!"===s[4]&&(l.removeEmptyAttrs=!0),b&&(pt(b,function(e,t){p[t]=e}),m.push.apply(m,y)),c)for(o=0,a=(c=Mr(c,"|")).length;o<a;o++)if(s=_.exec(c[o])){if(u={},h=s[1],f=s[2].replace(/[\\:]:/g,":"),g=s[3],x=s[4],"!"===h&&(l.attributesRequired=l.attributesRequired||[],l.attributesRequired.push(f),u.required=!0),"-"===h){delete p[f],m.splice(Or(m,f),1);continue}g&&("="===g&&(l.attributesDefault=l.attributesDefault||[],l.attributesDefault.push({name:f,value:x}),u.defaultValue=x),":"===g&&(l.attributesForced=l.attributesForced||[],l.attributesForced.push({name:f,value:x}),u.forcedValue=x),"<"===g&&(u.validValues=$r(x,"?"))),k.test(f)?(l.attributePatterns=l.attributePatterns||[],u.pattern=w(f),l.attributePatterns.push(u)):(p[f]||m.push(f),p[f]=u)}b||"@"!==d||(b=p,y=m),v&&(l.outputName=d,t[v]=l),k.test(d)?(l.pattern=w(d),i.push(l)):t[d]=l}},C=function(e){t={},i=[],x(e),Tr(s,function(e,t){n[t]=e.children})},_=function(e){var i=/^(~)?(.+)$/;e&&(Sr.text_block_elements=Sr.block_elements=null,Tr(Mr(e,","),function(e){var o=i.exec(e),a="~"===o[1],s=a?"span":"div",l=o[2];if(n[l]=n[s],r[l]=s,a||(b[l.toUpperCase()]={},b[l]={}),!t[l]){var u=t[s];delete(u=Er({},u)).removeEmptyAttrs,delete u.removeEmpty,t[l]=u}Tr(n,function(e,t){e[s]&&(n[t]=e=Er({},n[t]),e[l]=e[s])})}))},k=function(t){var i=/^([+\-]?)([A-Za-z0-9_\-\.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)\]$/;Sr[e.schema]=null,t&&Tr(Mr(t,","),function(e){var t,r,o=i.exec(e);o&&(r=o[1],t=r?n[o[2]]:n[o[2]]={"#comment":{}},t=n[o[2]],Tr(Mr(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},S=function(e){var n,r=t[e];if(r)return r;for(n=i.length;n--;)if((r=i[n]).pattern.test(e))return r};return e.valid_elements?C(e.valid_elements):(Tr(s,function(e,i){t[i]={attributes:e.attributes,attributesOrder:e.attributesOrder},n[i]=e.children}),"html5"!==e.schema&&Tr(Mr("strong/b em/i"),function(e){e=Mr(e,"/"),t[e[1]].outputName=e[0]}),Tr(Mr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){t[e]&&(t[e].removeEmpty=!0)}),Tr(Mr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){t[e].paddEmpty=!0}),Tr(Mr("span"),function(e){t[e].removeEmptyAttrs=!0})),_(e.custom_elements),k(e.valid_children),x(e.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),Tr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,n){t[n]&&(t[n].parentsRequired=Mr(e))}),e.invalid_elements&&Tr(Ar(e.invalid_elements),function(e){t[e]&&delete t[e]}),S("span")||x("span[!data-mce-type|*]"),{children:n,elements:t,getValidStyles:function(){return l},getValidClasses:function(){return c},getBlockElements:function(){return b},getInvalidStyles:function(){return u},getShortEndedElements:function(){return h},getTextBlockElements:function(){return v},getTextInlineElements:function(){return y},getBoolAttrs:function(){return p},getElementRule:S,getSelfClosingElements:function(){return f},getNonEmptyElements:function(){return m},getMoveCaretBeforeOnEnterElements:function(){return g},getWhiteSpaceElements:function(){return d},getSpecialElements:function(){return o},isValidChild:function(e,t){var i=n[e.toLowerCase()];return!(!i||!i[t.toLowerCase()])},isValid:function(e,t){var n,i,r=S(e);if(r){if(!t)return!0;if(r.attributes[t])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(e))return!0}return!1},getCustomElements:function(){return r},addValidElements:x,setValidElements:C,addCustomElements:_,addValidChildren:k}}function r(){this.domLoaded=!1,this.events={},this.count=1,this.expando="mce-data-"+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in e.document.documentElement,this.hasFocusIn="onfocusin"in e.document.documentElement,this.count=1}function o(){function e(n,i){return t.push(n+" ")>Q.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function a(e){return e[Gr]=!0,e}function s(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function l(e){return a(function(t){return t=+t,a(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function u(e){return e&&typeof e.getElementsByTagName!=no&&e}function c(){}function d(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function f(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=Jr++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u=[Xr,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if((s=(l=t[Gr]||(t[Gr]={}))[i])&&s[0]===Xr&&s[1]===o)return u[2]=s[2];if((l[i]=u)[2]=e(t,n,a))return!0}}}function h(e){return 1<e.length?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function p(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),u&&t.push(s)));return a}function m(e,t,n,i,r,o){return i&&!i[Gr]&&(i=m(i)),r&&!r[Gr]&&(r=m(r,o)),a(function(o,a,s,l){var u,c,d,f=[],h=[],m=a.length,g=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)Oo(e,t[i],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!o&&t?g:p(g,f,e,s,l),b=n?r||(o?e:m||i)?[]:a:v;if(n&&n(v,b,s,l),i)for(u=p(b,h),i(u,[],s,l),c=u.length;c--;)(d=u[c])&&(b[h[c]]=!(v[h[c]]=d));if(o){if(r||e){if(r){for(u=[],c=b.length;c--;)(d=b[c])&&u.push(v[c]=d);r(null,b=[],u,l)}for(c=b.length;c--;)(d=b[c])&&-1<(u=r?uo.call(o,d):f[c])&&(o[u]=!(a[u]=d))}}else b=p(b===a?b.splice(m,b.length):b),r?r(null,a,b,l):so.apply(a,b)})}function g(e){for(var t,n,i,r=e.length,o=Q.relative[e[0].type],a=o||Q.relative[" "],s=o?1:0,l=f(function(e){return e===t},a,!0),u=f(function(e){return-1<uo.call(t,e)},a,!0),c=[function(e,n,i){return!o&&(i||n!==oe)||((t=n).nodeType?l:u)(e,n,i)}];s<r;s++)if(n=Q.relative[e[s].type])c=[f(h(c),n)];else{if((n=Q.filter[e[s].type].apply(null,e[s].matches))[Gr]){for(i=++s;i<r&&!Q.relative[e[i].type];i++);return m(1<s&&h(c),1<s&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(mo,"$1"),n,s<i&&g(e.slice(s,i)),i<r&&g(e=e.slice(i)),i<r&&d(e))}c.push(n)}return h(c)}function v(e,t){this.node=e,this.rootNode=t,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}function b(e,t){return function(){e.apply(t,arguments)}}function y(e){var t=this;null!==this._state?ma(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function w(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void k(b(t,e),b(w,this),b(x,this))}this._state=!0,this._value=e,C.call(this)}catch(n){x.call(this,n)}}function x(e){this._state=!1,this._value=e,C.call(this)}function C(){for(var e=0,t=this._deferreds.length;e<t;e++)y.call(this,this._deferreds[e]);this._deferreds=null}function _(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function k(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}function S(t,n){void 0===n&&(n={});var i=0,r={},o=$n.fromDom(t),a=Vn(o),s=n.maxLoadTime||5e3,l=function(e){ai(ti(o),e)},u=function(o,u,c){var d,f,h,p=function(e){h.status=e,h.passed=[],h.failed=[],d&&(d.onload=null,d.onerror=null,d=null)},m=function(){for(var e=h.passed,t=e.length;t--;)e[t]();p(2)},g=function(){for(var e=h.failed,t=e.length;t--;)e[t]();p(3)},v=function(e,t){e()||((new Date).getTime()-x<s?Ia.setTimeout(t):g())},b=function(){v(function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===d.id)return m(),1},b)},y=function(){v(function(){try{var e=f.sheet.cssRules;return m(),e}catch(t){}},y)};if(o=Sn._addCacheSuffix(o),r[o]?h=r[o]:(h={passed:[],failed:[]},r[o]=h),u&&h.passed.push(u),c&&h.failed.push(c),1!==h.status)if(2!==h.status)if(3!==h.status){h.status=1,(d=a.dom().createElement("link")).rel="stylesheet",d.type="text/css",d.id="u"+i++,d.async=!1,d.defer=!1;var w,x=(new Date).getTime();if(n.contentCssCors&&(d.crossOrigin="anonymous"),n.referrerPolicy&&Hi($n.fromDom(d),"referrerpolicy",n.referrerPolicy),"onload"in d&&!((w=e.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(w[1],10)<536))d.onload=b,d.onerror=g;else{if(0<e.navigator.userAgent.indexOf("Firefox"))return(f=a.dom().createElement("style")).textContent='@import "'+o+'"',y(),void l($n.fromDom(f));b()}l($n.fromDom(d)),d.href=o}else g();else m()},c=function(e){return ka(function(t){u(e,_e(t,ke(Ta.value(e))),_e(t,ke(Ta.error(e))))})};return{load:u,loadAll:function(e,t,n){var i;i=Je(e,c),Sa(i,ka).get(function(e){var i=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r)?n:i).push(a)}return{pass:n,fail:i}}(e,function(e){return e.isValue()});0<i.fail.length?n(i.fail.map(Aa)):t(i.pass.map(Aa))})},_setReferrerPolicy:function(e){n.referrerPolicy=e}}}function D(t,n){var r=this;void 0===n&&(n={});var o={},a=e.window,s={},l=0,u=Ra.forElement($n.fromDom(t),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),c=[],d=n.schema?n.schema:i({}),f=Br({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),h=n.ownEvents?new Yr:Yr.Event,p=d.getBlockElements(),m=ua.overrideDefaults(function(){return{context:t,element:U.getRoot()}}),g=function(e){return e&&t&&Le(e)?t.getElementById(e):e},v=function(e){return m("string"==typeof e?g(e):e)},b=function(e,t,n){var i,r,o=v(e);return o.length&&(r=(i=W[t])&&i.get?i.get(o,t):o.attr(t)),void 0===r&&(r=n||""),r},y=function(e){var t=g(e);return t?t.attributes:[]},w=function(e,t,i){""===i&&(i=null);var r=v(e),o=r.attr(t);if(r.length){var a=W[t];a&&a.set?a.set(r,i,t):r.attr(t,i),o!==i&&n.onSetAttrib&&n.onSetAttrib({attrElm:r,attrName:t,attrValue:i})}},x=function(){return n.root_element||t.body},C=function(e,n){return Xi(t.body,g(e),n)},_=function(e,t,n){var i=v(e);return n?i.css(t):("float"===(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}))&&(t=wn.browser.isIE()?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[t]:void 0)},k=function(e){var t,n;return e=g(e),t=_(e,"width"),n=_(e,"height"),-1===t.indexOf("px")&&(t=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},S=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Ha.test(t)){var i=t.toLowerCase().split(/,/),r=e.nodeName.toLowerCase();for(n=i.length-1;0<=n;n--)if(i[n]===r)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var o=Array.isArray(e)?e:[e];return 0<Oo(t,o[0].ownerDocument||o[0],null,o).length},$=function(e,t,n,i){var r,o=[],a=g(e);for(i=void 0===i,n=n||("BODY"!==x().nodeName?x().parentNode:null),Sn.is(t,"string")&&(t="*"===(r=t)?function(e){return 1===e.nodeType}:function(e){return S(e,r)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!i)return[a];o.push(a)}a=a.parentNode}return i?o:null},T=function(e,t,n){var i=t;if(e)for("string"==typeof t&&(i=function(e){return S(e,t)}),e=e[n];e;e=e[n])if("function"==typeof i&&i(e))return e;return null},E=function(e,t,n){var i,o="string"==typeof e?g(e):e;if(!o)return!1;if(Sn.isArray(o)&&(o.length||0===o.length))return i=[],La(o,function(e,r){e&&("string"==typeof e&&(e=g(e)),i.push(t.call(n,e,r)))}),i;var a=n||r;return t.call(a,o)},A=function(e,t){v(e).each(function(e,n){La(t,function(e,t){w(n,t,e)})})},O=function(e,t){var n=v(e);Fa?n.each(function(e,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(i){ua("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},M=function(e,n,i,r,o){return E(e,function(e){var a="string"==typeof n?t.createElement(n):n;return A(a,i),r&&("string"!=typeof r&&r.nodeType?a.appendChild(r):"string"==typeof r&&O(a,r)),o?a:e.appendChild(a)})},N=function(e,n,i){return M(t.createElement(e),e,n,i,!0)},P=kr.decode,I=kr.encodeAllRaw,R=function(e,t){var n=v(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),1<n.length?n.toArray():n[0]},L=function(e,t,n){v(e).toggleClass(t,n).each(function(){""===this.className&&ua(this).attr("class",null)})},B=function(e,t,n){return E(t,function(t){return Sn.is(t,"array")&&(e=e.cloneNode(!0)),n&&La(Ba(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},F=function(e){if(_i(e)){var t="a"===e.nodeName.toLowerCase()&&!b(e,"href")&&b(e,"id");if(b(e,"name")||b(e,"data-mce-bookmark")||t)return!0}return!1},H=function(){return t.createRange()},j=function(e,i,r,o){if(Sn.isArray(e)){for(var s=e.length,l=[];s--;)l[s]=j(e[s],i,r,o);return l}return!n.collect||e!==t&&e!==a||c.push([e,i,r,o]),h.bind(e,i,r,o||U)},V=function(e,n,i){var r;if(Sn.isArray(e)){r=e.length;for(var o=[];r--;)o[r]=V(e[r],n,i);return o}if(0<c.length&&(e===t||e===a))for(r=c.length;r--;){var s=c[r];e!==s[0]||n&&n!==s[1]||i&&i!==s[2]||h.unbind(s[0],s[1],s[2])}return h.unbind(e,n,i)},z=function(e){if(e&&_i(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},U={doc:t,settings:n,win:a,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:u,boundEvents:c,styles:f,schema:d,events:h,isBlock:function(e){if("string"==typeof e)return!!p[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!p[e.nodeName])}return!1},$:m,$$:v,root:null,clone:function(e,n){if(!Fa||1!==e.nodeType||n)return e.cloneNode(n);var i=t.createElement(e.nodeName);return La(y(e),function(t){w(i,t.nodeName,b(e,t.nodeName))}),i},getRoot:x,getViewPort:function(e){var t=wi(e);return{x:t.x,y:t.y,w:t.width,h:t.height}},getRect:function(e){e=g(e);var t=C(e),n=k(e);return{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:k,getParent:function(e,t,n){var i=$(e,t,n,!1);return i&&0<i.length?i[0]:null},getParents:$,get:g,getNext:function(e,t){return T(e,t,"nextSibling")},getPrev:function(e,t){return T(e,t,"previousSibling")},select:function(e,i){return Oo(e,g(i)||n.root_element||t,[])},is:S,add:M,create:N,createHTML:function(e,t,n){var i,r="";for(i in r+="<"+e,t)t.hasOwnProperty(i)&&null!==t[i]&&"undefined"!=typeof t[i]&&(r+=" "+i+'="'+I(t[i])+'"');return void 0!==n?r+">"+n+"</"+e+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(r.appendChild(i),e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r.removeChild(i),r},remove:R,setStyle:function(e,t,i){var r=Le(t)?v(e).css(t,i):v(e).css(t);n.update_styles&&za(f,r)},getStyle:_,setStyles:function(e,t){var i=v(e).css(t);n.update_styles&&za(f,i)},removeAllAttribs:function(e){return E(e,function(e){var t,n=e.attributes;for(t=n.length-1;0<=t;t--)e.removeAttributeNode(n.item(t))})},setAttrib:w,setAttribs:A,getAttrib:b,getPos:C,parseStyle:function(e){return f.parse(e)},serializeStyle:function(e,t){return f.serialize(e,t)},addStyle:function(n){var i,r;if(U!==D.DOM&&t===e.document){if(o[n])return;o[n]=!0}(r=t.getElementById("mceDefaultStyles"))||((r=t.createElement("style")).id="mceDefaultStyles",r.type="text/css",(i=t.getElementsByTagName("head")[0]).firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=n:r.appendChild(t.createTextNode(n))},loadCSS:function(i){if(U===D.DOM||t!==e.document){i=i||"";var r=t.getElementsByTagName("head")[0];La(i.split(","),function(e){if(e=Sn._addCacheSuffix(e),!s[e]){s[e]=!0;var t=N("link",Mt(Mt({rel:"stylesheet",type:"text/css",href:e},n.contentCssCors?{crossOrigin:"anonymous"}:{}),n.referrerPolicy?{referrerPolicy:n.referrerPolicy}:{}));r.appendChild(t)}})}else D.DOM.loadCSS(i)},addClass:function(e,t){v(e).addClass(t)},removeClass:function(e,t){L(e,t,!1)},hasClass:function(e,t){return v(e).hasClass(t)},toggleClass:L,show:function(e){v(e).show()},hide:function(e){v(e).hide()},isHidden:function(e){return"none"===v(e).css("display")},uniqueId:function(e){return(e||"mce_")+l++},setHTML:O,getOuterHTML:function(e){var t="string"==typeof e?g(e):e;return _i(t)?t.outerHTML:ua("<div></div>").append(ua(t).clone()).html()},setOuterHTML:function(e,t){
v(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}R(ua(this).html(t),!0)})},decode:P,encode:I,insertAfter:function(e,t){var n=g(t);return E(e,function(e){var t=n.parentNode,i=n.nextSibling;return i?t.insertBefore(e,i):t.appendChild(e),e})},replace:B,rename:function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=N(t),La(y(e),function(t){w(n,t.nodeName,b(e,t.nodeName))}),B(n,e,!0)),n||e},findCommonAncestor:function(e,t){for(var n,i=e;i;){for(n=t;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&e.ownerDocument?e.ownerDocument.documentElement:i},toHex:function(e){return f.toHex(Sn.trim(e))},run:E,getAttribs:y,isEmpty:function(e,t){var n,i,r=0;if(F(e))return!1;if(e=e.firstChild){var o=new ca(e,e.parentNode),a=d?d.getWhiteSpaceElements():{};t=t||(d?d.getNonEmptyElements():null);do{if(n=e.nodeType,_i(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=o.next("all"===s);continue}if(i=e.nodeName.toLowerCase(),t&&t[i]){if("br"!==i)return!1;r++,e=o.next();continue}if(F(e))return!1}if(8===n)return!1;if(3===n&&!ja.test(e.nodeValue))return!1;if(3===n&&e.parentNode&&a[e.parentNode.nodeName]&&ja.test(e.nodeValue))return!1;e=o.next()}while(e)}return r<=1},createRng:H,nodeIndex:Ua,split:function(e,t,n){var i,r,o,a=H();if(e&&t)return a.setStart(e.parentNode,Ua(e)),a.setEnd(t.parentNode,Ua(t)),i=a.extractContents(),(a=H()).setStart(t.parentNode,Ua(t)+1),a.setEnd(e.parentNode,Ua(e)+1),r=a.extractContents(),(o=e.parentNode).insertBefore(cr(U,i),e),n?o.insertBefore(n,e):o.insertBefore(t,e),o.insertBefore(cr(U,r),e),R(e),n||t},bind:j,unbind:V,fire:function(e,t,n){return h.fire(e,t,n)},getContentEditable:z,getContentEditableParent:function(e){for(var t=x(),n=null;e&&e!==t&&null===(n=z(e));e=e.parentNode);return n},destroy:function(){if(0<c.length)for(var e=c.length;e--;){var t=c[e];h.unbind(t[0],t[1],t[2])}Oo.setDocument&&Oo.setDocument()},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset}},W=Va(f,n,function(){return U});return U}function $(e){void 0===e&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}function T(){var e=this,t=[],n={},i={},r=[],o=function(e,t){var n=et(r,function(n){return n.name===e&&n.state===t});Ze(n,function(e){return e.callback()})},a=function(e){var t;return i[e]&&(t=i[e].dependencies),t||[]},s=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},l=function(e,t,r,u,c){if(!n[e]){var d="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==d.indexOf("/")&&-1===d.indexOf("://")&&(d=T.baseURL+"/"+d),n[e]=d.substring(0,d.lastIndexOf("/"));var f=function(){var n,i,c,d;o(e,"loaded"),n=t,i=r,c=u,d=a(e),Ze(d,function(e){var t=s(n,e);l(t.resource,t,void 0,void 0)}),i&&(c?i.call(c):i.call(Xa))};i[e]?f():Xa.ScriptLoader.add(d,f,u,c)}},u=function(e,t,o){void 0===o&&(o="added"),_t(i,e)&&"added"===o||_t(n,e)&&"loaded"===o?t():r.push({name:e,state:o,callback:t})};return{items:t,urls:n,lookup:i,_listeners:r,get:function(e){return i[e]?i[e].instance:void 0},dependencies:a,requireLangPack:function(e,t){!1!==T.languageLoad&&u(e,function(){var i=ts.getCode();!i||t&&-1===(","+(t||"")+",").indexOf(","+i+",")||Xa.ScriptLoader.add(n[e]+"/langs/"+i+".js")},"loaded")},add:function(e,n,r){var a=n;return t.push(a),i[e]={instance:a,dependencies:r},o(e,"added"),a},remove:function(e){delete n[e],delete i[e]},createUrl:s,addComponents:function(t,n){var i=e.urls[t];Ze(n,function(e){Xa.ScriptLoader.add(i+"/"+e)})},load:l,waitFor:u}}function E(e,t,n,i,r){return e(n,i)?Ne.some(n):ze(r)&&r(n)?Ne.none():t(n,i,r)}function A(e,t,n){var i=function(){return n=n||Rl(A(e,t))};return{container:ke(e),offset:ke(t),toRange:function(){var n=El(e.ownerDocument);return n.setStart(e,t),n.setEnd(e,t),n},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return Sl(e),0===t},isAtEnd:function(){return Sl(e)?t>=e.data.length:t>=e.childNodes.length},isEqual:function(n){return n&&e===n.container()&&t===n.offset()},getNode:function(n){return Tl(e,n?t-1:t)}}}function O(e,t){this.name=e,1===(this.type=t)&&(this.attributes=[],this.attributes.map={})}function M(e,t){void 0===t&&(t=i());var n=function(){};!1!==(e=e||{}).fix_self_closing&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,a=e.text?e.text:n,s=e.start?e.start:n,l=e.end?e.end:n,u=e.pi?e.pi:n,c=e.doctype?e.doctype:n,d=function(n,i){void 0===i&&(i="html");for(var d,f,h,p,m,g,v,b,y,w,x,C,_,k,S,D,$,T,E,A=n.html,O=0,M=[],N=0,P=kr.decode,I=Sn.makeMap("src,href,data,background,formaction,poster,xlink:href"),R=/((java|vb)script|mhtml):/i,L="html"===i?0:1,B=function(e){var t,n;for(t=M.length;t--&&M[t].name!==e;);if(0<=t){for(n=M.length-1;t<=n;n--)(e=M[n]).valid&&l(e.name);M.length=t}},F=function(e,t){return a(Yd(e,n),t)},H=function(t){""!==t&&(">"===t.charAt(0)&&(t=" "+t),e.allow_conditional_comments||"[if"!==t.substr(0,3).toLowerCase()||(t=" "+t),r(Yd(t,n)))},j=function(e,t){var n=e||"",i=!Jt(n,"--"),r=function(e,t,n){void 0===n&&(n=0);var i=e.toLowerCase();if(-1!==i.indexOf("[if ",n)&&(s=n,/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(i.substr(s)))){var r=i.indexOf("[endif]",n);return i.indexOf(">",r)}if(t){var o=i.indexOf(">",n);return-1!==o?o:i.length}var a=/--!?>/;a.lastIndex=n;var s,l=a.exec(e);return l?l.index+l[0].length:i.length}(A,i,t);return e=A.substr(t,r-t),H(i?n+e:e),r+1},V=(function(t,i,r,o,a){var s,l,u,c,d,f;if(i=i.toLowerCase(),u=i in Y?i:P(r||o||a||""),r=Ct(n.uris,u).getOr(u),G&&!b&&0==(0===(c=i).indexOf("data-")||0===c.indexOf("aria-"))){if(!(s=k[i])&&S){for(l=S.length;l--&&!(s=S[l]).pattern.test(i););-1===l&&(s=null)}if(!s)return;if(s.validValues&&!(r in s.validValues))return}if(I[i]&&!e.allow_script_urls){var h=r.replace(/[\s\u0000-\u001F]+/g,"");try{h=decodeURIComponent(h)}catch(m){h=unescape(h)}if(R.test(h))return;if(f=h,!(d=e).allow_html_data_urls&&(/^data:image\//i.test(f)?!1===d.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(f):/^data:/i.test(f)))return}b&&(i in I||0===i.indexOf("on"))||(p.map[i]=r,p.push({name:i,value:r}))}),z=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),U=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,W=t.getShortEndedElements(),q=e.self_closing_elements||t.getSelfClosingElements(),Y=t.getBoolAttrs(),G=e.validate,K=e.remove_internals,X=e.fix_self_closing,J=t.getSpecialElements(),Z=A+">";d=z.exec(Z);){var Q=d[0];if(O<d.index&&F(P(A.substr(O,d.index-O))),f=d[7])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),B(f);else if(f=d[8]){if(d.index+Q.length>A.length){F(P(A.substr(d.index))),O=d.index+Q.length;continue}":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),y=f in W,X&&q[f]&&0<M.length&&M[M.length-1].name===f&&B(f);var ee=Kd(U,d[9]);if(null!==ee){if("all"===ee){O=Gd(t,A,z.lastIndex),z.lastIndex=O;continue}x=!1}if(!G||(w=t.getElementRule(f))){if(x=!0,G&&(k=w.attributes,S=w.attributePatterns),(_=d[9])?((b=-1!==_.indexOf("data-mce-type"))&&K&&(x=!1),(p=[]).map={},_.replace(U,V)):(p=[]).map={},G&&!b){if(D=w.attributesRequired,$=w.attributesDefault,T=w.attributesForced,w.removeEmptyAttrs&&!p.length&&(x=!1),T)for(m=T.length;m--;)v=(C=T[m]).name,"{$uid}"===(E=C.value)&&(E="mce_"+N++),p.map[v]=E,p.push({name:v,value:E});if($)for(m=$.length;m--;)(v=(C=$[m]).name)in p.map||("{$uid}"===(E=C.value)&&(E="mce_"+N++),p.map[v]=E,p.push({name:v,value:E}));if(D){for(m=D.length;m--&&!(D[m]in p.map););-1===m&&(x=!1)}if(C=p.map["data-mce-bogus"]){if("all"===C){O=Gd(t,A,z.lastIndex),z.lastIndex=O;continue}x=!1}}x&&s(f,p,y)}else x=!1;if(h=J[f]){h.lastIndex=O=d.index+Q.length,O=(d=h.exec(A))?(x&&(g=A.substr(O,d.index-O)),d.index+d[0].length):(g=A.substr(O),A.length),x&&(0<g.length&&F(g,!0),l(f)),z.lastIndex=O;continue}y||(_&&_.indexOf("/")===_.length-1?x&&l(f):M.push({name:f,valid:x}))}else if(f=d[1])H(f);else if(f=d[2]){if(!(1==L||e.preserve_cdata||0<M.length&&t.isValidChild(M[M.length-1].name,"#cdata"))){O=j("",d.index+2),z.lastIndex=O;continue}o(f)}else if(f=d[3])c(f);else{if((f=d[4])||"<!"===Q){O=j(f,d.index+Q.length),z.lastIndex=O;continue}if(f=d[5]){if(1!=L){O=j("?",d.index+2),z.lastIndex=O;continue}u(f,d[6])}}O=d.index+Q.length}for(O<A.length&&F(P(A.substr(O))),m=M.length-1;0<=m;m--)(f=M[m]).valid&&l(f.name)};return{parse:function(e,t){void 0===t&&(t="html"),d(function(e){for(var t,n=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,i=[],r={},o=Ts("img"),a=0,s=0;t=n.exec(e);){var l=t[0],u=o+"_"+s++;r[u]=l,a<t.index&&i.push(e.substr(a,t.index-a)),i.push(u),a=t.index+l.length}return 0===a?{prefix:o,uris:r,html:e}:(a<e.length&&i.push(e.substr(a)),{prefix:o,uris:r,html:i.join("")})}(e),t)}}}function N(e){var t,n=[],i=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}()},r=function(){0<n.length&&i().reposition(n)},o=function(e){rt(n,function(t){return t===e}).each(function(e){n.splice(e,1)})},a=function(t){if(!e.removed&&Og(e))return it(n,function(e){return n=i().getArgs(e),r=t,!(n.type!==r.type||n.text!==r.text||n.progressBar||n.timeout||r.progressBar||r.timeout);var n,r}).getOrThunk(function(){e.editorManager.setActive(e);var a,s=i().open(t,function(){o(s),r()});return a=s,n.push(a),r(),s})};return(t=e).on("SkinLoaded",function(){var e=t.getParam("service_message");e&&a({text:e,type:"warning",timeout:0})}),t.on("ResizeEditor ResizeWindow NodeChange",function(){Ia.requestAnimationFrame(r)}),t.on("remove",function(){Ze(n.slice(),function(e){i().close(e)})}),{open:a,close:function(){Ne.from(n[0]).each(function(e){i().close(e),o(e),r()})},getNotifications:function(){return n}}}function P(e){return{getBookmark:t(Hc,e),moveToBookmark:t(jc,e)}}function I(e,t){var n={};return{findAll:function(i,r){r=r||ke(!0);var o,a=et((o=i)?dt(o.getElementsByTagName("img")):[],function(t){var n=t.src;return!!wn.fileApi&&!t.hasAttribute("data-mce-bogus")&&!t.hasAttribute("data-mce-placeholder")&&!(!n||n===wn.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&r(t):0===n.indexOf("data:")&&r(t))}),s=Je(a,function(e){if(void 0!==n[e.src])return new Oa(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})});var i=new Oa(function(n,i){qv(t,e,n,i)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t});return n[e.src]=i});return Oa.all(s)}}}function R(t,n){var i={},r=function(t,i,r,o){var a=new e.XMLHttpRequest;a.open("POST",n.url),a.withCredentials=n.credentials,a.upload.onprogress=function(e){o(e.loaded/e.total*100)},a.onerror=function(){r("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){if(a.status<200||300<=a.status)r("HTTP Error: "+a.status);else{var e,t,o=JSON.parse(a.responseText);o&&"string"==typeof o.location?i((e=n.basePath,t=o.location,e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t)):r("Invalid JSON: "+a.responseText)}};var s=new e.FormData;s.append("file",t.blob(),t.filename()),a.send(s)},o=function(e,t){return{url:t,blobInfo:e,status:!0}},a=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){Sn.each(i[e],function(e){e(t)}),delete i[e]},l=function(e,r){return e=Sn.grep(e,function(e){return!t.isUploaded(e.blobUri())}),Oa.all(Sn.map(e,function(e){return t.isPending(e.blobUri())?(d=e.blobUri(),new Oa(function(e){i[d]=i[d]||[],i[d].push(e)})):(l=e,u=n.handler,c=r,t.markPending(l.blobUri()),new Oa(function(e){var n;try{var i=function(){n&&n.close()};u(l,function(n){i(),t.markUploaded(l.blobUri(),n),s(l.blobUri(),o(l,n)),e(o(l,n))},function(n){i(),t.removeFailed(l.blobUri()),s(l.blobUri(),a(l,n)),e(a(l,n))},function(e){e<0||100<e||(n=n||c()).progressBar.value(e)})}catch(r){e(a(l,r.message))}}));var l,u,c,d}))};return!1===ze(n.handler)&&(n.handler=r),{upload:function(e,t){return n.url||n.handler!==r?l(e,t):new Oa(function(e){e([])})}}}function L(e){var t,n,i={},r=function(e,t){e&&("string"!=typeof e?Sn.each(e,function(e,t){r(t,e)}):(Fe(t)||(t=[t]),Sn.each(t,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),i[e]=t))};return r((t=e.dom,n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){Sn.each(i,function(n,i){t.setAttrib(e,i,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]},Sn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){n[e]={block:e,remove:"all"}}),n)),r(e.getParam("formats")),{get:function(e){return e?i[e]:i},has:function(e){return _t(i,e)},register:r,unregister:function(e){return e&&i[e]&&delete i[e],i}}}function B(e){var t;this.lastPath=[],this.editor=e;var n=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(n){var i=e.selection.getRng(),r={startContainer:i.startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset};"nodechange"!==n.type&&gv(r,t)||e.fire("SelectionChange"),t=r}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!wn.range&&e.selection.isCollapsed()||Td(e)&&!n.isSameElementPath(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(t){!t.isDefaultPrevented()&&Td(e)&&("IMG"===e.selection.getNode().nodeName?Ia.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}function F(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}function H(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Te}function j(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var t=this;e.on("keyup keypress keydown",function(e){!t.hasModifier(e)&&!t.isFunctionKey(e)||e.isDefaultPrevented()||(Mk(t.shortcuts,function(n){if(t.matchShortcut(e,n))return t.pendingPatterns=n.subpatterns.slice(0),"keydown"===e.type&&t.executeShortcutAction(n),!0}),t.matchShortcut(e,t.pendingPatterns[0])&&(1===t.pendingPatterns.length&&"keydown"===e.type&&t.executeShortcutAction(t.pendingPatterns[0]),t.pendingPatterns.shift()))})}function V(t,n){t=Fk(t),this.settings=n||{};var i=this.settings.base_uri,r=this;if(/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var o=0===t.indexOf("//");if(0!==t.indexOf("/")||o||(t=(i&&i.protocol||"http")+"://mce_host"+t),!/^[\w\-]*:?\/\//.test(t)){var a=this.settings.base_uri?this.settings.base_uri.path:new V(e.document.location.href).directory;if(this.settings.base_uri&&""==this.settings.base_uri.protocol)t="//mce_host"+r.toAbsPath(a,t);else{var s=/([^#?]*)([#?]?.*)/.exec(t);t=(i&&i.protocol||"http")+"://mce_host"+r.toAbsPath(a,s[1])+s[2]}}t=t.replace(/@@/g,"(mce_at)");var l=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t);Bk(Hk,function(e,t){var n=l[t];n=n&&n.replace(/\(mce_at\)/g,"@@"),r[e]=n}),i&&(r.protocol||(r.protocol=i.protocol),r.userInfo||(r.userInfo=i.userInfo),r.port||"mce_host"!==r.host||(r.port=i.port),r.host&&"mce_host"!==r.host||(r.host=i.host),r.source=""),o&&(r.protocol="")}}function z(e,t,n){var i=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=n,this.documentBaseUrl=n.documentBaseURL,Uk(this,Tk),this.settings=wg(this,e,this.documentBaseUrl,n.defaultSettings,t),this.settings.suffix&&(n.suffix=this.settings.suffix),this.suffix=n.suffix,this.settings.base_url&&n._setBaseUrl(this.settings.base_url),this.baseUri=n.baseURI,this.settings.referrer_policy&&(Xa.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),qa.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),is.languageLoad=this.settings.language_load,is.baseURL=n.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new Vk(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new Rk(this),this.editorCommands=new fk(this),this.settings.cache_suffix&&(wn.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:Lk(),styleSheetLoader:void 0};var r=Ok(this);this.mode=r,this.setMode=r.set,n.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=ua.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})}function U(e){return{walk:function(t,n){return yd(e,t,n)},split:bp,normalize:function(t){return _v(e,t).fold(ke(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})}}}function W(e){this.settings=AS({},e),this.count=0}var q,Y,G,K,X,J,Z,Q,ee,te,ne,ie,re,oe,ae,se,le,ue,ce,de,fe,he,pe,me=function(e){if(null===e)return"null";if(void 0===e)return"undefined";var t=typeof e;return"object"==t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"==t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},ge=function(e){return{eq:e}},ve=ge(function(e,t){return e===t}),be=function(e){return ge(function(t,n){if(t.length!==n.length)return!1;for(var i=t.length,r=0;r<i;r++)if(!e.eq(t[r],n[r]))return!1;return!0})},ye=function(e,t){return n=be(e),i=function(e){return n=e,i=t,Array.prototype.slice.call(n).sort(i);var n,i},ge(function(e,t){return n.eq(i(e),i(t))});var n,i},we=function(e){return ge(function(t,n){var i=Object.keys(t),r=Object.keys(n);if(!ye(ve).eq(i,r))return!1;for(var o=i.length,a=0;a<o;a++){var s=i[a];if(!e.eq(t[s],n[s]))return!1}return!0})},xe=ge(function(e,t){if(e===t)return!0;var n=me(e);return n===me(t)&&(-1!==["undefined","boolean","number","string","function","xml","null"].indexOf(n)?e===t:"array"===n?be(xe).eq(e,t):"object"===n&&we(xe).eq(e,t))}),Ce=function(){},_e=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,n))}},ke=function(e){return function(){return e}},Se=function(e){return e},De=function(e){return function(t){return!e(t)}},$e=function(e){return function(){throw new Error(e)}},Te=ke(!1),Ee=ke(!0),Ae=function(){return Oe},Oe=(q=function(e){return e.isNone()},{fold:function(e,t){return e()},is:Te,isSome:Te,isNone:Ee,getOr:G=function(e){return e},getOrThunk:Y=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ke(null),getOrUndefined:ke(void 0),or:G,orThunk:Y,map:Ae,each:Ce,bind:Ae,exists:Te,forall:Ee,filter:Ae,equals:q,equals_:q,toArray:function(){return[]},toString:ke("none()")}),Me=function(e){var t=ke(e),n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ee,isNone:Te,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return Me(t(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?r:Oe},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(Te,function(t){return n(e,t)})}};return r},Ne={some:Me,none:Ae,from:function(e){return null===e||void 0===e?Oe:Me(e)}},Pe=function(e){return function(t){return i=typeof(n=t),(null===n?"null":"object"==i&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==i&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":i)===e;var n,i}},Ie=function(e){return function(t){return typeof t===e}},Re=function(e){return function(t){return e===t}},Le=Pe("string"),Be=Pe("object"),Fe=Pe("array"),He=Re(null),je=Ie("boolean"),Ve=Re(void 0),ze=Ie("function"),Ue=Ie("number"),We=Array.prototype.slice,qe=Array.prototype.indexOf,Ye=Array.prototype.push,Ge=function(e,t){return qe.call(e,t)},Ke=function(e,t){return-1<Ge(e,t)},Xe=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return!0;return!1},Je=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},Ze=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},Qe=function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)},et=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},tt=function(e,t,n){return Qe(e,function(e){n=t(n,e)}),n},nt=function(e,t,n){return Ze(e,function(e){n=t(n,e)}),n},it=function(e,t){return function(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(t(o,i))return Ne.some(o);if(n(o,i))break}return Ne.none()}(e,t,Te)},rt=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return Ne.some(n);return Ne.none()},ot=function(e,t){return function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!Fe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ye.apply(t,e[n])}return t}(Je(e,t))},at=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n))return!1;return!0},st=function(e){var t=We.call(e,0);return t.reverse(),t},lt=function(e,t){return et(e,function(e){return!Ke(t,e)})},ut=function(e){return 0===e.length?Ne.none():Ne.some(e[0])},ct=function(e){return 0===e.length?Ne.none():Ne.some(e[e.length-1])},dt=ze(Array.from)?Array.from:function(e){return We.call(e)},ft=Object.keys,ht=Object.hasOwnProperty,pt=function(e,t){for(var n=ft(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},mt=function(e,t){return gt(e,function(e,n){return{k:n,v:t(e,n)}})},gt=function(e,t){var n={};return pt(e,function(e,i){var r=t(e,i);n[r.k]=r.v}),n},vt=function(e){return function(t,n){e[n]=t}},bt=function(e,t,n,i){return pt(e,function(e,r){(t(e,r)?n:i)(e,r)}),{}},yt=function(e,t){var n={},i={};return bt(e,t,vt(n),vt(i)),{t:n,f:i}},wt=function(e,t){var n={};return bt(e,t,vt(n),Ce),n},xt=function(e){return t=function(e){return e},n=[],pt(e,function(e,i){n.push(t(e,i))}),n;var t,n},Ct=function(e,t){return _t(e,t)?Ne.from(e[t]):Ne.none()},_t=function(e,t){return ht.call(e,t)},kt=Array.isArray,St=function(e,t,n){var i,r;if(!e)return 0;if(n=n||e,void 0!==e.length){for(i=0,r=e.length;i<r;i++)if(!1===t.call(n,e[i],i,e))return 0}else for(i in e)if(e.hasOwnProperty(i)&&!1===t.call(n,e[i],i,e))return 0;return 1},Dt=function(e,t){var n=[];return St(e,function(i,r){n.push(t(i,r,e))}),n},$t=function(e,t){var n=[];return St(e,function(i,r){t&&!t(i,r,e)||n.push(i)}),n},Tt=function(e,t){var n,i;if(e)for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},Et=function(e,t,n,i){var r=0;for(arguments.length<3&&(n=e[0]);r<e.length;r++)n=t.call(i,n,e[r],r);return n},At=function(e,t,n){var i,r;for(i=0,r=e.length;i<r;i++)if(t.call(n,e[i],i,e))return i;return-1},Ot=function(e){return e[e.length-1]},Mt=function(){return(Mt=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},Nt=function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return It(i(1),i(2))},Pt=function(){return It(0,0)},It=function(e,t){return{major:e,minor:t}},Rt={nu:It,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Pt():Nt(e,n)},unknown:Pt},Lt="Firefox",Bt=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:i("Edge"),isChrome:i("Chrome"),isIE:i("IE"),isOpera:i("Opera"),isFirefox:i(Lt),isSafari:i("Safari")}},Ft={unknown:function(){return Bt({current:void 0,version:Rt.unknown()})},nu:Bt,edge:ke("Edge"),chrome:ke("Chrome"),ie:ke("IE"),opera:ke("Opera"),firefox:ke(Lt),safari:ke("Safari")},Ht="Windows",jt="Android",Vt="Solaris",zt="FreeBSD",Ut="ChromeOS",Wt=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:i(Ht),isiOS:i("iOS"),isAndroid:i(jt),isOSX:i("OSX"),isLinux:i("Linux"),isSolaris:i(Vt),isFreeBSD:i(zt),isChromeOS:i(Ut)}},qt={unknown:function(){return Wt({current:void 0,version:Rt.unknown()})},nu:Wt,windows:ke(Ht),ios:ke("iOS"),android:ke(jt),linux:ke("Linux"),osx:ke("OSX"),solaris:ke(Vt),freebsd:ke(zt),chromeos:ke(Ut)},Yt=function(e,t){var n=String(t).toLowerCase();return it(e,function(e){return e.search(n)})},Gt=function(e,t){return Yt(e,t).map(function(e){var n=Rt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Kt=function(e,t){return Yt(e,t).map(function(e){var n=Rt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Xt=function(e,t){return-1!==e.indexOf(t)},Jt=function(e,t){return n=e,r=0,""===(i=t)||n.length>=i.length&&n.substr(r,r+i.length)===i;var n,i,r},Zt=function(e){return function(t){return t.replace(e,"")}},Qt=Zt(/^\s+|\s+$/g),en=Zt(/^\s+/g),tn=Zt(/\s+$/g),nn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,rn=function(e){return function(t){return Xt(t,e)}},on=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return Xt(e,"edge/")&&Xt(e,"chrome")&&Xt(e,"safari")&&Xt(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nn],search:function(e){return Xt(e,"chrome")&&!Xt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Xt(e,"msie")||Xt(e,"trident")}},{name:"Opera",versionRegexes:[nn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:rn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:rn("firefox")},{name:"Safari",versionRegexes:[nn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Xt(e,"safari")||Xt(e,"mobile/"))&&Xt(e,"applewebkit")}}],an=[{name:"Windows",search:rn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Xt(e,"iphone")||Xt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:rn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:rn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:rn("linux"),versionRegexes:[]},{name:"Solaris",search:rn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:rn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:rn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],sn={browsers:ke(on),oses:ke(an)},ln=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p=sn.browsers(),m=sn.oses(),g=Gt(p,e).fold(Ft.unknown,Ft.nu),v=Kt(m,e).fold(qt.unknown,qt.nu);return{browser:g,os:v,deviceType:(i=g,r=e,o=t,a=(n=v).isiOS()&&!0===/ipad/i.test(r),s=n.isiOS()&&!a,l=n.isiOS()||n.isAndroid(),u=l||o("(pointer:coarse)"),c=a||!s&&l&&o("(min-device-width:768px)"),d=s||l&&!c,f=i.isSafari()&&n.isiOS()&&!1===/safari/i.test(r),h=!d&&!c&&!f,{isiPad:ke(a),isiPhone:ke(s),isTablet:ke(c),isPhone:ke(d),isTouch:ke(u),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:ke(f),isDesktop:ke(h)})}},un=function(t){return e.window.matchMedia(t).matches},cn=(J=!(K=function(){return ln(e.navigator.userAgent,un)}),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return J||(J=!0,X=K.apply(null,e)),X}),dn=function(){return cn()},fn=e.navigator.userAgent,hn=dn(),pn=hn.browser,mn=hn.os,gn=hn.deviceType,vn=/WebKit/.test(fn)&&!pn.isEdge(),bn="FormData"in e.window&&"FileReader"in e.window&&"URL"in e.window&&!!e.URL.createObjectURL,yn=-1!==fn.indexOf("Windows Phone"),wn={opera:pn.isOpera(),webkit:vn,ie:!(!pn.isIE()&&!pn.isEdge())&&pn.version.major,gecko:pn.isFirefox(),mac:mn.isOSX()||mn.isiOS(),iOS:gn.isiPad()||gn.isiPhone(),android:mn.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:e.window.getSelection&&"Range"in e.window,documentMode:pn.isIE()?e.document.documentMode||7:10,fileApi:bn,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!pn.isIE(),desktop:gn.isDesktop(),windowsPhone:yn,browser:{current:pn.current,version:pn.version,isChrome:pn.isChrome,isEdge:pn.isEdge,
isFirefox:pn.isFirefox,isIE:pn.isIE,isOpera:pn.isOpera,isSafari:pn.isSafari},os:{current:mn.current,version:mn.version,isAndroid:mn.isAndroid,isChromeOS:mn.isChromeOS,isFreeBSD:mn.isFreeBSD,isiOS:mn.isiOS,isLinux:mn.isLinux,isOSX:mn.isOSX,isSolaris:mn.isSolaris,isWindows:mn.isWindows},deviceType:{isDesktop:gn.isDesktop,isiPad:gn.isiPad,isiPhone:gn.isiPhone,isPhone:gn.isPhone,isTablet:gn.isTablet,isTouch:gn.isTouch,isWebView:gn.isWebView}},xn=/^\s*|\s*$/g,Cn=function(e){return null===e||void 0===e?"":(""+e).replace(xn,"")},_n=function(e,t){return t?!("array"!==t||!kt(e))||typeof e===t:void 0!==e},kn=function(e,t,n,i){i=i||this,e&&(n&&(e=e[n]),St(e,function(e,r){return!1!==t.call(i,e,r,n)&&void kn(e,t,n,i)}))},Sn={trim:Cn,isArray:kt,is:_n,toArray:function(e){var t,n,i=e;if(!kt(e))for(i=[],t=0,n=e.length;t<n;t++)i[t]=e[t];return i},makeMap:function(e,t,n){var i;for(t=t||",","string"==typeof(e=e||[])&&(e=e.split(t)),n=n||{},i=e.length;i--;)n[e[i]]={};return n},each:St,map:Dt,grep:$t,inArray:Tt,hasOwn:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},extend:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var i=0;i<t.length;i++){var r=t[i];for(var o in r)if(r.hasOwnProperty(o)){var a=r[o];void 0!==a&&(e[o]=a)}}return e},create:function(e,t,n){var i,r,o,a=this,s=0,l=(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e))[3].match(/(^|\.)(\w+)$/i)[2],u=a.createNS(e[3].replace(/\.\w+$/,""),n);if(!u[l]){if("static"===e[2])return u[l]=t,void(this.onCreate&&this.onCreate(e[2],e[3],u[l]));t[l]||(t[l]=function(){},s=1),u[l]=t[l],a.extend(u[l].prototype,t),e[5]&&(i=a.resolve(e[5]).prototype,r=e[5].match(/\.(\w+)$/i)[1],o=u[l],u[l]=s?function(){return i[r].apply(this,arguments)}:function(){return this.parent=i[r],o.apply(this,arguments)},u[l].prototype[l]=u[l],a.each(i,function(e,t){u[l].prototype[t]=i[t]}),a.each(t,function(e,t){i[t]?u[l].prototype[t]=function(){return this.parent=i[t],e.apply(this,arguments)}:t!==l&&(u[l].prototype[t]=e)})),a.each(t["static"],function(e,t){u[l][t]=e})}},walk:kn,createNS:function(t,n){var i,r;for(n=n||e.window,t=t.split("."),i=0;i<t.length;i++)n[r=t[i]]||(n[r]={}),n=n[r];return n},resolve:function(t,n){var i,r;for(n=n||e.window,i=0,r=(t=t.split(".")).length;i<r&&(n=n[t[i]]);i++);return n},explode:function(e,t){return!e||_n(e,"array")?e:Dt(e.split(t||","),Cn)},_addCacheSuffix:function(e){var t=wn.cacheSuffix;return t&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}},Dn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ke(e)}},$n={fromHtml:function(t,n){var i=(n||e.document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||1<i.childNodes.length)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Dn(i.childNodes[0])},fromTag:function(t,n){var i=(n||e.document).createElement(t);return Dn(i)},fromText:function(t,n){var i=(n||e.document).createTextNode(t);return Dn(i)},fromDom:Dn,fromPoint:function(e,t,n){var i=e.dom();return Ne.from(i.elementFromPoint(t,n)).map(Dn)}},Tn=("undefined"!=typeof e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),En=function(e){return e.dom().nodeType},An=function(e){return function(t){return En(t)===e}},On=An(1),Mn=An(3),Nn=An(9),Pn=An(11),In=function(e,t){for(var n=[],i=function(e){return n.push(e),t(e)},r=t(e);(r=r.bind(i)).isSome(););return n},Rn=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ln=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Bn=function(e,t){return e.dom()===t.dom()},Fn=function(t,n){return i=t.dom(),r=n.dom(),o=i,a=r,s=e.Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(o.compareDocumentPosition(a)&s);var i,r,o,a,s},Hn=function(e,t){return dn().browser.isIE()?Fn(e,t):(n=t,i=e.dom(),r=n.dom(),i!==r&&i.contains(r));var n,i,r},jn=function(e){return $n.fromDom(e.dom().ownerDocument)},Vn=function(e){return Nn(e)?e:jn(e)},zn=function(e){return $n.fromDom(e.dom().ownerDocument.defaultView)},Un=function(e){return Ne.from(e.dom().parentNode).map($n.fromDom)},Wn=function(e){return Ne.from(e.dom().previousSibling).map($n.fromDom)},qn=function(e){return Ne.from(e.dom().nextSibling).map($n.fromDom)},Yn=function(e){return st(In(e,Wn))},Gn=function(e){return In(e,qn)},Kn=function(e){return Je(e.dom().childNodes,$n.fromDom)},Xn=function(e,t){var n=e.dom().childNodes;return Ne.from(n[t]).map($n.fromDom)},Jn=function(e){return Xn(e,0)},Zn=function(e){return Xn(e,e.dom().childNodes.length-1)},Qn=function(e){return Pn(e)},ei=ze(e.Element.prototype.attachShadow)&&ze(e.Node.prototype.getRootNode)?function(e){return $n.fromDom(e.dom().getRootNode())}:Vn,ti=function(e){return Qn(e)?e:function(e){var t=e.dom().head;if(null===t||void 0===t)throw new Error("Head is not available yet");return $n.fromDom(t)}(Vn(e))},ni=function(e){return $n.fromDom(e.dom().host)},ii=function(e,t){Un(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},ri=function(e,t){qn(e).fold(function(){Un(e).each(function(e){ai(e,t)})},function(e){ii(e,t)})},oi=function(e,t){Jn(e).fold(function(){ai(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},ai=function(e,t){e.dom().appendChild(t.dom())},si=function(e,t){Ze(t,function(t){ai(e,t)})},li=function(e){e.dom().textContent="",Ze(Kn(e),function(e){ui(e)})},ui=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},ci=function(e){var t,n=Kn(e);0<n.length&&(t=e,Ze(n,function(e){ii(t,e)})),ui(e)},di=function(e){var t,n,i,r,o=Mn(e)?e.dom().parentNode:e.dom();return void 0!==o&&null!==o&&null!==o.ownerDocument&&(i=$n.fromDom(o),r=ei(i),(Qn(r)?Ne.some(r):Ne.none()).fold(function(){return o.ownerDocument.body.contains(o)},(t=di,n=ni,function(e){return t(n(e))})))},fi=function(e,t){return{left:ke(e),top:ke(t),translate:function(n,i){return fi(e+n,t+i)}}},hi=fi,pi=function(e,t){return void 0!==e?e:void 0!==t?t:0},mi=function(e){var t,n=e.dom(),i=n.ownerDocument.body;return i===n?hi(i.offsetLeft,i.offsetTop):di(e)?(t=n.getBoundingClientRect(),hi(t.left,t.top)):hi(0,0)},gi=function(t){var n=void 0!==t?t.dom():e.document,i=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return hi(i,r)},vi=function(t,n,i){(void 0!==i?i.dom():e.document).defaultView.scrollTo(t,n)},bi=function(e,t){dn().browser.isSafari()&&ze(e.dom().scrollIntoViewIfNeeded)?e.dom().scrollIntoViewIfNeeded(!1):e.dom().scrollIntoView(t)},yi=function(e,t,n,i){return{x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}},wi=function(t){var n,i,r=void 0===t?e.window:t,o=r.document,a=gi($n.fromDom(o));return i=void 0===(n=r)?e.window:n,Ne.from(i.visualViewport).fold(function(){var e=r.document.documentElement,t=e.clientWidth,n=e.clientHeight;return yi(a.left(),a.top(),t,n)},function(e){return yi(Math.max(e.pageLeft,a.left()),Math.max(e.pageTop,a.top()),e.width,e.height)})},xi=function(e){return function(t){return!!t&&t.nodeType===e}},Ci=function(e){return!!e&&!Object.getPrototypeOf(e)},_i=xi(1),ki=function(e){var t=e.map(function(e){return e.toLowerCase()});return function(e){if(e&&e.nodeName){var n=e.nodeName.toLowerCase();return Ke(t,n)}return!1}},Si=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var i;if(_i(t))for(i=0;i<n.length;i++){var r=t.ownerDocument.defaultView.getComputedStyle(t,null);if((r?r.getPropertyValue(e):null)===n[i])return!0}return!1}},Di=function(e){return function(t){return _i(t)&&t.hasAttribute(e)}},$i=function(e){return _i(e)&&e.hasAttribute("data-mce-bogus")},Ti=function(e){return _i(e)&&"TABLE"===e.tagName},Ei=function(e){return function(t){if(_i(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ai=ki(["textarea","input"]),Oi=xi(3),Mi=xi(8),Ni=xi(9),Pi=xi(11),Ii=ki(["br"]),Ri=Ei("true"),Li=Ei("false"),Bi=function(e){return void 0!==e.style&&ze(e.style.getPropertyValue)},Fi=function(t,n,i){if(!(Le(i)||je(i)||Ue(i)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,i+"")},Hi=function(e,t,n){Fi(e.dom(),t,n)},ji=function(e,t){var n=e.dom();pt(t,function(e,t){Fi(n,t,e)})},Vi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},zi=function(e,t){e.dom().removeAttribute(t)},Ui=function(t,n){var i=t.dom(),r=e.window.getComputedStyle(i).getPropertyValue(n);return""!==r||di(t)?r:Wi(i,n)},Wi=function(e,t){return Bi(e)?e.style.getPropertyValue(t):""},qi=function(e,t){var n=e.dom(),i=Wi(n,t);return Ne.from(i).filter(function(e){return 0<e.length})},Yi=dn().browser,Gi=function(e){return it(e,On)},Ki=function(e,t){return e.children&&Ke(e.children,t)},Xi=function(e,t,n){var i,r,o,a=0,s=0,l=e.ownerDocument;if(n=n||e,t){if(n===e&&t.getBoundingClientRect&&"static"===Ui($n.fromDom(e),"position"))return{x:a=(r=t.getBoundingClientRect()).left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,y:s=r.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop};for(i=t;i&&i!==n&&i.nodeType&&!Ki(i,n);)a+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=t.parentNode;i&&i!==n&&i.nodeType&&!Ki(i,n);)a-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;o=$n.fromDom(t),s+=Yi.isFirefox()&&"table"===Tn(o)?Gi(Kn(o)).filter(function(e){return"caption"===Tn(e)}).bind(function(e){return Gi(Gn(e)).map(function(t){var n=t.dom().offsetTop,i=e.dom().offsetTop,r=e.dom().offsetHeight;return n<=i?-r:0})}).getOr(0):0}return{x:a,y:s}},Ji=function(e){var t;return function(n){return(t=t||function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(e,ke(!0))).hasOwnProperty(Tn(n))}},Zi=Ji(["h1","h2","h3","h4","h5","h6"]),Qi=Ji(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),er=function(e){return On(e)&&!Qi(e)},tr=function(e){return On(e)&&"br"===Tn(e)},nr=Ji(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),ir=Ji(["ul","ol","dl"]),rr=Ji(["li","dd","dt"]),or=Ji(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),ar=Ji(["thead","tbody","tfoot"]),sr=Ji(["td","th"]),lr=Ji(["pre","script","textarea","style"]),ur=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},cr=function(e,t){var n,i=t.childNodes;if(!_i(t)||!ur(t)){for(n=i.length-1;0<=n;n--)cr(e,i[n]);if(!1===Ni(t)){if(Oi(t)&&0<t.nodeValue.length){var r=Sn.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||0<r)return;if(0===r&&(a=(o=t).previousSibling&&"SPAN"===o.previousSibling.nodeName,s=o.nextSibling&&"SPAN"===o.nextSibling.nodeName,a&&s))return}else if(_i(t)&&(1===(i=t.childNodes).length&&ur(i[0])&&t.parentNode.insertBefore(i[0],t),i.length||or($n.fromDom(t))))return;e.remove(t)}var o,a,s;return t}},dr=Sn.makeMap,fr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/[<>&\"\']/g,mr=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,gr={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""},vr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},br={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},yr=function(e,t){var n,i,r,o={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)i=String.fromCharCode(parseInt(e[n],t)),vr[i]||(r="&"+e[n+1]+";",o[i]=r,o[r]=i);return o}},wr=yr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),xr=function(e,t){return e.replace(t?fr:hr,function(e){return vr[e]||e})},Cr=function(e,t){return e.replace(t?fr:hr,function(e){return 1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":vr[e]||"&#"+e.charCodeAt(0)+";"})},_r=function(e,t,n){return n=n||wr,e.replace(t?fr:hr,function(e){return vr[e]||n[e]||e})},kr={encodeRaw:xr,encodeAllRaw:function(e){return(""+e).replace(pr,function(e){return vr[e]||e})},encodeNumeric:Cr,encodeNamed:_r,getEncodeFunc:function(e,t){var n=yr(t)||wr,i=dr(e.replace(/\+/g,","));return i.named&&i.numeric?function(e,t){return e.replace(t?fr:hr,function(e){return void 0!==vr[e]?vr[e]:void 0!==n[e]?n[e]:1<e.length?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})}:i.named?t?function(e,t){return _r(e,t,n)}:_r:i.numeric?Cr:xr},decode:function(e){return e.replace(mr,function(e,t){return t?65535<(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10))?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):gr[t]||String.fromCharCode(t):br[e]||wr[e]||(n=e,(i=$n.fromTag("div").dom()).innerHTML=n,i.textContent||i.innerText||n);var n,i})}},Sr={},Dr={},$r=Sn.makeMap,Tr=Sn.each,Er=Sn.extend,Ar=Sn.explode,Or=Sn.inArray,Mr=function(e,t){return(e=Sn.trim(e))?e.split(t||" "):[]},Nr=function(e){var t,n,i,r,o,a,s={},l=function(e,n,i){var r,o,a,l=function(e,t){var n,i,r={};for(n=0,i=e.length;n<i;n++)r[e[n]]=t||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=Mr(i)),r=(e=Mr(e)).length;r--;)a={attributes:l(o=Mr([t,n].join(" "))),attributesOrder:o,children:l(i,Dr)},s[e[r]]=a},u=function(e,t){var n,i,r,o;for(n=(e=Mr(e)).length,t=Mr(t);n--;)for(i=s[e[n]],r=0,o=t.length;r<o;r++)i.attributes[t[r]]={},i.attributesOrder.push(t[r])};return Sr[e]?Sr[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",i=[i,a="acronym applet basefont big font strike tt"].join(" "),Tr(Mr(a),function(e){l(e,"",i)}),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),Tr(Mr(o),function(e){l(e,"",r)})),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==e&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside main header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==e&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("img","loading"),u("iframe","sandbox seamless allowfullscreen loading")),Tr(Mr("a form meter progress dfn"),function(e){s[e]&&delete s[e].children[e]}),delete s.caption.children.table,delete s.script,Sr[e]=s)},Pr=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Tr(e,function(e,i){n[i]=n[i.toUpperCase()]=("map"===t?$r:Ar)(e,/[, ]/)})),n},Ir="\ufeff",Rr="",Lr=function(e,t,n,i){var r=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+r(t)+r(n)+r(i)},Br=function(e,t){var n,i,r,o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,s=/\s*([^:]+):\s*([^;]+);?/g,l=/\s+$/,u={},c=Ir;e=e||{},t&&(i=t.getValidStyles(),r=t.getInvalidStyles());var d=("\\\" \\' \\; \\: ; : "+c).split(" ");for(n=0;n<d.length;n++)u[d[n]]=c+n,u[c+n]=d[n];return{toHex:function(e){return e.replace(o,Lr)},parse:function(t){var i,r,d,f,h,p,m,g,v={},b=e.url_converter,y=e.url_converter_scope||this,w=function(e,t,i){var r=v[e+"-top"+t];if(r){var o=v[e+"-right"+t];if(o){var a=v[e+"-bottom"+t];if(a){var s=v[e+"-left"+t];if(s){var l=[r,o,a,s];for(n=l.length-1;n--&&l[n]===l[n+1];);-1<n&&i||(v[e+t]=-1===n?l[0]:l.join(" "),delete v[e+"-top"+t],delete v[e+"-right"+t],delete v[e+"-bottom"+t],delete v[e+"-left"+t])}}}}},x=function(e){var t,n=v[e];if(n){for(t=(n=n.split(" ")).length;t--;)if(n[t]!==n[0])return!1;return v[e]=n[0],!0}},C=function(e){return f=!0,u[e]},_=function(e,t){return f&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return u[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},k=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},S=function(e){return e.replace(/\\[0-9a-f]+/gi,k)},D=function(t,n,i,r,o,a){if(o=o||a)return"'"+(o=_(o)).replace(/\'/g,"\\'")+"'";if(n=_(n||i||r),!e.allow_script_urls){var s=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(s))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(s))return""}return b&&(n=b.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=(t=t.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,C).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,C)});i=s.exec(t);)if(s.lastIndex=i.index+i[0].length,r=i[1].replace(l,"").toLowerCase(),d=i[2].replace(l,""),r&&d){if(r=S(r),d=S(d),-1!==r.indexOf(c)||-1!==r.indexOf('"'))continue;if(!e.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(d)))continue;"font-weight"===r&&"700"===d?d="bold":"color"!==r&&"background-color"!==r||(d=d.toLowerCase()),d=(d=d.replace(o,Lr)).replace(a,D),v[r]=f?_(d,!0):d}w("border","",!0),w("border","-width"),w("border","-color"),w("border","-style"),w("padding",""),w("margin",""),h="border",m="border-style",g="border-color",x(p="border-width")&&x(m)&&x(g)&&(v[h]=v[p]+" "+v[m]+" "+v[g],delete v[p],delete v[m],delete v[g]),"medium none"===v.border&&delete v.border,"none"===v["border-image"]&&delete v["border-image"]}return v},serialize:function(e,t){var n="",o=function(t){var r,o=i[t];if(o)for(var a=0,s=o.length;a<s;a++)t=o[a],(r=e[t])&&(n+=(0<n.length?" ":"")+t+": "+r+";")};return t&&i?(o("*"),o(t)):pt(e,function(e,i){var o,a,s;!e||r&&(o=i,a=t,(s=r["*"])&&s[o]||(s=r[a])&&s[o])||(n+=(0<n.length?" ":"")+i+": "+e+";")}),n}}},Fr=/^(?:mouse|contextmenu)|click/,Hr={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},jr=function(){return!1},Vr=function(){return!0},zr=function(e,t,n,i){e.addEventListener?e.addEventListener(t,n,i||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ur=function(e,t,n,i){e.removeEventListener?e.removeEventListener(t,n,i||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Wr=function(t,n){var i,r,o=n||{};for(i in t)Hr[i]||(o[i]=t[i]);if(o.target||(o.target=o.srcElement||e.document),wn.experimentalShadowDom&&(o.target=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&0<n.length)return n[0]}return t}(t,o.target)),t&&Fr.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var a=o.target.ownerDocument||e.document,s=a.documentElement,l=a.body;o.pageX=t.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),o.pageY=t.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=Vr,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=Vr,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},!(o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=Vr,o.stopPropagation()})==((r=o).isDefaultPrevented===Vr||r.isDefaultPrevented===jr)&&(o.isDefaultPrevented=jr,o.isPropagationStopped=jr,o.isImmediatePropagationStopped=jr),"undefined"==typeof o.metaKey&&(o.metaKey=!1),o},qr=function(e,t,n){var i=e.document,r={type:"ready"};if(n.domLoaded)t(r);else{var o=function(){Ur(e,"DOMContentLoaded",o),Ur(e,"load",o),n.domLoaded||(n.domLoaded=!0,t(r))};"complete"===i.readyState||"interactive"===i.readyState&&i.body?o():zr(e,"DOMContentLoaded",o),zr(e,"load",o)}},Yr=(r.prototype.bind=function(t,n,i,r){var o,a,s,l,u,c,d,f=this,h=e.window,p=function(e){f.executeHandlers(Wr(e||h.event),o)};if(t&&3!==t.nodeType&&8!==t.nodeType){t[f.expando]?o=t[f.expando]:(o=f.count++,t[f.expando]=o,f.events[o]={}),r=r||t;var m=n.split(" ");for(s=m.length;s--;)c=p,u=d=!1,"DOMContentLoaded"===(l=m[s])&&(l="ready"),f.domLoaded&&"ready"===l&&"complete"===t.readyState?i.call(r,Wr({type:l})):(f.hasMouseEnterLeave||(u=f.mouseEnterLeave[l])&&(c=function(e){var t=e.currentTarget,n=e.relatedTarget;if(n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||((e=Wr(e||h.event)).type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,f.executeHandlers(e,o))}),f.hasFocusIn||"focusin"!==l&&"focusout"!==l||(d=!0,u="focusin"===l?"focus":"blur",c=function(e){(e=Wr(e||h.event)).type="focus"===e.type?"focusin":"focusout",f.executeHandlers(e,o)}),(a=f.events[o][l])?"ready"===l&&f.domLoaded?i(Wr({type:l})):a.push({func:i,scope:r}):(f.events[o][l]=a=[{func:i,scope:r}],a.fakeName=u,a.capture=d,a.nativeHandler=c,"ready"===l?qr(t,c,f):zr(t,u||l,c,d)));return t=a=0,i}},r.prototype.unbind=function(e,t,n){var i,r,o,a,s;if(!e||3===e.nodeType||8===e.nodeType)return this;var l=e[this.expando];if(l){if(s=this.events[l],t){var u=t.split(" ");for(r=u.length;r--;)if(i=s[a=u[r]]){if(n)for(o=i.length;o--;)if(i[o].func===n){var c=i.nativeHandler,d=i.fakeName,f=i.capture;(i=i.slice(0,o).concat(i.slice(o+1))).nativeHandler=c,i.fakeName=d,i.capture=f,s[a]=i}n&&0!==i.length||(delete s[a],Ur(e,i.fakeName||a,i.nativeHandler,i.capture))}}else pt(s,function(t,n){Ur(e,t.fakeName||n,t.nativeHandler,t.capture)}),s={};for(a in s)if(_t(s,a))return this;delete this.events[l];try{delete e[this.expando]}catch(h){e[this.expando]=null}}return this},r.prototype.fire=function(e,t,n){var i;if(!e||3===e.nodeType||8===e.nodeType)return this;var r=Wr(null,n);for(r.type=t,r.target=e;(i=e[this.expando])&&this.executeHandlers(r,i),(e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow)&&!r.isPropagationStopped(););return this},r.prototype.clean=function(e){var t,n;if(!e||3===e.nodeType||8===e.nodeType)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),t=(n=e.getElementsByTagName("*")).length;t--;)(e=n[t])[this.expando]&&this.unbind(e);return this},r.prototype.destroy=function(){this.events={}},r.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},r.prototype.executeHandlers=function(e,t){var n=this.events[t],i=n&&n[e.type];if(i)for(var r=0,o=i.length;r<o;r++){var a=i[r];if(a&&!1===a.func.call(a.scope,e)&&e.preventDefault(),e.isImmediatePropagationStopped())return}},r.Event=new r,r),Gr="sizzle"+-new Date,Kr=e.window.document,Xr=0,Jr=0,Zr=o(),Qr=o(),eo=o(),to=function(e,t){return e===t&&(se=!0),0},no="undefined",io={}.hasOwnProperty,ro=[],oo=ro.pop,ao=ro.push,so=ro.push,lo=ro.slice,uo=ro.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},co="[\\x20\\t\\r\\n\\f]",fo="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ho="\\["+co+"*("+fo+")(?:"+co+"*([*^$|!~]?=)"+co+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+fo+"))|)"+co+"*\\]",po=":("+fo+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ho+")*)|.*)\\)|)",mo=new RegExp("^"+co+"+|((?:^|[^\\\\])(?:\\\\.)*)"+co+"+$","g"),go=new RegExp("^"+co+"*,"+co+"*"),vo=new RegExp("^"+co+"*([>+~]|"+co+")"+co+"*"),bo=new RegExp("="+co+"*([^\\]'\"]*?)"+co+"*\\]","g"),yo=new RegExp(po),wo=new RegExp("^"+fo+"$"),xo={ID:new RegExp("^#("+fo+")"),CLASS:new RegExp("^\\.("+fo+")"),TAG:new RegExp("^("+fo+"|[*])"),ATTR:new RegExp("^"+ho),PSEUDO:new RegExp("^"+po),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+co+"*(even|odd|(([+-]|)(\\d*)n|)"+co+"*(?:([+-]|)"+co+"*(\\d+)|))"+co+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+co+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+co+"*((?:-\\d)?\\d*)"+co+"*\\)|)(?=[^-]|$)","i")},Co=/^(?:input|select|textarea|button)$/i,_o=/^h\d$/i,ko=/^[^{]+\{\s*\[native \w/,So=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Do=/[+~]/,$o=/'|\\/g,To=new RegExp("\\\\([\\da-f]{1,6}"+co+"?|("+co+")|.)","ig"),Eo=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(65536+i):String.fromCharCode(i>>10|55296,1023&i|56320)};try{so.apply(ro=lo.call(Kr.childNodes),Kr.childNodes),ro[Kr.childNodes.length].nodeType}catch(Ao){so={apply:ro.length?function(e,t){ao.apply(e,lo.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}var Oo=function(e,t,n,i){var r,o,a,s,l,c,f,h,p,m;if((t?t.ownerDocument||t:Kr)!==ue&&le(t),n=n||[],!e||"string"!=typeof e)return n;
if(1!==(s=(t=t||ue).nodeType)&&9!==s)return[];if(de&&!i){if(r=So.exec(e))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&pe(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return so.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&Z.getElementsByClassName)return so.apply(n,t.getElementsByClassName(a)),n}if(Z.qsa&&(!fe||!fe.test(e))){if(h=f=Gr,p=t,m=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=ne(e),(f=t.getAttribute("id"))?h=f.replace($o,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+d(c[l]);p=Do.test(e)&&u(t.parentNode)||t,m=c.join(",")}if(m)try{return so.apply(n,p.querySelectorAll(m)),n}catch(g){}finally{f||t.removeAttribute("id")}}}return re(e.replace(mo,"$1"),t,n,i)};Z=Oo.support={},te=Oo.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},le=Oo.setDocument=function(e){var t,n=e?e.ownerDocument||e:Kr,i=n.defaultView;return n!==ue&&9===n.nodeType&&n.documentElement?(ce=(ue=n).documentElement,de=!te(n),i&&i!==function(e){try{return e.top}catch(t){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){le()},!1):i.attachEvent&&i.attachEvent("onunload",function(){le()})),Z.attributes=!0,Z.getElementsByTagName=!0,Z.getElementsByClassName=ko.test(n.getElementsByClassName),Z.getById=!0,Q.find.ID=function(e,t){if(typeof t.getElementById!=no&&de){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Q.filter.ID=function(e){var t=e.replace(To,Eo);return function(e){return e.getAttribute("id")===t}},Q.find.TAG=Z.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!=no)return t.getElementsByTagName(e)}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},Q.find.CLASS=Z.getElementsByClassName&&function(e,t){if(de)return t.getElementsByClassName(e)},he=[],fe=[],Z.disconnectedMatch=!0,fe=fe.length&&new RegExp(fe.join("|")),he=he.length&&new RegExp(he.join("|")),t=ko.test(ce.compareDocumentPosition),pe=t||ko.test(ce.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},to=t?function(e,t){if(e===t)return se=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!Z.sortDetached&&t.compareDocumentPosition(e)===i?e===n||e.ownerDocument===Kr&&pe(Kr,e)?-1:t===n||t.ownerDocument===Kr&&pe(Kr,t)?1:ae?uo.call(ae,e)-uo.call(ae,t):0:4&i?-1:1)}:function(e,t){if(e===t)return se=!0,0;var i,r=0,o=e.parentNode,a=t.parentNode,l=[e],u=[t];if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:ae?uo.call(ae,e)-uo.call(ae,t):0;if(o===a)return s(e,t);for(i=e;i=i.parentNode;)l.unshift(i);for(i=t;i=i.parentNode;)u.unshift(i);for(;l[r]===u[r];)r++;return r?s(l[r],u[r]):l[r]===Kr?-1:u[r]===Kr?1:0},n):ue},Oo.matches=function(e,t){return Oo(e,null,null,t)},Oo.matchesSelector=function(e,t){if((e.ownerDocument||e)!==ue&&le(e),t=t.replace(bo,"='$1']"),Z.matchesSelector&&de&&(!he||!he.test(t))&&(!fe||!fe.test(t)))try{var n=(void 0).call(e,t);if(n||Z.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(i){}return 0<Oo(t,ue,null,[e]).length},Oo.contains=function(e,t){return(e.ownerDocument||e)!==ue&&le(e),pe(e,t)},Oo.attr=function(e,t){(e.ownerDocument||e)!==ue&&le(e);var n=Q.attrHandle[t.toLowerCase()],i=n&&io.call(Q.attrHandle,t.toLowerCase())?n(e,t,!de):void 0;return void 0!==i?i:Z.attributes||!de?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},Oo.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Oo.uniqueSort=function(e){var t,n=[],i=0,r=0;if(se=!Z.detectDuplicates,ae=!Z.sortStable&&e.slice(0),e.sort(to),se){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return ae=null,e},ee=Oo.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=ee(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=ee(t);return n},(Q=Oo.selectors={cacheLength:50,createPseudo:a,match:xo,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(To,Eo),e[3]=(e[3]||e[4]||e[5]||"").replace(To,Eo),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Oo.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Oo.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return xo.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&yo.test(n)&&(t=ne(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(To,Eo).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=Zr[e+" "];return t||(t=new RegExp("(^|"+co+")"+e+"("+co+"|$)"))&&Zr(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!=no&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=Oo.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&-1<r.indexOf(n):"$="===t?n&&r.slice(-n.length)===n:"~="===t?-1<(" "+r+" ").indexOf(n):"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,c,d,f,h,p,m=o!=a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),b=!l&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?g.firstChild:g.lastChild],a&&b){for(h=(u=(c=g[Gr]||(g[Gr]={}))[e]||[])[0]===Xr&&u[1],f=u[0]===Xr&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(f=h=0)||p.pop();)if(1===d.nodeType&&++f&&d===t){c[e]=[Xr,h,f];break}}else if(b&&(u=(t[Gr]||(t[Gr]={}))[e])&&u[0]===Xr)f=u[1];else for(;(d=++h&&d&&d[m]||(f=h=0)||p.pop())&&((s?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++f||(b&&((d[Gr]||(d[Gr]={}))[e]=[Xr,f]),d!==t)););return(f-=r)===i||f%i==0&&0<=f/i}}},PSEUDO:function(e,t){var n,i=Q.pseudos[e]||Q.setFilters[e.toLowerCase()]||Oo.error("unsupported pseudo: "+e);return i[Gr]?i(t):1<i.length?(n=[e,e,"",t],Q.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=uo.call(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:a(function(e){var t=[],n=[],i=ie(e.replace(mo,"$1"));return i[Gr]?a(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:a(function(e){return function(t){return 0<Oo(e,t).length}}),contains:a(function(e){return e=e.replace(To,Eo),function(t){return-1<(t.textContent||t.innerText||ee(t)).indexOf(e)}}),lang:a(function(e){return wo.test(e||"")||Oo.error("unsupported lang: "+e),e=e.replace(To,Eo).toLowerCase(),function(t){var n;do if(n=de?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.window.location&&e.window.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===ce},focus:function(e){return e===ue.activeElement&&(!ue.hasFocus||ue.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Q.pseudos.empty(e)},header:function(e){return _o.test(e.nodeName)},input:function(e){return Co.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:l(function(){return[0]}),last:l(function(e,t){return[t-1]}),eq:l(function(e,t,n){return[n<0?n+t:n]}),even:l(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:l(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:l(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:l(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=Q.pseudos.eq,Ze(["radio","checkbox","file","password","image"],function(e){Q.pseudos[e]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(e)}),Ze(["submit","reset"],function(e){Q.pseudos[e]=function(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}(e)}),c.prototype=Q.filters=Q.pseudos,Q.setFilters=new c,ne=Oo.tokenize=function(e,t){var n,i,r,o,a,s,l,u=Qr[e+" "];if(u)return t?0:u.slice(0);for(a=e,s=[],l=Q.preFilter;a;){for(o in n&&!(i=go.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=vo.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(mo," ")}),a=a.slice(n.length)),Q.filter)Q.filter.hasOwnProperty(o)&&(!(i=xo[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length)));if(!n)break}return t?a.length:a?Oo.error(e):Qr(e,s).slice(0)},ie=Oo.compile=function(e,t){var n,i=[],r=[],o=eo[e+" "];if(!o){for(n=(t=t||ne(e)).length;n--;)(o=g(t[n]))[Gr]?i.push(o):r.push(o);(o=eo(e,function(e,t){var n=0<t.length,i=0<e.length,r=function(r,o,a,s,l){var u,c,d,f=0,h="0",m=r&&[],g=[],v=oe,b=r||i&&Q.find.TAG("*",l),y=Xr+=null==v?1:Math.random()||.1,w=b.length;for(l&&(oe=o!==ue&&o);h!==w&&null!=(u=b[h]);h++){if(i&&u){for(c=0;d=e[c++];)if(d(u,o,a)){s.push(u);break}l&&(Xr=y)}n&&((u=!d&&u)&&f--,r&&m.push(u))}if(f+=h,n&&h!==f){for(c=0;d=t[c++];)d(m,g,o,a);if(r){if(0<f)for(;h--;)m[h]||g[h]||(g[h]=oo.call(s));g=p(g)}so.apply(s,g),l&&!r&&0<g.length&&1<f+t.length&&Oo.uniqueSort(s)}return l&&(Xr=y,oe=v),m};return n?a(r):r}(r,i))).selector=e}return o},re=Oo.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,f=!i&&ne(e=c.selector||e);if(n=n||[],1===f.length){if(2<(o=f[0]=f[0].slice(0)).length&&"ID"===(a=o[0]).type&&Z.getById&&9===t.nodeType&&de&&Q.relative[o[1].type]){if(!(t=(Q.find.ID(a.matches[0].replace(To,Eo),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=xo.needsContext.test(e)?0:o.length;r--&&(a=o[r],!Q.relative[s=a.type]);)if((l=Q.find[s])&&(i=l(a.matches[0].replace(To,Eo),Do.test(o[0].type)&&u(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&d(o)))return so.apply(n,i),n;break}}return(c||ie(e,f))(i,t,!de,n,Do.test(e)&&u(t.parentNode)||t),n},Z.sortStable=Gr.split("").sort(to).join("")===Gr,Z.detectDuplicates=!!se,le(),Z.sortDetached=!0;var Mo=e.document,No=Array.prototype.push,Po=Array.prototype.slice,Io=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Ro=Yr.Event,Lo=Sn.makeMap("children,contents,next,prev"),Bo=function(e){return void 0!==e},Fo=function(e){return"string"==typeof e},Ho=function(e,t){var n,i=(t=t||Mo).createElement("div"),r=t.createDocumentFragment();for(i.innerHTML=e;n=i.firstChild;)r.appendChild(n);return r},jo=function(e,t,n,i){var r;if(Fo(t))t=Ho(t,ta(e[0]));else if(t.length&&!t.nodeType){if(t=ua.makeArray(t),i)for(r=t.length-1;0<=r;r--)jo(e,t[r],n,i);else for(r=0;r<t.length;r++)jo(e,t[r],n,i);return e}if(t.nodeType)for(r=e.length;r--;)n.call(e[r],t);return e},Vo=function(e,t){return e&&t&&-1!==(" "+e.className+" ").indexOf(" "+t+" ")},zo=function(e,t,n){var i,r;return t=ua(t)[0],e.each(function(){n&&i===this.parentNode||(i=this.parentNode,r=t.cloneNode(!1),this.parentNode.insertBefore(r,this)),r.appendChild(this)}),e},Uo=Sn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Wo=Sn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),qo={"for":"htmlFor","class":"className",readonly:"readOnly"},Yo={"float":"cssFloat"},Go={},Ko={},Xo=function(e,t){return new ua.fn.init(e,t)},Jo=/^\s*|\s*$/g,Zo=function(e){return null===e||void 0===e?"":(""+e).replace(Jo,"")},Qo=function(e,t){var n,i,r,o;if(e)if(void 0===(n=e.length)){for(i in e)if(e.hasOwnProperty(i)&&(o=e[i],!1===t.call(o,i,o)))break}else for(r=0;r<n&&(o=e[r],!1!==t.call(o,r,o));r++);return e},ea=function(e,t){var n=[];return Qo(e,function(e,i){t(i,e)&&n.push(i)}),n},ta=function(e){return e?9===e.nodeType?e:e.ownerDocument:Mo};Xo.fn=Xo.prototype={constructor:Xo,selector:"",context:null,length:0,init:function(t,n){var i,r,o=this;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(n&&n.nodeType)o.context=n;else{if(n)return ua(t).attr(n);o.context=n=e.document}if(Fo(t)){if(!(i="<"===(o.selector=t).charAt(0)&&">"===t.charAt(t.length-1)&&3<=t.length?[null,t,null]:Io.exec(t)))return ua(n).find(t);if(i[1])for(r=Ho(t,ta(n)).firstChild;r;)No.call(o,r),r=r.nextSibling;else{if(!(r=ta(n).getElementById(i[2])))return o;if(r.id!==i[2])return o.find(t);o.length=1,o[0]=r}}else this.add(t,!1);return o},toArray:function(){return Sn.toArray(this)},add:function(e,t){var n,i;if(Fo(e))return this.add(ua(e));if(!1!==t)for(n=ua.unique(this.toArray().concat(ua.makeArray(e))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else No.apply(this,ua.makeArray(e));return this},attr:function(e,t){var n,i=this;if("object"==typeof e)Qo(e,function(e,t){i.attr(e,t)});else{if(!Bo(t)){if(i[0]&&1===i[0].nodeType){if((n=Go[e])&&n.get)return n.get(i[0],e);if(Wo[e])return i.prop(e)?e:void 0;null===(t=i[0].getAttribute(e,2))&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if((n=Go[e])&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if("object"==typeof(e=qo[e]||e))Qo(e,function(e,t){n.prop(e,t)});else{if(!Bo(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,i,r=this,o=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Qo(e,function(e,t){r.css(e,t)});else if(Bo(t))e=o(e),"number"!=typeof t||Uo[e]||(t=t.toString()+"px"),r.each(function(){var n=this.style;if((i=Ko[e])&&i.set)i.set(this,t);else{try{this.style[Yo[e]||e]=t}catch(r){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))}});else{if(n=r[0],(i=Ko[e])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(s){return}}return r},remove:function(){for(var e,t=this.length;t--;)e=this[t],Ro.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this.length;t--;)for(e=this[t];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t;if(Bo(e)){t=this.length;try{for(;t--;)this[t].innerHTML=e}catch(n){ua(this[t]).empty().append(e)}return this}return this[0]?this[0].innerHTML:""},text:function(e){var t;if(Bo(e)){for(t=this.length;t--;)"innerText"in this[t]?this[t].innerText=e:this[0].textContent=e;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return jo(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return jo(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?jo(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?jo(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return ua(e).append(this),this},prependTo:function(e){return ua(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return zo(this,e)},wrapAll:function(e){return zo(this,e,!0)},wrapInner:function(e){return this.each(function(){ua(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){ua(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),ua(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e||(-1!==e.indexOf(" ")?Qo(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,i){var r=Vo(i,e);if(r!==t){var o=i.className;r?i.className=Zo((" "+o+" ").replace(" "+e+" "," ")):i.className+=o?" "+e:e}})),n},hasClass:function(e){return Vo(this[0],e)},each:function(e){return Qo(this,e)},on:function(e,t){return this.each(function(){Ro.bind(this,e,t)})},off:function(e,t){return this.each(function(){Ro.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Ro.fire(this,e.type,e):Ro.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new ua(Po.apply(this,arguments))},eq:function(e){return-1===e?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,i=[];for(t=0,n=this.length;t<n;t++)ua.find(e,this[t],i);return ua(i)},filter:function(e){return ua("function"==typeof e?ea(this.toArray(),function(t,n){return e(n,t)}):ua.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof ua&&(e=e[0]),this.each(function(n,i){for(;i;){if("string"==typeof e&&ua(i).is(e)){t.push(i);break}if(i===e){t.push(i);break}i=i.parentNode}}),ua(t)},offset:function(e){var t,n,i,r,o=0,a=0;return e?this.css(e):((t=this[0])&&(i=(n=t.ownerDocument).documentElement,t.getBoundingClientRect&&(o=(r=t.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,a=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:a})},push:No,sort:Array.prototype.sort,splice:Array.prototype.splice},Sn.extend(Xo,{extend:Sn.extend,makeArray:function(e){return(t=e)&&t===t.window||e.nodeType?[e]:Sn.toArray(e);var t},inArray:function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},isArray:Sn.isArray,each:Qo,trim:Zo,grep:ea,find:Oo,expr:Oo.selectors,unique:Oo.uniqueSort,text:Oo.getText,contains:Oo.contains,filter:function(e,t,n){var i=t.length;for(n&&(e=":not("+e+")");i--;)1!==t[i].nodeType&&t.splice(i,1);return t=1===t.length?ua.find.matchesSelector(t[0],e)?[t[0]]:[]:ua.find.matches(e,t)}});var na=function(e,t,n){var i=[],r=e[t];for("string"!=typeof n&&n instanceof ua&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&ua(r).is(n))break}1===r.nodeType&&i.push(r),r=r[t]}return i},ia=function(e,t,n,i){var r=[];for(i instanceof ua&&(i=i[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==i){if(e===i)break;if("string"==typeof i&&ua(e).is(i))break}r.push(e)}return r},ra=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Qo({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return na(e,"parentNode")},next:function(e){return ra(e,"nextSibling",1)},prev:function(e){return ra(e,"previousSibling",1)},children:function(e){return ia(e.firstChild,"nextSibling",1)},contents:function(e){return Sn.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Xo.fn[e]=function(n){var i=[];this.each(function(){var e=t.call(i,this,n,i);e&&(ua.isArray(e)?i.push.apply(i,e):i.push(e))}),1<this.length&&(Lo[e]||(i=ua.unique(i)),0===e.indexOf("parents")&&(i=i.reverse()));var r=ua(i);return n?r.filter(n):r}}),Qo({parentsUntil:function(e,t){return na(e,"parentNode",t)},nextUntil:function(e,t){return ia(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return ia(e,"previousSibling",1,t).slice(1)}},function(e,t){Xo.fn[e]=function(n,i){var r=[];this.each(function(){var e=t.call(r,this,n,r);e&&(ua.isArray(e)?r.push.apply(r,e):r.push(e))}),1<this.length&&(r=ua.unique(r),0!==e.indexOf("parents")&&"prevUntil"!==e||(r=r.reverse()));var o=ua(r);return i?o.filter(i):o}}),Xo.fn.is=function(e){return!!e&&0<this.filter(e).length},Xo.fn.init.prototype=Xo.fn,Xo.overrideDefaults=function(e){var t,n=function(i,r){return t=t||e(),0===arguments.length&&(i=t.element),r=r||t.context,new n.fn.init(i,r)};return ua.extend(n,this),n},Xo.attrHooks=Go,Xo.cssHooks=Ko;var oa,aa,sa,la,ua=Xo,ca=(v.prototype.current=function(){return this.node},v.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},v.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},v.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},v.prototype.findSibling=function(e,t,n,i){var r,o;if(e){if(!i&&e[t])return e[t];if(e!==this.rootNode){if(r=e[n])return r;for(o=e.parentNode;o&&o!==this.rootNode;o=o.parentNode)if(r=o[n])return r}}},v.prototype.findPreviousNode=function(e,t,n,i){var r,o,a;if(e){if(r=e[n],this.rootNode&&r===this.rootNode)return;if(r){if(!i)for(a=r[t];a;a=a[t])if(!a[t])return a;return r}if((o=e.parentNode)&&o!==this.rootNode)return o}},v),da={},fa={exports:da};oa=void 0,aa=da,sa=fa,la=void 0,function(e){"object"==typeof aa&&void 0!==sa?sa.exports=e():"function"==typeof oa&&oa.amd?oa([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof la&&la;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return r(t[a][1][e]||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof la&&la,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void a(t.promise,r)}o(t.promise,i)}else(1===e._state?o:a)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,s(e)}catch(r){a(e,r)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(i){if(n)return;n=!0,a(t,i)}}var c,d;c=this,d=setTimeout,i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new l(e,t,i)),i},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}t[o]=a,0==--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:c.Promise||(c.Promise=i)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,i){function r(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var i=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var ha,pa,ma,ga,va,ba,ya=fa.exports.boltExport,wa=function(t){var n=Ne.none(),i=[],r=function(e){o()?s(e):i.push(e)},o=function(){return n.isSome()},a=function(e){Ze(e,s)},s=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(function(e){o()||(n=Ne.some(e),a(i),i=[])}),{get:r,map:function(e){return wa(function(t){r(function(n){t(e(n))})})},isReady:o}},xa={nu:wa,pure:function(e){return wa(function(t){t(e)})}},Ca=function(t){e.setTimeout(function(){throw t},0)},_a=function(e){var t=function(t){e().then(t,Ca)};return{map:function(t){return _a(function(){return e().then(t)})},bind:function(t){return _a(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return _a(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return xa.nu(t)},toCached:function(){var t=null;return _a(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},ka=function(e){return _a(function(){return new ya(e)})},Sa=function(e,t){return t(function(t){var n=[],i=0;0===e.length?t([]):Ze(e,function(r,o){var a;r.get((a=o,function(r){n[a]=r,++i>=e.length&&t(n)}))})})},Da=function(e){return{is:function(t){return e===t},isValue:Ee,isError:Te,getOr:ke(e),getOrThunk:ke(e),getOrDie:ke(e),or:function(t){return Da(e)},orThunk:function(t){return Da(e)},fold:function(t,n){return n(e)},map:function(t){return Da(t(e))},mapError:function(t){return Da(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return Ne.some(e)}}},$a=function(e){return{is:Te,isValue:Te,isError:Ee,getOr:Se,getOrThunk:function(e){return e()},getOrDie:function(){return $e(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return $a(e)},mapError:function(t){return $a(t(e))},each:Ce,bind:function(t){return $a(e)},exists:Te,forall:Ee,toOption:Ne.none}},Ta={value:Da,error:$a,fromOption:function(e,t){return e.fold(function(){return $a(t)},Da)}},Ea=function(t){if(!Fe(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],i={};return Ze(t,function(r,o){var a=ft(r);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=r[s];if(void 0!==i[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!Fe(l))throw new Error("case arguments must be an array");n.push(s),i[s]=function(){var i=arguments.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+i);for(var r=new Array(i),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var t=ft(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!at(n,function(e){return Ke(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,r)},log:function(t){e.console.log(t,{constructors:n,constructor:s,params:r})}}}}),i},Aa=(Ea([{bothErrors:["error1","error2"]
},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e){return e.fold(Se,Se)}),Oa=window.Promise?window.Promise:(ha=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},ma=(pa=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],k(e,b(w,this),b(x,this))}).immediateFn||"function"==typeof e.setImmediate&&e.setImmediate||function(t){e.setTimeout(t,1)},pa.prototype["catch"]=function(e){return this.then(null,e)},pa.prototype.then=function(e,t){var n=this;return new pa(function(i,r){y.call(n,new _(e,t,i,r))})},pa.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&ha(arguments[0])?arguments[0]:arguments);return new pa(function(t,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}e[o]=a,0==--r&&t(e)}catch(l){n(l)}}if(0===e.length)return t([]);for(var r=e.length,o=0;o<e.length;o++)i(o,e[o])})},pa.resolve=function(e){return e&&"object"==typeof e&&e.constructor===pa?e:new pa(function(t){t(e)})},pa.reject=function(e){return new pa(function(t,n){n(e)})},pa.race=function(e){return new pa(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},pa),Ma=function(t,n){return"number"!=typeof n&&(n=0),e.setTimeout(t,n)},Na=function(t,n){return"number"!=typeof n&&(n=1),e.setInterval(t,n)},Pa=function(t,n){var i,r=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e.clearTimeout(i),i=Ma(function(){t.apply(this,r)},n)};return r.stop=function(){e.clearTimeout(i)},r},Ia={requestAnimationFrame:function(t,n){ga?ga.then(t):ga=new Oa(function(t){!function(t,n){var i,r=e.window.requestAnimationFrame,o=["ms","moz","webkit"];for(i=0;i<o.length&&!r;i++)r=e.window[o[i]+"RequestAnimationFrame"];(r=r||function(t){e.window.setTimeout(t,0)})(t,n)}(t,n=n||e.document.body)}).then(t)},setTimeout:Ma,setInterval:Na,setEditorTimeout:function(e,t,n){return Ma(function(){e.removed||t()},n)},setEditorInterval:function(t,n,i){var r=Na(function(){t.removed?e.clearInterval(r):n()},i);return r},debounce:Pa,throttle:Pa,clearInterval:function(t){return e.clearInterval(t)},clearTimeout:function(t){return e.clearTimeout(t)}},Ra=(va=new WeakMap,{forElement:function(e,t){var n=ei(e).dom();return Ne.from(va.get(n)).getOrThunk(function(){var e=S(n,t);return va.set(n,e),e})}}),La=Sn.each,Ba=Sn.grep,Fa=wn.ie,Ha=/^([a-z0-9],?)+$/i,ja=/^[ \t\r\n]*$/,Va=function(e,t,n){var i=t.keep_values,r={set:function(e,i,r){t.url_converter&&(i=t.url_converter.call(t.url_converter_scope||n(),i,r,e[0])),e.attr("data-mce-"+r,i).attr(r,i)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},o={style:{set:function(t,n){null===n||"object"!=typeof n?(i&&t.attr("data-mce-style",n),null!==n&&"string"==typeof n?(t.removeAttr("style"),t.css(e.parse(n))):t.attr("style",n)):t.css(n)},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}};return i&&(o.href=o.src=r),o},za=function(e,t){var n=t.attr("style"),i=e.serialize(e.parse(n),t[0].nodeName);i=i||null,t.attr("data-mce-style",i)},Ua=function(e,t){var n,i,r=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!t||3!==i||i!==n&&e.nodeValue.length)&&(r++,n=i);return r};(ba=D=D||{}).DOM=ba(e.document),ba.nodeIndex=Ua;var Wa,qa=D,Ya=qa.DOM,Ga=Sn.each,Ka=Sn.grep,Xa=($.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},$.prototype.loadScript=function(t,n,i){var r,o=Ya,a=o.uniqueId();(r=e.document.createElement("script")).id=a,r.type="text/javascript",r.src=Sn._addCacheSuffix(t),this.settings.referrerPolicy&&o.setAttrib(r,"referrerpolicy",this.settings.referrerPolicy),r.onload=function(){o.remove(a),r&&(r.onreadystatechange=r.onload=r=null),n()},r.onerror=function(){ze(i)?i():"undefined"!=typeof e.console&&e.console.log&&e.console.log("Failed to load script: "+t)},(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(r)},$.prototype.isDone=function(e){return 2===this.states[e]},$.prototype.markDone=function(e){this.states[e]=2},$.prototype.add=function(e,t,n,i){void 0===this.states[e]&&(this.queue.push(e),this.states[e]=0),t&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:t,failure:i,scope:n||this}))},$.prototype.load=function(e,t,n,i){return this.add(e,t,n,i)},$.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},$.prototype.loadQueue=function(e,t,n){this.loadScripts(this.queue,e,t,n)},$.prototype.loadScripts=function(e,t,n,i){var r=this,o=[],a=function(e,t){Ga(r.scriptLoadedCallbacks[t],function(t){ze(t[e])&&t[e].call(t.scope)}),r.scriptLoadedCallbacks[t]=void 0};r.queueLoadedCallbacks.push({success:t,failure:i,scope:n||this});var s=function(){var t=Ka(e);if(e.length=0,Ga(t,function(e){2!==r.states[e]?3!==r.states[e]?1!==r.states[e]&&(r.states[e]=1,r.loading++,r.loadScript(e,function(){r.states[e]=2,r.loading--,a("success",e),s()},function(){r.states[e]=3,r.loading--,o.push(e),a("failure",e),s()})):a("failure",e):a("success",e)}),!r.loading){var n=r.queueLoadedCallbacks.slice(0);r.queueLoadedCallbacks.length=0,Ga(n,function(e){0===o.length?ze(e.success)&&e.success.call(e.scope):ze(e.failure)&&e.failure.call(e.scope,o)})}};s()},$.ScriptLoader=new $,$),Ja=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Za={},Qa=Ja("en"),es=function(){return Ct(Za,Qa.get())},ts={getData:function(){return mt(Za,function(e){return Mt({},e)})},setCode:function(e){e&&Qa.set(e)},getCode:function(){return Qa.get()},add:function(e,t){var n=Za[e];n||(Za[e]=n={}),pt(t,function(e,t){n[t.toLowerCase()]=e})},translate:function(e){var t,n,i=es().getOr({}),r=function(e){return ze(e)?Object.prototype.toString.call(e):o(e)?"":""+e},o=function(e){return""===e||null===e||void 0===e},a=function(e){var t=r(e);return Ct(i,t.toLowerCase()).map(r).getOr(t)},s=function(e){return e.replace(/{context:\w+}$/,"")};if(o(e))return"";if(Be(t=e)&&_t(t,"raw"))return r(e.raw);if(Fe(n=e)&&1<n.length){var l=e.slice(1);return s(a(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return _t(l,t)?r(l[t]):e}))}return s(a(e))},isRtl:function(){return es().bind(function(e){return Ct(e,"_dir")}).exists(function(e){return"rtl"===e})},hasCode:function(e){return _t(Za,e)}};(Wa=T=T||{}).PluginManager=Wa(),Wa.ThemeManager=Wa();var ns,is=T,rs=function(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===i&&(i=e.setTimeout(function(){t.apply(null,r),i=null},n))}}},os=function(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==i&&e.clearTimeout(i),i=e.setTimeout(function(){t.apply(null,r),i=null},n)}}},as=function(e,t){var n=Vi(e,t);return void 0===n||""===n?[]:n.split(" ")},ss=function(e){return void 0!==e.dom().classList},ls=function(e,t){return r=t,o=as(n=e,i="class").concat([r]),Hi(n,i,o.join(" ")),!0;var n,i,r,o},us=function(e,t){return r=t,0<(o=et(as(n=e,i="class"),function(e){return e!==r})).length?Hi(n,i,o.join(" ")):zi(n,i),!1;var n,i,r,o},cs=function(e,t){ss(e)?e.dom().classList.add(t):ls(e,t)},ds=function(e){0===(ss(e)?e.dom().classList:as(e,"class")).length&&zi(e,"class")},fs=function(e,t){return ss(e)&&e.dom().classList.contains(t)},hs=function(e,t){var n=[];return Ze(Kn(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(hs(e,t))}),n},ps=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Ln(o)?[]:Je(o.querySelectorAll(i),$n.fromDom);var i,r,o},ms=function(e,t,n){for(var i=e.dom(),r=ze(n)?n:ke(!1);i.parentNode;){i=i.parentNode;var o=$n.fromDom(i);if(t(o))return Ne.some(o);if(r(o))break}return Ne.none()},gs=function(e,t,n){return E(function(e,t){return t(e)},ms,e,t,n)},vs=function(e,t,n){return ms(e,function(e){return Rn(e,t)},n)},bs=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),Ln(o)?Ne.none():Ne.from(o.querySelector(i)).map($n.fromDom);var i,r,o},ys=function(e,t,n){return E(function(e,t){return Rn(e,t)},vs,e,t,n)},ws=ke("mce-annotation"),xs=ke("data-mce-annotation"),Cs=ke("data-mce-annotation-uid"),_s=function(e,t){var n=e.selection.getRng(),i=$n.fromDom(n.startContainer),r=$n.fromDom(e.getBody()),o=t.fold(function(){return"."+ws()},function(e){return"["+xs()+'="'+e+'"]'}),a=Xn(i,n.startOffset).getOr(i),s=ys(a,o,function(e){return Bn(e,r)}),l=function(e,t){return n=t,(i=e.dom())&&i.hasAttribute&&i.hasAttribute(n)?Ne.some(Vi(e,t)):Ne.none();var n,i};return s.bind(function(t){return l(t,""+Cs()).bind(function(n){return l(t,""+xs()).map(function(t){var i=ks(e,n);return{uid:n,name:t,elements:i}})})})},ks=function(e,t){var n=$n.fromDom(e.getBody());return ps(n,"["+Cs()+'="'+t+'"]')},Ss=function(e,t){var n=Ja({}),i=function(e,t){r(e,function(e){return t(e),e})},r=function(e,t){var i=n.get(),r=t(i.hasOwnProperty(e)?i[e]:{listeners:[],previous:Ja(Ne.none())});i[e]=r,n.set(i)},o=os(function(){var t,o,a,s=n.get(),l=(t=ft(s),(a=We.call(t,0)).sort(o),a);Ze(l,function(t){r(t,function(n){var r=n.previous.get();return _s(e,Ne.some(t)).fold(function(){var e;r.isSome()&&(i(e=t,function(t){Ze(t.listeners,function(t){return t(!1,e)})}),n.previous.set(Ne.none()))},function(e){var t,o,a,s=e.uid,l=e.name,u=e.elements;r.is(s)||(o=s,a=u,i(t=l,function(e){Ze(e.listeners,function(e){return e(!0,t,{uid:o,nodes:Je(a,function(e){return e.dom()})})})}),n.previous.set(Ne.some(s)))}),{previous:n.previous,listeners:n.listeners}})})},30);return e.on("remove",function(){o.cancel()}),e.on("NodeChange",function(){o.throttle()}),{addListener:function(e,t){r(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})}}},Ds=function(e,t){e.on("init",function(){e.serializer.addNodeFilter("span",function(e){Ze(e,function(e){var n;n=e,Ne.from(n.attr(xs())).bind(t.lookup).each(function(t){!1===t.persistent&&e.unwrap()})})})})},$s=0,Ts=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++$s+String(t)},Es=function(t,n){var i,r,o=jn(t).dom(),a=$n.fromDom(o.createDocumentFragment()),s=(i=n,(r=(o||e.document).createElement("div")).innerHTML=i,Kn($n.fromDom(r)));si(a,s),li(t),ai(t,a)},As=function(e,t){return $n.fromDom(e.dom().cloneNode(t))},Os=function(e){return As(e,!1)},Ms=function(e){return As(e,!0)},Ns=function(e,t,n){void 0===n&&(n=Te);var i=new ca(e,t),r=function(e){for(var t;(t=i[e]())&&!Oi(t)&&!n(t););return Ne.from(t).filter(Oi)};return{current:function(){return Ne.from(i.current()).filter(Oi)},next:function(){return r("next")},prev:function(){return r("prev")},prev2:function(){return r("prev2")}}},Ps=function(e,t){var n=t||function(t){return e.isBlock(t)||Ii(t)||Li(t)},i=function(e,t,n,r){if(Oi(e)){var o=r(e,t,e.data);if(-1!==o)return Ne.some({container:e,offset:o})}return n().bind(function(e){return i(e.container,e.offset,n,r)})};return{backwards:function(e,t,r,o){var a=Ns(e,o,n);return i(e,t,function(){return a.prev().map(function(e){return{container:e,offset:e.length}})},r).getOrNull()},forwards:function(e,t,r,o){var a=Ns(e,o,n);return i(e,t,function(){return a.next().map(function(e){return{container:e,offset:0}})},r).getOrNull()}}},Is=Ir,Rs=function(e){return e===Ir},Ls=function(e){return e.replace(/\uFEFF/g,"")},Bs=_i,Fs=Oi,Hs=function(e){return Fs(e)&&(e=e.parentNode),Bs(e)&&e.hasAttribute("data-mce-caret")},js=function(e){return Fs(e)&&Rs(e.data)},Vs=function(e){return Hs(e)||js(e)},zs=function(e){return e.firstChild!==e.lastChild||!Ii(e.firstChild)},Us=function(e){var t=e.container();return!(!e||!Oi(t))&&(t.data.charAt(e.offset())===Is||e.isAtStart()&&js(t.previousSibling))},Ws=function(e){var t=e.container();return!(!e||!Oi(t))&&(t.data.charAt(e.offset()-1)===Is||e.isAtEnd()&&js(t.nextSibling))},qs=function(t,n,i){var r,o=n.ownerDocument.createElement(t);o.setAttribute("data-mce-caret",i?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(((r=e.document.createElement("br")).setAttribute("data-mce-bogus","1"),r));var a=n.parentNode;return i?a.insertBefore(o,n):n.nextSibling?a.insertBefore(o,n.nextSibling):a.appendChild(o),o},Ys=function(e){return Fs(e)&&e.data[0]===Is},Gs=function(e){return Fs(e)&&e.data[e.data.length-1]===Is},Ks=function(e){return e&&e.hasAttribute("data-mce-caret")?(t=e.getElementsByTagName("br"),n=t[t.length-1],$i(n)&&n.parentNode.removeChild(n),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var t,n},Xs=function(e,t,n){return e.isSome()&&t.isSome()?Ne.some(n(e.getOrDie(),t.getOrDie())):Ne.none()},Js=Math.round,Zs=function(e){return e?{left:Js(e.left),top:Js(e.top),bottom:Js(e.bottom),right:Js(e.right),width:Js(e.width),height:Js(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Qs=function(e,t){return e=Zs(e),t||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},el=function(e,t,n){return 0<=e&&e<=Math.min(t.height,n.height)/2},tl=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&el(t.top-e.bottom,e,t)},nl=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&el(t.bottom-e.top,e,t)},il=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},rl=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},ol=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},al=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),sl=function(e){return"string"==typeof e&&768<=e.charCodeAt(0)&&al.test(e)},ll=Ri,ul=Li,cl=Ii,dl=Oi,fl=ki(["script","style","textarea"]),hl=ki(["img","input","textarea","hr","iframe","video","audio","object"]),pl=ki(["table"]),ml=Vs,gl=function(e){return!ml(e)&&(dl(e)?!fl(e.parentNode):hl(e)||cl(e)||pl(e)||vl(e))},vl=function(e){return!1===(_i(t=e)&&"true"===t.getAttribute("unselectable"))&&ul(e);var t},bl=function(e,t){return gl(e)&&function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(vl(e))return!1;if(ll(e))return!0}return!0}(e,t)},yl=_i,wl=gl,xl=Si("display","block table"),Cl=Si("float","left right"),_l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(!e[n](t))return!1;return!0}}(yl,wl,De(Cl)),kl=De(Si("white-space","pre pre-line pre-wrap")),Sl=Oi,Dl=Ii,$l=qa.nodeIndex,Tl=ol,El=function(e){return"createRange"in e?e.createRange():qa.DOM.createRng()},Al=function(e){return e&&/[\r\n\t ]/.test(e)},Ol=function(e){return!!e.setStart&&!!e.setEnd},Ml=function(e){var t,n=e.startContainer,i=e.startOffset;return!!(Al(e.toString())&&kl(n.parentNode)&&Oi(n)&&(t=n.data,Al(t[i-1])||Al(t[i+1])))},Nl=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Pl=function(e){var t,n=e.getClientRects();return t=Zs(0<n.length?n[0]:e.getBoundingClientRect()),!Ol(e)&&Dl(e)&&Nl(t)?function(e){var t=e.ownerDocument,n=El(t),i=t.createTextNode(Rr),r=e.parentNode;r.insertBefore(i,e),n.setStart(i,0),n.setEnd(i,1);var o=Zs(n.getBoundingClientRect());return r.removeChild(i),o}(e):Nl(t)&&Ol(e)?function(e){var t=e.startContainer,n=e.endContainer,i=e.startOffset,r=e.endOffset;if(t===n&&Oi(n)&&0===i&&1===r){var o=e.cloneRange();return o.setEndAfter(n),Pl(o)}return null}(e):t},Il=function(e,t){var n=Qs(e,t);return n.width=1,n.right=n.left+1,n},Rl=function(e){var t,n,i=[],r=function(e){var t,n;0!==e.height&&(0<i.length&&(t=e,n=i[i.length-1],t.left===n.left&&t.top===n.top&&t.bottom===n.bottom&&t.right===n.right)||i.push(e))},o=function(e,t){var n=El(e.ownerDocument);if(t<e.data.length){if(sl(e.data[t]))return i;if(sl(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Ml(n)))return r(Il(Pl(n),!1)),i}0<t&&(n.setStart(e,t-1),n.setEnd(e,t),Ml(n)||r(Il(Pl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Ml(n)||r(Il(Pl(n),!0)))};if(Sl(e.container()))return o(e.container(),e.offset()),i;if(yl(e.container()))if(e.isAtEnd())n=Tl(e.container(),e.offset()),Sl(n)&&o(n,n.data.length),_l(n)&&!Dl(n)&&r(Il(Pl(n),!1));else{if(n=Tl(e.container(),e.offset()),Sl(n)&&o(n,0),_l(n)&&e.isAtEnd())return r(Il(Pl(n),!1)),i;t=Tl(e.container(),e.offset()-1),_l(t)&&!Dl(t)&&(!xl(t)&&!xl(n)&&_l(n)||r(Il(Pl(t),!1))),_l(n)&&r(Il(Pl(n),!0))}return i};(ns=A=A||{}).fromRangeStart=function(e){return ns(e.startContainer,e.startOffset)},ns.fromRangeEnd=function(e){return ns(e.endContainer,e.endOffset)},ns.after=function(e){return ns(e.parentNode,$l(e)+1)},ns.before=function(e){return ns(e.parentNode,$l(e))},ns.isAbove=function(e,t){return Xs(ut(t.getClientRects()),ct(e.getClientRects()),tl).getOr(!1)},ns.isBelow=function(e,t){return Xs(ct(t.getClientRects()),ut(e.getClientRects()),nl).getOr(!1)},ns.isAtStart=function(e){return!!e&&e.isAtStart()},ns.isAtEnd=function(e){return!!e&&e.isAtEnd()},ns.isTextPosition=function(e){return!!e&&Oi(e.container())},ns.isElementPosition=function(e){return!1===ns.isTextPosition(e)};var Ll,Bl,Fl=A,Hl=function(e,t){Oi(t)&&0===t.data.length&&e.remove(t)},jl=function(e,t,n){var i,r,o,a,s,l,u;Pi(n)?(o=e,a=t,s=n,l=Ne.from(s.firstChild),u=Ne.from(s.lastChild),a.insertNode(s),l.each(function(e){return Hl(o,e.previousSibling)}),u.each(function(e){return Hl(o,e.nextSibling)})):(i=e,r=n,t.insertNode(r),Hl(i,r.previousSibling),Hl(i,r.nextSibling))},Vl=Oi,zl=$i,Ul=qa.nodeIndex,Wl=function(e){var t=e.parentNode;return zl(t)?Wl(t):t},ql=function(e){return e?Et(e.childNodes,function(e,t){return zl(t)&&"BR"!==t.nodeName?e=e.concat(ql(t)):e.push(t),e},[]):[]},Yl=function(e){return function(t){return e===t}},Gl=function(e){return(Vl(e)?"text()":e.nodeName.toLowerCase())+"["+function(e){var t,n;t=ql(Wl(e)),n=At(t,Yl(e),e),t=t.slice(0,n+1);var i=Et(t,function(e,n,i){return Vl(n)&&Vl(t[i-1])&&e++,e},0);return t=$t(t,ki([e.nodeName])),(n=At(t,Yl(e),e))-i}(e)+"]"},Kl=function(e,t){var n,i,r,o,a,s=[];return n=t.container(),i=t.offset(),Vl(n)?r=function(e,t){for(;(e=e.previousSibling)&&Vl(e);)t+=e.data.length;return t}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),s.push(Gl(n)),a=function(e,t,n){var i=[];for(t=t.parentNode;!(t===e||n&&n(t));t=t.parentNode)i.push(t);return i}(e,n),a=$t(a,De($i)),(s=s.concat(Dt(a,function(e){return Gl(e)}))).reverse().join("/")+","+r},Xl=function(e,t){var n;if(!t)return null;var i=t.split(","),r=i[0].split("/");n=1<i.length?i[1]:"before";var o=Et(r,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),n=e,i=t[1],r=parseInt(t[2],10),o=ql(n),o=$t(o,function(e,t){return!Vl(e)||!Vl(o[t-1])}),(o=$t(o,ki([i])))[r]):null;var n,i,r,o},e);return o?Vl(o)?function(e,t){for(var n,i=e,r=0;Vl(i);){if(n=i.data.length,r<=t&&t<=r+n){e=i,t-=r;break}if(!Vl(i.nextSibling)){e=i,t=n;break}r+=n,i=i.nextSibling}return Vl(e)&&t>e.data.length&&(t=e.data.length),Fl(e,t)}(o,parseInt(n,10)):(n="after"===n?Ul(o)+1:Ul(o),Fl(o.parentNode,n)):null},Jl=Li,Zl=function(e,t,n,i,r){var o,a=i[r?"startContainer":"endContainer"],s=i[r?"startOffset":"endOffset"],l=[],u=0,c=e.getRoot();for(Oi(a)?l.push(n?function(e,t,n){var i,r;for(r=e(t.data.slice(0,n)).length,i=t.previousSibling;i&&Oi(i);i=i.previousSibling)r+=e(i.data).length;return r}(t,a,s):s):(s>=(o=a.childNodes).length&&o.length&&(u=1,s=Math.max(0,o.length-1)),l.push(e.nodeIndex(o[s],n)+u));a&&a!==c;a=a.parentNode)l.push(e.nodeIndex(a,n));return l},Ql=function(e,t,n){var i=0;return Sn.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void i++}),i},eu=function(e,t){var n,i,r,o=t?"start":"end";n=e[o+"Container"],i=e[o+"Offset"],_i(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(t?i:i-1,r.length-1)])&&(i=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,i))},tu=function(e){return eu(e,!0),eu(e,!1),e},nu=function(e,t){var n;if(_i(e)&&(e=ol(e,t),Jl(e)))return e;if(Vs(e)){if(Oi(e)&&Hs(e)&&(e=e.parentNode),n=e.previousSibling,Jl(n))return n;if(n=e.nextSibling,Jl(n))return n}},iu=function(e,t,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Jl(i)||"IMG"===r)return{name:r,index:Ql(n.dom,r,i)};var a,s,l,u,c,d,f,h=nu((a=o).startContainer,a.startOffset)||nu(a.endContainer,a.endOffset);return h?{name:r=h.tagName,index:Ql(n.dom,r,h)}:(s=e,u=t,c=o,d=(l=n).dom,(f={}).start=Zl(d,s,u,c,!0),l.isCollapsed()||(f.end=Zl(d,s,u,c,!1)),f)},ru=function(e,t,n){var i={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",i,"&#xFEFF;"):e.create("span",i)},ou=function(e,t){var n=e.dom,i=e.getRng(),r=n.uniqueId(),o=e.isCollapsed(),a=e.getNode(),s=a.nodeName;if("IMG"===s)return{name:s,index:Ql(n,s,a)};var l=tu(i.cloneRange());if(!o){l.collapse(!1);var u=ru(n,r+"_end",t);jl(n,l,u)}(i=tu(i)).collapse(!0);var c=ru(n,r+"_start",t);return jl(n,i,c),e.moveToBookmark({id:r,keep:!0}),{id:r}},au=function(e,t,n){return 2===t?iu(Ls,n,e):3===t?(r=(i=e).getRng(),{start:Kl(i.dom.getRoot(),Fl.fromRangeStart(r)),end:Kl(i.dom.getRoot(),Fl.fromRangeEnd(r))}):t?{rng:e.getRng()}:ou(e,!1);var i,r},su=t(iu,Se,!0),lu=qa.DOM,uu=function(e,t,n){var i=e.getParam(t,n);if(-1===i.indexOf("="))return i;var r=e.getParam(t,"","hash");return r.hasOwnProperty(e.id)?r[e.id]:n},cu=function(e){return e.getParam("content_security_policy","")},du=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return!1===t?"":!0===t?"p":t},fu=function(e){return e.getParam("forced_root_block_attrs",{})},hu=function(e){return e.getParam("automatic_uploads",!0,"boolean")},pu=function(e){return e.getParam("icons","","string")},mu=function(e){return e.getParam("referrer_policy","","string")},gu=function(e){return e.getParam("language","en","string")},vu=function(e){return e.getParam("indent_use_margin",!1)},bu=function(e){return e.getParam("object_resizing")},yu=function(e){return e.getParam("event_root")},wu=function(e){return e.getParam("theme")},xu=function(e){return!1!==e.getParam("inline_boundaries")},Cu=function(e){return e.getParam("plugins")},_u=_i,ku=Oi,Su=function(e){var t=e.parentNode;t&&t.removeChild(e)},Du=function(e,t){0===t.length?Su(e):e.nodeValue=t},$u=function(e){var t=Ls(e);return{count:e.length-t.length,text:t}},Tu=function(e,t){return Mu(e),t},Eu=function(e,t){var n,i,r=t.container(),o=(n=dt(r.childNodes),(-1===(i=Ge(n,e))?Ne.none():Ne.some(i)).map(function(e){return e<t.offset()?Fl(r,t.offset()-1):t}).getOr(t));return Mu(e),o},Au=function(e,t){return ku(e)&&t.container()===e?(i=t,r=$u((n=e).data.substr(0,i.offset())),o=$u(n.data.substr(i.offset())),0<(a=r.text+o.text).length?(Du(n,a),Fl(n,i.offset()-r.count)):i):Tu(e,t);var n,i,r,o,a},Ou=function(e,t){return Fl.isTextPosition(t)?Au(e,t):(n=e,((i=t).container()===n.parentNode?Eu:Tu)(n,i));var n,i},Mu=function(e){if(_u(e)&&Vs(e)&&(zs(e)?e.removeAttribute("data-mce-caret"):Su(e)),ku(e)){var t=Ls(function(e){try{return e.nodeValue}catch(t){return""}}(e));Du(e,t)}},Nu=dn().browser,Pu=Li,Iu=function(e,t,n){var i,r,o,a,s,l=Qs(t.getBoundingClientRect(),n);return o="BODY"===e.tagName?(i=e.ownerDocument.documentElement,r=e.scrollLeft||i.scrollLeft,e.scrollTop||i.scrollTop):(s=e.getBoundingClientRect(),r=e.scrollLeft-s.left,e.scrollTop-s.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,0<(a=t.offsetWidth-t.clientWidth)&&(n&&(a*=-1),l.left+=a,l.right+=a),l},Ru=function(e,t,n,i){var r,o,a=Ja(Ne.none()),s=du(e),l=0<s.length?s:"p",u=function(){!function(e){var t,n,i,r,o=ps($n.fromDom(e),"*[contentEditable=false]");for(i=0;i<o.length;i++)n=(t=o[i].dom()).previousSibling,Gs(n)&&(1===(r=n.data).length?n.parentNode.removeChild(n):n.deleteData(r.length-1,1)),n=t.nextSibling,Ys(n)&&(1===(r=n.data).length?n.parentNode.removeChild(n):n.deleteData(0,1))}(t),o&&(Mu(o),o=null),a.get().each(function(e){ua(e.caret).remove(),a.set(Ne.none())}),r&&(Ia.clearInterval(r),r=null)},c=function(){r=Ia.setInterval(function(){i()?ua("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):ua("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")},500)};return{show:function(e,i){var r,s,d;if(u(),_i(d=i)&&/^(TD|TH)$/i.test(d.tagName))return null;if(!n(i))return o=function(e,t){var n,i=e.ownerDocument.createTextNode(Is),r=e.parentNode;if(t){if(n=e.previousSibling,Fs(n)){if(Vs(n))return n;if(Gs(n))return n.splitText(n.data.length-1)}r.insertBefore(i,e)}else{if(n=e.nextSibling,Fs(n)){if(Vs(n))return n;if(Ys(n))return n.splitText(1),n}e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i)}return i}(i,e),s=i.ownerDocument.createRange(),Pu(o.nextSibling)?(s.setStart(o,0),s.setEnd(o,0)):(s.setStart(o,1),s.setEnd(o,1)),s;o=qs(l,i,e),r=Iu(t,i,e),ua(o).css("top",r.top);var f=ua('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(r).appendTo(t)[0];return a.set(Ne.some({caret:f,element:i,before:e})),a.get().each(function(t){e&&ua(t.caret).addClass("mce-visual-caret-before")}),c(),(s=i.ownerDocument.createRange()).setStart(o,0),s.setEnd(o,0),s},hide:u,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){a.get().each(function(e){var n=Iu(t,e.element,e.before);ua(e.caret).css(Mt({},n))})},destroy:function(){return Ia.clearInterval(r)}}},Lu=function(){return Nu.isIE()||Nu.isEdge()||Nu.isFirefox()},Bu=function(e){return Pu(e)||Ti(e)&&Lu()},Fu=Li,Hu=Si("display","block table table-cell table-caption list-item"),ju=Vs,Vu=Hs,zu=_i,Uu=gl,Wu=function(e,t){for(var n;n=e(t);)if(!Vu(n))return n;return null},qu=function(e,t,n,i,r){var o=new ca(e,i);if(t<0){if((Fu(e)||Vu(e))&&n(e=Wu(o.prev,!0)))return e;for(;e=Wu(o.prev,r);)if(n(e))return e}if(0<t){if((Fu(e)||Vu(e))&&n(e=Wu(o.next,!0)))return e;for(;e=Wu(o.next,r);)if(n(e))return e}return null},Yu=function(e,t){for(;e&&e!==t;){if(Hu(e))return e;e=e.parentNode}return null},Gu=function(e,t,n){return Yu(e.container(),n)===Yu(t.container(),n)},Ku=function(e,t){if(!t)return null;var n=t.container(),i=t.offset();return zu(n)?n.childNodes[i+e]:null},Xu=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Ju=function(e,t,n){var i,r,o,a;for(r=e?"previousSibling":"nextSibling";n&&n!==t;){if(i=n[r],ju(i)&&(i=i[r]),Fu(i)){if(a=n,Yu(i,o=t)===Yu(a,o))return i;break}if(Uu(i))break;n=n.parentNode}return null},Zu=t(Xu,!0),Qu=t(Xu,!1),ec=function(e,n,i){var r,o,a,s=t(Ju,!0,n),l=t(Ju,!1,n);o=i.startContainer;var u=i.startOffset;if(Hs(o)){if(zu(o)||(o=o.parentNode),"before"===(a=o.getAttribute("data-mce-caret"))&&(r=o.nextSibling,Bu(r)))return Zu(r);if("after"===a&&(r=o.previousSibling,Bu(r)))return Qu(r)}if(!i.collapsed)return i;if(Oi(o)){if(ju(o)){if(1===e){if(r=l(o))return Zu(r);if(r=s(o))return Qu(r)}if(-1===e){if(r=s(o))return Qu(r);if(r=l(o))return Zu(r)}return i}if(Gs(o)&&u>=o.data.length-1)return 1===e&&(r=l(o))?Zu(r):i;if(Ys(o)&&u<=1)return-1===e&&(r=s(o))?Qu(r):i;if(u===o.data.length)return(r=l(o))?Zu(r):i;if(0===u)return(r=s(o))?Qu(r):i}return i},tc=function(e,t){return Ne.from(Ku(e?0:-1,t)).filter(Fu)},nc=function(e,t,n){var i=ec(e,t,n);return-1===e?A.fromRangeStart(i):A.fromRangeEnd(i)},ic=function(e){return Ne.from(e.getNode()).map($n.fromDom)},rc=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},oc=function(e,t){var n=Gu(e,t);return!(n||!Ii(e.getNode()))||n};(Bl=Ll=Ll||{})[Bl.Backwards=-1]="Backwards",Bl[Bl.Forwards=1]="Forwards";var ac,sc=Li,lc=Oi,uc=_i,cc=Ii,dc=gl,fc=function(e){return hl(e)||!!vl(t=e)&&!0!==nt(dt(t.getElementsByTagName("*")),function(e,t){return e||ll(t)},!1);var t},hc=bl,pc=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},mc=function(e,t){if(0<e){if(dc(t.previousSibling)&&!lc(t.previousSibling))return Fl.before(t);if(lc(t))return Fl(t,0)}if(e<0){if(dc(t.nextSibling)&&!lc(t.nextSibling))return Fl.after(t);if(lc(t))return Fl(t,t.data.length)}return e<0&&!cc(t)?Fl.after(t):Fl.before(t)},gc=function(e,t,n){var i,r,o,a;if(!uc(n)||!t)return null;if(t.isEqual(Fl.after(n))&&n.lastChild){if(a=Fl.after(n.lastChild),e<0&&dc(n.lastChild)&&uc(n.lastChild))return cc(n.lastChild)?Fl.before(n.lastChild):a}else a=t;var s,l,u,c=a.container(),d=a.offset();if(lc(c)){if(e<0&&0<d)return Fl(c,--d);if(0<e&&d<c.length)return Fl(c,++d);i=c}else{if(e<0&&0<d&&(r=pc(c,d-1),dc(r)))return!fc(r)&&(o=qu(r,e,hc,r))?lc(o)?Fl(o,o.data.length):Fl.after(o):lc(r)?Fl(r,r.data.length):Fl.before(r);if(0<e&&d<c.childNodes.length&&(r=pc(c,d),dc(r)))return cc(r)?(s=n,(u=(l=r).nextSibling)&&dc(u)?lc(u)?Fl(u,0):Fl.before(u):gc(Ll.Forwards,Fl.after(l),s)):!fc(r)&&(o=qu(r,e,hc,r))?lc(o)?Fl(o,0):Fl.before(o):lc(r)?Fl(r,0):Fl.after(r);i=r||a.getNode()}if((0<e&&a.isAtEnd()||e<0&&a.isAtStart())&&(i=qu(i,e,ke(!0),n,!0),hc(i,n)))return mc(e,i);r=qu(i,e,hc,n);var f=Ot(et(function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n}(c,n),sc));return!f||r&&f.contains(r)?r?mc(e,r):null:a=0<e?Fl.after(f):Fl.before(f)},vc=function(e){return{next:function(t){return gc(Ll.Forwards,t,e)},prev:function(t){return gc(Ll.Backwards,t,e)}}},bc=function(e){return Fl.isTextPosition(e)?0===e.offset():gl(e.getNode())},yc=function(e){if(Fl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return gl(e.getNode(!0))},wc=function(e,t){return!Fl.isTextPosition(e)&&!Fl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},xc=function(e,t,n){return e?!wc(t,n)&&(i=t,!(!Fl.isTextPosition(i)&&Ii(i.getNode())))&&yc(t)&&bc(n):!wc(n,t)&&bc(t)&&yc(n);var i},Cc=function(e,t,n){var i=vc(t);return Ne.from(e?i.next(n):i.prev(n))},_c=function(e,t,n){return Cc(e,t,n).bind(function(i){return Gu(n,i,t)&&xc(e,n,i)?Cc(e,t,i):Ne.some(i)})},kc=function(e,t,n,i){return _c(e,t,n).bind(function(n){return i(n)?kc(e,t,n,i):Ne.some(n)})},Sc=function(e,t){var n,i,r,o,a,s=e?t.firstChild:t.lastChild;return Oi(s)?Ne.some(Fl(s,e?0:s.data.length)):s?gl(s)?Ne.some(e?Fl.before(s):Ii(a=s)?Fl.before(a):Fl.after(a)):(i=t,r=s,o=(n=e)?Fl.before(r):Fl.after(r),Cc(n,i,o)):Ne.none()},Dc=t(Cc,!0),$c=t(Cc,!1),Tc=t(Sc,!0),Ec=t(Sc,!1),Ac="_mce_caret",Oc=function(e){return _i(e)&&e.id===Ac},Mc=function(e,t){for(;t&&t!==e;){if(t.id===Ac)return t;t=t.parentNode}return null},Nc=function(e,t){return _i(t)&&e.isBlock(t)&&!t.innerHTML&&!wn.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Pc=function(e,t){return Ec(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Ic=function(e,t,n){return!(!1!==t.hasChildNodes()||!Mc(e,t)||(r=n,o=(i=t).ownerDocument.createTextNode(Is),i.appendChild(o),r.setStart(o,0),r.setEnd(o,0),0));var i,r,o},Rc=function(e,t,n,i){var r,o,a,s,l=n[t?"start":"end"],u=e.getRoot();if(l){for(a=l[0],o=u,r=l.length-1;1<=r;r--){if(s=o.childNodes,Ic(u,o,i))return!0;if(l[r]>s.length-1)return!!Ic(u,o,i)||Pc(o,i);o=s[l[r]]}3===o.nodeType&&(a=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(a=Math.min(l[0],o.childNodes.length)),t?i.setStart(o,a):i.setEnd(o,a)}return!0},Lc=function(e){return Oi(e)&&0<e.data.length},Bc=function(e,t,n){var i,r,o,a,s,l,u=e.get(n.id+"_"+t),c=n.keep;if(u){if(i=u.parentNode,r="start"===t?c?u.hasChildNodes()?(i=u.firstChild,1):Lc(u.nextSibling)?(i=u.nextSibling,0):Lc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)+1):e.nodeIndex(u):c?u.hasChildNodes()?(i=u.firstChild,
1):Lc(u.previousSibling)?(i=u.previousSibling,u.previousSibling.data.length):(i=u.parentNode,e.nodeIndex(u)):e.nodeIndex(u),s=i,l=r,!c){for(a=u.previousSibling,o=u.nextSibling,Sn.each(Sn.grep(u.childNodes),function(e){Oi(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});u=e.get(n.id+"_"+t);)e.remove(u,!0);a&&o&&a.nodeType===o.nodeType&&Oi(a)&&!wn.opera&&(r=a.nodeValue.length,a.appendData(o.nodeValue),e.remove(o),s=a,l=r)}return Ne.some(Fl(s,l))}return Ne.none()},Fc=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p,m,g=e.dom;if(t){if(m=t,Sn.isArray(m.start))return h=t,p=(f=g).createRng(),Rc(f,!0,h,p)&&Rc(f,!1,h,p)?Ne.some(p):Ne.none();if("string"==typeof t.start)return Ne.some((u=t,d=(l=g).createRng(),c=Xl(l.getRoot(),u.start),d.setStart(c.container(),c.offset()),c=Xl(l.getRoot(),u.end),d.setEnd(c.container(),c.offset()),d));if(t.hasOwnProperty("id"))return a=Bc(r=g,"start",o=t),s=Bc(r,"end",o),Xs(a,s.or(a),function(e,t){var n=r.createRng();return n.setStart(Nc(r,e.container()),e.offset()),n.setEnd(Nc(r,t.container()),t.offset()),n});if(t.hasOwnProperty("name"))return n=g,i=t,Ne.from(n.select(i.name)[i.index]).map(function(e){var t=n.createRng();return t.selectNode(e),t});if(t.hasOwnProperty("rng"))return Ne.some(t.rng)}return Ne.none()},Hc=function(e,t,n){return au(e,t,n)},jc=function(e,t){Fc(e,t).each(function(t){e.setRng(t)})},Vc=function(e){return _i(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},zc=(ac=Rr,function(e){return ac===e}),Uc=function(e){return""!==e&&-1!==" \f\n\r\t\x0B".indexOf(e)},Wc=function(e){return!Uc(e)&&!zc(e)},qc=function(e){return!!e.nodeType},Yc=function(e,t,n){var i,r,o,a,s=n.startOffset,l=n.startContainer;if(!(n.startContainer===n.endContainer&&(a=n.startContainer.childNodes[n.startOffset])&&/^(IMG)$/.test(a.nodeName)||1!==l.nodeType))for(s<(o=l.childNodes).length?(l=o[s],i=new ca(l,e.getParent(l,e.isBlock))):(l=o[o.length-1],(i=new ca(l,e.getParent(l,e.isBlock))).next(!0)),r=i.current();r;r=i.next())if(3===r.nodeType&&!Jc(r))return n.setStart(r,0),void t.setRng(n)},Gc=function(e,t,n){if(e){var i=t?"nextSibling":"previousSibling";for(e=n?e:e[i];e;e=e[i])if(1===e.nodeType||!Jc(e))return e}},Kc=function(e,t){return qc(t)&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},Xc=function(e,t,n){return e.schema.isValidChild(t,n)},Jc=function(e){return e&&Oi(e)&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Zc=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},Qc=function(e,t){return e=""+((e=e||"").nodeName||e),t=""+((t=t||"").nodeName||t),e.toLowerCase()===t.toLowerCase()},ed=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},td=function(e,t,n){return ed(e,e.getStyle(t,n),n)},nd=function(e,t){var n;return e.getParent(t,function(t){return(n=e.getStyle(t,"text-decoration"))&&"none"!==n}),n},id=function(e,t,n){return e.getParents(t,n,e.getRoot())},rd=function(e,t,n){var i=["inline","block","selector","attributes","styles","classes"],r=function(e){return wt(e,function(e,t){return Xe(i,function(e){return e===t})})};return Xe(e.formatter.get(t),function(t){var i=r(t);return Xe(e.formatter.get(n),function(e){var t,n,o,a=r(e);return t=i,n=a,void 0===o&&(o=xe),we(o).eq(t,n)})})},od=Vc,ad=id,sd=Jc,ld=Kc,ud=function(e,t){for(var n=t;n;){if(_i(n)&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},cd=function(e,t,n,i){for(var r=t.data,o=n;e?0<=o:o<r.length;e?o--:o++)if(i(r.charAt(o)))return e?o+1:o;return-1},dd=function(e,t,n){return cd(e,t,n,function(e){return zc(e)||Uc(e)})},fd=function(e,t,n){return cd(e,t,n,Wc)},hd=function(e,t,n,i,r,o){var a,s=e.getParent(n,e.isBlock)||t,l=function(t,n,i){var o=Ps(e),l=r?o.backwards:o.forwards;return Ne.from(l(t,n,function(e,t){return od(e.parentNode)?-1:i(r,a=e,t)},s))};return l(n,i,dd).bind(function(e){return o?l(e.container,e.offset+(r?-1:0),fd):Ne.some(e)}).orThunk(function(){return a?Ne.some({container:a,offset:r?0:a.length}):Ne.none()})},pd=function(e,t,n,i,r){Oi(i)&&0===i.nodeValue.length&&i[r]&&(i=i[r]);for(var o=ad(e,i),a=0;a<o.length;a++)for(var s=0;s<t.length;s++){var l=t[s];if(!("collapsed"in l&&l.collapsed!==n.collapsed)&&e.is(o[a],l.selector))return o[a]}return i},md=function(e,t,n,i){var r,o=e.dom,a=o.getRoot();if(t[0].wrapper||(r=o.getParent(n,t[0].block,a)),!r){var s=o.getParent(n,"LI,TD,TH");r=o.getParent(Oi(n)?n.parentNode:n,function(t){return t!==a&&ld(e,t)},s)}if(r&&t[0].wrapper&&(r=ad(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!Qc(r,"br")););return r||n},gd=function(e,t,n,i,r,o,a){var s,l,u;s=l=a?n:r;var c,d=a?"previousSibling":"nextSibling",f=e.getRoot();if(Oi(s)&&!sd(s)&&(a?0<i:o<s.nodeValue.length))return s;for(;;){if(!t[0].block_expand&&e.isBlock(l))return l;for(u=l[d];u;u=u[d])if(!od(u)&&!sd(u)&&("BR"!==(c=u).nodeName||!c.getAttribute("data-mce-bogus")||c.nextSibling))return l;if(l===f||l.parentNode===f){s=l;break}l=l.parentNode}return s},vd=function(e,t,n,i){void 0===i&&(i=!1);var r=t.startContainer,o=t.startOffset,a=t.endContainer,s=t.endOffset,l=e.dom;return _i(r)&&r.hasChildNodes()&&(r=ol(r,o),Oi(r)&&(o=0)),_i(a)&&a.hasChildNodes()&&(a=ol(a,t.collapsed?s:s-1),Oi(a)&&(s=a.nodeValue.length)),r=ud(l,r),a=ud(l,a),(od(r.parentNode)||od(r))&&(r=od(r)?r:r.parentNode,r=t.collapsed?r.previousSibling||r:r.nextSibling||r,Oi(r)&&(o=t.collapsed?r.length:0)),(od(a.parentNode)||od(a))&&(a=od(a)?a:a.parentNode,a=t.collapsed?a.nextSibling||a:a.previousSibling||a,Oi(a)&&(s=t.collapsed?0:a.length)),t.collapsed&&(hd(l,e.getBody(),r,o,!0,i).each(function(e){var t=e.container,n=e.offset;r=t,o=n}),hd(l,e.getBody(),a,s,!1,i).each(function(e){var t=e.container,n=e.offset;a=t,s=n})),(n[0].inline||n[0].block_expand)&&(n[0].inline&&Oi(r)&&0!==o||(r=gd(l,n,r,o,a,s,!0)),n[0].inline&&Oi(a)&&s!==a.nodeValue.length||(a=gd(l,n,r,o,a,s,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(r=pd(l,n,t,r,"previousSibling"),a=pd(l,n,t,a,"nextSibling")),(n[0].block||n[0].selector)&&(r=md(e,n,r,"previousSibling"),a=md(e,n,a,"nextSibling"),n[0].block&&(l.isBlock(r)||(r=gd(l,n,r,o,a,s,!0)),l.isBlock(a)||(a=gd(l,n,r,o,a,s,!1)))),_i(r)&&(o=l.nodeIndex(r),r=r.parentNode),_i(a)&&(s=l.nodeIndex(a)+1,a=a.parentNode),{startContainer:r,startOffset:o,endContainer:a,endOffset:s}},bd=function(e,t){var n=e.childNodes;return t>=n.length?t=n.length-1:t<0&&(t=0),n[t]||e},yd=function(e,t,n){var i=t.startContainer,r=t.startOffset,o=t.endContainer,a=t.endOffset,s=function(e){var t;return 3===(t=e[0]).nodeType&&t===i&&r>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===a&&0<e.length&&t===o&&3===t.nodeType&&e.splice(e.length-1,1),e},l=function(e,t,n){for(var i=[];e&&e!==n;e=e[t])i.push(e);return i},u=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},c=function(e,t,i){for(var r=i?"nextSibling":"previousSibling",o=e,a=o.parentNode;o&&o!==t;o=a){a=o.parentNode;var u=l(o===e?o:o[r],r);u.length&&(i||u.reverse(),n(s(u)))}};if(1===i.nodeType&&i.hasChildNodes()&&(i=bd(i,r)),1===o.nodeType&&o.hasChildNodes()&&(o=bd(o,a-1)),i===o)return n(s([i]));for(var d=e.findCommonAncestor(i,o),f=i;f;f=f.parentNode){if(f===o)return c(i,d,!0);if(f===d)break}for(f=o;f;f=f.parentNode){if(f===i)return c(o,d);if(f===d)break}var h=u(i,d)||i,p=u(o,d)||o;c(i,h,!0);var m=l(h===i?h:h.nextSibling,"nextSibling",p===o?p.nextSibling:p);m.length&&n(s(m)),c(o,p)},wd=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},xd=function(e){return et(ot(e,function(e){var t=rl(e);return t?[$n.fromDom(t)]:[]}),sr)},Cd=function(e,t){var n=ps(t,"td[data-mce-selected],th[data-mce-selected]");return 0<n.length?n:xd(e)},_d=function(e){return Cd(wd(e.selection.getSel()),$n.fromDom(e.getBody()))},kd=function(e){return Jn(e).fold(ke([e]),function(t){return[e].concat(kd(t))})},Sd=function(e){return Zn(e).fold(ke([e]),function(t){return"br"===Tn(t)?Wn(t).map(function(t){return[e].concat(Sd(t))}).getOr([]):[e].concat(Sd(t))})},Dd=function(e,n){return Xs((s=(a=n).startContainer,l=a.startOffset,Oi(s)?0===l?Ne.some($n.fromDom(s)):Ne.none():Ne.from(s.childNodes[l]).map($n.fromDom)),(r=(i=n).endContainer,o=i.endOffset,Oi(r)?o===r.data.length?Ne.some($n.fromDom(r)):Ne.none():Ne.from(r.childNodes[o-1]).map($n.fromDom)),function(n,i){var r=it(kd(e),t(Bn,n)),o=it(Sd(e),t(Bn,i));return r.isSome()&&o.isSome()}).getOr(!1);var i,r,o,a,s,l},$d=function(e,t,n,i){var r=n,o=new ca(n,r),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Sn.trim(n.nodeValue).length)return void(i?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?t.setStart(r,0):t.setEnd(r,r.childNodes.length))},Td=function(e){var t=e.selection.getSel();return t&&0<t.rangeCount},Ed=function(e,t){var n=_d(e);0<n.length?Ze(n,function(n){var i=n.dom(),r=e.dom.createRng();r.setStartBefore(i),r.setEndAfter(i),t(r,!0)}):t(e.selection.getRng(),!1)},Ad=function(e,t,n){var i=ou(e,t);n(i),e.moveToBookmark(i)},Od=function(e,t){var n=function(t){return e(t)?Ne.from(t.dom().nodeValue):Ne.none()};return{get:function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return n(i).getOr("")},getOption:n,set:function(n,i){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=i}}}(Mn,"text"),Md=function(e){return Od.get(e)},Nd=function(e,t,n,i){return Un(t).fold(function(){return"skipping"},function(r){return"br"===i||Mn(a=t)&&Md(a)===Ir?"valid":On(o=t)&&fs(o,ws())?"existing":Oc(t)?"caret":Xc(e,n,i)&&Xc(e,Tn(r),n)?"valid":"invalid-child";var o,a})},Pd=function(e,t,n,i){var r=t.uid,o=void 0===r?Ts("mce-annotation"):r,a=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["uid"]),s=$n.fromTag("span",e);cs(s,ws()),Hi(s,""+Cs(),o),Hi(s,""+xs(),n);var l,u=i(o,a),c=u.attributes,d=void 0===c?{}:c,f=u.classes,h=void 0===f?[]:f;return ji(s,d),l=s,Ze(h,function(e){cs(l,e)}),s},Id=function(e,t,n,i,r){var o=[],a=Pd(e.getDoc(),r,n,i),s=Ja(Ne.none()),l=function(){s.set(Ne.none())},u=function(e){Ze(e,c)},c=function(t){var n,i;switch(Nd(e,t,"span",Tn(t))){case"invalid-child":l();var r=Kn(t);u(r),l();break;case"valid":var c=s.get().getOrThunk(function(){var e=Os(a);return o.push(e),s.set(Ne.some(e)),e});ii(n=t,i=c),ai(i,n)}};return yd(e.dom,t,function(e){var t;l(),t=Je(e,$n.fromDom),u(t)}),o},Rd=function(e,t,n,i){e.undoManager.transact(function(){var r,o,a,s=e.selection,l=s.getRng(),u=0<_d(e).length;if(l.collapsed&&!u&&(a=vd(r=e,o=l,[{inline:!0}]),o.setStart(a.startContainer,a.startOffset),o.setEnd(a.endContainer,a.endOffset),r.selection.setRng(o)),s.getRng().collapsed&&!u){var c=Pd(e.getDoc(),i,t,n.decorate);Es(c,Rr),s.getRng().insertNode(c.dom()),s.select(c.dom())}else Ad(s,!1,function(){Ed(e,function(r){Id(e,r,t,n.decorate,i)})})})},Ld=function(e){var t,n=(t={},{register:function(e,n){t[e]={name:e,settings:n}},lookup:function(e){return t.hasOwnProperty(e)?Ne.from(t[e]).map(function(e){return e.settings}):Ne.none()}});Ds(e,n);var i=Ss(e);return{register:function(e,t){n.register(e,t)},annotate:function(t,i){n.lookup(t).each(function(n){Rd(e,t,n,i)})},annotationChanged:function(e,t){i.addListener(e,t)},remove:function(t){_s(e,Ne.some(t)).each(function(e){var t=e.elements;Ze(t,ci)})},getAll:function(t){var n,i,r,o,a,s=(n=e,i=t,r=$n.fromDom(n.getBody()),o=ps(r,"["+xs()+'="'+i+'"]'),a={},Ze(o,function(e){var t=Vi(e,Cs()),n=a.hasOwnProperty(t)?a[t]:[];a[t]=n.concat([e])}),a);return mt(s,function(e){return Je(e,function(e){return e.dom()})})}}},Bd=/^[ \t\r\n]*$/,Fd={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},Hd=function(e,t,n){var i=n?"lastChild":"firstChild",r=n?"prev":"next";if(e[i])return e[i];if(e!==t){var o=e[r];if(o)return o;for(var a=e.parent;a&&a!==t;a=a.parent)if(o=a[r])return o}},jd=function(e){if(!Bd.test(e.value))return!1;var t=e.parent;return!t||"span"===t.name&&!t.attr("style")||!/^[ ]+$/.test(e.value)},Vd=function(e){var t="a"===e.name&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||t},zd=(O.create=function(e,t){var n=new O(e,Fd[e]||1);return t&&pt(t,function(e,t){n.attr(t,e)}),n},O.prototype.replace=function(e){return e.parent&&e.remove(),this.insert(e,this),this.remove(),this},O.prototype.attr=function(e,t){var n,i=this;if("string"!=typeof e)return void 0!==e&&null!==e&&pt(e,function(e,t){i.attr(t,e)}),i;if(n=i.attributes){if(void 0===t)return n.map[e];if(null===t){if(e in n.map){delete n.map[e];for(var r=n.length;r--;)if(n[r].name===e)return n.splice(r,1),i}return i}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,i}},O.prototype.clone=function(){var e,t=new O(this.name,this.type);if(e=this.attributes){var n=[];n.map={};for(var i=0,r=e.length;i<r;i++){var o=e[i];"id"!==o.name&&(n[n.length]={name:o.name,value:o.value},n.map[o.name]=o.value)}t.attributes=n}return t.value=this.value,t.shortEnded=this.shortEnded,t},O.prototype.wrap=function(e){return this.parent.insert(e,this),e.append(this),this},O.prototype.unwrap=function(){for(var e=this.firstChild;e;){var t=e.next;this.insert(e,this,!0),e=t}this.remove()},O.prototype.remove=function(){var e=this.parent,t=this.next,n=this.prev;return e&&(e.firstChild===this?(e.firstChild=t)&&(t.prev=null):n.next=t,e.lastChild===this?(e.lastChild=n)&&(n.next=null):t.prev=n,this.parent=this.next=this.prev=null),this},O.prototype.append=function(e){e.parent&&e.remove();var t=this.lastChild;return t?((t.next=e).prev=t,this.lastChild=e):this.lastChild=this.firstChild=e,e.parent=this,e},O.prototype.insert=function(e,t,n){e.parent&&e.remove();var i=t.parent||this;return n?(t===i.firstChild?i.firstChild=e:t.prev.next=e,e.prev=t.prev,(e.next=t).prev=e):(t===i.lastChild?i.lastChild=e:t.next.prev=e,e.next=t.next,(e.prev=t).next=e),e.parent=i,e},O.prototype.getAll=function(e){for(var t=[],n=this.firstChild;n;n=Hd(n,this))n.name===e&&t.push(n);return t},O.prototype.empty=function(){if(this.firstChild){for(var e=[],t=this.firstChild;t;t=Hd(t,this))e.push(t);for(var n=e.length;n--;)(t=e[n]).parent=t.firstChild=t.lastChild=t.next=t.prev=null}return this.firstChild=this.lastChild=null,this},O.prototype.isEmpty=function(e,t,n){void 0===t&&(t={});var i=this.firstChild;if(Vd(this))return!1;if(i)do{if(1===i.type){if(i.attr("data-mce-bogus"))continue;if(e[i.name])return!1;if(Vd(i))return!1}if(8===i.type)return!1;if(3===i.type&&!jd(i))return!1;if(3===i.type&&i.parent&&t[i.parent.name]&&Bd.test(i.value))return!1;if(n&&n(i))return!1}while(i=Hd(i,this));return!0},O.prototype.walk=function(e){return Hd(this,null,e)},O),Ud=Sn.makeMap,Wd=function(e){var t=[],n=(e=e||{}).indent,i=Ud(e.indent_before||""),r=Ud(e.indent_after||""),o=kr.getEncodeFunc(e.entity_encoding||"raw",e.entities),a="html"===e.element_format;return{start:function(e,s,l){var u,c,d,f;if(n&&i[e]&&0<t.length&&0<(f=t[t.length-1]).length&&"\n"!==f&&t.push("\n"),t.push("<",e),s)for(u=0,c=s.length;u<c;u++)d=s[u],t.push(" ",d.name,'="',o(d.value,!0),'"');t[t.length]=!l||a?">":" />",l&&n&&r[e]&&0<t.length&&0<(f=t[t.length-1]).length&&"\n"!==f&&t.push("\n")},end:function(e){var i;t.push("</",e,">"),n&&r[e]&&0<t.length&&0<(i=t[t.length-1]).length&&"\n"!==i&&t.push("\n")},text:function(e,n){0<e.length&&(t[t.length]=n?e:o(e))},cdata:function(e){t.push("<![CDATA[",e,"]]>")},comment:function(e){t.push("<!--",e,"-->")},pi:function(e,i){i?t.push("<?",e," ",o(i),"?>"):t.push("<?",e,"?>"),n&&t.push("\n")},doctype:function(e){t.push("<!DOCTYPE",e,">",n?"\n":"")},reset:function(){t.length=0},getContent:function(){return t.join("").replace(/\n$/,"")}}},qd=function(e,t){void 0===t&&(t=i());var n=Wd(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(i){var r=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)for(;a(e),e=e.next;);}};n.reset();var a=function(e){var i,s,l,u,c,d,f,h,p,m=o[e.type];if(m)m(e);else{if(i=e.name,s=e.shortEnded,l=e.attributes,r&&l&&1<l.length&&((d=[]).map={},p=t.getElementRule(e.name))){for(f=0,h=p.attributesOrder.length;f<h;f++)(u=p.attributesOrder[f])in l.map&&(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));for(f=0,h=l.length;f<h;f++)(u=l[f].name)in d.map||(c=l.map[u],d.map[u]=c,d.push({name:u,value:c}));l=d}if(n.start(e.name,l,s),!s){if(e=e.firstChild)for(;a(e),e=e.next;);n.end(i)}}};return 1!==i.type||e.inner?o[11](i):a(i),n.getContent()}}},Yd=function(e,t){return e.replace(new RegExp(t.prefix+"_[0-9]+","g"),function(e){return Ct(t.uris,e).getOr(e)})},Gd=function(e,t,n){var i,r,o=1,a=e.getShortEndedElements(),s=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g;for(s.lastIndex=i=n;r=s.exec(t);){if(i=s.lastIndex,"/"===r[1])o--;else if(!r[1]){if(r[2]in a)continue;o++}if(0===o)break}return i},Kd=function(e,t){var n=e.exec(t);if(n){var i=n[1],r=n[2];return"string"==typeof i&&"data-mce-bogus"===i.toLowerCase()?r:null}return null};(M=M||{}).findEndTag=Gd;var Xd,Jd,Zd,Qd,ef,tf=M,nf=function(e,t){var n,i,r,o,a,s,l,u=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,d=e.schema;a=e.getTempAttrs(),s=u,l=new RegExp(["\\s?("+a.join("|")+')="[^"]+"'].join("|"),"gi"),u=s.replace(l,"");for(var f=d.getShortEndedElements();o=c.exec(u);)i=c.lastIndex,r=o[0].length,n=f[o[1]]?i:tf.findEndTag(d,u,i),u=u.substring(0,i-r)+u.substring(n),c.lastIndex=i-r;return Ls(u)},rf=nf,of=function(e,t,n,i){var r,o,a,s,l;if(t.format=n,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=Sn.trim(rf(e.serializer,i.innerHTML));else if("text"===t.format)r=Ls(i.innerText||i.textContent);else{if("tree"===t.format)return e.serializer.serialize(i,t);a=(o=e).serializer.serialize(i,t),s=du(o),l=new RegExp("^(<"+s+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+s+">[\r\n]*|<br \\/>[\r\n]*)$"),r=a.replace(l,"")}return"text"===t.format||lr($n.fromDom(i))?t.content=r:t.content=Sn.trim(r),t.no_events||e.fire("GetContent",t),t.content},af=Sn.each,sf=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var i=function(t){var n={};return af(e.getAttribs(t),function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=e.getAttrib(t,r))}),n},r=function(e,t){var n,i;for(i in e)if(e.hasOwnProperty(i)){if(void 0===(n=t[i]))return!1;if(e[i]!==n)return!1;delete t[i]}for(i in t)if(t.hasOwnProperty(i))return!1;return!0};return!(!r(i(t),i(n))||!r(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))||Vc(t)||Vc(n))}},lf=function(e,t,n){return Ne.from(n.container()).filter(Oi).exists(function(i){var r=e?0:-1;return t(i.data.charAt(n.offset()+r))})},uf=t(lf,!0,Uc),cf=t(lf,!1,Uc),df=function(e){var t=e.container();return Oi(t)&&0===t.data.length},ff=function(e,t){return function(n){return Ne.from(Ku(e?0:-1,n)).filter(t).isSome()}},hf=function(e){return"IMG"===e.nodeName&&"block"===Ui($n.fromDom(e),"display")},pf=function(e){return Li(e)&&!(_i(t=e)&&"all"===t.getAttribute("data-mce-bogus"));var t},mf=ff(!0,hf),gf=ff(!1,hf),vf=ff(!0,Ti),bf=ff(!1,Ti),yf=ff(!0,pf),wf=ff(!1,pf),xf=function(e,n){var i,r,o,a=$n.fromDom(e),s=$n.fromDom(n);return i=s,r="pre,code",o=t(Bn,a),vs(i,r,o).isSome()},Cf=function(e,t){return gl(t)&&!1===(i=e,Oi(r=t)&&/^[ \t\r\n]*$/.test(r.data)&&!1===xf(i,r))||_i(n=t)&&"A"===n.nodeName&&n.hasAttribute("name")||_f(t);var n,i,r},_f=Di("data-mce-bookmark"),kf=Di("data-mce-bogus"),Sf=(Xd="data-mce-bogus",Jd="all",function(e){return _i(e)&&e.getAttribute(Xd)===Jd}),Df=function(e,t){return void 0===t&&(t=!0),function(e,t){var n,i=0;if(Cf(e,e))return!1;if(!(n=e.firstChild))return!0;var r=new ca(n,e);do{if(t){if(Sf(n)){n=r.next(!0);continue}if(kf(n)){n=r.next();continue}}if(Ii(n))i++,n=r.next();else{if(Cf(e,n))return!1;n=r.next()}}while(n);return i<=1}(e.dom(),t)},$f=function(e){var t=ps(e,"br"),n=et(function(e){for(var t=[],n=e.dom();n;)t.push($n.fromDom(n)),n=n.lastChild;return t}(e).slice(-1),tr);t.length===n.length&&Ze(n,ui)},Tf=function(e){li(e),ai(e,$n.fromHtml('<br data-mce-bogus="1">'))},Ef=function(e){Zn(e).each(function(t){Wn(t).each(function(n){Qi(e)&&tr(t)&&Qi(n)&&ui(t)})})},Af=function(e,t,n){return Hn(t,e)?function(e,t){for(var n=ze(t)?t:Te,i=e.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,a=$n.fromDom(o);if(r.push(a),!0===n(a))break;i=o}return r}(e,function(e){return n(e)||Bn(e,t)}).slice(0,-1):[]},Of=function(e,t){return Af(e,t,ke(!1))},Mf=function(e,t){return[e].concat(Of(e,t))},Nf=function(e,t,n){if(0!==n){var i,r,o,a=e.data.slice(t,t+n),s=t+n>=e.data.length,l=0===t;e.replaceData(t,n,(r=l,o=s,nt(i=a,function(e,t){return Uc(t)||zc(t)?e.previousCharIsSpace||""===e.str&&r||e.str.length===i.length-1&&o?{previousCharIsSpace:!1,str:e.str+Rr}:{previousCharIsSpace:!0,str:e.str+" "}:{previousCharIsSpace:!1,str:e.str+t}},{previousCharIsSpace:!1,str:""}).str))}},Pf=function(e,t){var n=e.data.slice(t),i=n.length-en(n).length;return Nf(e,t,i)},If=function(e,t){return i=e,r=(n=t).container(),o=n.offset(),!1===Fl.isTextPosition(n)&&r===i.parentNode&&o>Fl.before(i).offset()?Fl(t.container(),t.offset()-1):t;var n,i,r,o},Rf=function(e){return gl(e.previousSibling)?Ne.some((t=e.previousSibling,Oi(t)?Fl(t,t.data.length):Fl.after(t))):e.previousSibling?Ec(e.previousSibling):Ne.none();var t},Lf=function(e){return gl(e.nextSibling)?Ne.some((t=e.nextSibling,Oi(t)?Fl(t,0):Fl.before(t))):e.nextSibling?Tc(e.nextSibling):Ne.none();var t},Bf=function(e,t){return Rf(t).orThunk(function(){return Lf(t)}).orThunk(function(){return n=e,i=t,r=Fl.before(i.previousSibling?i.previousSibling:i.parentNode),$c(n,r).fold(function(){return Dc(n,Fl.after(i))},Ne.some);var n,i,r})},Ff=function(e,t){return Lf(t).orThunk(function(){return Rf(t)}).orThunk(function(){return i=t,Dc(n=e,Fl.after(i)).fold(function(){return $c(n,Fl.before(i))},Ne.some);var n,i})},Hf=function(e,n,i){return(e?Ff:Bf)(n,i).map(t(If,i))},jf=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Vf=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Tn(t))},zf=function(e){if(Df(e)){var t=$n.fromHtml('<br data-mce-bogus="1">');return li(e),ai(e,t),Ne.some(Fl.before(t.dom()))}return Ne.none()},Uf=function(e,t,n){var i,r,o,a,s=Wn(e).filter(Mn),l=qn(e).filter(Mn);return ui(e),r=l,o=t,a=function(e,t,i){var r,o,a,s,l=e.dom(),u=t.dom(),c=l.data.length;return o=u,a=n,s=tn((r=l).data).length,r.appendData(o.data),ui($n.fromDom(o)),a&&Pf(r,s),i.container()===u?Fl(l,c):i},((i=s).isSome()&&r.isSome()&&o.isSome()?Ne.some(a(i.getOrDie(),r.getOrDie(),o.getOrDie())):Ne.none()).orThunk(function(){return n&&(s.each(function(e){return t=e.dom(),n=e.dom().length,i=t.data.slice(0,n),r=i.length-tn(i).length,Nf(t,n-r,r);var t,n,i,r}),l.each(function(e){return Pf(e.dom(),0)})),t})},Wf=function(e,n,i,r){void 0===r&&(r=!0);var o,a,s=Hf(n,e.getBody(),i.dom()),l=ms(i,t(Vf,e),(o=e.getBody(),function(e){return e.dom()===o})),u=Uf(i,s,(a=i,_t(e.schema.getTextInlineElements(),Tn(a))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(zf).fold(function(){r&&jf(e,n,u)},function(t){r&&jf(e,n,Ne.some(t))})},qf=function(e,t){return{start:e,end:t}},Yf=Ea([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),Gf=function(e,t){return ys($n.fromDom(e),"td,th",t)},Kf=function(e,t){return vs(e,"table",t)},Xf=function(e){return!Bn(e.start,e.end)},Jf=function(e,t){return Kf(e.start,t).bind(function(n){return Kf(e.end,t).bind(function(e){return t=Bn(n,e),i=n,t?Ne.some(i):Ne.none();var t,i})})},Zf=function(e){return ps(e,"td,th")},Qf=function(e,t){var n=Gf(t.startContainer,e),i=Gf(t.endContainer,e);return t.collapsed?Ne.none():Xs(n,i,qf).fold(function(){return n.fold(function(){return i.bind(function(t){return Kf(t,e).bind(function(e){return ut(Zf(e)).map(function(e){return qf(e,t)})})})},function(t){return Kf(t,e).bind(function(e){return ct(Zf(e)).map(function(e){return qf(t,e)})})})},function(t){return eh(e,t)?Ne.none():(i=e,Kf((n=t).start,i).bind(function(e){return ct(Zf(e)).map(function(e){return qf(n.start,e)})}));var n,i})},eh=function(e,t){return Jf(t,e).isSome()},th=function(e,t,n){return e.filter(function(e){return Xf(e)&&eh(n,e)}).orThunk(function(){return Qf(n,t)}).bind(function(e){return Jf(t=e,n).map(function(e){return{rng:t,table:e,cells:Zf(e)}});var t})},nh=function(e,t){return rt(e,function(e){return Bn(e,t)})},ih=function(e,t,n){return e.filter(function(e){return r=n,!Xf(i=e)&&Jf(i,r).exists(function(e){var t=e.dom().rows;return 1===t.length&&1===t[0].cells.length})&&Dd(e.start,t);var i,r}).map(function(e){return e.start})},rh=function(e){return Xs(nh((t=e).cells,t.rng.start),nh(t.cells,t.rng.end),function(e,n){return t.cells.slice(e,n+1)}).map(function(t){var n=e.cells;return t.length===n.length?Yf.removeTable(e.table):Yf.emptyCells(t)});var t},oh=function(e,t){var n,i,r,o,a,s=(n=e,function(e){return Bn(n,e)}),l=(r=s,o=Gf((i=t).startContainer,r),a=Gf(i.endContainer,r),Xs(o,a,qf));return ih(l,t,s).map(function(e){return Yf.deleteCellSelection(t,e)}).orThunk(function(){return th(l,t,s).bind(rh)})},ah=function(e){var t;return(8===En(t=e)||"#comment"===Tn(t)?Wn:Zn)(e).bind(ah).orThunk(function(){return Ne.some(e)})},sh=function(e,t){return Ze(t,Tf),e.selection.setCursorLocation(t[0].dom(),0),!0},lh=function(e,t,n){t.deleteContents();var i,r=ah(n).getOr(n),o=$n.fromDom(e.dom.getParent(r.dom(),e.dom.isBlock));if(Df(o)&&(Tf(o),e.selection.setCursorLocation(o.dom(),0)),!Bn(n,o)){var a=Un(o).is(n)?[]:Un(i=o).map(Kn).map(function(e){return et(e,function(e){return!Bn(i,e)})}).getOr([]);Ze(a.concat(Kn(n)),function(e){Bn(e,o)||Hn(e,o)||ui(e)})}return!0},uh=function(e,t){return Wf(e,!1,t),!0},ch=function(e,n,i,r){return fh(n,r).fold(function(){return r=e,oh(n,i).map(function(e){return e.fold(t(uh,r),t(sh,r),t(lh,r))});var r},function(t){return hh(e,t)}).getOr(!1)},dh=function(e,t){return it(Mf(t,e),sr)},fh=function(e,t){return it(Mf(t,e),function(e){return"caption"===Tn(e)})},hh=function(e,t){return Tf(t),e.selection.setCursorLocation(t.dom(),0),Ne.some(!0)},ph=function(e,t,n,i,r){return _c(n,e.getBody(),r).bind(function(o){return u=n,c=r,d=o,Tc((l=i).dom()).bind(function(e){return Ec(l.dom()).map(function(t){return u?c.isEqual(e)&&d.isEqual(t):c.isEqual(t)&&d.isEqual(e)})}).getOr(!0)?hh(e,i):(a=i,s=o,fh(t,$n.fromDom(s.getNode())).map(function(e){return!1===Bn(e,a)}));var a,s,l,u,c,d}).or(Ne.some(!0))},mh=function(e,t,n,i){var r=Fl.fromRangeStart(e.selection.getRng());return dh(n,i).bind(function(i){return Df(i)?hh(e,i):(o=n,a=i,s=r,_c(t,e.getBody(),s).bind(function(e){return dh(o,$n.fromDom(e.getNode())).map(function(e){return!1===Bn(e,a)})}));var o,a,s}).getOr(!1)},gh=function(e,t){return(e?vf:bf)(t)},vh=function(e,t,n){var i=$n.fromDom(e.getBody());return fh(i,n).fold(function(){return mh(e,t,i,n)||(r=e,o=t,a=Fl.fromRangeStart(r.selection.getRng()),gh(o,a)||Cc(o,r.getBody(),a).map(function(e){return gh(o,e)}).getOr(!1));var r,o,a},function(n){return r=e,o=t,a=i,s=n,l=Fl.fromRangeStart(r.selection.getRng()),(Df(s)?hh(r,s):ph(r,a,o,s,l)).getOr(!1);var r,o,a,s,l})},bh=function(e,t){var n,i,r,o,a,s=$n.fromDom(e.selection.getStart(!0)),l=_d(e);return e.selection.isCollapsed()&&0===l.length?vh(e,t,s):(n=e,i=s,r=$n.fromDom(n.getBody()),o=n.selection.getRng(),0!==(a=_d(n)).length?sh(n,a):ch(n,r,o,i))},yh=function(t){var n=Fl.fromRangeStart(t),i=Fl.fromRangeEnd(t),r=t.commonAncestorContainer;return Cc(!1,r,i).map(function(o){return!Gu(n,i,r)&&Gu(n,o,r)?(a=n.container(),s=n.offset(),l=o.container(),u=o.offset(),(c=e.document.createRange()).setStart(a,s),c.setEnd(l,u),c):t;var a,s,l,u,c}).getOr(t)},wh=function(e){return e.collapsed?e:yh(e)},xh=function(e,t){var n,i;return e.getBlockElements()[t.name]&&(i=t).firstChild&&i.firstChild===i.lastChild&&("br"===(n=t.firstChild).name||n.value===Rr)},Ch=function(e,t){var n,i,r,o=t.firstChild,a=t.lastChild;return o&&"meta"===o.name&&(o=o.next),a&&"mce_marker"===a.attr("id")&&(a=a.prev),i=a,r=(n=e).getNonEmptyElements(),i&&(i.isEmpty(r)||xh(n,i))&&(a=a.prev),!(!o||o!==a||"ul"!==o.name&&"ol"!==o.name)},_h=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((t=e.firstChild).data===Rr||Ii(t));var t},kh=function(e){return 0<e.length&&(!(t=e[e.length-1]).firstChild||_h(t))?e.slice(0,-1):e;var t},Sh=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Dh=function(e,t){var n=Fl.after(e),i=vc(t).prev(n);return i?i.toRange():null},$h=function(e,t,n){var i,r,o,a,s=e.parentNode;return Sn.each(t,function(t){s.insertBefore(t,e)}),i=e,r=n,o=Fl.before(i),(a=vc(r).next(o))?a.toRange():null},Th=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h,p,m,g,v,b,y,w,x,C,_,k=(r=t,o=i,u=e.serialize(o),c=r.createFragment(u),s=(a=c).firstChild,l=a.lastChild,s&&"META"===s.nodeName&&s.parentNode.removeChild(s),l&&"mce_marker"===l.id&&l.parentNode.removeChild(l),a),S=Sh(t,n.startContainer),D=kh((d=k.firstChild,Sn.grep(d.childNodes,function(e){return"LI"===e.nodeName}))),$=t.getRoot(),T=function(e){var i=Fl.fromRangeStart(n),r=vc(t.getRoot()),o=1===e?r.prev(i):r.next(i);return!o||Sh(t,o.getNode())!==S};return T(1)?$h(S,D,$):T(2)?(f=S,h=D,p=$,t.insertAfter(h.reverse(),f),Dh(h[0],p)):(g=D,v=$,b=m=S,w=(y=n).cloneRange(),x=y.cloneRange(),w.setStartBefore(b),x.setEndAfter(b),C=[w.cloneContents(),x.cloneContents()],(_=m.parentNode).insertBefore(C[0],m),Sn.each(g,function(e){_.insertBefore(e,m)}),_.insertBefore(C[1],m),_.removeChild(m),Dh(g[g.length-1],v))},Eh=ki(["td","th"]),Ah=function(e,t){var n,i,r=e.selection.getRng(),o=r.startContainer,a=r.startOffset;r.collapsed&&(i=a,Oi(n=o)&&n.nodeValue[i-1]===Rr)&&Oi(o)&&(o.insertData(a-1," "),o.deleteData(a,1),r.setStart(o,a),r.setEnd(o,a),e.selection.setRng(r)),e.selection.setContent(t)},Oh=function(e){var t=e.dom,n=wh(e.selection.getRng());e.selection.setRng(n);var i,r,o,a=t.getParent(n.startContainer,Eh);i=t,r=n,null!==(o=a)&&o===i.getParent(r.endContainer,Eh)&&Dd($n.fromDom(o),r)?lh(e,n,$n.fromDom(a)):e.getDoc().execCommand("Delete",!1,null)},Mh=function(e,t,n){var i,r,o,a,s,l,u,c,d,f,h,p=e.selection,m=e.dom;/^ | $/.test(t)&&(u=p.getRng(),c=t,d=u.startContainer,f=u.startOffset,h=function(e){return d[e]&&3===d[e].nodeType},Oi(d)&&(0<f?c=c.replace(/^&nbsp;/," "):h("previousSibling")||(c=c.replace(/^ /,"&nbsp;")),f<d.length?c=c.replace(/&nbsp;(<br>|)$/," "):h("nextSibling")||(c=c.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t=c);var g=e.parser,v=n.merge,b=qd({validate:e.getParam("validate")},e.schema),y='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>';if(o={content:t,format:"html",selection:!0,paste:n.paste},(o=e.fire("BeforeSetContent",o)).isDefaultPrevented())e.fire("SetContent",{content:o.content,format:"html",selection:!0,paste:n.paste});else{-1===(t=o.content).indexOf("{$caret}")&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,y);var w,x,C,_,k,S,D=(s=p.getRng()).startContainer||(s.parentElement?s.parentElement():null),$=e.getBody();D===$&&p.isCollapsed()&&m.isBlock($.firstChild)&&(w=e,(x=$.firstChild)&&!w.schema.getShortEndedElements()[x.nodeName])&&m.isEmpty($.firstChild)&&((s=m.createRng()).setStart($.firstChild,0),s.setEnd($.firstChild,0),p.setRng(s)),p.isCollapsed()||(Oh(e),C=e.selection.getRng(),_=t,k=C.startContainer,S=C.startOffset,Oi(k)&&C.collapsed&&(k.data[S]===Rr?(k.deleteData(S,1),/[\u00a0| ]$/.test(_)||(_+=" ")):k.data[S-1]===Rr&&(k.deleteData(S-1,1),
/[\u00a0| ]$/.test(_)||(_=" "+_))),t=_);var T,E,A,O={context:(i=p.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0},M=g.parse(t,O);if(!0===n.paste&&Ch(e.schema,M)&&Sh(m,i))return s=Th(b,m,e.selection.getRng(),M),e.selection.setRng(s),void e.fire("SetContent",o);if(!function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")}(M),"mce_marker"===(l=M.lastChild).attr("id"))for(l=(a=l).prev;l;l=l.walk(!0))if(3===l.type||!m.isBlock(l.name)){e.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(a,l,"br"===l.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),O.invalid){for(Ah(e,y),i=p.getNode(),r=e.getBody(),9===i.nodeType?i=l=r:l=i;l!==r;)l=(i=l).parentNode;t=i===r?r.innerHTML:m.getOuterHTML(i),t=b.serialize(g.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return b.serialize(M)}))),i===r?m.setHTML(r,t):m.setOuterHTML(i,t)}else!function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?e.dom.setHTML(n,t):Ah(e,t)}}(e,t=b.serialize(M),i);!function(e,t){var n=e.schema.getTextInlineElements(),i=e.dom;if(t){var r=e.getBody(),o=new sf(i);Sn.each(i.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==r;t=t.parentNode)n[e.nodeName.toLowerCase()]&&o.compare(t,e)&&i.remove(e,!0)})}}(e,v),function(e,t){var n,i,r=e.dom,o=e.selection;if(t){e.selection.scrollIntoView(t);var a=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null}(t);if(a)return r.remove(t),o.select(a);var s=r.createRng(),l=t.previousSibling;l&&3===l.nodeType?(s.setStart(l,l.nodeValue.length),wn.ie||(i=t.nextSibling)&&3===i.nodeType&&(l.appendData(i.data),i.parentNode.removeChild(i))):(s.setStartBefore(t),s.setEndBefore(t));var u=r.getParent(t,r.isBlock);r.remove(t),u&&r.isEmpty(u)&&(e.$(u).empty(),s.setStart(u,0),s.setEnd(u,0),Eh(u)||u.getAttribute("data-mce-fragment")||!(n=function(t){var n=Fl.fromRangeStart(t);if(n=vc(e.getBody()).next(n))return n.toRange()}(s))?r.add(u,r.create("br",{"data-mce-bogus":"1"})):(s=n,r.remove(u))),o.setRng(s)}}(e,m.get("mce_marker")),T=e.getBody(),Sn.each(T.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")}),E=e.dom,A=e.selection.getStart(),Ne.from(E.getParent(A,"td,th")).map($n.fromDom).each(Ef),e.fire("SetContent",o),e.addVisual()}},Nh=function(e){var t=ei(e).dom();return e.dom()===t.activeElement},Ph=function(t){return void 0===t&&(t=$n.fromDom(e.document)),Ne.from(t.dom().activeElement).map($n.fromDom)},Ih=function(e,t,n,i){return{start:ke(e),soffset:ke(t),finish:ke(n),foffset:ke(i)}},Rh=Ea([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Lh=(Rh.before,Rh.on,Rh.after,function(e){return e.fold(Se,Se,Se)}),Bh=Ea([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Fh={domRange:Bh.domRange,relative:Bh.relative,exact:Bh.exact,exactFromRange:function(e){return Bh.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=e.match({domRange:function(e){return $n.fromDom(e.startContainer)},relative:function(e,t){return Lh(e)},exact:function(e,t,n,i){return e}});return zn(t)},range:Ih},Hh=dn().browser,jh=function(e,t){var n=Mn(t)?Md(t).length:Kn(t).length+1;return n<e?n:e<0?0:e},Vh=function(e){return Fh.range(e.start(),jh(e.soffset(),e.start()),e.finish(),jh(e.foffset(),e.finish()))},zh=function(e,t){return!Ci(t.dom())&&(Hn(e,t)||Bn(e,t))},Uh=function(e){return function(t){return zh(e,t.start())&&zh(e,t.finish())}},Wh=function(e){return!0===e.inline||Hh.isIE()},qh=function(e){return Fh.range($n.fromDom(e.startContainer),e.startOffset,$n.fromDom(e.endContainer),e.endOffset)},Yh=function(e){var t,n,i=zn(e);return t=i.dom(),((n=t.getSelection())&&0!==n.rangeCount?Ne.from(n.getRangeAt(0)):Ne.none()).map(qh).filter(Uh(e))},Gh=function(t){var n=e.document.createRange();try{return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),Ne.some(n)}catch(i){return Ne.none()}},Kh=function(e){var t=Wh(e)?Yh($n.fromDom(e.getBody())):Ne.none();e.bookmark=t.isSome()?t:e.bookmark},Xh=function(e){return(e.bookmark?e.bookmark:Ne.none()).bind(function(t){return n=$n.fromDom(e.getBody()),i=t,Ne.from(i).filter(Uh(n)).map(Vh);var n,i}).bind(Gh)},Jh={isEditorUIElement:function(e){var t=e.className.toString();return-1!==t.indexOf("tox-")||-1!==t.indexOf("mce-")}},Zh=function(e,t){var n,i;dn().browser.isIE()?(i=e).on("focusout",function(){Kh(i)}):(n=t,e.on("mouseup touchend",function(e){n.throttle()})),e.on("keyup NodeChange",function(t){var n;"nodechange"===(n=t).type&&n.selectionChange||Kh(e)})},Qh=function(t){var n=rs(function(){Kh(t)},0);t.on("init",function(){var i,r,o;t.inline&&(i=t,r=n,o=function(){r.throttle()},qa.DOM.bind(e.document,"mouseup",o),i.on("remove",function(){qa.DOM.unbind(e.document,"mouseup",o)})),Zh(t,n)}),t.on("remove",function(){n.cancel()})},ep=qa.DOM,tp=function(e,t){var n=e.getParam("custom_ui_selector","","string");return null!==ep.getParent(t,function(t){return Jh.isEditorUIElement(t)||!!n&&e.dom.is(t,n)})},np=function(t,n){var i=n.editor;Qh(i),i.on("focusin",function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),(t.focusedEditor=this).fire("focus",{blurredEditor:e}),this.focus(!0))}),i.on("focusout",function(){var n=this;Ia.setEditorTimeout(n,function(){var i=t.focusedEditor;tp(n,function(){try{return e.document.activeElement}catch(t){return e.document.body}}())||i!==n||(n.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),Zd||(Zd=function(n){var i=t.activeEditor,r=n.target;i&&r.ownerDocument===e.document&&(r===e.document.body||tp(i,r)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},ep.bind(e.document,"focusin",Zd))},ip=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(ep.unbind(e.document,"focusin",Zd),Zd=null)},rp=function(e,t){return((n=t).collapsed?Ne.from(ol(n.startContainer,n.startOffset)).map($n.fromDom):Ne.none()).bind(function(t){return ar(t)?Ne.some(t):!1===Hn(e,t)?Ne.some(e):Ne.none()});var n},op=function(e,t){rp($n.fromDom(e.getBody()),t).bind(function(e){return Tc(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},ap=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},sp=function(e){return Nh(e)||Ph(ei(t=e)).filter(function(e){return t.dom().contains(e.dom())}).isSome();var t},lp=function(e){return Ph().filter(function(t){return n=t.dom(),!(void 0!==(i=n.classList)&&(i.contains("tox-edit-area")||i.contains("tox-edit-area__iframe")||i.contains("mce-content-body")))&&tp(e,t.dom());var n,i}).isSome()},up=function(e){return e.inline?(n=e.getBody())&&sp($n.fromDom(n)):(t=e).iframeElement&&Nh($n.fromDom(t.iframeElement));var t,n},cp=function(e){var t=e.selection,n=e.getBody(),i=t.getRng();e.quirks.refreshContentEditable(),void 0!==e.bookmark&&!1===up(e)&&Xh(e).each(function(t){e.selection.setRng(t),i=t});var r,o,a=(r=e,o=t.getNode(),r.dom.getParent(o,function(e){return"true"===r.dom.getContentEditable(e)}));return e.$.contains(n,a)?(ap(a),op(e,i),void dp(e)):(e.inline||(wn.opera||ap(n),e.getWin().focus()),(wn.gecko||e.inline)&&(ap(n),op(e,i)),dp(e),void 0)},dp=function(e){return e.editorManager.setActive(e)},fp=function(e,t){t(e),e.firstChild&&fp(e.firstChild,t),e.next&&fp(e.next,t)},hp=function(e,t,n){var i=function(e,t,n){var i={},r={},o=[];for(var a in n.firstChild&&fp(n.firstChild,function(n){Ze(e,function(e){e.name===n.name&&(i[e.name]?i[e.name].nodes.push(n):i[e.name]={filter:e,nodes:[n]})}),Ze(t,function(e){"string"==typeof n.attr(e.name)&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})})}),i)i.hasOwnProperty(a)&&o.push(i[a]);for(var s in r)r.hasOwnProperty(s)&&o.push(r[s]);return o}(e,t,n);Ze(i,function(e){Ze(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},pp=function(e){return e instanceof zd},mp=function(e,t){var n;e.dom.setHTML(e.getBody(),t),up(n=e)&&Tc(n.getBody()).each(function(e){var t=e.getNode(),i=Ti(t)?Tc(t).getOr(e):e;n.selection.setRng(i.toRange())})},gp=function(e,t,n){return n.format=n.format?n.format:"html",n.set=!0,n.content=pp(t)?"":t,pp(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Ne.from(e.getBody()).fold(ke(t),function(i){return pp(t)?function(e,t,n,i){hp(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var r=qd({validate:e.validate},e.schema).serialize(n);return i.content=lr($n.fromDom(t))?r:Sn.trim(r),mp(e,i.content),i.no_events||e.fire("SetContent",i),n}(e,i,t,n):(r=e,o=i,s=n,0===(a=t).length||/^\s+$/.test(a)?(u='<br data-mce-bogus="1">',"TABLE"===o.nodeName?a="<tr><td>"+u+"</td></tr>":/^(UL|OL)$/.test(o.nodeName)&&(a="<li>"+u+"</li>"),a=(l=du(r))&&r.schema.isValidChild(o.nodeName.toLowerCase(),l.toLowerCase())?(a=u,r.dom.createHTML(l,fu(r),a)):a||'<br data-mce-bogus="1">',mp(r,a),r.fire("SetContent",s)):("raw"!==s.format&&(a=qd({validate:r.validate},r.schema).serialize(r.parser.parse(a,{isRootContent:!0,insert:!0}))),s.content=lr($n.fromDom(o))?a:Sn.trim(a),mp(r,s.content),s.no_events||r.fire("SetContent",s)),s.content);var r,o,a,s,l,u})},vp=function(e,t){return e.splitText(t)},bp=function(e){var t=e.startContainer,n=e.startOffset,i=e.endContainer,r=e.endOffset;return t===i&&Oi(t)?0<n&&n<t.nodeValue.length&&(t=(i=vp(t,n)).previousSibling,n<r?(t=i=vp(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(Oi(t)&&0<n&&n<t.nodeValue.length&&(t=vp(t,n),n=0),Oi(i)&&0<r&&r<i.nodeValue.length&&(r=(i=vp(i,r).previousSibling).nodeValue.length)),{startContainer:t,startOffset:n,endContainer:i,endOffset:r}},yp=Qc,wp=function(e,t,n){var i=e.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&e.dom.is(t,i[r].selector))return!0;return!1},xp=function(e,t,n,i){var r=e.dom.getRoot();return t!==r&&(t=e.dom.getParent(t,function(t){return!!wp(e,t,n)||t.parentNode===r||!!kp(e,t,n,i,!0)}),kp(e,t,n,i))},Cp=function(e,t,n){return!!yp(t,n.inline)||!!yp(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0)},_p=function(e,t,n,i,r,o){var a,s,l,u=n[i];if(n.onmatch)return n.onmatch(t,n,i);if(u)if("undefined"==typeof u.length){for(a in u)if(u.hasOwnProperty(a)){if(s="attributes"===i?e.getAttrib(t,a):td(e,t,a),r&&!s&&!n.exact)return;if((!r||n.exact)&&!yp(s,ed(e,Zc(u[a],o),a)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?e.getAttrib(t,u[l]):td(e,t,u[l]))return n;return n},kp=function(e,t,n,i,r){var o,a,s,l,u=e.formatter.get(n),c=e.dom;if(u&&t)for(a=0;a<u.length;a++)if(o=u[a],Cp(e.dom,t,o)&&_p(c,t,o,"attributes",r,i)&&_p(c,t,o,"styles",r,i)){if(l=o.classes)for(s=0;s<l.length;s++)if(!e.dom.hasClass(t,l[s]))return;return o}},Sp=function(e,t,n,i){if(i)return xp(e,i,t,n);if(i=e.selection.getNode(),xp(e,i,t,n))return!0;var r=e.selection.getStart();return!(r===i||!xp(e,r,t,n))},Dp=function(e,t,n){var i=[],r={},o=e.selection.getStart();return e.dom.getParent(o,function(o){for(var a=0;a<t.length;a++){var s=t[a];!r[s]&&kp(e,o,s,n)&&(r[s]=!0,i.push(s))}},e.dom.getRoot()),i},$p=function(e,t){var n,i,r,o,a,s=e.formatter.get(t),l=e.dom;if(s)for(n=e.selection.getStart(),i=id(l,n),o=s.length-1;0<=o;o--){if(!(a=s[o].selector)||s[o].defaultBlock)return!0;for(r=i.length-1;0<=r;r--)if(l.is(i[r],a))return!0}return!1},Tp=function(e,t,n){return nt(n,function(n,i){var r,o=(r=i,Xe(e.formatter.get(r),function(e){var t=function(e){return 1<e.length&&"%"===e.charAt(0)};return Xe(["styles","attributes"],function(n){return Ct(e,n).exists(function(e){var n=Fe(e)?e:xt(e);return Xe(n,t)})})}));return e.formatter.matchNode(t,i,{},o)?n.concat([i]):n},[])},Ep=Is,Ap="_mce_caret",Op=function(e){return 0<function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==Ep||1<e.childNodes.length)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t}(e).length},Mp=function(e){if(e){var t=new ca(e,e);for(e=t.current();e;e=t.next())if(Oi(e))return e}return null},Np=function(e){var t=$n.fromTag("span");return ji(t,{id:Ap,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&ai(t,$n.fromText(Ep)),t},Pp=function(e,t,n){void 0===n&&(n=!0);var i,r=e.dom,o=e.selection;if(Op(t))Wf(e,!1,$n.fromDom(t),n);else{var a=o.getRng(),s=r.getParent(t,r.isBlock),l=a.startContainer,u=a.startOffset,c=a.endContainer,d=a.endOffset,f=((i=Mp(t))&&i.nodeValue.charAt(0)===Ep&&i.deleteData(0,1),i);r.remove(t,!0),l===f&&0<u&&a.setStart(f,u-1),c===f&&0<d&&a.setEnd(f,d-1),s&&r.isEmpty(s)&&Tf($n.fromDom(s)),o.setRng(a)}},Ip=function(e,t,n){void 0===n&&(n=!0);var i=e.dom,r=e.selection;if(t)Pp(e,t,n);else if(!(t=Mc(e.getBody(),r.getStart())))for(;t=i.get(Ap);)Pp(e,t,!1)},Rp=function(e,t){return e.appendChild(t),t},Lp=function(e,t){var n=tt(e,function(e,t){return Rp(e,t.cloneNode(!1))},t);return Rp(n,n.ownerDocument.createTextNode(Ep))},Bp=function(e,n,i,r){var o,a,s,l,u,c,d,f,h=e.dom,p=e.selection,m=[],g=p.getRng(),v=g.startContainer,b=g.startOffset;for(3===(a=v).nodeType&&(b!==v.nodeValue.length&&(o=!0),a=a.parentNode);a;){if(kp(e,a,n,i,r)){s=a;break}a.nextSibling&&(o=!0),m.push(a),a=a.parentNode}if(s)if(o){var y=p.getBookmark();g.collapse(!0);var w=vd(e,g,e.formatter.get(n),!0);w=bp(w),e.formatter.remove(n,i,w,r),p.moveToBookmark(y)}else{var x=Mc(e.getBody(),s),C=Np(!1).dom();u=C,c=null!==x?x:s,d=(l=e).dom,(f=d.getParent(c,t(Kc,l)))&&d.isEmpty(f)?c.parentNode.replaceChild(u,c):($f($n.fromDom(c)),d.isEmpty(c)?c.parentNode.replaceChild(u,c):d.insertAfter(u,c));var _=function(e,t,n,i,r,o){var a=e.formatter,s=e.dom,l=et(ft(a.get()),function(e){return"removeformat"!==e&&e!==i}),u=Tp(e,n,l);if(0<et(u,function(t){return!rd(e,t,i)}).length){var c=n.cloneNode(!1);return s.add(t,c),a.remove(i,r,c,o),s.remove(c),Ne.some(c)}return Ne.none()}(e,C,s,n,i,r),k=Lp(m.concat(_.toArray()),C);Pp(e,x,!1),p.setCursorLocation(k,1),h.isEmpty(s)&&h.remove(s)}},Fp=function(e){e.on("mouseup keydown",function(t){var n,i,r,o;n=e,i=t.keyCode,r=n.selection,o=n.getBody(),Ip(n,null,!1),8!==i&&46!==i||!r.isCollapsed()||r.getStart().innerHTML!==Ep||Ip(n,Mc(o,r.getStart())),37!==i&&39!==i||Ip(n,Mc(o,r.getStart()))})},Hp=function(e,t){return e.schema.getTextInlineElements().hasOwnProperty(Tn(t))&&!Oc(t.dom())&&!$i(t.dom())},jp={},Vp=$t,zp=St;ef=function(e){var t,n=e.selection.getRng(),i=ki(["pre"]);n.collapsed||(t=e.selection.getSelectedBlocks(),zp(Vp(Vp(t,i),function(e){return i(e.previousSibling)&&-1!==Tt(t,e.previousSibling)}),function(e){var t,n;t=e.previousSibling,ua(n=e).remove(),ua(t).append("<br><br>").append(n.childNodes)}))},jp[Qd="pre"]||(jp[Qd]=[]),jp[Qd].push(ef);var Up,Wp,qp=/^(src|href|style)$/,Yp=Sn.each,Gp=Qc,Kp=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},Xp=function(e,t,n){var i,r;if(i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],_i(i)){var o=i.childNodes.length-1;!n&&r&&r--,i=i.childNodes[o<r?o:r]}return Oi(i)&&n&&r>=i.nodeValue.length&&(i=new ca(i,e.getBody()).next()||i),Oi(i)&&!n&&0===r&&(i=new ca(i,e.getBody()).prev()||i),i},Jp=function(e,t){var n=t?"firstChild":"lastChild";if(/^(TR|TH|TD)$/.test(e.nodeName)&&e[n]){var i=e[n];return"TR"===e.nodeName&&i[n]||i}return e},Zp=function(e,t,n,i){var r=e.create(n,i);return t.parentNode.insertBefore(r,t),r.appendChild(t),r},Qp=function(e,t,n,i,r){var o=$n.fromDom(t),a=$n.fromDom(e.create(i,r)),s=(n?Gn:Yn)(o);return si(a,s),n?(ii(o,a),oi(a,o)):(ri(o,a),ai(a,o)),a.dom()},em=function(e,t,n,i){return!(t=Gc(t,n,i))||"BR"===t.nodeName||e.isBlock(t)},tm=function(e,t,n,i,r){var o,a,s,l,u,c=e.dom;if(s=c,!(Gp(l=i,(u=t).inline)||Gp(l,u.block)||u.selector&&_i(l)&&s.is(l,u.selector)||(a=i,t.links&&"A"===a.nodeName)))return!1;var d,f,h,p,m,g,v,b=i;if(t.inline&&"all"===t.remove&&Fe(t.preserve_attributes)){var y=et(c.getAttribs(b),function(e){return Ke(t.preserve_attributes,e.name.toLowerCase())});if(c.removeAllAttribs(b),Ze(y,function(e){return c.setAttrib(b,e.name,e.value)}),0<y.length)return e.dom.rename(i,"span"),!0}if("all"!==t.remove){Yp(t.styles,function(e,i){e=ed(c,Zc(e,n),i),"number"==typeof i&&(i=e,r=null),!t.remove_similar&&r&&!Gp(td(c,r,i),e)||c.setStyle(b,i,""),o=!0}),o&&""===c.getAttrib(b,"style")&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),Yp(t.attributes,function(e,i){var o;if(e=Zc(e,n),"number"==typeof i&&(i=e,r=null),t.remove_similar||!r||Gp(c.getAttrib(r,i),e)){if("class"===i&&(e=c.getAttrib(b,i))&&(o="",Ze(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(o+=(o?" ":"")+e)}),o))return void c.setAttrib(b,i,o);"class"===i&&b.removeAttribute("className"),qp.test(i)&&b.removeAttribute("data-mce-"+i),b.removeAttribute(i)}}),Yp(t.classes,function(e){e=Zc(e,n),r&&!c.hasClass(r,e)||c.removeClass(b,e)});for(var w=c.getAttribs(b),x=0;x<w.length;x++){var C=w[x].nodeName;if(0!==C.indexOf("_")&&0!==C.indexOf("data-"))return!1}}return"none"!==t.remove?(d=e,h=t,m=(f=b).parentNode,g=d.dom,v=du(d),h.block&&(v?m===g.getRoot()&&(h.list_block&&Gp(f,h.list_block)||Ze(dt(f.childNodes),function(e){Xc(d,v,e.nodeName.toLowerCase())?p?p.appendChild(e):(p=Zp(g,e,v),g.setAttribs(p,d.settings.forced_root_block_attrs)):p=0})):g.isBlock(f)&&!g.isBlock(m)&&(em(g,f,!1)||em(g,f.firstChild,!0,!0)||f.insertBefore(g.create("br"),f.firstChild),em(g,f,!0)||em(g,f.lastChild,!1,!0)||f.appendChild(g.create("br")))),h.selector&&h.inline&&!Gp(h.inline,f)||g.remove(f,!0),!0):void 0},nm=function(e,t,n,i,r){var o=e.formatter.get(t),a=o[0],s=!0,l=e.dom,u=e.selection,c=function(i){var s,l,u,c,d,f,h=(l=i,u=t,c=n,d=r,Ze(id((s=e).dom,l.parentNode).reverse(),function(e){if(!f&&"_start"!==e.id&&"_end"!==e.id){var t=kp(s,e,u,c,d);t&&!1!==t.split&&(f=e)}}),f);return function(e,t,n,i,r,o,a,s){var l,u,c,d=e.dom;if(n){for(var f=n.parentNode,h=i.parentNode;h&&h!==f;h=h.parentNode){l=d.clone(h,!1);for(var p=0;p<t.length;p++)if(tm(e,t[p],s,l,l)){l=0;break}l&&(u&&l.appendChild(u),c=c||l,u=l)}!o||a.mixed&&d.isBlock(n)||(i=d.split(n,i)),u&&(r.parentNode.insertBefore(u,r),c.appendChild(r))}return i}(e,o,h,i,i,!0,a,n)},d=function(t){var i,r;_i(t)&&l.getContentEditable(t)&&(i=s,s="true"===l.getContentEditable(t),r=!0);var u=dt(t.childNodes);if(s&&!r)for(var c=0;c<o.length&&!tm(e,o[c],n,t,t);c++);if(a.deep&&u.length){for(c=0;c<u.length;c++)d(u[c]);r&&(s=i)}},f=function(e){var t,n=l.get(e?"_start":"_end"),i=n[e?"firstChild":"lastChild"];return Vc(t=i)&&_i(t)&&("_start"===t.id||"_end"===t.id)&&(i=i[e?"firstChild":"lastChild"]),Oi(i)&&0===i.data.length&&(i=e?n.previousSibling||n.nextSibling:n.nextSibling||n.previousSibling),l.remove(n,!0),i},h=function(t){var n,i,r=vd(e,t,o,!0);if(a.split){if(r=bp(r),(n=Xp(e,r,!0))!==(i=Xp(e,r))){if(n=Jp(n,!0),i=Jp(i,!1),Kp(l,n,i)){var s=Ne.from(n.firstChild).getOr(n);return c(Qp(l,s,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void f(!0)}if(Kp(l,i,n))return s=Ne.from(i.lastChild).getOr(i),c(Qp(l,s,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void f(!1);n=Zp(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Zp(l,i,"span",{id:"_end","data-mce-type":"bookmark"});var u=l.createRng();u.setStartAfter(n),u.setEndBefore(i),yd(l,u,function(e){Ze(e,function(e){Vc(e)||Vc(e.parentNode)||c(e)})}),c(n),c(i),n=f(!0),i=f()}else n=i=c(n);r.startContainer=n.parentNode?n.parentNode:n,r.startOffset=l.nodeIndex(n),r.endContainer=i.parentNode?i.parentNode:i,r.endOffset=l.nodeIndex(i)+1}yd(l,r,function(t){Ze(t,function(t){d(t),Ze(["underline","line-through","overline"],function(n){_i(t)&&e.dom.getStyle(t,"text-decoration")===n&&t.parentNode&&nd(l,t.parentNode)===n&&tm(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:n}},null,t)})})})};if(i)if(qc(i)){var p=l.createRng();p.setStartBefore(i),p.setEndAfter(i),h(p)}else h(i);else if("false"!==l.getContentEditable(u.getNode()))u.isCollapsed()&&a.inline&&!_d(e).length?Bp(e,t,n,r):(Ad(u,!0,function(){Ed(e,h)}),a.inline&&Sp(e,t,n,u.getStart())&&Yc(l,u,u.getRng()),e.nodeChanged());else{i=u.getNode();for(var m=0;m<o.length&&(!o[m].ceFalseOverride||!tm(e,o[m],n,i,i));m++);}},im=Sn.each,rm=function(e){return _i(e)&&!Vc(e)&&!Oc(e)&&!$i(e)},om=function(e,t){var n;for(n=e;n;n=n[t]){if(Oi(n)&&0!==n.nodeValue.length)return e;if(_i(n)&&!Vc(n))return n}return e},am=function(e,t,n){var i,r,o=new sf(e);if(t&&n&&(t=om(t,"previousSibling"),n=om(n,"nextSibling"),o.compare(t,n))){for(i=t.nextSibling;i&&i!==n;)i=(r=i).nextSibling,t.appendChild(r);return e.remove(n),Sn.each(Sn.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},sm=function(e,t,n){im(e.childNodes,function(e){rm(e)&&(t(e)&&n(e),e.hasChildNodes()&&sm(e,t,n))})},lm=function(e,t){return function(n){return!(!n||!td(e,n,t))}},um=function(e,t,n){return function(i){e.setStyle(i,t,n),""===i.getAttribute("style")&&i.removeAttribute("style"),cm(e,i)}},cm=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},dm=function(e,t,n,i){im(t,function(t){im(e.dom.select(t.inline,i),function(i){rm(i)&&tm(e,t,n,i,t.exact?i:null)}),function(e,t,n){if(t.clear_child_styles){var i=t.links?"*:not(a)":"*";im(e.select(i,n),function(n){rm(n)&&im(t.styles,function(t,i){e.setStyle(n,i,"")})})}}(e.dom,t,i)})},fm=Sn.each,hm=function(e,t,n,i){var r,o=e.formatter.get(t),a=o[0],s=!i&&e.selection.isCollapsed(),l=e.dom,u=e.selection,c=function(e,t){if(t=t||a,e){if(t.onformat&&t.onformat(e,t,n,i),fm(t.styles,function(t,i){l.setStyle(e,i,Zc(t,n))}),t.styles){var r=l.getAttrib(e,"style");r&&l.setAttrib(e,"data-mce-style",r)}fm(t.attributes,function(t,i){l.setAttrib(e,i,Zc(t,n))}),fm(t.classes,function(t){t=Zc(t,n),l.hasClass(e,t)||l.addClass(e,t)})}},d=function(e,t){var n=!1;return!!a.selector&&(fm(e,function(e){if(!("collapsed"in e&&e.collapsed!==s))return l.is(t,e.selector)&&!Oc(t)?(c(t,e),!(n=!0)):void 0}),n)},f=function(i,r,s,l){var u=[],f=!0,h=a.inline||a.block,p=i.create(h);c(p),yd(i,r,function(r){var s,m=function(r){var g=!1,v=f,b=r.nodeName.toLowerCase(),y=r.parentNode.nodeName.toLowerCase();if(_i(r)&&i.getContentEditable(r)&&(v=f,f="true"===i.getContentEditable(r),g=!0),Qc(b,"br"))return s=0,void(a.block&&i.remove(r));if(a.wrapper&&kp(e,r,t,n))s=0;else{if(f&&!g&&a.block&&!a.wrapper&&Kc(e,b)&&Xc(e,y,h))return r=i.rename(r,h),c(r),u.push(r),void(s=0);if(a.selector){var w=d(o,r);if(!a.inline||w)return void(s=0)}!f||g||!Xc(e,h,b)||!Xc(e,y,h)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||Oc(r)||a.inline&&i.isBlock(r)?(s=0,fm(Sn.grep(r.childNodes),m),g&&(f=v),s=0):(s||(s=i.clone(p,!1),r.parentNode.insertBefore(s,r),u.push(s)),s.appendChild(r))}};fm(r,m)}),!0===a.links&&fm(u,function(e){var t=function(e){"A"===e.nodeName&&c(e,a),fm(Sn.grep(e.childNodes),t)};t(e)}),fm(u,function(r){var s,l,d,f,h,p,m,g,v,b,y,w,x,C,_,k,S,D,$,T,E,A,O,M=function(e){var t=!1;return fm(e.childNodes,function(e){if((n=e)&&1===n.nodeType&&!Vc(n)&&!Oc(n)&&!$i(n))return t=e,!1;var n}),t},N=(s=0,fm(r.childNodes,function(e){var t;(t=e)&&Oi(t)&&0===t.length||Vc(e)||s++}),s);!(1<u.length)&&i.isBlock(r)||0!==N?(a.inline||a.wrapper)&&(a.exact||1!==N||((O=M(E=r))&&!Vc(O)&&Cp(i,O,a)&&(A=i.clone(O,!1),c(A),i.replace(A,E,!0),i.remove(O,!0)),r=A||E),dm(e,o,n,r),S=a,D=t,$=n,kp(k=e,(T=r).parentNode,D,$)&&tm(k,S,$,T)||S.merge_with_parents&&k.dom.getParent(T.parentNode,function(e){if(kp(k,e,D,$))return tm(k,S,$,T),!0}),w=i,C=n,_=r,(x=a).styles&&x.styles.backgroundColor&&sm(_,lm(w,"fontSize"),um(w,"backgroundColor",Zc(x.styles.backgroundColor,C))),g=i,b=r,y=function(e){if(1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType){var t=nd(g,e.parentNode);g.getStyle(e,"color")&&t?g.setStyle(e,"text-decoration",t):g.getStyle(e,"text-decoration")===t&&g.setStyle(e,"text-decoration",null)}},(v=a).styles&&(v.styles.color||v.styles.textDecoration)&&(Sn.walk(b,y,"childNodes"),y(b)),h=i,m=r,"sub"!==(p=a).inline&&"sup"!==p.inline||(sm(m,lm(h,"fontSize"),um(h,"fontSize","")),h.remove(h.select("sup"===p.inline?"sub":"sup",m),!0)),l=i,d=a,(f=r)&&!1!==d.merge_siblings&&(f=am(l,Gc(f),f),f=am(l,f,Gc(f,!0)))):i.remove(r,!0)})};if("false"!==l.getContentEditable(u.getNode())){if(a){if(i)qc(i)?d(o,i)||((r=l.createRng()).setStartBefore(i),r.setEndAfter(i),f(l,vd(e,r,o),0,!0)):f(l,i,0,!0);else if(s&&a.inline&&!_d(e).length)!function(e,t,n){var i,r,o=e.selection,a=o.getRng(),s=a.startOffset,l=a.startContainer.nodeValue;(i=Mc(e.getBody(),o.getStart()))&&(r=Mp(i));var u,c,d=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(l&&0<s&&s<l.length&&d.test(l.charAt(s))&&d.test(l.charAt(s-1))){var f=o.getBookmark();a.collapse(!0);var h=vd(e,a,e.formatter.get(t));h=bp(h),e.formatter.apply(t,n,h),o.moveToBookmark(f)}else i&&r.nodeValue===Ep||(u=e.getDoc(),c=Np(!0).dom(),r=(i=u.importNode(c,!0)).firstChild,a.insertNode(i),s=1),e.formatter.apply(t,n,i),o.setCursorLocation(r,s)}(e,t,n);else{var h=u.getNode();e.settings.forced_root_block||!o[0].defaultBlock||l.getParent(h,l.isBlock)||hm(e,o[0].defaultBlock),u.setRng(wh(u.getRng())),Ad(u,!0,function(t){Ed(e,function(t,n){var i=n?t:vd(e,t,o);f(l,i)})}),Yc(l,u,u.getRng()),e.nodeChanged()}p=e,zp(jp[t],function(e){e(p)})}var p}else{i=u.getNode();for(var m=0,g=o.length;m<g;m++)if(o[m].ceFalseOverride&&l.is(i,o[m].selector))return void c(i,o[m])}},pm=function(e,t){return Je(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},mm=function(t,n){var i=(n||e.document).createDocumentFragment();return Ze(t,function(e){i.appendChild(e.dom())}),$n.fromDom(i)},gm=function(e,t,n){return{element:ke(e),width:ke(t),rows:ke(n)}},vm=function(e,t){return{element:ke(e),cells:ke(t)}},bm=function(e,t){var n=parseInt(Vi(e,t),10);return isNaN(n)?1:n},ym=function(e){return nt(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},wm=function(e,t){for(var n,i=e.rows(),r=0;r<i.length;r++)for(var o=i[r].cells(),a=0;a<o.length;a++)if(Bn(o[a],t))return Ne.some((n=r,{x:ke(a),y:ke(n)}));return Ne.none()},xm=function(e,t,n,i,r){for(var o=[],a=e.rows(),s=n;s<=r;s++){var l=a[s].cells(),u=t<i?l.slice(t,i+1):l.slice(i,t+1);o.push(vm(a[s].element(),u))}return o},Cm=function(e){var t=gm(Os(e),0,[]);return Ze(ps(e,"tr"),function(e,n){Ze(ps(e,"td,th"),function(i,r){!function(e,t,n,i,r){for(var o=bm(r,"rowspan"),a=bm(r,"colspan"),s=e.rows(),l=n;l<n+o;l++){s[l]||(s[l]=vm(Ms(i),[]));for(var u=t;u<t+a;u++)s[l].cells()[u]=l===n&&u===t?r:Os(r)}}(t,function(e,t,n){for(;i=t,r=n,o=void 0,((o=e.rows())[r]?o[r].cells():[])[i];)t++;var i,r,o;return t}(t,r,n),n,e,i)})}),gm(t.element(),ym(t.rows()),t.rows())},_m=function(e){return n=Je((t=e).rows(),function(e){var t=Je(e.cells(),function(e){var t=Ms(e);return zi(t,"colspan"),zi(t,"rowspan"),t}),n=Os(e.element());return si(n,t),n}),i=Os(t.element()),r=$n.fromTag("tbody"),si(r,n),ai(i,r),i;var t,n,i,r},km=function(e,t,n){return wm(e,t).bind(function(t){return wm(e,n).map(function(n){return i=e,o=n,a=(r=t).x(),s=r.y(),l=o.x(),u=o.y(),c=s<u?xm(i,a,s,l,u):xm(i,a,u,l,s),gm(i.element(),ym(c),c);var i,r,o,a,s,l,u,c})})},Sm=function(e,t){return it(e,function(e){return"li"===Tn(e)&&Dd(e,t)}).fold(ke([]),function(t){return it(e,function(e){return"ul"===Tn(e)||"ol"===Tn(e)}).map(function(e){return[$n.fromTag("li"),$n.fromTag(Tn(e))]}).getOr([])})},Dm=function(e,t){var n,i=$n.fromDom(t.commonAncestorContainer),r=Mf(i,e),o=et(r,function(e){return er(e)||Zi(e)}),a=Sm(r,t),s=o.concat(a.length?a:rr(n=i)?Un(n).filter(ir).fold(ke([]),function(e){return[n,e]}):ir(n)?[n]:[]);return Je(s,Os)},$m=function(){return mm([])},Tm=function(e,t){return n=$n.fromDom(t.cloneContents()),i=Dm(e,t),r=nt(i,function(e,t){return ai(t,e),t},n),0<i.length?mm([r]):r;var n,i,r},Em=function(e,n){return i=e,r=n[0],vs(r,"table",t(Bn,i)).bind(function(e){var t=n[0],i=n[n.length-1],r=Cm(e);return km(r,t,i).map(function(e){return mm([_m(e)])})}).getOrThunk($m);var i,r},Am=function(e,t){var n,i,r=Cd(t,e);return 0<r.length?Em(e,r):(n=e,0<(i=t).length&&i[0].collapsed?$m():Tm(n,i[0]))},Om=function(e,t){return 0<=t&&t<e.length&&Uc(e.charAt(t))},Mm=function(e){var t=Ls(e.innerText);return wn.browser.isIE()?t.replace(/^[ \f\n\r\t\v]+/,""):t},Nm=function(e,t,n){if(void 0===n&&(n={}),n.get=!0,n.format=t,n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if("text"===n.format)return c=e,Ne.from(c.selection.getRng()).map(function(e){var t=c.dom.add(c.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),n=Mm(t),i=Ls(t.textContent);if(c.dom.remove(t),Om(i,0)||Om(i,i.length-1)){var r=c.dom.getParent(e.commonAncestorContainer,c.dom.isBlock),o=Mm(r),a=o.indexOf(n);return-1===a?n:(Om(o,a-1)?" ":"")+n+(Om(o,a+n.length)?" ":"")}return n}).getOr("");n.getInner=!0;var i,r,o,a,s,l,u,c,d=(r=n,o=(i=e).selection.getRng(),a=i.dom.create("body"),s=i.selection.getSel(),l=pm(i,wd(s)),(u=r.contextual?Am($n.fromDom(i.getBody()),l).dom():o.cloneContents())&&a.appendChild(u),i.selection.serializer.serialize(a,r));return"tree"===n.format?d:(n.content=e.selection.isCollapsed()?"":d,e.fire("GetContent",n),n.content)},Pm=function(e){return _i(e)?e.outerHTML:Oi(e)?kr.encodeRaw(e.data,!1):Mi(e)?"<!--"+e.data+"-->":""},Im=function(t,n,i){var r=function(t){var n,i=e.document.createElement("div"),r=e.document.createDocumentFragment();for(t&&(i.innerHTML=t);n=i.firstChild;)r.appendChild(n);return r}(n);if(t.hasChildNodes()&&i<t.childNodes.length){var o=t.childNodes[i];o.parentNode.insertBefore(r,o)}else t.appendChild(r)},Rm=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h=Je(dt(t.childNodes),Pm);return o=e,a=(r=h).length+o.length+2,s=new Array(a),l=new Array(a),u=function(e,t,n,i,a){var s=d(e,t,n,i);if(null===s||s.start===t&&s.diag===t-i||s.end===e&&s.diag===e-n)for(var l=e,c=n;l<t||c<i;)l<t&&c<i&&r[l]===o[c]?(a.push([0,r[l]]),++l,++c):i-n<t-e?(a.push([2,r[l]]),++l):(a.push([1,o[c]]),++c);else{u(e,s.start,n,s.start-s.diag,a);for(var f=s.start;f<s.end;++f)a.push([0,r[f]]);u(s.end,t,s.end-s.diag,i,a)}},c=function(e,t,n,i){for(var a=e;a-t<i&&a<n&&r[a]===o[a-t];)++a;return{start:e,end:a,diag:t}},d=function(e,t,n,i){var a=t-e,u=i-n;if(0==a||0==u)return null;var d,f,h,p,m,g=a-u,v=u+a,b=(v%2==0?v:1+v)/2;for(s[1+b]=e,l[1+b]=t+1,d=0;d<=b;++d){for(f=-d;f<=d;f+=2){for(h=f+b,f===-d||f!==d&&s[h-1]<s[h+1]?s[h]=s[h+1]:s[h]=s[h-1]+1,m=(p=s[h])-e+n-f;p<t&&m<i&&r[p]===o[m];)s[h]=++p,++m;if(g%2!=0&&g-d<=f&&f<=g+d&&l[h-g]<=s[h])return c(l[h-g],f+e-n,t,i)}for(f=g-d;f<=g+d;f+=2){for(h=f+b-g,f===g-d||f!==g+d&&l[h+1]<=l[h-1]?l[h]=l[h+1]-1:l[h]=l[h-1],m=(p=l[h]-1)-e+n-f;e<=p&&n<=m&&r[p]===o[m];)l[h]=p--,m--;if(g%2==0&&-d<=f&&f<=d&&l[h]<=s[h+g])return c(l[h],f+e-n,t,i)}}},f=[],u(0,r.length,0,o.length,f),n=t,i=0,Ze(f,function(e){0===e[0]?i++:1===e[0]?(Im(n,e[1],i),i++):2===e[0]&&function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}}(n,i)}),t},Lm=Ja(Ne.none()),Bm=function(e){var t,n=(t=e.getBody(),et(Je(dt(t.childNodes),Pm),function(e){return 0<e.length})),i=ot(n,function(t){var n=nf(e.serializer,t);return 0<n.length?[n]:[]}),r=i.join("");return-1!==r.indexOf("</iframe>")?{type:"fragmented",fragments:i,content:"",bookmark:null,beforeBookmark:null}:{type:"complete",fragments:null,content:r,bookmark:null,beforeBookmark:null}},Fm=function(e,t,n){"fragmented"===t.type?Rm(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Hm=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},jm=function(t){var n=$n.fromTag("body",Lm.get().getOrThunk(function(){var t=e.document.implementation.createHTMLDocument("undo");return Lm.set(Ne.some(t)),t}));return Es(n,Hm(t)),Ze(ps(n,"*[data-mce-bogus]"),ci),n.dom().innerHTML},Vm=function(e,t){return!(!e||!t)&&(i=t,Hm(e)===Hm(i)||(n=t,jm(e)===jm(n)));var n,i},zm=function(e){return 0===e.get()},Um=function(e,t,n){zm(n)&&(e.typing=t)},Wm=function(e,t){e.typing&&(Um(e,!1,t),e.add())},qm=function(e){return e instanceof zd},Ym=function(e,t){hp(e.serializer.getNodeFilters(),e.serializer.getAttributeFilters(),t)},Gm=function(){return{type:"complete",fragments:[],content:"",bookmark:null,beforeBookmark:null}},Km=function(e){return{undoManager:{
beforeChange:function(t,n){return i=e,r=n,void(zm(t)&&r.set(Ne.some(su(i.selection))));var i,r},addUndoLevel:function(t,n,i,r,o,a){return function(e,t,n,i,r,o,a){var s=Bm(e);if(o=o||{},o=Sn.extend(o,s),!1===zm(i)||e.removed)return null;var l=t.data[n.get()];if(e.fire("BeforeAddUndo",{level:o,lastLevel:l,originalEvent:a}).isDefaultPrevented())return null;if(l&&Vm(l,o))return null;t.data[n.get()]&&r.get().each(function(e){t.data[n.get()].beforeBookmark=e});var u=e.getParam("custom_undo_redo_levels",0,"number");if(u&&t.data.length>u){for(var c=0;c<t.data.length-1;c++)t.data[c]=t.data[c+1];t.data.length--,n.set(t.data.length)}o.bookmark=su(e.selection),n.get()<t.data.length-1&&(t.data.length=n.get()+1),t.data.push(o),n.set(t.data.length-1);var d={level:o,lastLevel:l,originalEvent:a};return e.fire("AddUndo",d),0<n.get()&&(e.setDirty(!0),e.fire("change",d)),o}(e,t,n,i,r,o,a)},undo:function(t,n,i){return r=e,a=n,s=i,(o=t).typing&&(o.add(),o.typing=!1,Um(o,!1,a)),0<s.get()&&(s.set(s.get()-1),l=o.data[s.get()],Fm(r,l,!0),r.setDirty(!0),r.fire("Undo",{level:l})),l;var r,o,a,s,l},redo:function(t,n){return i=e,o=n,(r=t).get()<o.length-1&&(r.set(r.get()+1),a=o[r.get()],Fm(i,a,!1),i.setDirty(!0),i.fire("Redo",{level:a})),a;var i,r,o,a},clear:function(t,n){return i=e,o=n,(r=t).data=[],o.set(0),r.typing=!1,void i.fire("ClearUndos");var i,r,o},reset:function(e){return(t=e).clear(),void t.add();var t},hasUndo:function(t,n){return i=e,r=t,0<n.get()||r.typing&&r.data[0]&&!Vm(Bm(i),r.data[0]);var i,r},hasRedo:function(e,t){return n=e,t.get()<n.data.length-1&&!n.typing;var n},transact:function(e,t,n){return r=n,Wm(i=e,t),i.beforeChange(),i.ignore(r),i.add();var i,r},ignore:function(e,t){return function(e,t){try{e.set(e.get()+1),t()}finally{e.set(e.get()-1)}}(e,t)},extra:function(t,n,i,r){return function(e,t,n,i,r){if(t.transact(i)){var o=t.data[n.get()].bookmark,a=t.data[n.get()-1];Fm(e,a,!0),t.transact(r)&&(t.data[n.get()-1].beforeBookmark=o)}}(e,t,n,i,r)}},formatter:{apply:function(t,n,i){return hm(e,t,n,i)},remove:function(t,n,i,r){return nm(e,t,n,i,r)},toggle:function(t,n,i){return o=t,a=n,s=i,l=(r=e).formatter.get(o),void(!Sp(r,o,a,s)||"toggle"in l[0]&&!l[0].toggle?hm:nm)(r,o,a,s);var r,o,a,s,l}},editor:{getContent:function(t,n){return i=e,r=t,o=n,Ne.from(i.getBody()).fold(ke("tree"===r.format?new zd("body",11):""),function(e){return of(i,r,o,e)});var i,r,o},setContent:function(t,n){return gp(e,t,n)},insertContent:function(t,n){return Mh(e,t,n)}},selection:{getContent:function(t,n){return Nm(e,t,n)}},raw:{getModel:function(){return Ne.none()}}}},Xm=function(e){return _t(e.plugins,"rtc")},Jm=function(e){var t=e;return Ct(e.plugins,"rtc").fold(function(){return t.rtcInstance=Km(e),Ne.none()},function(n){return Ne.some(n.setup().then(function(n){var i,r,o,a;return t.rtcInstance=(i=e,r=n,o=function(e){return Be(e)?e:{}},a=$e("Unimplemented feature for rtc"),{undoManager:{beforeChange:Ce,addUndoLevel:a,undo:function(){return r.undo(),Gm()},redo:function(){return r.redo(),Gm()},clear:a,reset:a,hasUndo:function(){return r.hasUndo()},hasRedo:function(){return r.hasRedo()},transact:function(e,t,n){return r.transact(n),Gm()},ignore:a,extra:a},formatter:{apply:function(e,t,n){return r.applyFormat(e,o(t))},remove:function(e,t,n,i){return r.removeFormat(e,o(t))},toggle:function(e,t,n){return r.toggleFormat(e,o(t))}},editor:{getContent:function(e,t){if("html"!==t&&"tree"!==t)return Km(i).editor.getContent(e,t);var n=r.getContent(),o=qd({inner:!0});return Ym(i,n),"tree"===t?n:o.serialize(n)},setContent:function(e,t){var n=qm(e)?e:i.parser.parse(e,{isRootContent:!0,insert:!0});return r.setContent(n),e},insertContent:function(e,t){var n=qm(e)?e:i.parser.parse(e,{insert:!0});r.insertContent(n)}},selection:{getContent:function(e,t){if("html"!==e&&"tree"!==e)return Km(i).selection.getContent(e,t);var n=r.getSelectedContent(),o=qd({});return Ym(i,n),"tree"===e?n:o.serialize(n)}},raw:{getModel:function(){return Ne.some(r.getRawModel())}}}),n.isRemote}))})},Zm=function(e){return e.rtcInstance?e.rtcInstance:Km(e)},Qm=function(e){var t=e.rtcInstance;if(t)return t;throw new Error("Failed to get RTC instance not yet initialized.")},eg=function(e,t){void 0===t&&(t={});var n,i,r=t.format?t.format:"html";return n=t,i=r,Zm(e).editor.getContent(n,i)},tg=function(e,t,n){return void 0===n&&(n={}),i=t,r=n,Zm(e).editor.setContent(i,r);var i,r},ng=qa.DOM,ig=function(e){return Ne.from(e).each(function(e){return e.destroy()})},rg=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,i=e.getBody(),r=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&r&&ng.remove(r.nextSibling),e.fire("remove"),e.editorManager.remove(e),!e.inline&&i&&(o=e,ng.setStyle(o.id,"display",o.orgDisplay)),e.fire("detach"),ng.remove(e.getContainer()),ig(t),ig(n),e.destroy()}var o},og=function(e,t){var n,i,r,o=e.selection,a=e.dom;e.destroyed||(t||e.removed?(t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),ig(o),ig(a)),(i=(n=e).formElement)&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,i._mceOldSubmit=null),ng.unbind(i,"submit reset",n.formEventDelegate)),(r=e).contentAreaContainer=r.formElement=r.container=r.editorContainer=null,r.bodyElement=r.contentDocument=r.contentWindow=null,r.iframeElement=r.targetElm=null,r.selection&&(r.selection=r.selection.win=r.selection.dom=r.selection.dom.doc=null),e.destroyed=!0):e.remove())},ag=Object.prototype.hasOwnProperty,sg=(Up=function(e,t){return Be(e)&&Be(t)?sg(e,t):t},function(){for(var e=new Array(arguments.length),t=0;t<e.length;t++)e[t]=arguments[t];if(0===e.length)throw new Error("Can't merge zero objects");for(var n={},i=0;i<e.length;i++){var r=e[i];for(var o in r)ag.call(r,o)&&(n[o]=Up(n[o],r[o]))}return n}),lg=dn().deviceType,ug=lg.isTouch(),cg=lg.isPhone(),dg=lg.isTablet(),fg=["lists","autolink","autosave"],hg={table_grid:!1,object_resizing:!1,resize:!1},pg=function(e){var t=Fe(e)?e.join(" "):e,n=Je(Le(t)?t.split(" "):[],Qt);return et(n,function(e){return 0<e.length})},mg=function(e,t){var n,i,r=yt(t,function(t,n){return Ke(e,n)});return n=r.t,i=r.f,{sections:ke(n),settings:ke(i)}},gg=function(e,t){return e.sections().hasOwnProperty(t)},vg=function(e,t){return Ct(e,"toolbar_mode").orThunk(function(){return Ct(e,"toolbar_drawer").map(function(e){return!1===e?"wrap":e})}).getOr(t)},bg=function(e,n,i,r){var o,a,s,l,u,c,d,f=pg(i.forced_plugins),h=pg(r.plugins),p=gg(o=n,a="mobile")?o.sections()[a]:{},m=p.plugins?pg(p.plugins):h,g=e&&(u=l="mobile",c=(s=n).sections(),gg(s,l)&&c[l].theme===u)?et(m,t(Ke,fg)):e&&gg(n,"mobile")?m:h,v=(d=g,[].concat(pg(f)).concat(pg(d)));return Sn.extend(r,{plugins:v.join(" ")})},yg=function(e,t,n,i,r){var o,a,s,l,u,c,d,f=e?{mobile:(o=r.mobile||{},a=t,s={resize:!1,toolbar_mode:vg(o,"scrolling"),toolbar_sticky:!1},Mt(Mt(Mt({},hg),s),a?{menubar:!1}:{}))}:{},h=mg(["mobile"],sg(f,r)),p=Sn.extend(n,i,h.settings(),(d=h,e&&gg(d,"mobile")?function(e,t,n){void 0===n&&(n={});var i=e.sections(),r=i.hasOwnProperty(t)?i[t]:{};return Sn.extend({},n,r)}(h,"mobile"):{}),{validate:!0,external_plugins:(l=i,u=h.settings(),c=u.external_plugins?u.external_plugins:{},l&&l.external_plugins?Sn.extend({},l.external_plugins,c):c)});return bg(e,h,i,p)},wg=function(e,t,n,i,r){var o,a,s,l,u=(o=n,a=ug,s=e,l={id:t,theme:"silver",toolbar_mode:vg(r,"floating"),plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s},Mt(Mt({},l),a?hg:{}));return yg(cg||dg,cg,u,i,r)},xg=function(e,t,n){return Ne.from(t.settings[n]).filter(e)},Cg=function(e,t,n,i){var r,o,a,s=t in e.settings?e.settings[t]:n;return"hash"===i?(a={},"string"==typeof(o=s)?Ze(0<o.indexOf("=")?o.split(/[;,](?![^=;,]*(?:[;,]|$))/):o.split(","),function(e){var t=e.split("=");1<t.length?a[Sn.trim(t[0])]=Sn.trim(t[1]):a[Sn.trim(t[0])]=Sn.trim(t[0])}):a=o,a):"string"===i?xg(Le,e,t).getOr(n):"number"===i?xg(Ue,e,t).getOr(n):"boolean"===i?xg(je,e,t).getOr(n):"object"===i?xg(Be,e,t).getOr(n):"array"===i?xg(Fe,e,t).getOr(n):"string[]"===i?xg((r=Le,function(e){return Fe(e)&&at(e,r)}),e,t).getOr(n):"function"===i?xg(ze,e,t).getOr(n):s},_g=(Wp={},{add:function(e,t){Wp[e]=t},get:function(e){return Wp[e]?Wp[e]:{icons:{}}},has:function(e){return _t(Wp,e)}}),kg=function(e,t){return t.dom()[e]},Sg=function(e,t){return parseInt(Ui(t,e),10)},Dg=t(kg,"clientWidth"),$g=t(kg,"clientHeight"),Tg=t(Sg,"margin-top"),Eg=t(Sg,"margin-left"),Ag=function(e,t,n){var i,r,o,a,s,l,u,c,d,f,h,p=$n.fromDom(e.getBody()),m=e.inline?p:(i=p,$n.fromDom(i.dom().ownerDocument.documentElement)),g=(r=e.inline,a=t,s=n,l=(o=m).dom().getBoundingClientRect(),{x:a-(r?l.left+o.dom().clientLeft+Eg(o):0),y:s-(r?l.top+o.dom().clientTop+Tg(o):0)});return c=g.x,d=g.y,f=Dg(u=m),h=$g(u),0<=c&&0<=d&&c<=f&&d<=h},Og=function(e){var t,n=e.inline?e.getBody():e.getContentAreaContainer();return t=n,Ne.from(t).map($n.fromDom).map(function(e){return Hn(jn(e),e)}).getOr(!1)},Mg=is.PluginManager,Ng=is.ThemeManager,Pg=function(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():function(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}()},i=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},r=function(n){var i;t.push(n),i=n,e.fire("OpenWindow",{dialog:i})},o=function(n){var i;i=n,e.fire("CloseWindow",{dialog:i}),0===(t=et(t,function(e){return e!==n})).length&&e.focus()},a=function(t){e.editorManager.setActive(e),Kh(e);var n=t();return r(n),n};return e.on("remove",function(){Ze(t,function(e){n().close(e)})}),{open:function(e,t){return a(function(){return n().open(e,t,o)})},openUrl:function(e){return a(function(){return n().openUrl(e,o)})},alert:function(e,t,r){n().alert(e,i(r||this,t))},confirm:function(e,t,r){n().confirm(e,i(r||this,t))},close:function(){Ne.from(t[t.length-1]).each(function(e){n().close(e),o(e)})}}},Ig=function(e,t){e.notificationManager.open({type:"error",text:t})},Rg=function(e,t){e._skinLoaded?Ig(e,t):e.on("SkinLoaded",function(){Ig(e,t)})},Lg=function(t,n,i){var r,o;r=n,o={message:i},t.fire(r,o),e.console.error(i)},Bg=function(e,t,n){return n?"Failed to load "+e+": "+n+" from url "+t:"Failed to load "+e+" url: "+t},Fg=function(e,t,n){Lg(e,"PluginLoadError",Bg("plugin",t,n))},Hg=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];var o=e.window.console;o&&(o.error?o.error.apply(o,n([t],i)):o.log.apply(o,n([t],i)))},jg=function(e){var t,n,i=(n=(t=e).getParam("content_css"),Le(n)?Je(n.split(","),Qt):Fe(n)?n:!1===n||t.inline?[]:["default"]),r=e.editorManager.baseURL+"/skins/content",o="content"+e.editorManager.suffix+".css",a=!0===e.inline;return Je(i,function(t){return/^[a-z0-9\-]+$/i.test(t)&&!a?r+"/"+t+"/"+o:e.documentBaseURI.toAbsolute(t)})},Vg=function(e,t){var n=function(n){var i=t(n);if(i<=0||null===i){var r=Ui(n,e);return parseFloat(r)||0}return i},i=function(e,t){return nt(t,function(t,n){var i=Ui(e,n),r=void 0===i?0:parseInt(i,10);return isNaN(r)?t:t+r},0)};return{set:function(t,n){if(!Ue(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var i=t.dom();Bi(i)&&(i.style[e]=n+"px")},get:n,getOuter:n,aggregate:i,max:function(e,t,n){var r=i(e,n);return r<t?t-r:0}}}("height",function(e){var t=e.dom();return di(e)?t.getBoundingClientRect().height:t.offsetHeight}),zg=function(e,t){return e.view(t).fold(ke([]),function(t){var n=e.owner(t),i=zg(e,n);return[t].concat(i)})},Ug=Object.freeze({__proto__:null,view:function(t){return(t.dom()===e.document?Ne.none():Ne.from(t.dom().defaultView.frameElement)).map($n.fromDom)},owner:function(e){return jn(e)}}),Wg=function(t){var n,i,r,o=$n.fromDom(e.document),a=gi(o),s=(n=t,r=(i=Ug).owner(n),zg(i,r)),l=mi(t),u=tt(s,function(e,t){var n=mi(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return hi(u.left+l.left()+a.left(),u.top+l.top()+a.top())},qg=function(e){return"textarea"===Tn(e)},Yg=function(e,t){var n,i=function(e){var t=e.dom().ownerDocument,n=t.body,i=t.defaultView,r=t.documentElement;if(n===e.dom())return hi(n.offsetLeft,n.offsetTop);var o=pi(i.pageYOffset,r.scrollTop),a=pi(i.pageXOffset,r.scrollLeft),s=pi(r.clientTop,n.clientTop),l=pi(r.clientLeft,n.clientLeft);return mi(e).translate(a-l,o-s)}(e),r=(n=e,Vg.get(n));return{element:e,bottom:i.top()+r,height:r,pos:i,cleanup:t}},Gg=function(e,t){var n=function(e,t){var n=Kn(e);if(0===n.length||qg(e))return{element:e,offset:t};if(t<n.length&&!qg(n[t]))return{element:n[t],offset:0};var i=n[n.length-1];return qg(i)?{element:e,offset:t}:"img"===Tn(i)?{element:i,offset:1}:Mn(i)?{element:i,offset:Md(i).length}:{element:i,offset:Kn(i).length}}(e,t),i=$n.fromHtml('<span data-mce-bogus="all">\ufeff</span>');return ii(n.element,i),Yg(i,function(){return ui(i)})},Kg=function(e,t,n,i){Qg(e,function(r,o){return Jg(e,t,n,i)},n)},Xg=function(e,t,n,i,r){var o,a,s={elm:i.element.dom(),alignToTop:r};o=s,e.fire("ScrollIntoView",o).isDefaultPrevented()||(n(t,gi(t).top(),i,r),a=s,e.fire("AfterScrollIntoView",a))},Jg=function(e,t,n,i){var r=$n.fromDom(e.getBody()),o=$n.fromDom(e.getDoc());r.dom().offsetWidth;var a=Gg($n.fromDom(n.startContainer),n.startOffset);Xg(e,o,t,a,i),a.cleanup()},Zg=function(e,t,n,i){var r,o=$n.fromDom(e.getDoc());Xg(e,o,n,(r=t,Yg($n.fromDom(r),Ce)),i)},Qg=function(e,t,n){var i=n.startContainer,r=n.startOffset,o=n.endContainer,a=n.endOffset;t($n.fromDom(i),$n.fromDom(o));var s=e.dom.createRng();s.setStart(i,r),s.setEnd(o,a),e.selection.setRng(n)},ev=function(e,t,n,i){var r=e.pos;if(n)vi(r.left(),r.top(),i);else{var o=r.top()-t+e.height;vi(r.left(),o,i)}},tv=function(e,t,n,i,r){var o=n+t,a=i.pos.top(),s=i.bottom,l=n<=s-a;a<t?ev(i,n,!1!==r,e):o<a?ev(i,n,l?!1!==r:!0===r,e):o<s&&!l&&ev(i,n,!0===r,e)},nv=function(e,t,n,i){var r=e.dom().defaultView.innerHeight;tv(e,t,r,n,i)},iv=function(t,n,i,r){var o=t.dom().defaultView.innerHeight;tv(t,n,o,i,r);var a=Wg(i.element),s=wi(e.window);a.top()<s.y?bi(i.element,!1!==r):a.top()>s.bottom&&bi(i.element,!0===r)},rv=function(e,t,n){return Kg(e,nv,t,n)},ov=function(e,t,n){return Zg(e,t,nv,n)},av=function(e,t,n){return Kg(e,iv,t,n)},sv=function(e,t,n){return Zg(e,t,iv,n)},lv=function(e,t,n){(e.inline?rv:av)(e,t,n)},uv=function(e){return Ri(e)||Li(e)},cv=function(e,t,n){var i,r,o,a,s,l=n;if(l.caretPositionFromPoint)(r=l.caretPositionFromPoint(e,t))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(e,t);else if(l.body.createTextRange){i=l.body.createTextRange();try{i.moveToPoint(e,t),i.collapse(!0)}catch(u){i=function(e,t,n){var i,r=n.elementFromPoint(e,t),o=n.body.createTextRange();if(r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),0<(i=(i=Sn.toArray(o.getClientRects())).sort(function(e,n){return(e=Math.abs(Math.max(e.top-t,e.bottom-t)))-(n=Math.abs(Math.max(n.top-t,n.bottom-t)))})).length){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null}(e,t,n)}return o=i,a=n.body,s=o&&o.parentElement?o.parentElement():null,Li(function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(s,a,uv))?null:o}return i},dv=function(e,t,n,i,r){var o=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Ne.from(o).map($n.fromDom).map(function(e){return i&&t.collapsed?e:Xn(e,r(e,a)).getOr(e)}).bind(function(e){return On(e)?Ne.some(e):Un(e).filter(On)}).map(function(e){return e.dom()}).getOr(e)},fv=function(e,t,n){return dv(e,t,!0,n,function(e,t){return Math.min(e.dom().childNodes.length,t)})},hv=function(e,t,n){return dv(e,t,!1,n,function(e,t){return 0<t?t-1:t})},pv=function(e,t){for(var n=e;e&&Oi(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},mv=function(e,t){void 0===t&&(t={});var n,i,r=t.format?t.format:"html";return n=r,i=t,Qm(e).selection.getContent(n,i)},gv=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},vv=function(e,t,n){return null!==function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null}(e,t,n)},bv=function(e,t,n){return vv(e,t,function(e){return e.nodeName===n})},yv=function(e){return e&&"TABLE"===e.nodeName},wv=function(e,t,n){for(var i=new ca(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=i[n?"prev":"next"]();)if(Ii(t))return!0},xv=function(e,t,n,i,r){var o,a,s=e.getRoot(),l=e.schema.getNonEmptyElements(),u=e.getParent(r.parentNode,e.isBlock)||s;if(i&&Ii(r)&&t&&e.isEmpty(u))return Ne.some(A(r.parentNode,e.nodeIndex(r)));for(var c,d,f=new ca(r,u);a=f[i?"prev":"next"]();){if("false"===e.getContentEditableParent(a)||(d=s,Vs(c=a)&&!1===vv(c,d,Oc)))return Ne.none();if(Oi(a)&&0<a.nodeValue.length)return!1===bv(a,s,"A")?Ne.some(A(a,i?a.nodeValue.length:0)):Ne.none();if(e.isBlock(a)||l[a.nodeName.toLowerCase()])return Ne.none();o=a}return n&&o?Ne.some(A(o,0)):Ne.none()},Cv=function(e,t,n,i){var r,o,a,s,l=e.getRoot(),u=!1;r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"];var c,d,f,h=_i(r)&&o===r.childNodes.length,p=e.schema.getNonEmptyElements();if(s=n,Vs(r))return Ne.none();if(_i(r)&&o>r.childNodes.length-1&&(s=!1),Ni(r)&&(r=l,o=0),r===l){if(s&&(a=r.childNodes[0<o?o-1:0])){if(Vs(a))return Ne.none();if(p[a.nodeName]||yv(a))return Ne.none()}if(r.hasChildNodes()){if(o=Math.min(!s&&0<o?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=Oi(r)&&h?r.data.length:0,!t&&r===l.lastChild&&yv(r))return Ne.none();if(function(e,t){for(;t&&t!==e;){if(Li(t))return!0;t=t.parentNode}return!1}(l,r)||Vs(r))return Ne.none();if(r.hasChildNodes()&&!1===yv(r)){var m=new ca(a=r,l);do{if(Li(a)||Vs(a)){u=!1;break}if(Oi(a)&&0<a.nodeValue.length){o=s?0:a.nodeValue.length,r=a,u=!0;break}if(p[a.nodeName.toLowerCase()]&&(!(c=a)||!/^(TD|TH|CAPTION)$/.test(c.nodeName))){o=e.nodeIndex(a),r=a.parentNode,s||o++,u=!0;break}}while(a=s?m.next():m.prev())}}}return t&&(Oi(r)&&0===o&&xv(e,h,t,!0,r).each(function(e){r=e.container(),o=e.offset(),u=!0}),_i(r)&&(!(a=(a=r.childNodes[o])||r.childNodes[o-1])||!Ii(a)||(f="A",(d=a).previousSibling&&d.previousSibling.nodeName===f)||wv(e,a,!1)||wv(e,a,!0)||xv(e,h,t,!0,a).each(function(e){r=e.container(),o=e.offset(),u=!0}))),s&&!t&&Oi(r)&&o===r.nodeValue.length&&xv(e,h,t,!1,r).each(function(e){r=e.container(),o=e.offset(),u=!0}),u?Ne.some(A(r,o)):Ne.none()},_v=function(e,t){var n=t.collapsed,i=t.cloneRange(),r=A.fromRangeStart(t);return Cv(e,n,!0,i).each(function(e){n&&A.isAbove(r,e)||i.setStart(e.container(),e.offset())}),n||Cv(e,n,!1,i).each(function(e){i.setEnd(e.container(),e.offset())}),n&&i.collapse(!0),gv(t,i)?Ne.none():Ne.some(i)},kv=function(e){return 0===e.dom().length?(ui(e),Ne.none()):Ne.some(e)},Sv=function(e,t){var n=Ne.from(t.firstChild).map($n.fromDom),i=Ne.from(t.lastChild).map($n.fromDom);e.deleteContents(),e.insertNode(t);var r=n.bind(Wn).filter(Mn).bind(kv),o=i.bind(qn).filter(Mn).bind(kv);Xs(r,n.filter(Mn),function(e,t){var n,i;n=t.dom(),i=e.dom().data,n.insertData(0,i),ui(e)}),Xs(o,i.filter(Mn),function(t,n){var i=n.dom().length;n.dom().appendData(t.dom().data),e.setEnd(n.dom(),i),ui(t)}),e.collapse(!1)},Dv=function(e,t,n){void 0===n&&(n={});var i,r=(i=t,Mt(Mt({format:"html"},n),{set:!0,selection:!0,content:i}));if(r.no_events||!(r=e.fire("BeforeSetContent",r)).isDefaultPrevented()){n.content=function(e,t){if("raw"===t.format)return t.content;var n=e.parser.parse(t.content,Mt({isRootContent:!0,forced_root_block:!1},t));return qd({validate:e.validate},e.schema).serialize(n)}(e,r);var o=e.selection.getRng();Sv(o,o.createContextualFragment(n.content)),e.selection.setRng(o),lv(e,o),r.no_events||e.fire("SetContent",r)}else e.fire("SetContent",r)};(P=P||{}).isBookmarkNode=Vc;var $v,Tv,Ev=P,Av=function(e,t,n){if(n.collapsed)return!1;if(wn.browser.isIE()&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var i=n.startContainer.childNodes[n.startOffset];if(_i(i))return Xe(i.getClientRects(),function(n){return il(n,e,t)})}return Xe(n.getClientRects(),function(n){return il(n,e,t)})},Ov={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return wn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},Mv=Li,Nv=Ri,Pv=function(t,n){var i,r,o,a,s,l,u,c,d,f,h,p,m,g,v=n.dom,b=Sn.each,y=n.getDoc(),w=e.document,x=Math.abs,C=Math.round,_=n.getBody(),k={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},S=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},D=function(e){var t=e.target;!function(e,t){if("longpress"!==e.type&&0!==e.type.indexOf("touch"))return S(e.target)&&!Av(e.clientX,e.clientY,t);var n=e.touches[0];return S(e.target)&&!Av(n.clientX,n.clientY,t)}(e,n.selection.getRng())||e.isDefaultPrevented()||n.selection.select(t)},$=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},T=function(e){var t=bu(n);return!1!==t&&!wn.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&e!==n.getBody()&&Rn($n.fromDom(e),t))},E=function(e,t,n){v.setStyles($(e),{width:t,height:n})},A=function(e){var t,b,y,w,k,D,$;t=e.screenX-s,b=e.screenY-l,h=t*a[2]+u,p=b*a[3]+c,h=h<5?5:h,p=p<5?5:p,(S(i)&&!1!==n.getParam("resize_img_proportional",!0,"boolean")?!Ov.modifierPressed(e):Ov.modifierPressed(e))&&(x(t)>x(b)?(p=C(h*d),h=C(p/d)):(h=C(p/d),p=C(h*d))),E(r,h,p),y=0<(y=a.startPos.x+t)?y:0,w=0<(w=a.startPos.y+b)?w:0,v.setStyles(o,{left:y,top:w,display:"block"}),o.innerHTML=h+" &times; "+p,a[2]<0&&r.clientWidth<=h&&v.setStyle(r,"left",void 0+(u-h)),a[3]<0&&r.clientHeight<=p&&v.setStyle(r,"top",void 0+(c-p)),(t=_.scrollWidth-m)+(b=_.scrollHeight-g)!==0&&v.setStyles(o,{left:y-t,top:w-b}),f||(k=i,D=u,$=c,n.fire("ObjectResizeStart",{target:k,width:D,height:$}),f=!0)},O=function(){var e=f;f=!1;var t,a,s,l=function(e,t){t&&(i.style[e]||!n.schema.isValid(i.nodeName.toLowerCase(),e)?v.setStyle($(i),e,t):v.setAttrib($(i),e,""+t))};e&&(l("width",h),l("height",p)),v.unbind(y,"mousemove",A),v.unbind(y,"mouseup",O),w!==y&&(v.unbind(w,"mousemove",A),v.unbind(w,"mouseup",O)),v.remove(r),v.remove(o),M(i),e&&(t=i,a=h,s=p,n.fire("ObjectResized",{target:t,width:a,height:s}),v.setAttrib(i,"style",v.getAttrib(i,"style"))),n.nodeChanged()},M=function(e){N(),R();var t=v.getPos(e,_),f=t.x,x=t.y,C=e.getBoundingClientRect(),S=C.width||C.right-C.left,D=C.height||C.bottom-C.top;i!==e&&(i=e,h=p=0);var M=n.fire("ObjectSelected",{target:e});T(e)&&!M.isDefaultPrevented()?b(k,function(e,t){var n;(n=v.get("mceResizeHandle"+t))&&v.remove(n),n=v.add(_,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===wn.ie&&(n.contentEditable=!1),v.bind(n,"mousedown",function(t){var n;t.stopImmediatePropagation(),t.preventDefault(),s=(n=t).screenX,l=n.screenY,u=$(i).clientWidth,c=$(i).clientHeight,d=c/u,(a=e).startPos={x:S*e[0]+f,y:D*e[1]+x},m=_.scrollWidth,g=_.scrollHeight,r=i.cloneNode(!0),v.addClass(r,"mce-clonedresizable"),v.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,v.setStyles(r,{left:f,top:x,margin:0}),E(r,S,D),r.removeAttribute("data-mce-selected"),_.appendChild(r),v.bind(y,"mousemove",A),v.bind(y,"mouseup",O),w!==y&&(v.bind(w,"mousemove",A),v.bind(w,"mouseup",O)),o=v.add(_,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},u+" &times; "+c)}),e.elm=n,v.setStyles(n,{left:S*e[0]+f-n.offsetWidth/2,top:D*e[1]+x-n.offsetHeight/2})}):N(),i.setAttribute("data-mce-selected","1")},N=function(){R(),i&&i.removeAttribute("data-mce-selected"),pt(k,function(e,t){var n=v.get("mceResizeHandle"+t);n&&(v.unbind(n),v.remove(n))})},P=function(e){var i,r=function(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)};f||n.removed||(b(v.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),i="mousedown"===e.type?e.target:t.getNode(),r(i=v.$(i).closest("table,img,figure.image,hr")[0],_)&&(L(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?M(i):N())},I=function(e){return Mv(function(e,t){for(;t&&t!==e;){if(Nv(t)||Mv(t))return t;t=t.parentNode}return null}(n.getBody(),e))},R=function(){pt(k,function(e){e.elm&&(v.unbind(e.elm),delete e.elm)})},L=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};return n.on("init",function(){if(L(),wn.browser.isIE()||wn.browser.isEdge()){n.on("mousedown click",function(e){var t=e.target,i=t.nodeName;f||!/^(TABLE|IMG|HR)$/.test(i)||I(t)||(2!==e.button&&n.selection.select(t,"TABLE"===i),"mousedown"===e.type&&n.nodeChanged())});var e=function(e){var t=function(e){Ia.setEditorTimeout(n,function(){return n.selection.select(e)})};return I(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target)))};v.bind(_,"mscontrolselect",e),n.on("remove",function(){return v.unbind(_,"mscontrolselect",e)})}var t=Ia.throttle(function(e){n.composing||P(e)});n.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",t),n.on("keyup compositionend",function(e){i&&"TABLE"===i.nodeName&&t(e)}),n.on("hide blur",N),n.on("contextmenu longpress",D,!0)}),n.on("remove",R),{isResizable:T,showResizeRect:M,hideResizeRect:N,updateResizeRect:P,destroy:function(){i=r=null}}},Iv=function(e,t,n){if(e&&e.hasOwnProperty(t)){var i=et(e[t],function(e){return e!==n});0===i.length?delete e[t]:e[t]=i}},Rv=function(e){return!!e.select},Lv=function(e){return!(!e||!e.ownerDocument)&&Hn($n.fromDom(e.ownerDocument),$n.fromDom(e))},Bv=function(e,t,n,i){var r,o,a=function(e,t){var n,i;return{selectorChangedWithUnbind:function(r,o){return n||(n={},i={},t.on("NodeChange",function(t){var r=t.element,o=e.getParents(r,null,e.getRoot()),a={};Sn.each(n,function(t,n){Sn.each(o,function(r){if(e.is(r,n))return i[n]||(Sn.each(t,function(e){e(!0,{node:r,selector:n,parents:o})}),i[n]=t),a[n]=t,!1})}),Sn.each(i,function(e,t){a[t]||(delete i[t],Sn.each(e,function(e){e(!1,{node:r,selector:t,parents:o})}))})})),n[r]||(n[r]=[]),n[r].push(o),{unbind:function(){Iv(n,r,o),Iv(i,r,o)}}}}}(e,i).selectorChangedWithUnbind,s=function(e,t){return Dv(i,e,t)},l=function(e){var t=c();t.collapse(!!e),d(t)},u=function(){return t.getSelection?t.getSelection():t.document.selection},c=function(){var n,a,s,l=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(i){return-1}};if(!t)return null;var c=t.document;if(null==c)return null;if(void 0!==i.bookmark&&!1===up(i)){var d=Xh(i);if(d.isSome())return d.map(function(e){return pm(i,[e])[0]}).getOr(c.createRange())}try{(n=u())&&!Ci(n.anchorNode)&&(a=0<n.rangeCount?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(f){}return(a=(a=pm(i,[a])[0])||(c.createRange?c.createRange():c.body.createTextRange())).setStart&&9===a.startContainer.nodeType&&a.collapsed&&(s=e.getRoot(),a.setStart(s,0),a.setEnd(s,0)),r&&o&&(0===l(a.START_TO_START,a,r)&&0===l(a.END_TO_END,a,r)?a=o:o=r=null),a},d=function(e,t){var n;if((a=e)&&(Rv(a)||Lv(a.startContainer)&&Lv(a.endContainer))){var a,s=Rv(e)?e:null;if(s){o=null;try{s.select()}catch(l){}}else{var c=u();if(e=i.fire("SetSelectionRange",{range:e,forward:t}).range,c){o=e;try{c.removeAllRanges(),c.addRange(e)}catch(l){}!1===t&&c.extend&&(c.collapse(e.endContainer,e.endOffset),c.extend(e.startContainer,e.startOffset)),r=0<c.rangeCount?c.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!c.setBaseAndExtent||wn.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(n=e.startContainer.childNodes[e.startOffset])&&"IMG"===n.tagName&&(c.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),c.anchorNode===e.startContainer&&c.focusNode===e.endContainer||c.setBaseAndExtent(n,0,n,1)),i.fire("AfterSetSelectionRange",{range:e,forward:t})}}},f=function(){var t=u();if(!t||!t.anchorNode||!t.focusNode)return!0;var n=e.createRng();n.setStart(t.anchorNode,t.anchorOffset),n.collapse(!0);var i=e.createRng();return i.setStart(t.focusNode,t.focusOffset),i.collapse(!0),n.compareBoundaryPoints(n.START_TO_START,i)<=0},h={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:i,collapse:l,setCursorLocation:function(t,n){var r=e.createRng();t?(r.setStart(t,n),r.setEnd(t,n),d(r),l(!1)):($d(e,r,i.getBody(),!0),d(r))},getContent:function(e){return mv(i,e)},setContent:s,getBookmark:function(e,t){return p.getBookmark(e,t)},moveToBookmark:function(e){return p.moveToBookmark(e)},select:function(t,n){var i,r,o;return i=e,r=t,o=n,Ne.from(r).map(function(e){var t=i.nodeIndex(e),n=i.createRng();return n.setStart(e.parentNode,t),n.setEnd(e.parentNode,t+1),o&&($d(i,n,e,!0),$d(i,n,e,!1)),n}).each(d),t},isCollapsed:function(){var e=c(),t=u();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},isForward:f,setNode:function(t){return s(e.getOuterHTML(t)),t},getNode:function(){return function(e,t){var n,i,r;if(!t)return e;i=t.startContainer,r=t.endContainer;var o=t.startOffset,a=t.endOffset;return n=t.commonAncestorContainer,!t.collapsed&&(i===r&&a-o<2&&i.hasChildNodes()&&(n=i.childNodes[o]),3===i.nodeType&&3===r.nodeType&&(i=i.length===o?pv(i.nextSibling,!0):i.parentNode,r=0===a?pv(r.previousSibling,!1):r.parentNode,i&&i===r))?i:n&&3===n.nodeType?n.parentNode:n}(i.getBody(),c())},getSel:u,setRng:d,getRng:c,getStart:function(e){return fv(i.getBody(),c(),e)},getEnd:function(e){return hv(i.getBody(),c(),e)},getSelectedBlocks:function(t,n){return function(e,t,n,i){var r,o=[],a=e.getRoot();if(n=e.getParent(n||fv(a,t,t.collapsed),e.isBlock),i=e.getParent(i||hv(a,t,t.collapsed),e.isBlock),n&&n!==a&&o.push(n),n&&i&&n!==i)for(var s=new ca(r=n,a);(r=s.next())&&r!==i;)e.isBlock(r)&&o.push(r);return i&&n!==i&&i!==a&&o.push(i),o}(e,c(),t,n)},normalize:function(){var t=c(),n=u();if(1<wd(n).length||!Td(i))return t;var r=_v(e,t);return r.each(function(e){d(e,f())}),r.getOr(t)},selectorChanged:function(e,t){return a(e,t),h},selectorChangedWithUnbind:a,getScrollContainer:function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},scrollIntoView:function(e,t){return r=e,o=t,void((n=i).inline?ov:sv)(n,r,o);var n,r,o},placeCaretAt:function(e,t){return d(cv(e,t,i.getDoc()))},getBoundingClientRect:function(){var e=c();return e.collapsed?Fl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},destroy:function(){t=r=o=null,m.destroy()}},p=Ev(h),m=Pv(h,i);return h.bookmarkManager=p,h.controlSelection=m,h},Fv=function(e,t,n){e.addNodeFilter("font",function(e){Ze(e,function(e){var i,r=t.parse(e.attr("style")),o=e.attr("color"),a=e.attr("face"),s=e.attr("size");o&&(r.color=o),a&&(r["font-family"]=a),s&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),i=e,Ze(["color","face","size"],function(e){i.attr(e,null)})})})},Hv=function(e,t){var n,i=Br();t.convert_fonts_to_spans&&Fv(e,i,Sn.explode(t.font_size_legacy_values)),n=i,e.addNodeFilter("strike",function(e){Ze(e,function(e){var t=n.parse(e.attr("style"));t["text-decoration"]="line-through",
e.name="span",e.attr("style",n.serialize(t))})})},jv=function(e){var t,n=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(t=i[1]),{type:t,data:n[1]}},Vv=function(t,n){var i;try{i=e.atob(n)}catch(r){return Ne.none()}for(var o=new Uint8Array(i.length),a=0;a<o.length;a++)o[a]=i.charCodeAt(a);return Ne.some(new e.Blob([o],{type:t}))},zv=function(t){return 0===t.indexOf("blob:")?(n=t,new Oa(function(t,i){var r=function(){i("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new e.XMLHttpRequest;o.open("GET",n,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(a){r()}})):0===t.indexOf("data:")?(i=t,new Oa(function(t){var n=jv(i),r=n.type,o=n.data;Vv(r,o).fold(function(){return t(new e.Blob([]))},t)})):null;var n,i},Uv=0,Wv=function(e){return(e||"blobid")+Uv++},qv=function(t,n,i,r){var o,a;if(0!==n.src.indexOf("blob:")){var s=jv(n.src),l=s.data,u=s.type;o=l,(a=t.getByData(o,u))?i({image:n,blobInfo:a}):zv(n.src).then(function(e){a=t.create(Wv(),e,o),t.add(a),i({image:n,blobInfo:a})},function(e){r(e)})}else(a=t.getByUri(n.src))?i({image:n,blobInfo:a}):zv(n.src).then(function(r){var s;s=r,new Oa(function(t){var n=new e.FileReader;n.onloadend=function(){t(n.result)},n.readAsDataURL(s)}).then(function(e){o=jv(e).data,a=t.create(Wv(),r,o),t.add(a),i({image:n,blobInfo:a})})},function(e){r(e)})},Yv=function(e,t,n,i){(e.padd_empty_with_br||t.insert)&&n[i.name]?i.empty().append(new zd("br",1)).shortEnded=!0:i.empty().append(new zd("#text",3)).value=Rr},Gv=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},Kv=function(e,t,n,i){return i.isEmpty(t,n,function(t){return n=t,(i=e.getElementRule(n.name))&&i.paddEmpty;var n,i})},Xv=function(t,n){var i=n.blob_cache,r=function(t){var r,o,a=t.attr("src");(r=t).attr("src")===wn.transparentSrc||r.attr("data-mce-placeholder")||t.attr("data-mce-bogus")||((o=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(a))?Ne.some({type:o[1],data:decodeURIComponent(o[2])}):Ne.none()).filter(function(){return function(t,n){if(n.images_dataimg_filter){var i=new e.Image;return i.src=t.attr("src"),pt(t.attributes.map,function(e,t){i.setAttribute(t,e)}),n.images_dataimg_filter(i)}return!0}(t,n)}).bind(function(e){var t=e.type,n=e.data;return Ne.from(i.getByData(n,t)).orThunk(function(){return Vv(t,n).map(function(e){var t=i.create(Wv(),e,n);return i.add(t),t})})}).each(function(e){t.attr("src",e.blobUri())})};i&&t.addAttributeFilter("src",function(e){return Ze(e,r)})},Jv=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,i,r){var o,a,s,l,u,c,d,f,h=e.length,p=Sn.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;o<h;o++)if(s=(a=e[o]).parent,p[a.parent.name]&&a===s.lastChild){for(u=a.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){a=null;break}}u=u.prev}a&&(a.remove(),Kv(n,m,g,s)&&(d=n.getElementRule(s.name))&&(d.removeEmpty?s.remove():d.paddEmpty&&Yv(t,r,p,s)))}else{for(l=a;s&&s.firstChild===l&&s.lastChild===l&&!p[(l=s).name];)s=s.parent;l===s&&!0!==t.padd_empty_with_br&&((f=new zd("#text",3)).value=Rr,a.replace(f))}}),e.addAttributeFilter("href",function(e){var n=e.length,i=function(e){var t=e?Sn.trim(e):"";return/\b(noopener)\b/g.test(t)?t:t.split(" ").filter(function(e){return 0<e.length}).concat(["noopener"]).sort().join(" ")};if(!t.allow_unsafe_link_target)for(;n--;){var r=e[n];"a"===r.name&&"_blank"===r.attr("target")&&r.attr("rel",i(r.attr("rel")))}}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,i,r,o=e.length;o--;)if("a"===(r=e[o]).name&&r.firstChild&&!r.attr("href"))for(i=r.parent,t=r.lastChild;n=t.prev,i.insert(t,r),t=n;);}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,i=e.length;i--;)if("ul"===(n=(t=e[i]).parent).name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var r=new zd("li",1);r.attr("style","list-style-type: none"),t.wrap(r)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,i,r,o,a,s,l,u=e.length,c=n.getValidClasses();u--;){for(i=(t=e[u]).attr("class").split(" "),a="",r=0;r<i.length;r++)o=i[r],l=!1,(s=c["*"])&&s[o]&&(l=!0),s=c[t.name],!l&&s&&s[o]&&(l=!0),l&&(a&&(a+=" "),a+=o);a.length||(a=null),t.attr("class",a)}}),Xv(e,t)},Zv=Sn.makeMap,Qv=Sn.each,eb=Sn.explode,tb=Sn.extend,nb=function(e,t){void 0===t&&(t=i());var n={},r=[],o={},a={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var s,l,u=function(e){var t,i,s;(i=e.name)in n&&((s=o[i])?s.push(e):o[i]=[e]),t=r.length;for(;t--;)(i=r[t].name)in e.attributes.map&&((s=a[i])?s.push(e):a[i]=[e]);return e},c={schema:t,addAttributeFilter:function(e,t){Qv(eb(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},getAttributeFilters:function(){return[].concat(r)},addNodeFilter:function(e,t){Qv(eb(e),function(e){var i=n[e];i||(n[e]=i=[]),i.push(t)})},getNodeFilters:function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},filterNode:u,parse:function(i,s){var l,c,d,f,h,p,m,g,v,b=[];s=s||{},o={},a={};var y,w=tb(Zv("script,style,head,html,body,title,meta,param"),t.getBlockElements()),x=t.getNonEmptyElements(),C=t.children,_=e.validate,k="forced_root_block"in s?s.forced_root_block:e.forced_root_block,S=!1===(y=k)?"":!0===y?"p":y,D=t.getWhiteSpaceElements(),$=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,E=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;g=D.hasOwnProperty(s.context)||D.hasOwnProperty(e.root_name);var O=function(e,t){var i,r=new zd(e,t);return e in n&&((i=o[e])?i.push(r):o[e]=[r]),r},M=function(e){var n,i,r,o,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(0<(r=n.value.replace(T,"")).length)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!a[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}},N=tf({validate:_,allow_html_data_urls:e.allow_html_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n}(t.getSelfClosingElements()),cdata:function(e){v.append(O("#cdata",4)).value=e},text:function(e,t){var n,i,r;g||(e=e.replace(E," "),i=v.lastChild,r=w,i&&(r[i.name]||"br"===i.name)&&(e=e.replace($,""))),0!==e.length&&((n=O("#text",3)).raw=!!t,v.append(n).value=e)},comment:function(e){v.append(O("#comment",8)).value=e},pi:function(e,t){v.append(O(e,7)).value=t,M(v)},doctype:function(e){v.append(O("#doctype",10)).value=e,M(v)},start:function(e,n,i){var o,s,l,u,c=_?t.getElementRule(e):{};if(c){for((o=O(c.outputName||e,1)).attributes=n,o.shortEnded=i,v.append(o),(u=C[v.name])&&C[o.name]&&!u[o.name]&&b.push(o),s=r.length;s--;)(l=r[s].name)in n.map&&((p=a[l])?p.push(o):a[l]=[o]);w[e]&&M(o),i||(v=o),!g&&D[e]&&(g=!0)}},end:function(n){var i,r,o,a,l,u=_?t.getElementRule(n):{};if(u){if(w[n]&&!g){if((i=v.firstChild)&&3===i.type)if(0<(r=i.value.replace($,"")).length)i.value=r,i=i.next;else for(o=i.next,i.remove(),i=o;i&&3===i.type;)r=i.value,o=i.next,0!==r.length&&!A.test(r)||(i.remove(),i=o),i=o;if((i=v.lastChild)&&3===i.type)if(0<(r=i.value.replace(T,"")).length)i.value=r,i=i.prev;else for(o=i.prev,i.remove(),i=o;i&&3===i.type;)r=i.value,o=i.prev,0!==r.length&&!A.test(r)||(i.remove(),i=o),i=o}if(g&&D[n]&&(g=!1),u.removeEmpty&&Kv(t,x,D,v))return a=v.parent,w[v.name]?v.empty().remove():v.unwrap(),void(v=a);u.paddEmpty&&(Gv(l=v,"#text")&&l.firstChild.value===Rr||Kv(t,x,D,v))&&Yv(e,s,w,v),v=v.parent}}},t),P=v=new zd(s.context||e.root_name,11);if(N.parse(i,s.format),_&&b.length&&(s.context?s.invalid=!0:function(e){var n,i,r,o,a,s,l,c,d,f,h,p=Zv("tr,td,th,tbody,thead,tfoot,table"),m=t.getNonEmptyElements(),g=t.getWhiteSpaceElements(),v=t.getTextBlockElements(),b=t.getSpecialElements();for(n=0;n<e.length;n++)if((i=e[n]).parent&&!i.fixed)if(v[i.name]&&"li"===i.parent.name){for(f=i.next;f&&v[f.name];)f.name="li",f.fixed=!0,i.parent.insert(f,i.parent),f=f.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!t.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&1<o.length){for(o.reverse(),a=s=u(o[0].clone()),d=0;d<o.length-1;d++){for(t.isValidChild(s.name,o[d].name)?(l=u(o[d].clone()),s.append(l)):l=s,c=o[d].firstChild;c&&c!==o[d+1];)h=c.next,l.append(c),c=h;s=l}Kv(t,m,g,a)?r.insert(i,o[0],!0):(r.insert(a,o[0],!0),r.insert(i,a)),r=o[0],(Kv(t,m,g,r)||Gv(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((f=i.prev)&&("ul"===f.name||"ul"===f.name)){f.append(i);continue}if((f=i.next)&&("ul"===f.name||"ul"===f.name)){f.insert(i,f.firstChild,!0);continue}i.wrap(u(new zd("ul",1)));continue}t.isValidChild(i.parent.name,"div")&&t.isValidChild("div",i.name)?i.wrap(u(new zd("div",1))):b[i.name]?i.empty().remove():i.unwrap()}}}(b)),S&&("body"===P.name||s.isRootContent)&&function(){var n,i,r=P.firstChild,o=function(e){e&&((r=e.firstChild)&&3===r.type&&(r.value=r.value.replace($,"")),(r=e.lastChild)&&3===r.type&&(r.value=r.value.replace(T,"")))};if(t.isValidChild(P.name,S.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!w[r.name]&&!r.attr("data-mce-type")?(i||((i=O(S,1)).attr(e.forced_root_block_attrs),P.insert(i,r)),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!s.invalid){for(m in o)if(o.hasOwnProperty(m)){for(p=n[m],f=(l=o[m]).length;f--;)l[f].parent||l.splice(f,1);for(c=0,d=p.length;c<d;c++)p[c](l,m,s)}for(c=0,d=r.length;c<d;c++)if((p=r[c]).name in a){for(f=(l=a[p.name]).length;f--;)l[f].parent||l.splice(f,1);for(f=0,h=p.callbacks.length;f<h;f++)p.callbacks[f](l,p.name,s)}}return P}};return Jv(c,e),s=c,(l=e).inline_styles&&Hv(s,l),c},ib=function(t,n,i){return o=i,(r=t)&&r.hasEventListeners("PreProcess")&&!o.no_events?function(t,n,i){var r,o,a=t.dom;n=n.cloneNode(!0);var s,l,u=e.document.implementation;return u.createHTMLDocument&&(r=u.createHTMLDocument(""),Sn.each("BODY"===n.nodeName?n.childNodes:[n],function(e){r.body.appendChild(r.importNode(e,!0))}),n="BODY"!==n.nodeName?r.body.firstChild:r.body,o=a.doc,a.doc=r),s=t,l=Mt(Mt({},i),{node:n}),s.fire("PreProcess",l),o&&(a.doc=o),n}(t,n,i):n;var r,o},rb=function(e,t,n){-1===Sn.inArray(t,n)&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},ob=function(e,t,n,i,r){var o,a,s,l,u,c,d=(o=i,qd(t,n).serialize(o));return a=e,l=d,(s=r).no_events||!a?l:(u=a,c=Mt(Mt({},s),{content:l}),u.fire("PostProcess",c).content)},ab=function(e,n){var r=["data-mce-selected"],o=n&&n.dom?n.dom:qa.DOM,a=n&&n.schema?n.schema:i(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs;var s,l,u,c=nb(e,a);return l=e,u=o,(s=c).addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,i=e.length;i--;)(n=e[i]).attr("tabindex",n.attr("data-mce-tabindex")),n.attr(t,null)}),s.addAttributeFilter("src,href,style",function(e,t){for(var n,i,r=e.length,o="data-mce-"+t,a=l.url_converter,s=l.url_converter_scope;r--;)void 0!==(i=(n=e[r]).attr(o))?(n.attr(t,0<i.length?i:null),n.attr(o,null)):(i=n.attr(t),"style"===t?i=u.serializeStyle(u.parseStyle(i),n.name):a&&(i=a.call(s,i,t,n.name)),n.attr(t,0<i.length?i:null))}),s.addAttributeFilter("class",function(e){for(var t,n,i=e.length;i--;)(n=(t=e[i]).attr("class"))&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",0<n.length?n:null))}),s.addAttributeFilter("data-mce-type",function(e,t,n){for(var i,r=e.length;r--;)"bookmark"!==(i=e[r]).attr("data-mce-type")||n.cleanup||(Ne.from(i.firstChild).exists(function(e){return!Rs(e.value)})?i.unwrap():i.remove())}),s.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)(t=e[n].firstChild)&&(t.value=kr.decode(t.value))}),s.addNodeFilter("script,style",function(e,t){for(var n,i,r,o=e.length,a=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};o--;)i=(n=e[o]).firstChild?n.firstChild.value:"","script"===t?((r=n.attr("type"))&&n.attr("type","mce-no/type"===r?null:r.replace(/^mce\-/,"")),"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="// <![CDATA[\n"+a(i)+"\n// ]]>")):"xhtml"===l.element_format&&0<i.length&&(n.firstChild.value="<!--\n"+a(i)+"\n-->")}),s.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],l.preserve_cdata&&0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=u.decode(t.value.replace(/^\[CDATA\[|\]\]$/g,""))):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),s.addNodeFilter("xml:namespace,input",function(e,t){for(var n,i=e.length;i--;)7===(n=e[i]).type?n.remove():1===n.type&&("input"!==t||n.attr("type")||n.attr("type","text"))}),s.addAttributeFilter("data-mce-type",function(e){Ze(e,function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(s.schema.getNonEmptyElements())?e.remove():e.unwrap())})}),s.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),{schema:a,addNodeFilter:c.addNodeFilter,addAttributeFilter:c.addAttributeFilter,serialize:function(t,i){void 0===i&&(i={});var r,s,l,u,d,f,h,p,m,g=Mt({format:"html"},i),v=ib(n,t,g),b=(r=o,s=v,u=Ls((l=g).getInner?s.innerHTML:r.getOuterHTML(s)),l.selection||lr($n.fromDom(s))?u:Sn.trim(u)),y=(d=c,f=b,p=(h=g).selection?Mt({forced_root_block:!1},h):h,function(e){var t=function(e){return e&&"br"===e.name},n=e.lastChild;if(t(n)){var i=n.prev;t(i)&&(n.remove(),i.remove())}}(m=d.parse(f,p)),m);return"tree"===g.format?y:ob(n,e,a,y,g)},addRules:function(e){a.addValidElements(e)},setRules:function(e){a.setValidElements(e)},addTempAttr:t(rb,c,r),getTempAttrs:function(){return r},getNodeFilters:c.getNodeFilters,getAttributeFilters:c.getAttributeFilters}},sb=function(e,t){var n=ab(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs,getNodeFilters:n.getNodeFilters,getAttributeFilters:n.getAttributeFilters}},lb=0,ub=function(e){return e+lb++ +(t=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+t()+t()+t());var t},cb=function(t){var n,i,r,o,a,s,l=(n=[],i=function(t){if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var n=t.id||ub("blobid"),i=t.name||n;return{id:ke(n),name:ke(i),filename:ke(i+"."+({"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[t.blob.type.toLowerCase()]||"dat")),blob:ke(t.blob),base64:ke(t.base64),blobUri:ke(t.blobUri||e.URL.createObjectURL(t.blob)),uri:ke(t.uri)}},{create:function(e,t,n,r){if(Le(e))return i({id:e,name:r,blob:t,base64:n});if(Be(e))return i(e);throw new Error("Unknown input type")},add:function(e){o(e.id())||n.push(e)},get:o=function(e){return r(function(t){return t.id()===e})},getByUri:function(e){return r(function(t){return t.blobUri()===e})},getByData:function(e,t){return r(function(n){return n.base64()===e&&n.blob().type===t})},findFirst:r=function(e){return it(n,e).getOrUndefined()},removeByUri:function(t){n=et(n,function(n){return n.blobUri()!==t||(e.URL.revokeObjectURL(n.blobUri()),!1)})},destroy:function(){Ze(n,function(t){e.URL.revokeObjectURL(t.blobUri())}),n=[]}}),u=function(){var e={},t=function(e,t){return{status:e,resultUri:t}},n=function(t){return t in e};return{hasBlobUri:n,getResultUri:function(t){var n=e[t];return n?n.resultUri:null},isPending:function(t){return!!n(t)&&1===e[t].status},isUploaded:function(t){return!!n(t)&&2===e[t].status},markPending:function(n){e[n]=t(1,null)},markUploaded:function(n,i){e[n]=t(2,i)},removeFailed:function(t){delete e[t]},destroy:function(){e={}}}}(),c=[],d=function(e){return function(n){return t.selection?e(n):[]}},f=function(e,t,n){for(var i=0;-1!==(i=e.indexOf(t,i))&&(e=e.substring(0,i)+n+e.substr(i+t.length),i+=n.length-t.length+1),-1!==i;);return e},h=function(e,t,n){return e=f(e,'src="'+t+'"','src="'+n+'"'),e=f(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},p=function(e,n){Ze(t.undoManager.data,function(t){"fragmented"===t.type?t.fragments=Je(t.fragments,function(t){return h(t,e,n)}):t.content=h(t.content,e,n)})},m=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},g=function(e,n){var i,r=t.convertURL(n,"src");p(e.src,n),t.$(e).attr({src:t.getParam("images_reuse_filename",!1,"boolean")?(i=n)+(-1===i.indexOf("?")?"?":"&")+(new Date).getTime():n,"data-mce-src":r})},v=function(e){return a=a||R(u,{url:t.getParam("images_upload_url","","string"),basePath:t.getParam("images_upload_base_path","","string"),credentials:t.getParam("images_upload_credentials",!1,"boolean"),handler:t.getParam("images_upload_handler",null,"function")}),w().then(d(function(n){var i=Je(n,function(e){return e.blobInfo});return a.upload(i,m).then(d(function(i){var r=Je(i,function(e,i){var r,o,a=n[i].blobInfo,s=n[i].image;return e.status&&t.getParam("images_replace_blob_uris",!0,"boolean")?(l.removeByUri(s.src),g(s,e.url)):e.error&&(r=t,o=e.error,Rg(r,ts.translate(["Failed to upload image: {0}",o]))),{element:s,status:e.status,uploadUri:e.url,blobInfo:a}});return e&&e(r),r}))}))},b=function(e){if(hu(t))return v(e)},y=function(e){return!1!==at(c,function(t){return t(e)})&&(0!==e.getAttribute("src").indexOf("data:")||t.getParam("images_dataimg_filter",ke(!0),"function")(e))},w=function(){return(s=s||I(u,l)).findAll(t.getBody(),y).then(d(function(e){return e=et(e,function(e){return"string"!=typeof e||(Rg(t,e),!1)}),Ze(e,function(e){p(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),e}))},x=function(e){return e.replace(/src="(blob:[^"]+)"/g,function(e,n){var i=u.getResultUri(n);if(i)return'src="'+i+'"';var r=l.getByUri(n);return(r=r||nt(t.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null))?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e})};return t.on("SetContent",function(){(hu(t)?b:w)()}),t.on("RawSaveContent",function(e){e.content=x(e.content)}),t.on("GetContent",function(e){e.source_view||"raw"===e.format||(e.content=x(e.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(e){Ze(e,function(e){var t=e.attr("src");if(!l.getByUri(t)){var n=u.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:l,addFilter:function(e){c.push(e)},uploadImages:v,uploadImagesAuto:b,scanForImages:w,destroy:function(){l.destroy(),u.destroy(),s=a=null}}},db=function(e,t,n,i){var r=ft(n.get()),o={},a={},s=et(id(e.dom,t),function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")});pt(i,function(t,n){Sn.each(s,function(i){return e.formatter.matchNode(i,n,{},t.similar)?(-1===r.indexOf(n)&&(Ze(t.callbacks,function(e){e(!0,{node:i,format:n,parents:s})}),o[n]=t.callbacks),a[n]=t.callbacks,!1):!wp(e,i,n)&&void 0})});var l=fb(n.get(),a,t,s);n.set(Mt(Mt({},o),l))},fb=function(e,t,n,i){return yt(e,function(e,r){return!!_t(t,r)||(Ze(e,function(e){e(!1,{node:n,format:r,parents:i})}),!1)}).t},hb=function(e,t,n,i,r){var o,a,s,l,u,c,d,f;return null===t.get()&&(a=e,s=Ja({}),(o=t).set({}),a.on("NodeChange",function(e){db(a,e.element,s,o.get())})),u=n,c=i,d=r,f=(l=t).get(),Ze(u.split(","),function(e){f[e]||(f[e]={similar:d,callbacks:[]}),f[e].callbacks.push(c)}),l.set(f),{unbind:function(){return r=n,o=i,a=(e=t).get(),Ze(r.split(","),function(e){a[e].callbacks=et(a[e].callbacks,function(e){return e!==o}),0===a[e].callbacks.length&&delete a[e]}),void e.set(a);var e,r,o,a}}},pb=Sn.each,mb=qa.DOM,gb=function(e,t){var n,r,o,a=t&&t.schema||i({}),s=function(e){r="string"==typeof e?{name:e,classes:[],attrs:{}}:e;var t,n,i=mb.create(r.name);return t=i,(n=r).classes.length&&mb.addClass(t,n.classes.join(" ")),mb.setAttribs(t,n.attrs),i},l=function(e,t,n){var i,r,o,u,c,d,f,h=0<t.length&&t[0],p=h&&h.name,m=(u=p,c="string"!=typeof(o=e)?o.nodeName.toLowerCase():o,d=a.getElementRule(c),!(!(f=d&&d.parentsRequired)||!f.length)&&(u&&-1!==Sn.inArray(f,u)?u:f[0]));if(m)p===m?(r=t[0],t=t.slice(1)):r=m;else if(h)r=t[0],t=t.slice(1);else if(!n)return e;return r&&(i=s(r)).appendChild(e),n&&(i||(i=mb.create("div")).appendChild(e),Sn.each(n,function(t){var n=s(t);i.insertBefore(n,e)})),l(i,t,r&&r.siblings)};return e&&e.length?(r=e[0],n=s(r),(o=mb.create("div")).appendChild(l(n,e.slice(1),r.siblings)),o):""},vb=function(e){var t,n={classes:[],attrs:{}};return"*"!==(e=n.selector=Sn.trim(e))&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,i,r,o){switch(t){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Sn.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var a=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},bb=function(e,t){var n,i,r,o,a="",s=(o=e.getParam("preview_styles","font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow"),Le(o)?o:"");if(""===s)return"";var l=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(!(t=e.formatter.get(t)))return;t=t[0]}if("preview"in t){var u=Ct(t,"preview");if(u.is(!1))return"";s=u.getOr(s)}n=t.block||t.inline||"span";var c,d=(c=t.selector)&&"string"==typeof c?(c=(c=c.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Sn.map(c.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=Sn.map(e.split(/(?:~\+|~|\+)/),vb),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[];i=d.length?(d[0].name||(d[0].name=n),n=t.selector,gb(d,e)):gb([n],e);var f=mb.select(n,i)[0]||i.firstChild;return pb(t.styles,function(e,t){(e=l(e))&&mb.setStyle(f,t,e)}),pb(t.attributes,function(e,t){(e=l(e))&&mb.setAttrib(f,t,e)}),pb(t.classes,function(e){e=l(e),mb.hasClass(f,e)||mb.addClass(f,e)}),e.fire("PreviewFormats"),mb.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),r=mb.getStyle(e.getBody(),"fontSize",!0),r=/px$/.test(r)?parseInt(r,10):0,pb(s.split(" "),function(t){var n=mb.getStyle(f,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=mb.getStyle(e.getBody(),t,!0),"#ffffff"===mb.toHex(n).toLowerCase())||"color"===t&&"#000000"===mb.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===r)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*r+"px"}"border"===t&&n&&(a+="padding:0 2px;"),a+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),mb.remove(i),a},yb=function(e){var n=L(e),i=Ja(null);return function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])}(e),Fp(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(t,n,i){var r,o,a;r=t,o=n,a=i,Qm(e).formatter.apply(r,o,a)},remove:function(t,n,i,r){var o,a,s,l;o=t,a=n,s=i,l=r,Qm(e).formatter.remove(o,a,s,l)},toggle:function(t,n,i){var r,o,a;r=t,o=n,a=i,Qm(e).formatter.toggle(r,o,a)},match:t(Sp,e),matchAll:t(Dp,e),matchNode:t(kp,e),canApply:t($p,e),formatChanged:t(hb,e,i),getCssText:t(bb,e)}},wb=function(e,t,n){var i=Ja(!1),r=function(e){Um(t,!1,n),t.add({},e)};e.on("init",function(){t.add()}),e.on("BeforeExecCommand",function(e){var i=e.command.toLowerCase();"undo"!==i&&"redo"!==i&&"mcerepaint"!==i&&(Wm(t,n),t.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command.toLowerCase();"undo"!==t&&"redo"!==t&&"mcerepaint"!==t&&r(e)}),e.on("ObjectResizeStart cut",function(){t.beforeChange()}),e.on("SaveContent ObjectResized blur",r),e.on("dragend",r),e.on("keyup",function(n){var o=n.keyCode;n.isDefaultPrevented()||((33<=o&&o<=36||37<=o&&o<=40||45===o||n.ctrlKey)&&(r(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),i.get()&&t.typing&&!1===Vm(Bm(e),t.data[0])&&(!1===e.isDirty()&&(e.setDirty(!0),e.fire("change",{level:t.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(e){var o=e.keyCode;if(!e.isDefaultPrevented())if(33<=o&&o<=36||37<=o&&o<=40||45===o)t.typing&&r(e);else{var a=e.ctrlKey&&!e.altKey||e.metaKey;!(o<16||20<o)||224===o||91===o||t.typing||a||(t.beforeChange(),Um(t,!0,n),t.add({},e),i.set(!0))}}),e.on("mousedown",function(e){t.typing&&r(e)}),e.on("input",function(e){var t;e.inputType&&("insertReplacementText"===e.inputType||"insertText"===(t=e).inputType&&null===t.data)&&r(e)}),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()})},xb=function(e){var t,n=Ja(Ne.none()),i=Ja(0),r=Ja(0),o={data:[],typing:!1,beforeChange:function(){var t,r;t=i,r=n,Qm(e).undoManager.beforeChange(t,r)},add:function(t,a){return s=o,l=r,u=i,c=n,d=t,f=a,Qm(e).undoManager.addUndoLevel(s,l,u,c,d,f);var s,l,u,c,d,f},undo:function(){return t=o,n=i,a=r,Qm(e).undoManager.undo(t,n,a);var t,n,a},redo:function(){return t=e,n=r,i=o.data,Qm(t).undoManager.redo(n,i);var t,n,i},clear:function(){var t,n;t=o,n=r,Qm(e).undoManager.clear(t,n)},reset:function(){var t;t=o,Qm(e).undoManager.reset(t)},hasUndo:function(){return t=o,n=r,Qm(e).undoManager.hasUndo(t,n);var t,n},hasRedo:function(){return t=o,n=r,Qm(e).undoManager.hasRedo(t,n);var t,n},transact:function(t){return n=o,r=i,a=t,Qm(e).undoManager.transact(n,r,a);var n,r,a},ignore:function(t){var n,r;n=i,r=t,Qm(e).undoManager.ignore(n,r)},extra:function(t,n){var i,a,s,l;i=o,a=r,s=t,l=n,Qm(e).undoManager.extra(i,a,s,l)}};return Xm(e)||wb(e,o,i),(t=e).addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),o},Cb=[9,27,Ov.HOME,Ov.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Ov.DOWN,Ov.UP,Ov.LEFT,Ov.RIGHT].concat(wn.browser.isFirefox()?[224]:[]),_b="data-mce-placeholder",kb=function(e){return"keydown"===e.type||"keyup"===e.type},Sb=function(e){var t=e.keyCode;return t===Ov.BACKSPACE||t===Ov.DELETE},Db=function(e){var t,n=e.dom,i=du(e),r=(t=e).getParam("placeholder",lu.getAttrib(t.getElement(),"placeholder"),"string"),o=function(t,a){if(!function(e){if(kb(e)){var t=e.keyCode;return!Sb(e)&&(Ov.metaKeyPressed(e)||e.altKey||112<=t&&t<=123||Ke(Cb,t))}return!1}(t)){var s,l,u=e.getBody(),c=!(kb(s=t)&&!(Sb(s)||"keyup"===s.type&&229===s.keyCode))&&function(e,t,n){if(Df($n.fromDom(t),!1)){var i=""===n,r=t.firstElementChild;return!r||!e.getStyle(t.firstElementChild,"padding-left")&&!e.getStyle(t.firstElementChild,"padding-right")&&(i?!e.isBlock(r):n===r.nodeName.toLowerCase())}return!1}(n,u,i);""!==n.getAttrib(u,_b)===c&&!a||(n.setAttrib(u,_b,c?r:null),n.setAttrib(u,"aria-placeholder",c?r:null),l=c,e.fire("PlaceholderToggle",{state:l}),e.on(c?"keydown":"keyup",o),e.off(c?"keyup":"keydown",o))}};r&&e.on("init",function(t){o(t,!0),e.on("change SetContent ExecCommand",o),e.on("paste",function(t){return Ia.setEditorTimeout(e,function(){return o(t)})})})},$b=function(e){return void 0===e.touches||1!==e.touches.length?Ne.none():Ne.some(e.touches[0])},Tb=function(e){var t=Ja(Ne.none()),n=Ja(!1),i=os(function(t){e.fire("longpress",Mt(Mt({},t),{type:"longpress"})),n.set(!0)},400);e.on("touchstart",function(e){$b(e).each(function(r){i.cancel();var o={x:ke(r.clientX),y:ke(r.clientY),target:ke(e.target)};i.throttle(e),n.set(!1),t.set(Ne.some(o))})},!0),e.on("touchmove",function(r){i.cancel(),$b(r).each(function(i){t.get().each(function(r){var o,a,s,l;o=i,a=r,s=Math.abs(o.clientX-a.x()),l=Math.abs(o.clientY-a.y()),(5<s||5<l)&&(t.set(Ne.none()),n.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(r){i.cancel(),"touchcancel"!==r.type&&t.get().filter(function(e){return e.target().isEqualNode(r.target)}).each(function(){n.get()?r.preventDefault():e.fire("tap",Mt(Mt({},r),{type:"tap"}))})},!0)},Eb=function(e,t){return e.hasOwnProperty(t.nodeName)},Ab=function(e,t){if(Oi(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Eb(e,t.nextSibling)))return!0}return!1},Ob=function(e){var t,n,i,r=e.dom,o=e.selection,a=e.schema,s=a.getBlockElements(),l=o.getStart(),u=e.getBody(),c=du(e);if(l&&_i(l)&&c){var d=u.nodeName.toLowerCase();if(a.isValidChild(d,c.toLowerCase())&&(f=s,h=u,p=l,!Xe(Of($n.fromDom(p),$n.fromDom(h)),function(e){return Eb(f,e.dom())}))){var f,h,p,m,g,v=o.getRng(),b=v.startContainer,y=v.startOffset,w=v.endContainer,x=v.endOffset,C=up(e);for(l=u.firstChild;l;)if(m=s,Oi(g=l)||_i(g)&&!Eb(m,g)&&!Vc(g)){if(Ab(s,l)){l=(n=l).nextSibling,r.remove(n);continue}t||(t=r.create(c,fu(e)),l.parentNode.insertBefore(t,l),i=!0),l=(n=l).nextSibling,t.appendChild(n)}else t=null,l=l.nextSibling;i&&C&&(v.setStart(b,y),v.setEnd(w,x),o.setRng(v),e.nodeChanged())}}},Mb=function(e,t,n){var i=e?1:-1;return t.setRng(Fl(n.container(),n.offset()+i).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Nb=function(e,t){var n=t.selection.getRng(),i=e?Fl.fromRangeEnd(n):Fl.fromRangeStart(n);return!!ze(t.selection.getSel().modify)&&(e&&Us(i)?Mb(!0,t.selection,i):!(e||!Ws(i))&&Mb(!1,t.selection,i))},Pb=Oi,Ib=function(e){return Pb(e)&&e.data[0]===Is},Rb=function(e){return Pb(e)&&e.data[e.data.length-1]===Is},Lb=function(e){return e.ownerDocument.createTextNode(Is)},Bb=function(e,t){return(e?function(e){if(Pb(e.previousSibling))return Rb(e.previousSibling)||e.previousSibling.appendData(Is),e.previousSibling;if(Pb(e))return Ib(e)||e.insertData(0,Is),e;var t=Lb(e);return e.parentNode.insertBefore(t,e),t}:function(e){if(Pb(e.nextSibling))return Ib(e.nextSibling)||e.nextSibling.insertData(0,Is),e.nextSibling;if(Pb(e))return Rb(e)||e.appendData(Is),e;var t=Lb(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t})(t)},Fb=t(Bb,!0),Hb=t(Bb,!1),jb=function(e,t){return Oi(e.container())?Bb(t,e.container()):Bb(t,e.getNode())},Vb=function(e,t){var n=t.get();return n&&e.container()===n&&js(n)},zb=function(e,t){return t.fold(function(t){Mu(e.get());var n=Fb(t);return e.set(n),Ne.some(Fl(n,n.length-1))},function(t){return Tc(t).map(function(t){if(Vb(t,e))return Fl(e.get(),1);Mu(e.get());var n=jb(t,!0);return e.set(n),Fl(n,1)})},function(t){return Ec(t).map(function(t){if(Vb(t,e))return Fl(e.get(),e.get().length-1);Mu(e.get());var n=jb(t,!1);return e.set(n),Fl(n,n.length-1)})},function(t){Mu(e.get());var n=Hb(t);return e.set(n),Ne.some(Fl(n,1))})},Ub=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Wb=function(e,t){return Rn($n.fromDom(t),e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string"))},qb=function(e){return"rtl"===qa.DOM.getStyle(e,"direction",!0)||(t=e.textContent,Ub.test(t));var t},Yb=function(e,t,n){var i,r,o,a=(i=e,r=t,o=n,et(qa.DOM.getParents(o.container(),"*",r),i));return Ne.from(a[a.length-1])},Gb=function(e,t){if(!t)return t;var n=t.container(),i=t.offset();return e?js(n)?Oi(n.nextSibling)?Fl(n.nextSibling,0):Fl.after(n):Us(t)?Fl(n,i+1):t:js(n)?Oi(n.previousSibling)?Fl(n.previousSibling,n.previousSibling.data.length):Fl.before(n):Ws(t)?Fl(n,i-1):t},Kb=t(Gb,!0),Xb=t(Gb,!1),Jb=function(e,t){for(var n=0;n<e.length;n++){var i=e[n].apply(null,t);if(i.isSome())return i}return Ne.none()},Zb=Ea([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Qb=function(e,t){var n=Yu(t,e);return n||e},ey=function(e,n,i){var r=Kb(i),o=Qb(n,r.container());return Yb(e,o,r).fold(function(){
return Dc(o,r).bind(t(Yb,e,o)).map(function(e){return Zb.before(e)})},Ne.none)},ty=function(e,t){return null===Mc(e,t)},ny=function(e,n,i){return Yb(e,n,i).filter(t(ty,n))},iy=function(e,t,n){var i=Xb(n);return ny(e,t,i).bind(function(e){return $c(e,i).isNone()?Ne.some(Zb.start(e)):Ne.none()})},ry=function(e,t,n){var i=Kb(n);return ny(e,t,i).bind(function(e){return Dc(e,i).isNone()?Ne.some(Zb.end(e)):Ne.none()})},oy=function(e,n,i){var r=Xb(i),o=Qb(n,r.container());return Yb(e,o,r).fold(function(){return $c(o,r).bind(t(Yb,e,o)).map(function(e){return Zb.after(e)})},Ne.none)},ay=function(e){return!1===qb(ly(e))},sy=function(e,t,n){return Jb([ey,iy,ry,oy],[e,t,n]).filter(ay)},ly=function(e){return e.fold(Se,Se,Se,Se)},uy=function(e){return e.fold(ke("before"),ke("start"),ke("end"),ke("after"))},cy=function(e){return e.fold(Zb.before,Zb.before,Zb.after,Zb.after)},dy=function(e){return e.fold(Zb.start,Zb.start,Zb.end,Zb.end)},fy=function(e,t,n,i,r,o){return Xs(Yb(t,n,i),Yb(t,n,r),function(t,i){return t!==i&&(a=i,s=Yu(t,r=n),l=Yu(a,r),s&&s===l)?Zb.after(e?t:i):o;var r,a,s,l}).getOr(o)},hy=function(e,t){return e.fold(ke(!0),function(e){return i=t,!(uy(n=e)===uy(i)&&ly(n)===ly(i));var n,i})},py=function(e,t){return e?t.fold(_e(Ne.some,Zb.start),Ne.none,_e(Ne.some,Zb.after),Ne.none):t.fold(Ne.none,_e(Ne.some,Zb.before),Ne.none,_e(Ne.some,Zb.end))},my=function(e,n,i,r){var o=Gb(e,r),a=sy(n,i,o);return sy(n,i,o).bind(t(py,e)).orThunk(function(){return s=n,l=i,u=a,c=Gb(o=e,r),Cc(o,l,c).map(t(Gb,o)).fold(function(){return u.map(cy)},function(e){return sy(s,l,e).map(t(fy,o,s,l,c,e)).filter(t(hy,u))}).filter(ay);var o,s,l,u,c})},gy=(t(my,!1),t(my,!0),function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)}),vy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},by=function(e,t,n){return zb(t,n).map(function(t){return gy(e,t),n})},yy=function(e,t){if(e.selection.isCollapsed()&&!0!==e.composing&&t.get()){var n=Fl.fromRangeStart(e.selection.getRng());Fl.isTextPosition(n)&&!1===(Us(i=n)||Ws(i))&&(gy(e,Ou(t.get(),n)),t.set(null))}var i},wy=function(e,n,i){return function(){return!!xu(e)&&(o=n,a=i,s=(r=e).getBody(),l=Fl.fromRangeStart(r.selection.getRng()),u=t(Wb,r),my(a,u,s,l).bind(function(e){return by(r,o,e)}).isSome());var r,o,a,s,l,u}},xy=function(e,t,n){return function(){return!!xu(t)&&Nb(e,t)}},Cy=function(e){var n=Ja(null),i=t(Wb,e);return e.on("NodeChange",function(r){var o,a,s,l,u,c;!xu(e)||wn.browser.isIE()&&r.initial||(o=i,a=e.dom,s=r.parents,l=Je(ps($n.fromDom(a.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(e){return e.dom()}),u=et(l,o),c=et(s,o),Ze(lt(u,c),t(vy,!1)),Ze(lt(c,u),t(vy,!0)),yy(e,n),function(e,t,n,i){if(t.selection.isCollapsed()){var r=et(i,e);Ze(r,function(i){var r=Fl.fromRangeStart(t.selection.getRng());sy(e,t.getBody(),r).bind(function(e){return by(t,n,e)})})}}(i,e,n,r.parents))}),n},_y=t(xy,!0),ky=t(xy,!1);(Tv=$v=$v||{})[Tv.Br=0]="Br",Tv[Tv.Block=1]="Block",Tv[Tv.Wrap=2]="Wrap",Tv[Tv.Eol=3]="Eol";var Sy,Dy,$y=function(e,t){return e===Ll.Backwards?st(t):t},Ty=function(e,t,n,i){for(var r,o,a,s,l,u,c=vc(n),d=i,f=[];d&&(l=c,u=d,r=t===Ll.Forwards?l.next(u):l.prev(u));){if(Ii(r.getNode(!1)))return t===Ll.Forwards?{positions:$y(t,f).concat([r]),breakType:$v.Br,breakAt:Ne.some(r)}:{positions:$y(t,f),breakType:$v.Br,breakAt:Ne.some(r)};if(r.isVisible()){if(e(d,r)){var h=(o=t,a=d,Ii((s=r).getNode(o===Ll.Forwards))?$v.Br:!1===Gu(a,s)?$v.Block:$v.Wrap);return{positions:$y(t,f),breakType:h,breakAt:Ne.some(r)}}f.push(r),d=r}else d=r}return{positions:$y(t,f),breakType:$v.Eol,breakAt:Ne.none()}},Ey=function(e,t,n,i){return t(n,i).breakAt.map(function(i){var r=t(n,i).positions;return e===Ll.Backwards?r.concat(i):[i].concat(r)}).getOr([])},Ay=function(e,t){return nt(e,function(e,n){return e.fold(function(){return Ne.some(n)},function(i){return Xs(ut(i.getClientRects()),ut(n.getClientRects()),function(e,r){var o=Math.abs(t-e.left);return Math.abs(t-r.left)<=o?n:i}).or(e)})},Ne.none())},Oy=function(e,t){return ut(t.getClientRects()).bind(function(t){return Ay(e,t.left)})},My=t(Ty,A.isAbove,-1),Ny=t(Ty,A.isBelow,1),Py=t(Ey,-1,My),Iy=t(Ey,1,Ny),Ry=function(e){var t=function(t){return Je(t,function(t){return(t=Zs(t)).node=e,t})};if(_i(e))return t(e.getClientRects());if(Oi(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},Ly=function(e){return ot(e,Ry)};(Dy=Sy=Sy||{})[Dy.Up=-1]="Up",Dy[Dy.Down=1]="Down";var By,Fy,Hy,jy=function(e,t,n,i,r,o){var a=0,s=[],l=function(i){var o,l,c;for(c=Ly([i]),-1===e&&(c=c.reverse()),o=0;o<c.length;o++)if(l=c[o],!n(l,u)){if(0<s.length&&t(l,Ot(s))&&a++,l.line=a,r(l))return!0;s.push(l)}},u=Ot(o.getClientRects());if(!u)return s;var c=o.getNode();return l(c),function(e,t,n,i){for(;i=qu(i,e,bl,t);)if(n(i))return}(e,i,l,c),s},Vy=t(jy,Sy.Up,tl,nl),zy=t(jy,Sy.Down,nl,tl),Uy=function(e){return function(t){return n=e,t.line>n;var n}},Wy=function(e){return function(t){return n=e,t.line===n;var n}},qy=Li,Yy=qu,Gy=function(e,t){return Math.abs(e.left-t)},Ky=function(e,t){return Math.abs(e.right-t)},Xy=function(e,t){return e>=t.left&&e<=t.right},Jy=function(e,t){return e>=t.top&&e<=t.bottom},Zy=function(e,t){return Et(e,function(e,n){var i=Math.min(Gy(e,t),Ky(e,t)),r=Math.min(Gy(n,t),Ky(n,t));return Xy(t,n)||!Xy(t,e)&&(r===i&&qy(n.node)||r<i)?n:e})},Qy=function(e,t,n,i,r){var o=Yy(i,e,bl,t,!r);do if(!o||n(o))return;while(o=Yy(o,e,bl,t))},ew=function(e,n,i){var r,o,a=Ly(et(dt(e.getElementsByTagName("*")),Bu)),s=et(a,t(Jy,i)),l=Zy(s,n);if(l){var u=!Ti(l.node);if((l=Zy(function(e,n,i){void 0===i&&(i=!0);var r=[],o=function(e,t){var i=et(Ly([t]),function(t){return!e(t,n)});return r=r.concat(i),0===i.length};return r.push(n),Qy(Sy.Up,e,t(o,tl),n.node,i),Qy(Sy.Down,e,t(o,nl),n.node,i),r}(e,l,u),n))&&Bu(l.node))return o=n,{node:(r=l).node,before:Gy(r,o)<Ky(r,o)}}return null},tw=Ri,nw=Li,iw=function(e,t,n,i,r){return t._selectionOverrides.showCaret(e,n,i,r)},rw=function(e,t){var n,i;return e.fire("BeforeObjectSelected",{target:t}).isDefaultPrevented()?null:((i=(n=t).ownerDocument.createRange()).selectNode(n),i)},ow=function(e,t,n){var i=ec(1,e.getBody(),t),r=Fl.fromRangeStart(i),o=r.getNode();if(nw(o))return iw(1,e,o,!r.isAtEnd(),!1);var a=r.getNode(!0);if(nw(a))return iw(1,e,a,!1,!1);var s=e.dom.getParent(r.getNode(),function(e){return nw(e)||tw(e)});return nw(s)?iw(1,e,s,!1,n):null},aw=function(e,t,n){if(!t||!t.collapsed)return t;var i=ow(e,t,n);return i||t},sw=Li,lw=rl,uw=function(e,t,n,i){var r=e===Ll.Forwards,o=r?yf:wf;if(!i.collapsed){var a=lw(i);if(sw(a))return iw(e,t,a,e===Ll.Backwards,!0)}var s=Hs(i.startContainer),l=nc(e,t.getBody(),i);if(o(l))return rw(t,l.getNode(!r));var u=Gb(r,n(l));if(!u)return s?i:null;if(o(u))return iw(e,t,u.getNode(!r),r,!0);var c=n(u);return c&&o(c)&&oc(u,c)?iw(e,t,c.getNode(!r),r,!0):s?aw(t,u.toRange(),!0):null},cw=function(e,t,n,i){var r,o,a,s;s=lw(i);var l=nc(e,t.getBody(),i),u=n(t.getBody(),Uy(1),l),c=et(u,Wy(1)),d=Ot(l.getClientRects());if((yf(l)||vf(l))&&(s=l.getNode()),(wf(l)||bf(l))&&(s=l.getNode(!0)),!d)return null;var f=d.left;if((r=Zy(c,f))&&sw(r.node))return o=Math.abs(f-r.left),a=Math.abs(f-r.right),iw(e,t,r.node,o<a,!0);if(s){var h=function(e,t,n,i){var r,o,a,s,l,u=vc(t),c=[],d=0,f=function(e){return Ot(e.getClientRects())},h=f(s=1===e?(r=u.next,o=nl,a=tl,Fl.after(i)):(r=u.prev,o=tl,a=nl,Fl.before(i)));do if(s.isVisible()&&!a(l=f(s),h)){if(0<c.length&&o(l,Ot(c))&&d++,(l=Zs(l)).position=s,l.line=d,n(l))return c;c.push(l)}while(s=r(s));return c}(e,t.getBody(),Uy(1),s);if(r=Zy(et(h,Wy(1)),f))return aw(t,r.position.toRange(),!0);if(r=Ot(et(h,Wy(0))))return aw(t,r.position.toRange(),!0)}},dw=function(e,n,i){var r,o,a,s,l=vc(e.getBody()),u=t(rc,l.next),c=t(rc,l.prev);if(i.collapsed&&""!==du(e)){if(!(r=e.dom.getParent(i.startContainer,"PRE")))return;(1===n?u:c)(Fl.fromRangeStart(i))||(s=(a=e).dom.create(du(a)),(!wn.ie||11<=wn.ie)&&(s.innerHTML='<br data-mce-bogus="1">'),o=s,1===n?e.$(r).after(o):e.$(r).before(o),e.selection.select(o,!0),e.selection.collapse())}},fw=function(e,n){return function(){var i,r,o,a,s,l,u,c,d,f=(r=n,a=vc((i=e).getBody()),s=t(rc,a.next),l=t(rc,a.prev),u=r?Ll.Forwards:Ll.Backwards,c=r?s:l,d=i.selection.getRng(),(o=uw(u,i,c,d))?o:(o=dw(i,u,d))||null);return!!f&&(e.selection.setRng(f),!0)}},hw=function(e,t){return function(){var n,i,r,o,a,s,l=(o=(i=t)?1:-1,a=i?zy:Vy,s=(n=e).selection.getRng(),(r=cw(o,n,a,s))?r:(r=dw(n,o,s))||null);return!!l&&(e.selection.setRng(l),!0)}},pw=function(e,t){return function(){var n,i=t?Fl.fromRangeEnd(e.selection.getRng()):Fl.fromRangeStart(e.selection.getRng()),r=(t?Ny:My)(e.getBody(),i);return(t?ct:ut)(r.positions).filter((n=t,function(e){return(n?wf:yf)(e)})).fold(ke(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},mw=function(e,t){return ot(t,function(t){var n,i,r=(n=Zs(t.getBoundingClientRect()),i=-1,{left:n.left-i,top:n.top-i,right:n.right+2*i,bottom:n.bottom+2*i,width:n.width+i,height:n.height+i});return[{x:r.left,y:e(r),cell:t},{x:r.right,y:e(r),cell:t}]})},gw=function(e,t,n,i,r){var o,a,s=ps($n.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),l=et(mw(e,s),function(e){return t(e,r)});return o=i,a=r,nt(l,function(e,t){return e.fold(function(){return Ne.some(t)},function(e){var n=Math.sqrt(Math.abs(e.x-o)+Math.abs(e.y-a)),i=Math.sqrt(Math.abs(t.x-o)+Math.abs(t.y-a));return Ne.some(i<n?t:e)})},Ne.none()).map(function(e){return e.cell})},vw=t(gw,function(e){return e.bottom},function(e,t){return e.y<t}),bw=t(gw,function(e){return e.top},function(e,t){return e.y>t}),yw=function(e,t){return ut(t.getClientRects()).bind(function(t){return vw(e,t.left,t.top)}).bind(function(e){return Oy(Ec(n=e).map(function(e){return My(n,e).positions.concat(e)}).getOr([]),t);var n})},ww=function(e,t){return ct(t.getClientRects()).bind(function(t){return bw(e,t.left,t.top)}).bind(function(e){return Oy(Tc(n=e).map(function(e){return[e].concat(Ny(n,e).positions)}).getOr([]),t);var n})},xw=function(e,t){e.selection.setRng(t),lv(e,t)},Cw=function(e,t,n){var i,r,o,a,s=e(t,n);return(a=s).breakType===$v.Wrap&&0===a.positions.length||!Ii(n.getNode())&&(o=s).breakType===$v.Br&&1===o.positions.length?(i=e,r=t,!s.breakAt.map(function(e){return i(r,e).breakAt.isSome()}).getOr(!1)):s.breakAt.isNone()},_w=t(Cw,My),kw=t(Cw,Ny),Sw=function(e,t,n,i){var r,o,a,s,l=e.selection.getRng(),u=t?1:-1;if(Lu()&&(r=t,o=l,a=n,s=Fl.fromRangeStart(o),Sc(!r,a).map(function(e){return e.isEqual(s)}).getOr(!1))){var c=iw(u,e,n,!t,!0);return xw(e,c),!0}return!1},Dw=function(e,t){var n=t.getNode(e);return _i(n)&&"TABLE"===n.nodeName?Ne.some(n):Ne.none()},$w=function(e,t,n){var i=Dw(!!t,n),r=!1===t;i.fold(function(){return xw(e,n.toRange())},function(i){return Sc(r,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return xw(e,n.toRange())},function(r){return o=t,s=i,l=n,void((u=du(a=e))?a.undoManager.transact(function(){var e=$n.fromTag(u);ji(e,fu(a)),ai(e,$n.fromTag("br")),(o?ri:ii)($n.fromDom(s),e);var t=a.dom.createRng();t.setStart(e.dom(),0),t.setEnd(e.dom(),0),xw(a,t)}):xw(a,l.toRange()));var o,a,s,l,u})})},Tw=function(e,t,n,i){var r,o,a,s,l,u,c=e.selection.getRng(),d=Fl.fromRangeStart(c),f=e.getBody();if(!t&&_w(i,d)){var h=(s=f,yw(l=n,u=d).orThunk(function(){return ut(u.getClientRects()).bind(function(e){return Ay(Py(s,Fl.before(l)),e.left)})}).getOr(Fl.before(l)));return $w(e,t,h),!0}return!(!t||!kw(i,d))&&(r=f,h=ww(o=n,a=d).orThunk(function(){return ut(a.getClientRects()).bind(function(e){return Ay(Iy(r,Fl.after(o)),e.left)})}).getOr(Fl.after(o)),$w(e,t,h),!0)},Ew=function(e,t){return function(){return Ne.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ne.from(e.dom.getParent(n,"table")).map(function(n){return Sw(e,t,n)})}).getOr(!1)}},Aw=function(e,t){return function(){return Ne.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Ne.from(e.dom.getParent(n,"table")).map(function(i){return Tw(e,t,i,n)})}).getOr(!1)}},Ow=function(e){return Ke(["figcaption"],Tn(e))},Mw=function(t){var n=e.document.createRange();return n.setStartBefore(t.dom()),n.setEndBefore(t.dom()),n},Nw=function(e,t,n){(n?ai:oi)(e,t)},Pw=function(e,t,n,i){return""===t?(c=e,d=i,f=$n.fromTag("br"),Nw(c,f,d),Mw(f)):(r=e,o=i,a=t,s=n,l=$n.fromTag(a),u=$n.fromTag("br"),ji(l,s),ai(l,u),Nw(r,l,o),Mw(u));var r,o,a,s,l,u,c,d,f},Iw=function(e,t,n){return t?(r=e.dom(),Ny(r,n).breakAt.isNone()):(i=e.dom(),My(i,n).breakAt.isNone());var i,r},Rw=function(e,n){var i,r,o=$n.fromDom(e.getBody()),a=Fl.fromRangeStart(e.selection.getRng()),s=du(e),l=fu(e);return i=a,r=t(Bn,o),gs($n.fromDom(i.container()),Qi,r).filter(Ow).exists(function(){if(Iw(o,n,a)){var t=Pw(o,s,l,n);return e.selection.setRng(t),!0}return!1})},Lw=function(e,t){return function(){return!!e.selection.isCollapsed()&&Rw(e,t)}},Bw=function(e,t){return ot(Je(e,function(e){return Mt({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ce},e)}),function(e){return n=e,(i=t).keyCode===n.keyCode&&i.shiftKey===n.shiftKey&&i.altKey===n.altKey&&i.ctrlKey===n.ctrlKey&&i.metaKey===n.metaKey?[e]:[];var n,i})},Fw=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){return e.apply(null,t)}},Hw=function(e,t){return it(Bw(e,t),function(e){return e.action()})},jw=function(e,t){e.on("keydown",function(n){var i,r,o,a;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,a=dn().os,Hw([{keyCode:Ov.RIGHT,action:fw(i,!0)},{keyCode:Ov.LEFT,action:fw(i,!1)},{keyCode:Ov.UP,action:hw(i,!1)},{keyCode:Ov.DOWN,action:hw(i,!0)},{keyCode:Ov.RIGHT,action:Ew(i,!0)},{keyCode:Ov.LEFT,action:Ew(i,!1)},{keyCode:Ov.UP,action:Aw(i,!1)},{keyCode:Ov.DOWN,action:Aw(i,!0)},{keyCode:Ov.RIGHT,action:wy(i,r,!0)},{keyCode:Ov.LEFT,action:wy(i,r,!1)},{keyCode:Ov.RIGHT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:_y(i,r)},{keyCode:Ov.LEFT,ctrlKey:!a.isOSX(),altKey:a.isOSX(),action:ky(i,r)},{keyCode:Ov.UP,action:Lw(i,!1)},{keyCode:Ov.DOWN,action:Lw(i,!0)}],o).each(function(e){o.preventDefault()}))})},Vw=function(e,t){return Hn(e,t)?gs(t,function(e){return nr(e)||rr(e)},(n=e,function(e){return Bn(n,$n.fromDom(e.dom().parentNode))})):Ne.none();var n},zw=function(e){var t,n,i;e.dom.isEmpty(e.getBody())&&(e.setContent(""),n=(t=e).getBody(),i=n.firstChild&&t.dom.isBlock(n.firstChild)?n.firstChild:n,t.selection.setCursorLocation(i,0))},Uw=function(e,t){return{from:e,to:t}},Ww=function(e,t){var n=$n.fromDom(e),i=$n.fromDom(t.container());return Vw(n,i).map(function(e){return{block:e,position:t}})},qw=function(e,t,n){var i=Ww(e,Fl.fromRangeStart(n)),r=i.bind(function(n){return Cc(t,e,n.position).bind(function(n){return Ww(e,n).map(function(n){return i=e,r=t,Ii((o=n).position.getNode())&&!1===Df(o.block)?Sc(!1,o.block.dom()).bind(function(e){return e.isEqual(o.position)?Cc(r,i,e).bind(function(e){return Ww(i,e)}):Ne.some(o)}).getOr(o):o;var i,r,o})})});return Xs(i,r,Uw).filter(function(e){return!1===Bn((i=e).from.block,i.to.block)&&Un((n=e).from.block).bind(function(e){return Un(n.to.block).filter(function(t){return Bn(e,t)})}).isSome()&&!1===Li((t=e).from.block.dom())&&!1===Li(t.to.block.dom());var t,n,i})},Yw=function(e){var t,n=(t=Kn(e),rt(t,Qi).fold(function(){return t},function(e){return t.slice(0,e)}));return Ze(n,ui),n},Gw=function(e,t){var n=Mf(t,e);return it(n.reverse(),function(e){return Df(e)}).each(ui)},Kw=function(e,t,n,i){if(Df(n))return Tf(n),Tc(n.dom());0===et(Yn(i),function(e){return!Df(e)}).length&&Df(t)&&ii(i,$n.fromTag("br"));var r=$c(n.dom(),Fl.before(i.dom()));return Ze(Yw(t),function(e){ii(i,e)}),Gw(e,t),r},Xw=function(e,t,n){if(Df(n))return ui(n),Df(t)&&Tf(t),Tc(t.dom());var i=Ec(n.dom());return Ze(Yw(t),function(e){ai(n,e)}),Gw(e,t),i},Jw=function(e,t){return Hn(t,e)?(n=Mf(e,t),Ne.from(n[n.length-1])):Ne.none();var n},Zw=function(e,t){Sc(e,t.dom()).map(function(e){return e.getNode()}).map($n.fromDom).filter(tr).each(ui)},Qw=function(e,n,i){return Zw(!0,n),Zw(!1,i),Jw(n,i).fold(t(Xw,e,n,i),t(Kw,e,n,i))},ex=function(e,t,n,i){return t?Qw(e,i,n):Qw(e,n,i)},tx=function(e,t){var n,i,r,o=$n.fromDom(e.getBody()),a=(n=o.dom(),i=t,((r=e.selection.getRng()).collapsed?qw(n,i,r):Ne.none()).bind(function(e){return ex(o,t,e.from.block,e.to.block)}));return a.each(function(t){e.selection.setRng(t.toRange())}),a.isSome()},nx=function(e,n){var i=$n.fromDom(n),r=t(Bn,e);return ms(i,sr,r).isSome()},ix=function(e,t){var n,i,r=$c(e.dom(),Fl.fromRangeStart(t)).isNone(),o=Dc(e.dom(),Fl.fromRangeEnd(t)).isNone();return!(nx(n=e,(i=t).startContainer)||nx(n,i.endContainer))&&r&&o},rx=function(e){var t,n,i,r,o=$n.fromDom(e.getBody()),a=e.selection.getRng();return ix(o,a)?((r=e).setContent(""),r.selection.setCursorLocation(),!0):(t=o,n=e.selection,i=n.getRng(),Xs(Vw(t,$n.fromDom(i.startContainer)),Vw(t,$n.fromDom(i.endContainer)),function(e,r){return!1===Bn(e,r)&&(i.deleteContents(),ex(t,!0,e,r).each(function(e){n.setRng(e.toRange())}),!0)}).getOr(!1))},ox=function(e,t){return!e.selection.isCollapsed()&&rx(e)},ax=function(e){return ic(e).exists(tr)},sx=function(e,t,n){var i=et(Mf($n.fromDom(n.container()),t),Qi),r=ut(i).getOr(t);return Cc(e,r.dom(),n).filter(ax)},lx=function(e,t){return ic(t).exists(tr)||sx(!0,e,t).isSome()},ux=function(e,t){return n=t,Ne.from(n.getNode(!0)).map($n.fromDom).exists(tr)||sx(!1,e,t).isSome();var n},cx=t(sx,!1),dx=t(sx,!0),fx=Ea([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),hx=function(e,t,n,i){var r=i.getNode(!1===t);return Vw($n.fromDom(e),$n.fromDom(n.getNode())).map(function(e){return Df(e)?fx.remove(e.dom()):fx.moveToElement(r)}).orThunk(function(){return Ne.some(fx.moveToElement(r))})},px=function(e,t,n){return Cc(t,e,n).bind(function(i){return u=i.getNode(),sr($n.fromDom(u))||rr($n.fromDom(u))?Ne.none():(r=e,s=i,l=function(e){return er($n.fromDom(e))&&!Gu(a,s,r)},tc(!(o=t),a=n).fold(function(){return tc(o,s).fold(ke(!1),l)},l)?Ne.none():t&&Li(i.getNode())||!1===t&&Li(i.getNode(!0))?hx(e,t,n,i):t&&wf(n)||!1===t&&yf(n)?Ne.some(fx.moveToPosition(i)):Ne.none());var r,o,a,s,l,u})},mx=function(e,t,n){return o=t,a=n.getNode(!1===o),s=o?"after":"before",_i(a)&&a.getAttribute("data-mce-caret")===s?(i=t,r=n.getNode(!1===t),(i&&Li(r.nextSibling)?Ne.some(fx.moveToElement(r.nextSibling)):!1===i&&Li(r.previousSibling)?Ne.some(fx.moveToElement(r.previousSibling)):Ne.none()).fold(function(){return px(e,t,n)},Ne.some)):px(e,t,n).bind(function(t){return i=e,r=n,t.fold(function(e){return Ne.some(fx.remove(e))},function(e){return Ne.some(fx.moveToElement(e))},function(e){return Gu(r,e,i)?Ne.none():Ne.some(fx.moveToPosition(e))});var i,r});var i,r,o,a,s},gx=function(e,t){return Ne.from(yx(e.getBody(),t))},vx=function(e,t){var n=e.selection.getNode();return gx(e,n).filter(Li).fold(function(){var n,i,r,o,a,s;return(n=e.getBody(),i=t,r=e.selection.getRng(),o=ec(i?1:-1,n,r),a=Fl.fromRangeStart(o),s=$n.fromDom(n),(!1===i&&wf(a)?Ne.some(fx.remove(a.getNode(!0))):i&&yf(a)?Ne.some(fx.remove(a.getNode())):!1===i&&yf(a)&&ux(s,a)?cx(s,a).map(function(e){return fx.remove(e.getNode())}):i&&wf(a)&&lx(s,a)?dx(s,a).map(function(e){return fx.remove(e.getNode())}):mx(n,i,a)).map(function(n){return n.fold(function(e){return a._selectionOverrides.hideFakeCaret(),Wf(a,s,$n.fromDom(e)),!0},(o=s=t,function(e){var t=o?Fl.before(e):Fl.after(e);return r.selection.setRng(t.toRange()),!0}),(i=r=a=e,function(e){return i.selection.setRng(e.toRange()),!0}));var i,r,o,a,s})).getOr(!1)},function(){return!0})},bx=function(e,t){var n=e.selection.getNode();return!!Li(n)&&gx(e,n.parentNode).filter(Li).fold(function(){var n;return n=$n.fromDom(e.getBody()),Ze(ps(n,".mce-offscreen-selection"),ui),Wf(e,t,$n.fromDom(e.selection.getNode())),zw(e),!0},function(){return!0})},yx=function(e,t){for(;t&&t!==e;){if(Ri(t)||Li(t))return t;t=t.parentNode}return null},wx=function(e){var t,n=yx(e.getBody(),e.selection.getNode());return Ri(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Fl.before(t).toRange())),!0},xx=function(e,t){return(e.selection.isCollapsed()?vx:bx)(e,t)},Cx=function(e,t,n,i,r,o){var a,s,l=iw(i,e,o.getNode(!r),r,!0);if(t.collapsed){var u=t.cloneRange();r?u.setEnd(l.startContainer,l.startOffset):u.setStart(l.endContainer,l.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(l),a=e.dom,Oi(s=n)&&0===s.data.length&&a.remove(s),!0},_x=function(e,n){return function(e,n){var i=e.selection.getRng();if(!Oi(i.commonAncestorContainer))return!1;var r=n?Ll.Forwards:Ll.Backwards,o=vc(e.getBody()),a=t(rc,o.next),s=t(rc,o.prev),l=n?a:s,u=n?yf:wf,c=nc(r,e.getBody(),i),d=Gb(n,l(c));if(!d||!oc(c,d))return!1;if(u(d))return Cx(e,i,c.getNode(),r,n,d);var f=l(d);return!!(f&&u(f)&&oc(d,f))&&Cx(e,i,c.getNode(),r,n,f)}(e,n)},kx=function(e,t){return function(n){return zb(t,n).map(function(t){return gy(e,t),!0}).getOr(!1)}},Sx=function(n,i,r,o){var a=n.getBody(),s=t(Wb,n);n.undoManager.ignore(function(){var t,l,u;n.selection.setRng((t=r,l=o,(u=e.document.createRange()).setStart(t.container(),t.offset()),u.setEnd(l.container(),l.offset()),u)),n.execCommand("Delete"),sy(s,a,Fl.fromRangeStart(n.selection.getRng())).map(dy).map(kx(n,i))}),n.nodeChanged()},Dx=function(e,n,i,r){var o,a,s=(o=e.getBody(),a=r.container(),Yu(a,o)||o),l=t(Wb,e),u=sy(l,s,r);return u.bind(function(e){return i?e.fold(ke(Ne.some(dy(e))),Ne.none,ke(Ne.some(cy(e))),Ne.none):e.fold(Ne.none,ke(Ne.some(cy(e))),Ne.none,ke(Ne.some(dy(e))))}).map(kx(e,n)).getOrThunk(function(){var t=_c(i,s,r),o=t.bind(function(e){return sy(l,s,e)});return u.isSome()&&o.isSome()?Yb(l,s,r).map(function(t){return!!Xs(Tc(n=t),Ec(n),function(e,t){var i=Gb(!0,e),r=Gb(!1,t);return Dc(n,i).map(function(e){return e.isEqual(r)}).getOr(!0)}).getOr(!0)&&(Wf(e,i,$n.fromDom(t)),!0);var n}).getOr(!1):o.bind(function(o){return t.map(function(t){return i?Sx(e,n,r,t):Sx(e,n,t,r),!0})}).getOr(!1)})},$x=function(e,t,n){if(e.selection.isCollapsed()&&xu(e)){var i=Fl.fromRangeStart(e.selection.getRng());return Dx(e,t,n,i)}return!1},Tx=function(e){return 1===Kn(e).length},Ex=function(e,n,i,r){var o,a,s,l,u=t(Hp,n),c=Je(et(r,u),function(e){return e.dom()});if(0===c.length)Wf(n,e,i);else{var d=(o=i.dom(),a=c,s=Np(!1),l=Lp(a,s.dom()),ii($n.fromDom(o),s),ui($n.fromDom(o)),Fl(l,0));n.selection.setRng(d.toRange())}},Ax=function(e,t){var n,i=$n.fromDom(e.getBody()),r=$n.fromDom(e.selection.getStart()),o=et((n=Mf(r,i),rt(n,Qi).fold(ke(n),function(e){return n.slice(0,e)})),Tx);return ct(o).map(function(n){var i,r,a,s,l=Fl.fromRangeStart(e.selection.getRng());return r=t,a=l,s=n.dom(),!(!Xs(Tc(s),Ec(s),function(e,t){var n=Gb(!0,e),i=Gb(!1,t),o=Gb(!1,a);return r?Dc(s,o).map(function(e){return e.isEqual(i)&&a.isEqual(n)}).getOr(!1):$c(s,o).map(function(e){return e.isEqual(n)&&a.isEqual(i)}).getOr(!1)}).getOr(!0)||Oc((i=n).dom())&&Op(i.dom())||(Ex(t,e,n,o),0))}).getOr(!1)},Ox=function(e,t){return!!e.selection.isCollapsed()&&Ax(e,t)},Mx=function(e,t){return!!e.selection.isCollapsed()&&(n=e,i=t,r=Fl.fromRangeStart(n.selection.getRng()),Cc(i,n.getBody(),r).filter(function(e){return(i?mf:gf)(e)}).bind(function(e){return Ne.from(Ku(i?0:-1,e))}).map(function(e){return n.selection.select(e),!0}).getOr(!1));var n,i,r},Nx=function(e){var t=parseInt(e,10);return isNaN(t)?0:t},Px=function(e,t){return(e||"table"===Tn(t)?"margin":"padding")+("rtl"===Ui(t,"direction")?"-right":"-left")},Ix=function(e){var t,n=Lx(e);return!e.mode.isReadOnly()&&(1<n.length||(t=e,at(n,function(e){var n=Px(vu(t),e),i=qi(e,n).map(Nx).getOr(0);return"false"!==t.dom.getContentEditable(e.dom())&&0<i})))},Rx=function(e){return ir(e)||rr(e)},Lx=function(e){return et(Je(e.selection.getSelectedBlocks(),$n.fromDom),function(e){return!Rx(e)&&!Un(e).map(Rx).getOr(!1)&&gs(e,function(e){return Ri(e.dom())||Li(e.dom())}).exists(function(e){return Ri(e.dom())})})},Bx=function(e,t){var n=e.dom,i=e.selection,r=e.formatter,o=e.getParam("indentation","40px","string"),a=/[a-z%]+$/i.exec(o)[0],s=parseInt(o,10),l=vu(e),u=du(e);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||""!==u||n.getParent(i.getNode(),n.isBlock)||r.apply("div"),Ze(Lx(e),function(e){!function(e,t,n,i,r,o){var a=Px(n,$n.fromDom(o));if("outdent"===t){var s=Math.max(0,Nx(o.style[a])-i);e.setStyle(o,a,s?s+r:"")}else s=Nx(o.style[a])+i+r,e.setStyle(o,a,s)}(n,t,l,s,a,e.dom())})},Fx=function(e,t,n){return kc(e,t,n,df)},Hx=function(e,t){return it(Mf($n.fromDom(t.container()),e),Qi)},jx=function(e,t,n){return Fx(e,t.dom(),n).forall(function(e){return Hx(t,n).fold(function(){return!1===Gu(e,n,t.dom())},function(i){return!1===Gu(e,n,t.dom())&&Hn(i,$n.fromDom(e.container()))})})},Vx=function(e,t,n){return Hx(t,n).fold(function(){return Fx(e,t.dom(),n).forall(function(e){return!1===Gu(e,n,t.dom())})},function(t){return Fx(e,t.dom(),n).isNone()})},zx=t(Vx,!1),Ux=t(Vx,!0),Wx=t(jx,!1),qx=t(jx,!0),Yx=function(e,t,n){if(e.selection.isCollapsed()&&Ix(e)){var i=e.dom,r=e.selection.getRng(),o=Fl.fromRangeStart(r),a=i.getParent(r.startContainer,i.isBlock);if(null!==a&&zx($n.fromDom(a),o))return Bx(e,"outdent"),!0}return!1},Gx=function(e,t){e.on("keydown",function(n){var i,r,o;!1===n.isDefaultPrevented()&&(i=e,r=t,o=n,Hw([{keyCode:Ov.BACKSPACE,action:Fw(Yx,i,!1)},{keyCode:Ov.BACKSPACE,action:Fw(xx,i,!1)},{keyCode:Ov.DELETE,action:Fw(xx,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw(_x,i,!1)},{keyCode:Ov.DELETE,action:Fw(_x,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw($x,i,r,!1)},{keyCode:Ov.DELETE,action:Fw($x,i,r,!0)},{keyCode:Ov.BACKSPACE,action:Fw(bh,i,!1)},{keyCode:Ov.DELETE,action:Fw(bh,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw(Mx,i,!1)},{keyCode:Ov.DELETE,action:Fw(Mx,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw(ox,i,!1)},{keyCode:Ov.DELETE,action:Fw(ox,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw(tx,i,!1)},{keyCode:Ov.DELETE,action:Fw(tx,i,!0)},{keyCode:Ov.BACKSPACE,action:Fw(Ox,i,!1)},{keyCode:Ov.DELETE,action:Fw(Ox,i,!0)}],o).each(function(e){o.preventDefault()}))}),e.on("keyup",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Hw([{keyCode:Ov.BACKSPACE,action:Fw(wx,n)},{keyCode:Ov.DELETE,action:Fw(wx,n)}],i))})},Kx=function(e,t){var n,i=t,r=e.dom,o=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var a=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}}(t.firstChild);a&&/^(UL|OL|DL)$/.test(a.nodeName)&&t.insertBefore(r.doc.createTextNode(Rr),t.firstChild)}var s=r.createRng();if(t.normalize(),t.hasChildNodes()){for(var l=new ca(t,t);n=l.current();){if(Oi(n)){s.setStart(n,0),s.setEnd(n,0);break}if(o[n.nodeName.toLowerCase()]){s.setStartBefore(n),s.setEndBefore(n);break}i=n,n=l.next()}n||(s.setStart(i,0),s.setEnd(i,0))}else Ii(t)?t.nextSibling&&r.isBlock(t.nextSibling)?(s.setStartBefore(t),s.setEndBefore(t)):(s.setStartAfter(t),s.setEndAfter(t)):(s.setStart(t,0),s.setEnd(t,0));e.selection.setRng(s),lv(e,s)}},Xx=function(e){return Ne.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},Jx=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},Zx=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},Qx=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},eC=function(e,t,n){for(var i=e[n?"firstChild":"lastChild"];i&&!_i(i);)i=i[n?"nextSibling":"previousSibling"];return i===t},tC=function(e,t,n,i,r){var o=e.dom,a=e.selection.getRng();if(n!==e.getBody()){var s;Zx(s=n)&&Zx(s.parentNode)&&(r="LI");var l,u,c=r?t(r):o.create("BR");if(eC(n,i,!0)&&eC(n,i,!1))Jx(n,"LI")?o.insertAfter(c,Qx(n)):o.replace(c,n);else if(eC(n,i,!0))Jx(n,"LI")?(o.insertAfter(c,Qx(n)),c.appendChild(o.doc.createTextNode(" ")),c.appendChild(n)):n.parentNode.insertBefore(c,n);else if(eC(n,i,!1))o.insertAfter(c,Qx(n));else{n=Qx(n);var d=a.cloneRange();d.setStartAfter(i),d.setEndAfter(n);var f=d.extractContents();"LI"===r&&(u="LI",(l=f).firstChild&&l.firstChild.nodeName===u)?(c=f.firstChild,o.insertAfter(f,n)):(o.insertAfter(f,n),o.insertAfter(c,n))}o.remove(i),Kx(e,c)}},nC=function(e){e.innerHTML='<br data-mce-bogus="1">'},iC=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},rC=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},oC=function(e,t,n){return!1===Oi(t)?n:e?1===n&&t.data.charAt(n-1)===Is?0:n:n===t.data.length-1&&t.data.charAt(n)===Is?t.data.length:n},aC=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},sC=function(e,t,i){Ne.from(i.style).map(e.dom.parseStyle).each(function(n){var i=function(e){var t={},n=e.dom();if(Bi(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t}($n.fromDom(t)),r=Mt(Mt({},i),n);e.dom.setStyles(t,r)});var r=Ne.from(i["class"]).map(function(e){return e.split(/\s+/)}),o=Ne.from(t.className).map(function(e){return et(e.split(/\s+/),function(e){return""!==e})});Xs(r,o,function(i,r){var o=et(r,function(e){return!Ke(i,e)}),a=n(i,o);e.dom.setAttrib(t,"class",a.join(" "))});var a=["style","class"],s=wt(i,function(e,t){return!Ke(a,t)});e.dom.setAttribs(t,s)},lC=function(e,t){var n=du(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var i=fu(e);sC(e,t,i)}},uC=function(e,t){var n,i,r,o,a,s,l,u,c,d,f=e.dom,h=e.schema,p=h.getNonEmptyElements(),m=e.selection.getRng(),g=function(t){var n,r,a,s=i,l=h.getTextInlineElements();if(a=n=t||"TABLE"===u||"HR"===u?f.create(t||c):o.cloneNode(!1),!1===e.getParam("keep_styles",!0))f.setAttrib(n,"style",null),f.setAttrib(n,"class",null);else do if(l[s.nodeName]){if(Oc(s)||Vc(s))continue;r=s.cloneNode(!1),f.setAttrib(r,"id",""),n.hasChildNodes()?r.appendChild(n.firstChild):a=r,n.appendChild(r)}while((s=s.parentNode)&&s!==x);return lC(e,n),nC(a),n},v=function(e){var t,n,a=oC(e,i,r);if(Oi(i)&&(e?0<a:a<i.nodeValue.length))return!1;if(i.parentNode===o&&d&&!e)return!0;if(e&&_i(i)&&i===o.firstChild)return!0;if(iC(i,"TABLE")||iC(i,"HR"))return d&&!e||!d&&e;var s=new ca(i,o);for(Oi(i)&&(e&&0===a?s.prev():e||a!==i.nodeValue.length||s.next());t=s.current();){if(_i(t)){if(!t.getAttribute("data-mce-bogus")&&(n=t.nodeName.toLowerCase(),p[n]&&"br"!==n))return!1}else if(Oi(t)&&!/^[ \t\r\n]*$/.test(t.nodeValue))return!1;e?s.prev():s.next()}return!0},b=function(){a=/^(H[1-6]|PRE|FIGURE)$/.test(u)&&"HGROUP"!==S?g(c):g(),e.getParam("end_container_on_empty_block",!1)&&rC(f,l)&&f.isEmpty(o)?a=f.split(l,o):f.insertAfter(a,o),Kx(e,a)};_v(f,m).each(function(e){m.setStart(e.startContainer,e.startOffset),m.setEnd(e.endContainer,e.endOffset)}),i=m.startContainer,r=m.startOffset,c=du(e);var y=!(!t||!t.shiftKey),w=!(!t||!t.ctrlKey);_i(i)&&i.hasChildNodes()&&(d=r>i.childNodes.length-1,i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i,r=d&&Oi(i)?i.nodeValue.length:0);var x=aC(f,i);if(x){(c&&!y||!c&&y)&&(i=function(e,t,n,i,r){var o,a,s,l,u,c,d,f=t||"P",h=e.dom,p=aC(h,i);if(!(a=h.getParent(i,h.isBlock))||!rC(h,a)){if(c=(a=a||p)===e.getBody()||(d=a)&&/^(TD|TH|CAPTION)$/.test(d.nodeName)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return o=h.create(f),lC(e,o),a.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==a;)l=l.parentNode;for(;l&&!h.isBlock(l);)l=(s=l).previousSibling;if(s&&e.schema.isValidChild(c,f.toLowerCase())){for(o=h.create(f),lC(e,o),s.parentNode.insertBefore(o,s),l=s;l&&!h.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i}(e,c,m,i,r)),o=f.getParent(i,f.isBlock),l=o?f.getParent(o.parentNode,f.isBlock):null,u=o?o.nodeName.toUpperCase():"";var C,_,k,S=l?l.nodeName.toUpperCase():"";"LI"!==S||w||(l=(o=l).parentNode,u=S),/^(LI|DT|DD)$/.test(u)&&f.isEmpty(o)?tC(e,g,l,o,c):c&&o===e.getBody()||(c=c||"P",Hs(o)?(a=Ks(o),f.isEmpty(o)&&nC(o),lC(e,a),Kx(e,a)):v()?b():v(!0)?(a=o.parentNode.insertBefore(g(),o),Kx(e,iC(o,"HR")?a:o)):((k=(_=m).cloneRange()).setStart(_.startContainer,oC(!0,_.startContainer,_.startOffset)),
k.setEnd(_.endContainer,oC(!1,_.endContainer,_.endOffset)),(n=k.cloneRange()).setEndAfter(o),s=n.extractContents(),C=s,Ze(hs($n.fromDom(C),Mn),function(e){var t=e.dom();t.nodeValue=Ls(t.nodeValue)}),function(e){for(;Oi(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;);}(s),a=s.firstChild,f.insertAfter(s,o),function(e,t,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(e.isBlock(r))return;_i(r)&&!t[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?e.remove(r):(a=e,(s=r)&&"A"===s.nodeName&&a.isEmpty(s)&&e.remove(r));var a,s}}(f,p,a),function(e,t){t.normalize();var n=t.lastChild;n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")}(f,o),f.isEmpty(o)&&nC(o),a.normalize(),f.isEmpty(a)?(f.remove(a),b()):(lC(e,a),Kx(e,a))),f.setAttrib(a,"id",""),e.fire("NewBlock",{newBlock:a}))}},cC=function(e,t,n){var i=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),t.scrollIntoView(i),e.remove(i)},dC=function(e,t,n,i){var r=e.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),t.setRng(r)},fC=function(e,t){var n,i,r=e.selection,o=e.dom,a=r.getRng();_v(o,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var s=a.startOffset,l=a.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=s>l.childNodes.length-1;l=l.childNodes[Math.min(s,l.childNodes.length-1)]||l,s=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),d=c?o.getParent(c.parentNode,o.isBlock):null,f=d?d.nodeName.toUpperCase():"",h=!(!t||!t.ctrlKey);"LI"!==f||h||(c=d),l&&3===l.nodeType&&s>=l.nodeValue.length&&!function(e,t,n){for(var i,r=new ca(t,n),o=e.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||0<i.length)return!0}(e.schema,l,c)&&(n=o.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),i=!0),n=o.create("br"),jl(o,a,n),cC(o,r,n),dC(o,r,n,i),e.undoManager.add()},hC=function(e,t){var n=$n.fromTag("br");ii($n.fromDom(t),n),e.undoManager.add()},pC=function(e,t){mC(e.getBody(),t)||ri($n.fromDom(t),$n.fromTag("br"));var n=$n.fromTag("br");ri($n.fromDom(t),n),cC(e.dom,e.selection,n.dom()),dC(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},mC=function(e,t){return n=Fl.after(t),!!Ii(n.getNode())||Dc(e,Fl.after(t)).map(function(e){return Ii(e.getNode())}).getOr(!1);var n},gC=function(e){return e&&"A"===e.nodeName&&"href"in e},vC=function(e){return e.fold(ke(!1),gC,gC,ke(!1))},bC=function(e,n){n.fold(Ce,t(hC,e),t(pC,e),Ce)},yC=function(e,n){var i,r,o,a=(r=t(Wb,i=e),o=Fl.fromRangeStart(i.selection.getRng()),sy(r,i.getBody(),o).filter(vC));a.isSome()?a.each(t(bC,e)):fC(e,n)},wC=function(e,t){return Xx(e).filter(function(e){return 0<t.length&&Rn($n.fromDom(e),t)}).isSome()},xC=Ea([{br:[]},{block:[]},{none:[]}]),CC=function(e,t){return wC(n=e,n.getParam("no_newline_selector",""));var n},_C=function(e){return function(t,n){return""===du(t)===e}},kC=function(e){return function(t,n){return Xx(t).filter(function(e){return rr($n.fromDom(e))}).isSome()===e}},SC=function(e,t){return function(n,i){return Xx(n).fold(ke(""),function(e){return e.nodeName.toUpperCase()})===e.toUpperCase()===t}},DC=function(e){return SC("pre",e)},$C=function(e){return function(t,n){return t.getParam("br_in_pre",!0)===e}},TC=function(e,t){return wC(n=e,n.getParam("br_newline_selector",".mce-toc h2,figcaption,caption"));var n},EC=function(e,t){return t},AC=function(e){var t=du(e),n=function(e,t){var n,i,r=e.getRoot();for(n=t;n!==r&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r}(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t||"P")},OC=function(e,t){return function(n,i){return nt(e,function(e,t){return e&&t(n,i)},!0)?Ne.some(t):Ne.none()}},MC=function(e,t){return Jb([OC([CC],xC.none()),OC([SC("summary",!0)],xC.br()),OC([DC(!0),$C(!1),EC],xC.br()),OC([DC(!0),$C(!1)],xC.block()),OC([DC(!0),$C(!0),EC],xC.block()),OC([DC(!0),$C(!0)],xC.br()),OC([kC(!0),EC],xC.br()),OC([kC(!0)],xC.block()),OC([_C(!0),EC,AC],xC.block()),OC([_C(!0)],xC.br()),OC([TC],xC.br()),OC([_C(!1),EC],xC.br()),OC([AC],xC.block())],[e,!(!t||!t.shiftKey)]).getOr(xC.none())},NC=function(e,t){MC(e,t).fold(function(){yC(e,t)},function(){uC(e,t)},Ce)},PC=function(e){e.on("keydown",function(t){var n,i,r;t.keyCode===Ov.ENTER&&(n=e,(i=t).isDefaultPrevented()||(i.preventDefault(),(r=n.undoManager).typing&&(r.typing=!1,r.add()),n.undoManager.transact(function(){!1===n.selection.isCollapsed()&&n.execCommand("Delete"),NC(n,i)})))})},IC=function(e,t){var n=t.container(),i=t.offset();return Oi(n)?(n.insertData(i,e),Ne.some(A(n,i+e.length))):ic(t).map(function(n){var i=$n.fromText(e);return(t.isAtEnd()?ri:ii)(n,i),A(i.dom(),e.length)})},RC=t(IC,Rr),LC=t(IC," "),BC=function(e){return A.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},FC=function(e,t){var n=et(Mf($n.fromDom(t.container()),e),Qi);return ut(n).getOr(e)},HC=function(e,t){return BC(t)?cf(t):cf(t)||$c(FC(e,t).dom(),t).exists(cf)},jC=function(e,t){return BC(t)?uf(t):uf(t)||Dc(FC(e,t).dom(),t).exists(uf)},VC=function(e){return ic(e).bind(function(e){return gs(e,On)}).exists(function(e){return t=Ui(e,"white-space"),Ke(["pre","pre-wrap"],t);var t})},zC=function(e,t){return i=t,$c(e.dom(),i).isNone()||(n=t,Dc(e.dom(),n).isNone())||zx(e,t)||Ux(e,t)||ux(e,t)||lx(e,t);var n,i},UC=function(e,t){var n,i,r,o=(i=(n=t).container(),r=n.offset(),Oi(i)&&r<i.data.length?A(i,r+1):n);return!VC(o)&&(Ux(e,o)||qx(e,o)||lx(e,o)||jC(e,o))},WC=function(e,t){return n=e,!VC(i=t)&&(zx(n,i)||Wx(n,i)||ux(n,i)||HC(n,i))||UC(e,t);var n,i},qC=function(e,t){return zc(e.charAt(t))},YC=function(e){var t=e.container();return Oi(t)&&Xt(t.data,Rr)},GC=function(e){var t,n=e.data,i=(t=n.split(""),Je(t,function(e,n){return zc(e)&&0<n&&n<t.length-1&&Wc(t[n-1])&&Wc(t[n+1])?" ":e}).join(""));return i!==n&&(e.data=i,!0)},KC=function(e,t){return Ne.some(t).filter(YC).bind(function(t){var n,i,r,o,a,s,l,u,c=t.container();return a=e,l=(s=c).data,u=A(s,0),(!qC(l,0)||WC(a,u)||(s.data=" "+l.slice(1),0))&&!GC(c)&&(n=e,r=(i=c).data,o=A(i,r.length-1),!qC(r,r.length-1)||WC(n,o)||(i.data=r.slice(0,-1)+" ",0))?Ne.none():Ne.some(t)})},XC=function(e){var t=$n.fromDom(e.getBody());e.selection.isCollapsed()&&KC(t,A.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},JC=function(e,t){return function(n){return i=e,(!VC(r=n)&&(zC(i,r)||HC(i,r)||jC(i,r))?RC:LC)(t);var i,r}},ZC=function(e){var n,i,r=Fl.fromRangeStart(e.selection.getRng()),o=$n.fromDom(e.getBody());if(e.selection.isCollapsed()){var a=t(Wb,e),s=Fl.fromRangeStart(e.selection.getRng());return sy(a,e.getBody(),s).bind((i=o,function(e){return e.fold(function(e){return $c(i.dom(),Fl.before(e))},function(e){return Tc(e)},function(e){return Ec(e)},function(e){return Dc(i.dom(),Fl.after(e))})})).bind(JC(o,r)).exists((n=e,function(e){return n.selection.setRng(e.toRange()),n.nodeChanged(),!0}))}return!1},QC=function(e){e.on("keydown",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Hw([{keyCode:Ov.SPACEBAR,action:Fw(ZC,n)}],i).each(function(e){i.preventDefault()}))})},e_=function(e,t){var n;t.hasAttribute("data-mce-caret")&&(Ks(t),(n=e).selection.setRng(n.selection.getRng()),e.selection.scrollIntoView(t))},t_=function(e,t){var n,i=(n=e,bs($n.fromDom(n.getBody()),"*[data-mce-caret]").fold(ke(null),function(e){return e.dom()}));if(i)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void e_(e,i)):void(zs(i)&&(e_(e,i),e.undoManager.add()))},n_=dn().browser,i_=function(e){var t,n;t=e,n=rs(function(){t.composing||XC(t)},0),n_.isIE()&&(t.on("keypress",function(e){n.throttle()}),t.on("remove",function(e){n.cancel()})),e.on("input",function(t){!1===t.isComposing&&XC(e)})},r_=function(e){e.on("keydown",function(t){var n,i;!1===t.isDefaultPrevented()&&(n=e,i=t,Hw([{keyCode:Ov.END,action:pw(n,!0)},{keyCode:Ov.HOME,action:pw(n,!1)}],i).each(function(e){i.preventDefault()}))})},o_=function(e){var n,i=Cy(e);(n=e).on("keyup compositionstart",t(t_,n)),jw(e,i),Gx(e,i),PC(e),QC(e),i_(e),r_(e)},a_=(B.prototype.nodeChanged=function(e){var t,n,i,r=this.editor.selection;this.editor.initialized&&r&&!this.editor.getParam("disable_nodechange")&&!this.editor.mode.isReadOnly()&&(i=this.editor.getBody(),(t=r.getStart(!0)||i).ownerDocument===this.editor.getDoc()&&this.editor.dom.isChildOf(t,i)||(t=i),n=[],this.editor.dom.getParent(t,function(e){return e===i||void n.push(e)}),(e=e||{}).element=t,e.parents=n,this.editor.fire("NodeChange",e))},B.prototype.isSameElementPath=function(e){var t,n=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(n.length===this.lastPath.length){for(t=n.length;0<=t&&n[t]===this.lastPath[t];t--);if(-1===t)return this.lastPath=n,!0}return this.lastPath=n,!1},B),s_=function(e){var t,n;(t=e).on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}),(n=e).parser.addNodeFilter("details",function(e){Ze(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),n.serializer.addNodeFilter("details",function(e){Ze(e,function(e){var t=e.attr("data-mce-open");e.attr("open",Le(t)?t:null),e.attr("data-mce-open",null)})})},l_=function(e){return _i(e)&&nr($n.fromDom(e))},u_=function(e){e.on("click",function(t){3<=t.detail&&function(e){var t=e.selection.getRng(),n=A.fromRangeStart(t),i=A.fromRangeEnd(t);if(A.isElementPosition(n)){var r=n.container();l_(r)&&Tc(r).each(function(e){return t.setStart(e.container(),e.offset())})}A.isElementPosition(i)&&(r=n.container(),l_(r)&&Ec(r).each(function(e){return t.setEnd(e.container(),e.offset())})),e.selection.setRng(wh(t))}(e)})},c_=function(e){var t=e.getBoundingClientRect(),n=e.ownerDocument,i=n.documentElement,r=n.defaultView;return{top:t.top+r.pageYOffset-i.clientTop,left:t.left+r.pageXOffset-i.clientLeft}},d_=function(e,t){return n=(s=e).inline?c_(s.getBody()):{left:0,top:0},a=(o=e).getBody(),i=o.inline?{left:a.scrollLeft,top:a.scrollTop}:{left:0,top:0},{pageX:(r=function(e,t){if(t.target.ownerDocument===e.getDoc())return{left:t.pageX,top:t.pageY};var n,i,r,o,a,s=c_(e.getContentAreaContainer()),l=(i=(n=e).getBody(),r=n.getDoc().documentElement,o={left:i.scrollLeft,top:i.scrollTop},a={left:i.scrollLeft||r.scrollLeft,top:i.scrollTop||r.scrollTop},n.inline?o:a);return{left:t.pageX-s.left+l.left,top:t.pageY-s.top+l.top}}(e,t)).left-n.left+i.left,pageY:r.top-n.top+i.top};var n,i,r,o,a,s},f_=Li,h_=Ri,p_=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},m_=function(e,t){return function(n){if(0===n.button){var i=it(t.dom.getParents(n.target),function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){for(var n=0;n<e.length;n++)if(e[n](t))return!0;return!1}}(f_,h_)).getOr(null);if(s=t.getBody(),f_(l=i)&&l!==s){var r=t.dom.getPos(i),o=t.getBody(),a=t.getDoc().documentElement;e.element=i,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?o.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?o.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-r.x,e.relY=n.pageY-r.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=function(e,t,n,i){var r=t.cloneNode(!0);e.dom.setStyles(r,{width:n,height:i}),e.dom.setAttrib(r,"data-mce-selected",null);var o=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),e.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(t,i,e.width,e.height)}}var s,l}},g_=function(e,t){var n=Ia.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(i){var r,o,a,s,l,u,c,d,f,h,p,m,g=Math.max(Math.abs(i.screenX-e.screenX),Math.abs(i.screenY-e.screenY));if(e.element&&!e.dragging&&10<g){if(t.fire("dragstart",{target:e.element}).isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var v=(p=e,{pageX:(m=d_(t,i)).pageX-p.relX,pageY:m.pageY+5});f=e.ghost,h=t.getBody(),f.parentNode!==h&&h.appendChild(f),r=e.ghost,o=v,a=e.width,s=e.height,l=e.maxX,u=e.maxY,d=c=0,r.style.left=o.pageX+"px",r.style.top=o.pageY+"px",o.pageX+a>l&&(c=o.pageX+a-l),o.pageY+s>u&&(d=o.pageY+s-u),r.style.width=a-c+"px",r.style.height=s-d+"px",n(i.clientX,i.clientY)}}},v_=function(e,t){return function(n){if(e.dragging&&(c=(s=t).selection,d=c.getSel().getRangeAt(0).startContainer,l=3===d.nodeType?d.parentNode:d,u=e.element,l!==u&&!s.dom.isChildOf(l,u)&&!f_(l))){var i=(o=e.element,(a=o.cloneNode(!0)).removeAttribute("data-mce-selected"),a),r=t.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,t.undoManager.transact(function(){p_(e.element),t.insertContent(t.dom.getOuterHTML(i)),t._selectionOverrides.hideFakeCaret()}))}var o,a,s,l,u,c,d;b_(e)}},b_=function(e){e.dragging=!1,e.element=null,p_(e.ghost)},y_=function(t){var n,i,r={},o=qa.DOM,a=e.document,s=m_(r,t),l=g_(r,t),u=v_(r,t),c=(n=r,function(){n.dragging&&i.fire("dragend"),b_(n)});(i=t).on("mousedown",s),t.on("mousemove",l),t.on("mouseup",u),o.bind(a,"mousemove",l),o.bind(a,"mouseup",c),t.on("remove",function(){o.unbind(a,"mousemove",l),o.unbind(a,"mouseup",c)})},w_=function(e){var t;y_(e),(t=e).on("drop",function(e){var n="undefined"!=typeof e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(f_(n)||f_(t.dom.getContentEditableParent(n)))&&e.preventDefault()})},x_=Ri,C_=Li,__=function(e,t){for(var n=e.getBody();t&&t!==n;){if(x_(t)||C_(t))return t;t=t.parentNode}return null},k_=function(t){var n,i=t.getBody(),r=Ru(t,i,function(e){return t.dom.isBlock(e)},function(){return up(t)}),o="sel-"+t.dom.uniqueId(),a=function(e){e&&t.selection.setRng(e)},s=function(){return t.selection.getRng()},l=function(e,n,i,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),r.show(i,n))},u=function(e){return Vs(e)||Ys(e)||Gs(e)},c=function(e){return u(e.startContainer)||u(e.endContainer)},d=function(e){var n=t.schema.getShortEndedElements(),i=t.dom.createRng(),r=e.startContainer,o=e.startOffset,a=e.endContainer,s=e.endOffset;return _t(n,r.nodeName.toLowerCase())?0===o?i.setStartBefore(r):i.setStartAfter(r):i.setStart(r,o),_t(n,a.nodeName.toLowerCase())?0===s?i.setEndBefore(a):i.setEndAfter(a):i.setEnd(a,s),i},f=function(e,r){var a,s,u,d,f,h,m,g=t.$,v=t.dom;if(!e)return null;if(e.collapsed){if(!c(e))if(!1===r){if(f=nc(-1,i,e),Bu(f.getNode(!0)))return l(-1,f.getNode(!0),!1,!1);if(Bu(f.getNode()))return l(-1,f.getNode(),!f.isAtEnd(),!1)}else{if(f=nc(1,i,e),Bu(f.getNode()))return l(1,f.getNode(),!f.isAtEnd(),!1);if(Bu(f.getNode(!0)))return l(1,f.getNode(!0),!1,!1)}return null}u=e.startContainer,d=e.startOffset;var b=e.endOffset;if(3===u.nodeType&&0===d&&C_(u.parentNode)&&(u=u.parentNode,d=v.nodeIndex(u),u=u.parentNode),1!==u.nodeType)return null;if(b===d+1&&u===e.endContainer&&(a=u.childNodes[d]),!C_(a))return null;h=m=a.cloneNode(!0);var y=t.fire("ObjectSelected",{target:a,targetClone:h});if(y.isDefaultPrevented())return null;s=bs($n.fromDom(t.getBody()),"#"+o).fold(function(){return g([])},function(e){return g([e.dom()])}),h=y.targetClone,0===s.length&&(s=g('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),e=t.dom.createRng(),h===m&&wn.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(h),e.setStartAfter(s[0].firstChild.firstChild),e.setEndAfter(h)):(s.empty().append(Rr).append(h).append(Rr),e.setStart(s[0].firstChild,1),e.setEnd(s[0].lastChild,0)),s.css({top:v.getPos(a,t.getBody()).y}),s[0].focus();var w=t.selection.getSel();w.removeAllRanges(),w.addRange(e);var x=$n.fromDom(a);return Ze(ps($n.fromDom(t.getBody()),"*[data-mce-selected]"),function(e){Bn(x,e)||zi(e,"data-mce-selected")}),t.dom.getAttrib(a,"data-mce-selected")||a.setAttribute("data-mce-selected","1"),n=a,p(),e},h=function(){n&&(n.removeAttribute("data-mce-selected"),bs($n.fromDom(t.getBody()),"#"+o).each(ui),n=null),bs($n.fromDom(t.getBody()),"#"+o).each(ui),n=null},p=function(){r.hide()};return wn.ceFalse&&function(){t.on("mouseup",function(e){var n=s();n.collapsed&&Ag(t,e.clientX,e.clientY)&&a(ow(t,n,!1))}),t.on("click",function(e){var n=__(t,e.target);n&&(C_(n)&&(e.preventDefault(),t.focus()),x_(n)&&t.dom.isChildOf(n,t.selection.getNode())&&h())}),t.on("blur NewBlock",function(){h()}),t.on("ResizeWindow FullscreenStateChanged",function(){return r.reposition()});var u,m=function(e,n){var i,r,o=t.dom.getParent(e,t.dom.isBlock),a=t.dom.getParent(n,t.dom.isBlock);return!(!o||!t.dom.isChildOf(o,a)||!1!==C_(__(t,o)))||o&&(i=o,r=a,!(t.dom.getParent(i,t.dom.isBlock)===t.dom.getParent(r,t.dom.isBlock)))&&function(e){var t=vc(e);if(!e.firstChild)return!1;var n=Fl.before(e.firstChild),i=t.next(n);return i&&!yf(i)&&!wf(i)}(o)};(u=t).on("tap",function(e){var t=__(u,e.target);C_(t)&&(e.preventDefault(),f(rw(u,t)))},!0),t.on("mousedown",function(e){var n=e.target;if((n===i||"HTML"===n.nodeName||t.dom.isChildOf(n,i))&&!1!==Ag(t,e.clientX,e.clientY)){var r=__(t,n);if(r)C_(r)?(e.preventDefault(),f(rw(t,r))):(h(),x_(r)&&e.shiftKey||Av(e.clientX,e.clientY,t.selection.getRng())||(p(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Bu(n)){h(),p();var o=ew(i,e.clientX,e.clientY);if(o&&!m(e.target,o.node)){e.preventDefault();var s=l(1,o.node,o.before,!1);t.getBody().focus(),a(s)}}}}),t.on("keypress",function(e){Ov.modifierPressed(e)||(e.keyCode,C_(t.selection.getNode())&&e.preventDefault())}),t.on("GetSelectionRange",function(e){var t=e.range;if(n){if(!n.parentNode)return void(n=null);(t=t.cloneRange()).selectNode(n),e.range=t}}),t.on("SetSelectionRange",function(e){e.range=d(e.range);var t=f(e.range,e.forward);t&&(e.range=t)});var g,v;t.on("AfterSetSelectionRange",function(e){var n,i=e.range;c(i)||"mcepastebin"===i.startContainer.parentNode.id||p(),n=i.startContainer.parentNode,t.dom.hasClass(n,"mce-offscreen-selection")||h()}),t.on("copy",function(e){var n,i=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!wn.ie){var r=(n=t.dom.get(o))?n.getElementsByTagName("*")[0]:n;r&&(e.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}}),w_(t),v=rs(function(){if(!g.removed&&g.getBody().contains(e.document.activeElement)&&g.selection.getRng().collapsed){var t=aw(g,g.selection.getRng(),!1);g.selection.setRng(t)}},0),(g=t).on("focus",function(){v.throttle()}),g.on("blur",function(){v.cancel()})}(),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Ks(e),a(s()),t.selection.scrollIntoView(e))},hideFakeCaret:p,destroy:function(){r.destroy(),n=null}}},S_=function(t){var n,i,r,o=Sn.each,a=Ov.BACKSPACE,s=Ov.DELETE,l=t.dom,u=t.selection,c=t.parser,d=wn.gecko,f=wn.ie,h=wn.webkit,p="data:text/mce-internal,",m=f?"Text":"URL",g=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(i){}},v=function(e){return e.isDefaultPrevented()},b=function(){t.shortcuts.add("meta+a",null,"SelectAll")},y=function(){t.on("keydown",function(e){if(!v(e)&&e.keyCode===a&&u.isCollapsed()&&0===u.getRng().startOffset){var t=u.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},w=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(11<wn.ie)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))};return t.on("keydown",function(e){var n,i;if(!v(e)&&e.keyCode===Ov.BACKSPACE){var r=(n=u.getRng()).startContainer,o=n.startOffset,a=l.getRoot();if(i=r,n.collapsed&&0===o){for(;i&&i.parentNode&&i.parentNode.firstChild===i&&i.parentNode!==a;)i=i.parentNode;"BLOCKQUOTE"===i.tagName&&(t.formatter.toggle("blockquote",null,i),(n=l.createRng()).setStart(r,0),n.setEnd(r,0),u.setRng(n))}}}),n=function(e){var t=l.create("body"),n=e.cloneContents();return t.appendChild(n),u.serializer.serialize(t,{format:"html"})},t.on("keydown",function(e){var i,r,o,u,c,d=e.keyCode;if(!v(e)&&(d===s||d===a)){if(i=t.selection.isCollapsed(),r=t.getBody(),i&&!l.isEmpty(r))return;if(!i&&(o=t.selection.getRng(),u=n(o),(c=l.createRng()).selectNode(t.getBody()),u!==n(c)))return;e.preventDefault(),t.setContent(""),r.firstChild&&l.isBlock(r.firstChild)?t.selection.setCursorLocation(r.firstChild,0):t.selection.setCursorLocation(r,0),t.nodeChanged()}}),wn.windowsPhone||t.on("keyup focusin mouseup",function(e){Ov.modifierPressed(e)||u.normalize()},!0),h&&(t.inline||l.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=u.getRng(),t.getBody().focus(),"mousedown"===e.type){if(Vs(n.startContainer))return;u.placeCaretAt(e.clientX,e.clientY)}else u.setRng(n)}),t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==l.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&l.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),u.select(n))}),du(t)&&t.on("init",function(){g("DefaultParagraphSeparator",du(t))}),t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(e){e.preventDefault()})}),y(),c.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()}),wn.iOS?(t.inline||t.on("keydown",function(){e.document.activeElement===e.document.body&&t.getWin().focus()}),w(),t.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):b()),11<=wn.ie&&(w(),y()),wn.ie&&(b(),g("AutoUrlDetect",!1),t.on("dragstart",function(e){var n,i,r;(n=e).dataTransfer&&(t.selection.isCollapsed()&&"IMG"===n.target.tagName&&u.select(n.target),0<(i=t.selection.getContent()).length&&(r=p+escape(t.id)+","+escape(i),n.dataTransfer.setData(m,r)))}),t.on("drop",function(e){if(!v(e)){var n=(a=e).dataTransfer&&(s=a.dataTransfer.getData(m))&&0<=s.indexOf(p)?(s=s.substr(p.length).split(","),{id:unescape(s[0]),html:unescape(s[1])}):null;if(n&&n.id!==t.id){e.preventDefault();var i=cv(e.x,e.y,t.getDoc());u.setRng(i),r=n.html,o=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):t.execCommand("mceInsertContent",!1,r)}}var r,o,a,s})),d&&(t.on("keydown",function(e){if(!v(e)&&e.keyCode===a){if(!t.getBody().getElementsByTagName("hr").length)return;if(u.isCollapsed()&&0===u.getRng().startOffset){var n=u.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return l.remove(n),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(l.remove(i),e.preventDefault())}}}),e.Range.prototype.getClientRects||t.on("mousedown",function(e){if(!v(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Ia.setEditorTimeout(t,function(){n.focus()})}}),i=function(){var e=l.getAttribs(u.getStart().cloneNode(!1));return function(){var n=u.getStart();n!==t.getBody()&&(l.setAttrib(n,"style",null),o(e,function(e){n.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!u.isCollapsed()&&l.getParent(u.getStart(),l.isBlock)!==l.getParent(u.getEnd(),l.isBlock)},t.on("keypress",function(e){var n;if(!v(e)&&(8===e.keyCode||46===e.keyCode)&&r())return n=i(),t.getDoc().execCommand("delete",!1,null),n(),e.preventDefault(),!1}),l.bind(t.getDoc(),"cut",function(e){var n;!v(e)&&r()&&(n=i(),Ia.setEditorTimeout(t,function(){n()}))}),t.getParam("readonly")||t.on("BeforeExecCommand mousedown",function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),bu(t)||g("enableObjectResizing",!1)}),t.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||o(l.select("a"),function(e){var t=e.parentNode,n=l.getRoot();if(t.lastChild===e){for(;t&&!l.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}l.add(t,"br",{"data-mce-bogus":1})}})}),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),wn.mac&&t.on("keydown",function(e){!Ov.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))}),y()),{refreshContentEditable:function(){},isHidden:function(){if(!d||t.removed)return!1;var e=t.selection.getSel();return!e||!e.rangeCount||0===e.rangeCount}}},D_=qa.DOM,$_=function(e){return wt(e,function(e){return!1===Ve(e)})},T_=function(e){var t,n=e.settings,i=e.editorUpload.blobCache;return $_({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:(t=e).inline?t.getElement().nodeName.toLowerCase():void 0,validate:!0,blob_cache:i,images_dataimg_filter:n.images_dataimg_filter})},E_=function(e){var t=e.dom.getRoot();e.inline||Td(e)&&e.selection.getStart(!0)!==t||Tc(t).each(function(t){var n,i,r,o,a=t.getNode(),s=Ti(a)?Tc(a).getOr(t):t;wn.browser.isIE()?(n=e,i=s.toRange(),r=$n.fromDom(n.getBody()),o=(Wh(n)?Ne.from(i):Ne.none()).map(qh).filter(Uh(r)),n.bookmark=o.isSome()?o:n.bookmark):e.selection.setRng(s.toRange())})},A_=function(e){var t;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("Init"),e.focus(!0),E_(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(t=e).settings.auto_focus&&Ia.setEditorTimeout(t,function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()},100)},O_=function(e,t){var n=e.settings,i=e.getDoc(),r=e.getBody();n.browser_spellcheck||n.gecko_spellcheck||(i.body.spellcheck=!1,D_.setAttrib(r,"spellcheck","false")),e.quirks=S_(e),e.fire("PostRender");var o,a,s,l,u,c=e.getParam("directionality",ts.isRtl()?"rtl":void 0);if(void 0!==c&&(r.dir=c),n.protect&&e.on("BeforeSetContent",function(e){Sn.each(n.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),!1===t&&e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),0<e.contentStyles.length){var d="";Sn.each(e.contentStyles,function(e){d+=e+"\r\n"}),e.dom.addStyle(d)}((o=e).inline?D_.styleSheetLoader:o.dom.styleSheetLoader).loadAll(e.contentCSS,function(t){A_(e)},function(t){A_(e)}),n.content_style&&(a=e,s=n.content_style,l=$n.fromDom(a.getDoc().head),u=$n.fromTag("style"),Hi(u,"type","text/css"),ai(u,$n.fromText(s)),ai(l,u))},M_=function(n,r){var o=n.settings,a=n.getElement(),s=n.getDoc();o.inline||(n.getElement().style.visibility=n.orgVisibility),r||n.inline||(s.open(),s.write(n.iframeHTML),s.close()),n.inline&&(D_.addClass(a,"mce-content-body"),n.contentDocument=s=e.document,n.contentWindow=e.window,n.bodyElement=a,n.contentAreaContainer=a);var l,u,c,d,f,h,p=n.getBody();p.disabled=!0,n.readonly=!!o.readonly,n.readonly||(n.inline&&"static"===D_.getStyle(p,"position",!0)&&(p.style.position="relative"),p.contentEditable=n.getParam("content_editable_state",!0)),p.disabled=!1,n.editorUpload=cb(n),n.schema=i(o),n.dom=qa(s,{keep_values:!0,url_converter:n.convertURL,url_converter_scope:n,hex_colors:o.force_hex_style_colors,update_styles:!0,root_element:n.inline?n.getBody():null,collect:function(){return n.inline},schema:n.schema,contentCssCors:n.getParam("content_css_cors",!1,"boolean"),referrerPolicy:mu(n),onSetAttrib:function(e){n.fire("SetAttrib",e)}}),n.parser=((u=nb(T_(l=n),l.schema)).addAttributeFilter("src,href,style,tabindex",function(e,t){for(var n,i,r=e.length,o=l.dom,a="data-mce-"+t;r--;)if((i=(n=e[r]).attr(t))&&!n.attr(a)){if(0===i.indexOf("data:")||0===i.indexOf("blob:"))continue;"style"===t?((i=o.serializeStyle(o.parseStyle(i),n.name)).length||(i=null),n.attr(a,i),n.attr(t,i)):"tabindex"===t?(n.attr(a,i),n.attr(t,null)):n.attr(a,l.convertURL(i,t,n.name))}}),u.addNodeFilter("script",function(e){for(var t=e.length;t--;){var n=e[t],i=n.attr("type")||"no/type";0!==i.indexOf("mce-")&&n.attr("type","mce-"+i)}}),l.settings.preserve_cdata&&u.addNodeFilter("#cdata",function(e){for(var t=e.length;t--;){var n=e[t];n.type=8,n.name="#comment",n.value="[CDATA["+l.dom.encode(n.value)+"]]"}}),u.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(e){for(var t=e.length,n=l.schema.getNonEmptyElements();t--;){var i=e[t];i.isEmpty(n)&&0===i.getAll("br").length&&(i.append(new zd("br",1)).shortEnded=!0)}}),u),n.serializer=sb((d=(c=n).settings,Mt(Mt({},T_(c)),$_({url_converter:d.url_converter,url_converter_scope:d.url_converter_scope,element_format:d.element_format,entities:d.entities,entity_encoding:d.entity_encoding,indent:d.indent,indent_after:d.indent_after,indent_before:d.indent_before,block_elements:d.block_elements,boolean_attributes:d.boolean_attributes,custom_elements:d.custom_elements,extended_valid_elements:d.extended_valid_elements,invalid_elements:d.invalid_elements,invalid_styles:d.invalid_styles,move_caret_before_on_enter_elements:d.move_caret_before_on_enter_elements,non_empty_elements:d.non_empty_elements,schema:d.schema,self_closing_elements:d.self_closing_elements,short_ended_elements:d.short_ended_elements,special:d.special,text_block_elements:d.text_block_elements,text_inline_elements:d.text_inline_elements,valid_children:d.valid_children,valid_classes:d.valid_classes,valid_elements:d.valid_elements,valid_styles:d.valid_styles,verify_html:d.verify_html,whitespace_elements:d.whitespace_elements}))),n),n.selection=Bv(n.dom,n.getWin(),n.serializer,n),n.annotator=Ld(n),n.formatter=yb(n),n.undoManager=xb(n),n._nodeChangeDispatcher=new a_(n),n._selectionOverrides=k_(n),Tb(n),s_(n),Xm(n)||u_(n),Xm(f=n)||o_(f),du(h=n)&&h.on("NodeChange",t(Ob,h)),Db(n),n.fire("PreInit"),Jm(n).fold(function(){O_(n,!1)},function(e){n.setProgressState(!0),e.then(function(e){n.setProgressState(!1),O_(n,e)})})},N_=qa.DOM,P_=function(e){var t=e.getParam("doctype","<!DOCTYPE html>")+"<html><head>";e.getParam("document_base_url","")!==e.documentBaseUrl&&(t+='<base href="'+e.documentBaseURI.getURI()+'" />'),t+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var n=uu(e,"body_id","tinymce"),i=uu(e,"body_class","");return cu(e)&&(t+='<meta http-equiv="Content-Security-Policy" content="'+cu(e)+'" />'),t+='</head><body id="'+n+'" class="mce-content-body '+i+'" data-id="'+e.id+'"><br></body></html>'},I_=function(t,n){var i,r,o,a,s=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),l=(i=t.id,r=s,n.height,o=t.getParam("iframe_attrs",{}),a=$n.fromTag("iframe"),ji(a,o),ji(a,{id:i+"_ifr",frameBorder:"0",allowTransparency:"true",title:r}),cs(a,"tox-edit-area__iframe"),a.dom());l.onload=function(){l.onload=null,t.fire("load")};var u=function(t,n){if(e.document.domain!==e.window.location.hostname&&wn.browser.isIE()){var i=ub("mce");t[i]=function(){M_(t)};var r='javascript:(function(){document.open();document.domain="'+e.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+i+"(true);})()";return N_.setAttrib(n,"src",r),!0}return!1}(t,l);return t.contentAreaContainer=n.iframeContainer,t.iframeElement=l,t.iframeHTML=P_(t),N_.add(n.iframeContainer,l),u},R_=qa.DOM,L_=function(e,t,n){var i=Mg.get(n),r=Mg.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=Sn.trim(n),i&&-1===Sn.inArray(t,n)){
if(Sn.each(Mg.dependencies(n),function(n){L_(e,t,n)}),e.plugins[n])return;try{var o=new i(e,r,e.$);(e.plugins[n]=o).init&&(o.init(e,r),t.push(n))}catch(a){!function(e,t,n){var i=ts.translate(["Failed to initialize plugin: {0}",t]);Hg(i,n),Rg(e,i)}(e,n,a)}}},B_=function(e){return e.replace(/^\-/,"")},F_=function(e){return{editorContainer:e,iframeContainer:e}},H_=function(e){var t,n,i=e.getElement();return e.inline?F_(null):(t=i,n=R_.create("div"),R_.insertAfter(n,t),F_(n))},j_=function(e){var t,n,i,r=e.getElement();return e.orgDisplay=r.style.display,Le(wu(e))?e.theme.renderUI():ze(wu(e))?(n=(t=e).getElement(),(i=wu(t)(t,n)).editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||t.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||t.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i):H_(e)},V_=function(e){var t,n,i,r,o,a;e.fire("ScriptsLoaded"),t=e,n=Sn.trim(pu(t)),i=t.ui.registry.getAll().icons,r=Mt(Mt({},_g.get("default").icons),_g.get(n).icons),pt(r,function(e,n){_t(i,n)||t.ui.registry.addIcon(n,e)}),function(e){var t=wu(e);if(Le(t)){e.settings.theme=B_(t);var n=Ng.get(t);e.theme=new n(e,Ng.urls[t]),e.theme.init&&e.theme.init(e,Ng.urls[t]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}}(e),o=e,a=[],Sn.each(Cu(o).split(/[ ,]/),function(e){L_(o,a,B_(e))});var s,l,u,c,d=j_(e);return e.editorContainer=d.editorContainer?d.editorContainer:null,(s=e).contentCSS=s.contentCSS.concat(jg(s)),e.inline?M_(e):(c=I_(l=e,u=d),u.editorContainer&&(N_.get(u.editorContainer).style.display=l.orgDisplay,l.hidden=N_.isHidden(u.editorContainer)),l.getElement().style.display="none",N_.setAttrib(l.id,"aria-hidden","true"),void(c||M_(l)))},z_=qa.DOM,U_=function(e){return"-"===e.charAt(0)},W_=function(e,t){var n=gu(t),i=t.getParam("language_url","","string");if(!1===ts.hasCode(n)&&"en"!==n){var r=""!==i?i:t.editorManager.baseURL+"/langs/"+n+".js";e.add(r,Ce,void 0,function(){Lg(t,"LanguageLoadError",Bg("language",r,n))})}},q_=function(e,t,n){return Ne.from(t).filter(function(e){return 0<e.length&&!_g.has(e)}).map(function(t){return{url:e.editorManager.baseURL+"/icons/"+t+"/icons"+n+".js",name:Ne.some(t)}})},Y_=function(e,t,n){var i,r=q_(t,"default",n),o=(i=t,Ne.from(i.getParam("icons_url","","string")).filter(function(e){return 0<e.length}).map(function(e){return{url:e,name:Ne.none()}}).orThunk(function(){return q_(t,pu(t),"")}));Ze(function(e){for(var t=[],n=function(e){t.push(e)},i=0;i<e.length;i++)e[i].each(n);return t}([r,o]),function(n){e.add(n.url,Ce,void 0,function(){var e,i,r;e=t,i=n.url,r=n.name.getOrUndefined(),Lg(e,"IconsLoadError",Bg("icons",i,r))})})},G_=function(e,t){var n=Xa.ScriptLoader;!function(e,t,n,i){var r=wu(t);if(Le(r)){if(!U_(r)&&!Ng.urls.hasOwnProperty(r)){var o=t.getParam("theme_url");o?Ng.load(r,t.documentBaseURI.toAbsolute(o)):Ng.load(r,"themes/"+r+"/theme"+n+".js")}e.loadQueue(function(){Ng.waitFor(r,i)})}else i()}(n,e,t,function(){var i,r;W_(n,e),Y_(n,e,t),i=e,r=t,Sn.each(i.getParam("external_plugins"),function(e,t){Mg.load(t,e,Ce,void 0,function(){Fg(i,e,t)}),i.settings.plugins+=" "+t}),Sn.each(Cu(i).split(/[ ,]/),function(e){if((e=Sn.trim(e))&&!Mg.urls[e])if(U_(e)){e=e.substr(1,e.length);var t=Mg.dependencies(e);Sn.each(t,function(e){var t={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"},n=Mg.createUrl(t,e);Mg.load(n.resource,n,Ce,void 0,function(){Fg(i,n.prefix+n.resource+n.suffix,n.resource)})})}else{var n={prefix:"plugins/",resource:e,suffix:"/plugin"+r+".js"};Mg.load(e,n,Ce,void 0,function(){Fg(i,n.prefix+n.resource+n.suffix,e)})}}),n.loadQueue(function(){e.removed||V_(e)},e,function(){e.removed||V_(e)})})},K_=function(t){var n=t.id;ts.setCode(gu(t));var i=function(){z_.unbind(e.window,"ready",i),t.render()};if(Yr.Event.domLoaded){if(t.getElement()&&wn.contentEditable){var r,o,a=$n.fromDom(t.getElement()),s=nt(a.dom().attributes,function(e,t){return e[t.name]=t.value,e},{});t.on("remove",function(){Qe(a.dom().attributes,function(e){return zi(a,e.name)}),ji(a,s)}),t.ui.styleSheetLoader=(r=a,o=t,Ra.forElement(r,{contentCssCors:o.getParam("content_css_cors"),referrerPolicy:mu(o)})),t.getParam("inline")?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var l=t.getElement().form||z_.getParent(n,"form");l&&(t.formElement=l,t.getParam("hidden_input")&&!Ai(t.getElement())&&(z_.insertAfter(z_.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},z_.bind(l,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),!t.getParam("submit_patch")||l.submit.nodeType||l.submit.length||l._mceOldSubmit||(l._mceOldSubmit=l.submit,l.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),l._mceOldSubmit(l)})),t.windowManager=Pg(t),t.notificationManager=N(t),"xml"===t.getParam("encoding")&&t.on("GetContent",function(e){e.save&&(e.content=z_.encode(e.content))}),t.getParam("add_form_submit_trigger")&&t.on("submit",function(){t.initialized&&t.save()}),t.getParam("add_unload_trigger")&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),G_(t,t.suffix)}}else z_.bind(e.window,"ready",i)},X_=function(e){return ze(e)?e:ke(!1)},J_=function(e,t,n){var i=t(e),r=X_(n);return i.orThunk(function(){return r(e)?Ne.none():function(e,t,n){for(var i=e.dom(),r=X_(n);i.parentNode;){i=i.parentNode;var o=$n.fromDom(i),a=t(o);if(a.isSome())return a;if(r(o))break}return Ne.none()}(e,t,r)})},Z_={"font-size":"size","font-family":"face"},Q_=function(e,t,n){var i=function(t){return qi(t,e).orThunk(function(){return"font"===Tn(t)?Ct(Z_,e).bind(function(e){return n=t,i=e,Ne.from(Vi(n,i));var n,i}):Ne.none()})};return J_($n.fromDom(n),function(e){return i(e)},function(e){return Bn($n.fromDom(t),e)})},ek=function(e){return function(t,n){return Ne.from(n).map($n.fromDom).filter(On).bind(function(n){return Q_(e,t,n.dom()).or((i=e,r=n.dom(),Ne.from(qa.DOM.getStyle(r,i,!0))));var i,r}).getOr("")}},tk=ek("font-size"),nk=_e(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},ek("font-family")),ik=function(e){return Tc(e.getBody()).map(function(e){var t=e.container();return Oi(t)?t.parentNode:t})},rk=function(e){return Ne.from(e.selection.getRng()).bind(function(t){var n,i,r=e.getBody();return i=r,(n=t).startContainer===i&&0===n.startOffset?Ne.none():Ne.from(e.selection.getStart(!0))})},ok=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(1<=n&&n<=7){var i=(a=e,Sn.explode(a.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))),r=(o=e,Sn.explode(o.getParam("font_size_classes","")));return r?r[n-1]||t:i[n-1]||t}return t}return t;var o,a},ak=function(e,t){var n,i=ok(e,t);e.formatter.toggle("fontname",{value:(n=i.split(/\s*,\s*/),Je(n,function(e){return-1===e.indexOf(" ")||Jt(e,'"')||Jt(e,"'")?e:"'"+e+"'"}).join(","))}),e.nodeChanged()},sk=function(e,t){var n,i,r,o,a="string"!=typeof(n=t)?(i=Sn.extend({paste:n.paste,data:{paste:n.paste}},n),{content:n.content,details:i}):{content:n,details:{}};r=a.content,o=a.details,Zm(e).editor.insertContent(r,o)},lk=function(e,t){e.getDoc().execCommand(t,!1,null)},uk=Sn.each,ck=Sn.map,dk=Sn.inArray,fk=(F.prototype.execCommand=function(e,t,n,i){var r,o=!1,a=this;if(!a.editor.removed){var s;if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||i&&i.skip_focus?(s=a.editor,Xh(s).each(function(e){s.selection.setRng(e)})):a.editor.focus(),(i=a.editor.fire("BeforeExecCommand",{command:e,ui:t,value:n})).isDefaultPrevented())return!1;var l=e.toLowerCase();if(r=a.commands.exec[l])return r(l,t,n),a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;if(uk(this.editor.plugins,function(i){if(i.execCommand&&i.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!(o=!0)}),o)return o;if(a.editor.theme&&a.editor.theme.execCommand&&a.editor.theme.execCommand(e,t,n))return a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0;try{o=a.editor.getDoc().execCommand(e,t,n)}catch(u){}return!!o&&(a.editor.fire("ExecCommand",{command:e,ui:t,value:n}),!0)}},F.prototype.queryCommandState=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.state[e])return t(e);try{return this.editor.getDoc().queryCommandState(e)}catch(n){}return!1}},F.prototype.queryCommandValue=function(e){var t;if(!this.editor.quirks.isHidden()&&!this.editor.removed){if(e=e.toLowerCase(),t=this.commands.value[e])return t(e);try{return this.editor.getDoc().queryCommandValue(e)}catch(n){}}},F.prototype.addCommands=function(e,t){var n=this;t=t||"exec",uk(e,function(e,i){uk(i.toLowerCase().split(","),function(i){n.commands[t][i]=e})})},F.prototype.addCommand=function(e,t,n){var i=this;e=e.toLowerCase(),this.commands.exec[e]=function(e,r,o,a){return t.call(n||i.editor,r,o,a)}},F.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch(t){}return!1},F.prototype.addQueryStateHandler=function(e,t,n){var i=this;e=e.toLowerCase(),this.commands.state[e]=function(){return t.call(n||i.editor)}},F.prototype.addQueryValueHandler=function(e,t,n){var i=this;e=e.toLowerCase(),this.commands.value[e]=function(){return t.call(n||i.editor)}},F.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},F.prototype.execNativeCommand=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=null),this.editor.getDoc().execCommand(e,t,n)},F.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},F.prototype.toggleFormat=function(e,t){this.editor.formatter.toggle(e,t?{value:t}:void 0),this.editor.nodeChanged()},F.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},F.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},F.prototype.setupCommands=function(e){var t=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(n){var i,r=e.getDoc();try{t.execNativeCommand(n)}catch(o){i=!0}if("paste"!==n||r.queryCommandEnabled(n)||(i=!0),i||!r.queryCommandSupported(n)){var a=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");wn.mac&&(a=a.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:a,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");t&&e.dom.remove(t,!0)}else e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(n){var i=n.substring(7);"full"===i&&(i="justify"),uk("left,center,right,justify".split(","),function(t){i!==t&&e.formatter.remove("align"+t)}),"none"!==i&&t.toggleFormat("align"+i)},"InsertUnorderedList,InsertOrderedList":function(n){var i;t.execNativeCommand(n);var r=e.dom.getParent(e.selection.getNode(),"ol,ul");r&&(i=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(i.nodeName)&&(t.storeSelection(),e.dom.split(i,r),t.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){t.toggleFormat(e)},"ForeColor,HiliteColor":function(e,n,i){t.toggleFormat(e,i)},FontName:function(t,n,i){ak(e,i)},FontSize:function(t,n,i){var r,o;o=i,(r=e).formatter.toggle("fontsize",{value:ok(r,o)}),r.nodeChanged()},RemoveFormat:function(t){e.formatter.remove(t)},mceBlockQuote:function(){t.toggleFormat("blockquote")},FormatBlock:function(e,n,i){return t.toggleFormat(i||"p")},mceCleanup:function(){var t=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(t)},mceRemoveNode:function(n,i,r){var o=r||e.selection.getNode();o!==e.getBody()&&(t.storeSelection(),e.dom.remove(o,!0),t.restoreSelection())},mceSelectNodeDepth:function(t,n,i){var r=0;e.dom.getParent(e.selection.getNode(),function(t){if(1===t.nodeType&&r++===i)return e.selection.select(t),!1},e.getBody())},mceSelectNode:function(t,n,i){e.selection.select(i)},mceInsertContent:function(t,n,i){sk(e,i)},mceInsertRawHTML:function(t,n,i){e.selection.setContent("tiny_mce_marker");var r=e.getContent();e.setContent(r.replace(/tiny_mce_marker/g,function(){return i}))},mceInsertNewLine:function(t,n,i){NC(e,i)},mceToggleFormat:function(e,n,i){t.toggleFormat(i)},mceSetContent:function(t,n,i){e.setContent(i)},"Indent,Outdent":function(t){Bx(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,n,i){e.execCommand("mceInsertContent",!1,i.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(t,n,i){"string"==typeof i&&(i={href:i});var r=e.dom.getParent(e.selection.getNode(),"a");i.href=i.href.replace(/ /g,"%20"),r&&i.href||e.formatter.remove("link"),i.href&&e.formatter.apply("link",i,r)},selectAll:function(){var t=e.dom.getParent(e.selection.getStart(),Ri);if(t){var n=e.dom.createRng();n.selectNodeContents(t),e.selection.setRng(n)}},"delete":function(){var t;Yx(t=e)||xx(t,!1)||_x(t,!1)||$x(t,!1)||tx(t,!1)||bh(t)||ox(t)||Ox(t,!1)||(lk(t,"Delete"),zw(t))},forwardDelete:function(){var t;xx(t=e,!0)||_x(t,!0)||$x(t,!0)||tx(t,!0)||bh(t)||ox(t)||Ox(t,!0)||lk(t,"ForwardDelete")},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,i){return yC(e,i),!0}});var n=function(t){return function(){var n=e.selection.isCollapsed()?[e.dom.getParent(e.selection.getNode(),e.dom.isBlock)]:e.selection.getSelectedBlocks(),i=ck(n,function(n){return!!e.formatter.matchNode(n,t)});return-1!==dk(i,!0)}};t.addCommands({JustifyLeft:n("alignleft"),JustifyCenter:n("aligncenter"),JustifyRight:n("alignright"),JustifyFull:n("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return t.isFormatMatch(e)},mceBlockQuote:function(){return t.isFormatMatch("blockquote")},Outdent:function(){return Ix(e)},"InsertUnorderedList,InsertOrderedList":function(t){var n=e.dom.getParent(e.selection.getNode(),"ul,ol");return n&&("insertunorderedlist"===t&&"UL"===n.tagName||"insertorderedlist"===t&&"OL"===n.tagName)}},"state"),t.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),t.addQueryValueHandler("FontName",function(){return rk(t=e).fold(function(){return ik(t).map(function(e){return nk(t.getBody(),e)}).getOr("")},function(e){return nk(t.getBody(),e)});var t},this),t.addQueryValueHandler("FontSize",function(){return rk(t=e).fold(function(){return ik(t).map(function(e){return tk(t.getBody(),e)}).getOr("")},function(e){return tk(t.getBody(),e)});var t},this)},F),hk="data-mce-contenteditable",pk=function(e,t,n){fs(e,t)&&!1===n?function(e,t){ss(e)?e.dom().classList.remove(t):us(e,t),ds(e)}(e,t):n&&cs(e,t)},mk=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(i){}},gk=function(e,t){e.dom().contentEditable=t?"true":"false"},vk=function(e,t){var n,i,r,o=$n.fromDom(e.getBody());pk(o,"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),r=e,Ne.from(r.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")}),e.readonly=!0,gk(o,!1),Ze(ps(o,'*[contenteditable="true"]'),function(e){Hi(e,hk,"true"),gk(e,!1)})):(e.readonly=!1,gk(o,!0),Ze(ps(o,"*["+hk+'="true"]'),function(e){zi(e,hk),gk(e,!0)}),mk(e,"StyleWithCSS",!1),mk(e,"enableInlineTableEditing",!1),mk(e,"enableObjectResizing",!1),(up(i=e)||lp(i))&&e.focus(),(n=e).selection.setRng(n.selection.getRng()),e.nodeChanged())},bk=function(e){return e.readonly},yk=function(e){e.parser.addAttributeFilter("contenteditable",function(t){bk(e)&&Ze(t,function(e){e.attr(hk,e.attr("contenteditable")),e.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(hk,function(t){bk(e)&&Ze(t,function(e){e.attr("contenteditable",e.attr(hk))})}),e.serializer.addTempAttr(hk)},wk=Sn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),xk=(H.isNative=function(e){return!!wk[e.toLowerCase()]},H.prototype.fire=function(e,t){e=e.toLowerCase(),(t=t||{}).type=e,t.target||(t.target=this.scope),t.preventDefault||(t.preventDefault=function(){t.isDefaultPrevented=Ee},t.stopPropagation=function(){t.isPropagationStopped=Ee},t.stopImmediatePropagation=function(){t.isImmediatePropagationStopped=Ee},t.isDefaultPrevented=Te,t.isPropagationStopped=Te,t.isImmediatePropagationStopped=Te),this.settings.beforeFire&&this.settings.beforeFire(t);var n=this.bindings[e];if(n)for(var i=0,r=n.length;i<r;i++){var o=n[i];if(o.once&&this.off(e,o.func),t.isImmediatePropagationStopped())return t.stopPropagation(),t;if(!1===o.func.call(this.scope,t))return t.preventDefault(),t}return t},H.prototype.on=function(e,t,n,i){var r,o,a;if(!1===t&&(t=Te),t){var s={func:t};for(i&&Sn.extend(s,i),a=(o=e.toLowerCase().split(" ")).length;a--;)e=o[a],(r=this.bindings[e])||(r=this.bindings[e]=[],this.toggleEvent(e,!0)),n?r.unshift(s):r.push(s)}return this},H.prototype.off=function(e,t){var n,i,r,o,a=this;if(e)for(n=(r=e.toLowerCase().split(" ")).length;n--;){if(e=r[n],i=this.bindings[e],!e)return pt(this.bindings,function(e,t){a.toggleEvent(t,!1),delete a.bindings[t]}),this;if(i){if(t)for(o=i.length;o--;)i[o].func===t&&(i=i.slice(0,o).concat(i.slice(o+1)),this.bindings[e]=i);else i.length=0;i.length||(this.toggleEvent(e,!1),delete this.bindings[e])}}else pt(this.bindings,function(e,t){a.toggleEvent(t,!1)}),this.bindings={};return this},H.prototype.once=function(e,t,n){return this.on(e,t,n,{once:!0})},H.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||0===this.bindings[e].length)},H),Ck=function(e){return e._eventDispatcher||(e._eventDispatcher=new xk({scope:e,toggleEvent:function(t,n){xk.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},_k={fire:function(e,t,n){if(this.removed&&"remove"!==e&&"detach"!==e)return t;var i=Ck(this).fire(e,t);if(!1!==n&&this.parent)for(var r=this.parent();r&&!i.isPropagationStopped();)r.fire(e,i,!1),r=r.parent();return i},on:function(e,t,n){return Ck(this).on(e,t,n)},off:function(e,t){return Ck(this).off(e,t)},once:function(e,t){return Ck(this).once(e,t)},hasEventListeners:function(e){return Ck(this).has(e)}},kk=qa.DOM,Sk=function(e,t){if("selectionchange"===t)return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t))return e.getDoc().documentElement;var n=yu(e);return n?(e.eventRoot||(e.eventRoot=kk.select(n)[0]),e.eventRoot):e.getBody()},Dk=function(e,t,n){var i,r,o,a,s;(s=e).hidden||bk(s)?bk(e)&&(i=e,a=(r=n).target,"click"!==r.type||Ov.metaKeyPressed(r)||(o=a,null===i.dom.getParent(o,"a"))||r.preventDefault()):e.fire(t,n)},$k=function(e,t){var n;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed){var i=Sk(e,t);if(yu(e)){if(By||(By={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||By&&(pt(By,function(t,n){e.dom.unbind(Sk(e,n))}),By=null)})),By[t])return;n=function(n){for(var i=n.target,r=e.editorManager.get(),o=r.length;o--;){var a=r[o].getBody();a!==i&&!kk.isChildOf(i,a)||Dk(r[o],t,n)}},By[t]=n,kk.bind(i,t,n)}else n=function(n){Dk(e,t,n)},kk.bind(i,t,n),e.delegates[t]=n}},Tk=Mt(Mt({},_k),{bindPendingEventDelegates:function(){var e=this;Sn.each(e._pendingNativeEvents,function(t){$k(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?$k(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Sk(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e=this,t=e.getBody(),n=e.dom;e.delegates&&(pt(e.delegates,function(t,n){e.dom.unbind(Sk(e,n),n,t)}),delete e.delegates),!e.inline&&t&&n&&(t.onload=null,n.unbind(e.getWin()),n.unbind(e.getDoc())),n&&(n.unbind(t),n.unbind(e.getContainer()))}}),Ek=["design","readonly"],Ak=function(t,n,i,r){var o,a=i[n.get()],s=i[r];try{s.activate()}catch(l){return void e.console.error("problem while activating editor mode "+r+":",l)}a.deactivate(),a.editorReadOnly!==s.editorReadOnly&&vk(t,s.editorReadOnly),n.set(r),o=r,t.fire("SwitchMode",{mode:o})},Ok=function(t){var n,i,r=Ja("design"),o=Ja({design:{activate:Ce,deactivate:Ce,editorReadOnly:!1},readonly:{activate:Ce,deactivate:Ce,editorReadOnly:!0}});return(n=t).serializer?yk(n):n.on("PreInit",function(){yk(n)}),(i=t).on("ShowCaret",function(e){bk(i)&&e.preventDefault()}),i.on("ObjectSelected",function(e){bk(i)&&e.preventDefault()}),{isReadOnly:function(){return bk(t)},set:function(e){return function(e,t,n,i){if(i!==n.get()){if(!_t(t,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?Ak(e,n,t,i):e.on("init",function(){return Ak(e,n,t,i)})}}(t,o.get(),r,e)},get:function(){return r.get()},register:function(t,n){o.set(function(t,n,i){var r;if(Ke(Ek,n))throw new Error("Cannot override default mode "+n);return Mt(Mt({},t),((r={})[n]=Mt(Mt({},i),{deactivate:function(){try{i.deactivate()}catch(t){e.console.error("problem while deactivating editor mode "+n+":",t)}}}),r))}(o.get(),t,n))}}},Mk=Sn.each,Nk=Sn.explode,Pk={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Ik=Sn.makeMap("alt,ctrl,shift,meta,access"),Rk=(j.prototype.add=function(e,t,n,i){var r=this,o=n;return"string"==typeof o?n=function(){r.editor.execCommand(o,!1,null)}:Sn.isArray(o)&&(n=function(){r.editor.execCommand(o[0],o[1],o[2])}),Mk(Nk(Sn.trim(e)),function(e){var o=r.createShortcut(e,t,n,i);r.shortcuts[o.id]=o}),!0},j.prototype.remove=function(e){var t=this.createShortcut(e);return!!this.shortcuts[t.id]&&(delete this.shortcuts[t.id],!0)},j.prototype.parseShortcut=function(e){var t,n={};Mk(Nk(e.toLowerCase(),"+"),function(e){e in Ik?n[e]=!0:/^[0-9]{2,}$/.test(e)?n.keyCode=parseInt(e,10):(n.charCode=e.charCodeAt(0),n.keyCode=Pk[e]||e.toUpperCase().charCodeAt(0))});var i=[n.keyCode];for(t in Ik)n[t]?i.push(t):n[t]=!1;return n.id=i.join(","),n.access&&(n.alt=!0,wn.mac?n.ctrl=!0:n.shift=!0),n.meta&&(wn.mac?n.meta=!0:(n.ctrl=!0,n.meta=!1)),n},j.prototype.createShortcut=function(e,t,n,i){var r=Sn.map(Nk(e,">"),this.parseShortcut);return r[r.length-1]=Sn.extend(r[r.length-1],{func:n,scope:i||this.editor}),Sn.extend(r[0],{desc:this.editor.translate(t),subpatterns:r.slice(1)})},j.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},j.prototype.isFunctionKey=function(e){return"keydown"===e.type&&112<=e.keyCode&&e.keyCode<=123},j.prototype.matchShortcut=function(e,t){return!!t&&t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&t.alt===e.altKey&&t.shift===e.shiftKey&&!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0)},j.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},j),Lk=function(){var e,t,n,i,r,o,a,s,l=(t={},n={},i={},r={},o={},a={},{addButton:(s=function(e,t){return function(n,i){return e[n.toLowerCase()]=Mt(Mt({},i),{type:t})}})(e={},"button"),addGroupToolbarButton:s(e,"grouptoolbarbutton"),addToggleButton:s(e,"togglebutton"),addMenuButton:s(e,"menubutton"),addSplitButton:s(e,"splitbutton"),addMenuItem:s(t,"menuitem"),addNestedMenuItem:s(t,"nestedmenuitem"),addToggleMenuItem:s(t,"togglemenuitem"),addAutocompleter:s(n,"autocompleter"),addContextMenu:s(r,"contextmenu"),addContextToolbar:s(o,"contexttoolbar"),addContextForm:s(o,"contextform"),addSidebar:s(a,"sidebar"),addIcon:function(e,t){return i[e.toLowerCase()]=t},getAll:function(){return{buttons:e,menuItems:t,icons:i,popups:n,contextMenus:r,contextToolbars:o,sidebars:a}}});return{addAutocompleter:l.addAutocompleter,addButton:l.addButton,addContextForm:l.addContextForm,addContextMenu:l.addContextMenu,addContextToolbar:l.addContextToolbar,addIcon:l.addIcon,addMenuButton:l.addMenuButton,addMenuItem:l.addMenuItem,addNestedMenuItem:l.addNestedMenuItem,addSidebar:l.addSidebar,addSplitButton:l.addSplitButton,addToggleButton:l.addToggleButton,addGroupToolbarButton:l.addGroupToolbarButton,addToggleMenuItem:l.addToggleMenuItem,getAll:l.getAll}},Bk=Sn.each,Fk=Sn.trim,Hk="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),jk={ftp:21,http:80,https:443,mailto:25},Vk=(V.parseDataUri=function(e){var t,n=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(n[0]);return i&&(t=i[1]),{type:t,data:n[1]}},V.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t},V.prototype.setPath=function(e){var t=/^(.*?)\/?(\w+)?$/.exec(e);this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},V.prototype.toRelative=function(e){var t;if("./"===e)return e;var n=new V(e,{base_uri:this});if("mce_host"!==n.host&&this.host!==n.host&&n.host||this.port!==n.port||this.protocol!==n.protocol&&""!==n.protocol)return n.getURI();var i=this.getURI(),r=n.getURI();return i===r||"/"===i.charAt(i.length-1)&&i.substr(0,i.length-1)===r?i:(t=this.toRelPath(this.path,n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),t)},V.prototype.toAbsolute=function(e,t){var n=new V(e,{base_uri:this});return n.getURI(t&&this.isSameOrigin(n))},V.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=jk[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},V.prototype.toRelPath=function(e,t){var n,i,r=0,o="",a=e.substring(0,e.lastIndexOf("/")).split("/"),s=t.split("/");if(a.length>=s.length)for(n=0,i=a.length;n<i;n++)if(n>=s.length||a[n]!==s[n]){r=n+1;break}if(a.length<s.length)for(n=0,i=s.length;n<i;n++)if(n>=a.length||a[n]!==s[n]){r=n+1;break}if(1===r)return t;for(n=0,i=a.length-(r-1);n<i;n++)o+="../";for(n=r-1,i=s.length;n<i;n++)o+=n!==r-1?"/"+s[n]:s[n];return o},V.prototype.toAbsPath=function(e,t){var n,i,r=0,o=[],a=/\/$/.test(t)?"/":"",s=e.split("/"),l=t.split("/");for(Bk(s,function(e){e&&o.push(e)}),s=o,n=l.length-1,o=[];0<=n;n--)0!==l[n].length&&"."!==l[n]&&(".."!==l[n]?0<r?r--:o.push(l[n]):r++);return 0!==(i=(n=s.length-r)<=0?st(o).join("/"):s.slice(0,n).join("/")+"/"+st(o).join("/")).indexOf("/")&&(i="/"+i),a&&i.lastIndexOf("/")!==i.length-1&&(i+=a),i},V.prototype.getURI=function(e){var t;return void 0===e&&(e=!1),this.source&&!e||(t="",e||(t+=this.protocol?this.protocol+"://":"//",this.userInfo&&(t+=this.userInfo+"@"),this.host&&(t+=this.host),this.port&&(t+=":"+this.port)),this.path&&(t+=this.path),this.query&&(t+="?"+this.query),this.anchor&&(t+="#"+this.anchor),this.source=t),this.source},V),zk=qa.DOM,Uk=Sn.extend,Wk=Sn.each,qk=Sn.resolve,Yk=wn.ie,Gk=(z.prototype.render=function(){K_(this)},z.prototype.focus=function(e){var t,n;n=e,(t=this).removed||(n?dp:cp)(t)},z.prototype.hasFocus=function(){return up(this)},z.prototype.execCallback=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,r=this.settings[e];if(r)return this.callbackLookup&&(i=this.callbackLookup[e])&&(r=i.func,i=i.scope),"string"==typeof r&&(i=(i=r.replace(/\.\w+$/,""))?qk(i):0,r=qk(r),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:r,scope:i}),r.apply(i||this,t)},z.prototype.translate=function(e){return ts.translate(e)},z.prototype.getParam=function(e,t,n){return Cg(this,e,t,n)},z.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},z.prototype.addCommand=function(e,t,n){this.editorCommands.addCommand(e,t,n)},z.prototype.addQueryStateHandler=function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},z.prototype.addQueryValueHandler=function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},z.prototype.addShortcut=function(e,t,n,i){this.shortcuts.add(e,t,n,i)},z.prototype.execCommand=function(e,t,n,i){return this.editorCommands.execCommand(e,t,n,i)},z.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},z.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},z.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},z.prototype.show=function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable="true":(zk.show(this.getContainer()),zk.hide(this.id)),this.load(),this.fire("show"))},z.prototype.hide=function(){var e=this,t=e.getDoc();e.hidden||(Yk&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(zk.hide(e.getContainer()),zk.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},z.prototype.isHidden=function(){return!!this.hidden},z.prototype.setProgressState=function(e,t){this.fire("ProgressState",{state:e,time:t})},z.prototype.load=function(e){var t,n=this.getElement();if(this.removed)return"";if(n){(e=e||{}).load=!0;var i=Ai(n)?n.value:n.innerHTML;return t=this.setContent(i,e),e.element=n,e.no_events||this.fire("LoadContent",e),e.element=n=null,t}},z.prototype.save=function(e){var t,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=r,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),"raw"===e.format&&i.fire("RawSaveContent",e),t=e.content,Ai(r)?r.value=t:(!e.is_removing&&i.inline||(r.innerHTML=t),(n=zk.getParent(i.id,"form"))&&Wk(n.elements,function(e){if(e.name===i.id)return e.value=t,!1})),e.element=r=null,!1!==e.set_dirty&&i.setDirty(!1),t},z.prototype.setContent=function(e,t){return tg(this,e,t)},z.prototype.getContent=function(e){return eg(this,e)},z.prototype.insertContent=function(e,t){t&&(e=Uk({content:e},t)),this.execCommand("mceInsertContent",!1,e)},z.prototype.resetContent=function(e){void 0===e?tg(this,this.startContent,{format:"raw"}):tg(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},z.prototype.isDirty=function(){return!this.isNotDirty},z.prototype.setDirty=function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},z.prototype.getContainer=function(){return this.container||(this.container=zk.get(this.editorContainer||this.id+"_parent")),this.container},z.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},z.prototype.getElement=function(){return this.targetElm||(this.targetElm=zk.get(this.id)),this.targetElm},z.prototype.getWin=function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},z.prototype.getDoc=function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},z.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},z.prototype.convertURL=function(e,t,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,n,!0,t):!i.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},z.prototype.addVisual=function(e){var t,n=this,i=n.settings,r=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),Wk(r.select("table,a",e),function(e){var o;switch(e.nodeName){case"TABLE":return t=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(e,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(e,t):r.addClass(e,t));
case"A":return void(r.getAttrib(e,"href")||(o=r.getAttrib(e,"name")||e.id,t=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(e,t):r.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},z.prototype.remove=function(){rg(this)},z.prototype.destroy=function(e){og(this,e)},z.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},z.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},z.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},z.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},z.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},z.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},z),Kk=qa.DOM,Xk=Sn.explode,Jk=Sn.each,Zk=Sn.extend,Qk=0,eS=!1,tS=[],nS=[],iS=function(e){var t=e.type;Jk(sS.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},rS=function(e){e!==eS&&(e?ua(window).on("resize scroll",iS):ua(window).off("resize scroll",iS),eS=e)},oS=function(e){var t=nS;delete tS[e.id];for(var n=0;n<tS.length;n++)if(tS[n]===e){tS.splice(n,1);break}return nS=et(nS,function(t){return e!==t}),sS.activeEditor===e&&(sS.activeEditor=0<nS.length?nS[0]:null),sS.focusedEditor===e&&(sS.focusedEditor=null),t.length!==nS.length},aS="CSS1Compat"!==e.document.compatMode,sS=Mt(Mt({},_k),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:ua,majorVersion:"5",minorVersion:"4.0",releaseDate:"2020-06-30",editors:tS,i18n:ts,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var n,i,r="";i=Vk.getDocumentBaseUrl(e.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(i)&&(i=i.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(i)||(i+="/"));var o,a=window.tinymce||window.tinyMCEPreInit;if(a)n=a.base||a.baseURL,r=a.suffix;else{for(var s=e.document.getElementsByTagName("script"),l=0;l<s.length;l++){var u;if(""!==(u=s[l].src||"")){var c=u.substring(u.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(u)){-1!==c.indexOf(".min")&&(r=".min"),n=u.substring(0,u.lastIndexOf("/"));break}}}!n&&e.document.currentScript&&(-1!==(u=e.document.currentScript.src).indexOf(".min")&&(r=".min"),n=u.substring(0,u.lastIndexOf("/")))}this.baseURL=new Vk(i).toAbsolute(n),this.documentBaseURL=i,this.baseURI=new Vk(this.baseURL),this.suffix=r,(o=this).on("AddEditor",t(np,o)),o.on("RemoveEditor",t(ip,o))},overrideDefaults:function(e){var t=e.base_url;t&&this._setBaseUrl(t);var n=e.suffix;e.suffix&&(this.suffix=n);var i=(this.defaultSettings=e).plugin_base_urls;void 0!==i&&pt(i,function(e,t){is.PluginManager.urls[t]=e})},init:function(t){var n,i=this,r=Sn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),o=function(e){var t=e.id;return t||(t=Ct(e,"name").filter(function(e){return!Kk.get(e)}).getOrThunk(Kk.uniqueId),e.setAttribute("id",t)),t},a=function(e,t){return t.constructor===RegExp?t.test(e.className):Kk.hasClass(e,t)},s=function(e){n=e},l=function(){var n,u=0,c=[],d=function(e,t,r){var o=new Gk(e,t,i);c.push(o),o.on("init",function(){++u===n.length&&s(c)}),o.targetElm=o.targetElm||r,o.render()};Kk.unbind(window,"ready",l),function(e){var n=t[e];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),n=ua.unique(function(t){var n=[];if(wn.browser.isIE()&&wn.browser.version.major<11)return Hg("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(aS)return Hg("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(t.types)return Jk(t.types,function(e){n=n.concat(Kk.select(e.selector))}),n;if(t.selector)return Kk.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":var i=t.elements||"";0<i.length&&Jk(Xk(i),function(t){var i=Kk.get(t);i?n.push(i):Jk(e.document.forms,function(e){Jk(e.elements,function(e){e.name===t&&(t="mce_editor_"+Qk++,Kk.setAttrib(e,"id",t),n.push(e))})})});break;case"textareas":case"specific_textareas":Jk(Kk.select("textarea"),function(e){t.editor_deselector&&a(e,t.editor_deselector)||t.editor_selector&&!a(e,t.editor_selector)||n.push(e)})}return n}(t)),t.types?Jk(t.types,function(e){Sn.each(n,function(n){return!Kk.is(n,e.selector)||(d(o(n),Zk({},t,e),n),!1)})}):(Sn.each(n,function(e){var t;(t=i.get(e.id))&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(oS(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null)}),0===(n=Sn.grep(n,function(e){return!i.get(e.id)})).length?s([]):Jk(n,function(e){var n;n=e,t.inline&&n.tagName.toLowerCase()in r?Hg("Could not initialize inline editor on invalid inline target element",e):d(o(e),t,e)}))};return i.settings=t,Kk.bind(window,"ready",l),new Oa(function(e){n?e(n):s=function(t){e(t)}})},get:function(e){return 0===arguments.length?nS.slice(0):Le(e)?it(nS,function(t){return t.id===e}).getOr(null):Ue(e)&&nS[e]?nS[e]:null},add:function(e){var t=this;return tS[e.id]===e||(null===t.get(e.id)&&("length"!==e.id&&(tS[e.id]=e),tS.push(e),nS.push(e)),rS(!0),t.activeEditor=e,t.fire("AddEditor",{editor:e}),Fy||(Fy=function(e){var n=t.fire("BeforeUnload");if(n.returnValue)return e.preventDefault(),e.returnValue=n.returnValue,n.returnValue},window.addEventListener("beforeunload",Fy))),e},createEditor:function(e,t){return this.add(new Gk(e,t,this))},remove:function(e){var t,n,i=this;if(e){if(!Le(e))return n=e,He(i.get(n.id))?null:(oS(n)&&i.fire("RemoveEditor",{editor:n}),0===nS.length&&window.removeEventListener("beforeunload",Fy),n.remove(),rS(0<nS.length),n);Jk(Kk.select(e),function(e){(n=i.get(e.id))&&i.remove(n)})}else for(t=nS.length-1;0<=t;t--)i.remove(nS[t])},execCommand:function(e,t,n){var i=this.get(n);switch(e){case"mceAddEditor":return this.get(n)||new Gk(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(e,t,n)},triggerSave:function(){Jk(nS,function(e){e.save()})},addI18n:function(e,t){ts.add(e,t)},translate:function(e){return ts.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new Vk(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Vk(this.baseURL)}});sS.setup(),(Hy=U=U||{}).compareRanges=gv,Hy.getCaretRangeFromPoint=cv,Hy.getSelectedNode=rl,Hy.getNode=ol;var lS,uS,cS,dS,fS=U,hS=(lS={},uS={},{load:function(t,n){var i='Script at URL "'+n+'" failed to load',r='Script at URL "'+n+"\" did not call `tinymce.Resource.add('"+t+"', data)` within 1 second";if(void 0!==lS[t])return lS[t];var o=new Oa(function(o,a){var s=function(t,n,i){void 0===i&&(i=1e3);var r=!1,o=null,a=function(t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];r||(r=!0,null!==o&&(e.clearTimeout(o),o=null),t.apply(null,n))}},s=a(t),l=a(n);return{start:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];r||null!==o||(o=e.setTimeout(function(){return l.apply(null,t)},i))},resolve:s,reject:l}}(o,a);uS[t]=s.resolve,Xa.ScriptLoader.loadScript(n,function(){return s.start(r)},function(){return s.reject(i)})});return lS[t]=o},add:function(e,t){void 0!==uS[e]&&(uS[e](t),delete uS[e]),lS[e]=Oa.resolve(t)}}),pS=Math.min,mS=Math.max,gS=Math.round,vS=function(e,t,n){var i=t.x,r=t.y,o=e.w,a=e.h,s=t.w,l=t.h;return"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=s),"c"===n[0]&&(r+=gS(l/2)),"c"===n[1]&&(i+=gS(s/2)),"b"===n[3]&&(r-=a),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=gS(a/2)),"c"===n[4]&&(i-=gS(o/2)),bS(i,r,o,a)},bS=function(e,t,n,i){return{x:e,y:t,w:n,h:i}},yS={inflate:function(e,t,n){return bS(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},relativePosition:vS,findBestRelativePosition:function(e,t,n,i){var r,o;for(o=0;o<i.length;o++)if((r=vS(e,t,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(e,t){var n=mS(e.x,t.x),i=mS(e.y,t.y),r=pS(e.x+e.w,t.x+t.w),o=pS(e.y+e.h,t.y+t.h);return r-n<0||o-i<0?null:bS(n,i,r-n,o-i)},clamp:function(e,t,n){var i=e.x,r=e.y,o=e.x+e.w,a=e.y+e.h,s=t.x+t.w,l=t.y+t.h,u=mS(0,t.x-i),c=mS(0,t.y-r),d=mS(0,o-s),f=mS(0,a-l);return i+=u,r+=c,n&&(o+=u,a+=c,i-=d,r-=f),bS(i,r,(o-=d)-i,(a-=f)-r)},create:bS,fromClientRect:function(e){return bS(e.left,e.top,e.width,e.height)}},wS=Sn.each,xS=Sn.extend,CS=function(){};CS.extend=cS=function(e){var t=this.prototype,n=function(){var e,t,n;if(!dS&&(this.init&&this.init.apply(this,arguments),t=this.Mixins))for(e=t.length;e--;)(n=t[e]).init&&n.init.apply(this,arguments)},i=function(){return this};dS=!0;var r=new this;return dS=!1,e.Mixins&&(wS(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),t.Mixins&&(e.Mixins=t.Mixins.concat(e.Mixins))),e.Methods&&wS(e.Methods.split(","),function(t){e[t]=i}),e.Properties&&wS(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){return void 0!==e?(this[n]=e,this):this[n]}}),e.Statics&&wS(e.Statics,function(e,t){n[t]=e}),e.Defaults&&t.Defaults&&(e.Defaults=xS({},t.Defaults,e.Defaults)),pt(e,function(e,n){var i,o;"function"==typeof e&&t[n]?r[n]=(i=n,o=e,function(){var e=this._super;this._super=t[i];var n=o.apply(this,arguments);return this._super=e,n}):r[n]=e}),n.prototype=r,(n.constructor=n).extend=cS,n};var _S,kS=Math.min,SS=Math.max,DS=Math.round,$S={serialize:function(e){var t=JSON.stringify(e);return Le(t)?t.replace(/[\u0080-\uFFFF]/g,function(e){var t=e.charCodeAt(0).toString(16);return"\\u"+"0000".substring(t.length)+t}):t},parse:function(e){try{return JSON.parse(e)}catch(t){}}},TS={callbacks:{},count:0,send:function(e){var t=this,n=qa.DOM,i=void 0!==e.count?e.count:t.count,r="tinymce_jsonp_"+i;t.callbacks[i]=function(o){n.remove(r),delete t.callbacks[i],e.callback(o)},n.add(n.doc.body,"script",{id:r,src:e.url,type:"text/javascript"}),t.count++}},ES=Mt(Mt({},_k),{send:function(t){var n,i=0,r=function(){!t.async||4===n.readyState||1e4<i++?(t.success&&i<1e4&&200===n.status?t.success.call(t.success_scope,""+n.responseText,n,t):t.error&&t.error.call(t.error_scope,1e4<i?"TIMED_OUT":"GENERAL",n,t),n=null):Ia.setTimeout(r,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",ES.fire("beforeInitialize",{settings:t}),n=new e.XMLHttpRequest){if(n.overrideMimeType&&n.overrideMimeType(t.content_type),n.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(n.withCredentials=!0),t.content_type&&n.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&Sn.each(t.requestheaders,function(e){n.setRequestHeader(e.key,e.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=ES.fire("beforeSend",{xhr:n,settings:t}).xhr).send(t.data),!t.async)return r();Ia.setTimeout(r,10)}}}),AS=Sn.extend,OS=(W.sendRPC=function(e){return(new W).send(e)},W.prototype.send=function(e){var t=e.error,n=e.success,i=AS(this.settings,e);i.success=function(e,r){void 0===(e=$S.parse(e))&&(e={error:"JSON Parse error."}),e.error?t.call(i.error_scope||i.scope,e.error,r):n.call(i.success_scope||i.scope,e.result)},i.error=function(e,n){t&&t.call(i.error_scope||i.scope,e,n)},i.data=$S.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),i.content_type="application/json",ES.send(i)},W);try{var MS="__storage_test__";(_S=e.window.localStorage).setItem(MS,MS),_S.removeItem(MS)}catch(Ao){_S=function(){return e={},t=[],n={getItem:function(t){var n=e[t];return n||null},setItem:function(n,i){t.push(n),e[n]=String(i)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0},Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n;var e,t,n}()}var NS,PS={geom:{Rect:yS},util:{Promise:Oa,Delay:Ia,Tools:Sn,VK:Ov,URI:Vk,Class:CS,EventDispatcher:xk,Observable:_k,I18n:ts,XHR:ES,JSON:$S,JSONRequest:OS,JSONP:TS,LocalStorage:_S,Color:function(e){var t={},n=0,i=0,r=0,o=function(e){var o;return"object"==typeof e?"r"in e?(n=e.r,i=e.g,r=e.b):"v"in e&&function(e,t,o){if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,o=parseInt(o,10)/100,t=SS(0,kS(t,1)),o=SS(0,kS(o,1)),0!==t){var a=e/60,s=o*t,l=s*(1-Math.abs(a%2-1)),u=o-s;switch(Math.floor(a)){case 0:n=s,i=l,r=0;break;case 1:n=l,i=s,r=0;break;case 2:n=0,i=s,r=l;break;case 3:n=0,i=l,r=s;break;case 4:n=l,i=0,r=s;break;case 5:n=s,i=0,r=l;break;default:n=i=r=0}n=DS(255*(n+u)),i=DS(255*(i+u)),r=DS(255*(r+u))}else n=i=r=DS(255*o)}(e.h,e.s,e.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:255<n?255:n,i=i<0?0:255<i?255:i,r=r<0?0:255<r?255:r,t};return e&&o(e),t.toRgb=function(){return{r:n,g:i,b:r}},t.toHsv=function(){return function(e,t,n){var i,r;r=0;var o=kS(e/=255,kS(t/=255,n/=255)),a=SS(e,SS(t,n));return o===a?{h:0,s:0,v:100*(r=o)}:(i=(a-o)/a,{h:DS(60*((e===o?3:n===o?1:5)-(e===o?t-n:n===o?e-t:n-e)/((r=a)-o))),s:DS(100*i),v:DS(100*r)})}(n,i,r)},t.toHex=function(){var e=function(e){return 1<(e=parseInt(e,10).toString(16)).length?e:"0"+e};return"#"+e(n)+e(i)+e(r)},t.parse=o,t}},dom:{EventUtils:Yr,Sizzle:Oo,DomQuery:ua,TreeWalker:ca,TextSeeker:Ps,DOMUtils:qa,ScriptLoader:Xa,RangeUtils:fS,Serializer:sb,StyleSheetLoader:S,ControlSelection:Pv,BookmarkManager:Ev,Selection:Bv,Event:Yr.Event},html:{Styles:Br,Entities:kr,Node:zd,Schema:i,SaxParser:tf,DomParser:nb,Writer:Wd,Serializer:qd},Env:wn,AddOnManager:is,Annotator:Ld,Formatter:yb,UndoManager:xb,EditorCommands:fk,WindowManager:Pg,NotificationManager:N,EditorObservable:Tk,Shortcuts:Rk,Editor:Gk,FocusManager:Jh,EditorManager:sS,DOM:qa.DOM,ScriptLoader:Xa.ScriptLoader,PluginManager:is.PluginManager,ThemeManager:is.ThemeManager,IconManager:_g,Resource:hS,trim:Sn.trim,isArray:Sn.isArray,is:Sn.is,toArray:Sn.toArray,makeMap:Sn.makeMap,each:Sn.each,map:Sn.map,grep:Sn.grep,inArray:Sn.inArray,extend:Sn.extend,create:Sn.create,walk:Sn.walk,createNS:Sn.createNS,resolve:Sn.resolve,explode:Sn.explode,_addCacheSuffix:Sn._addCacheSuffix,isOpera:wn.opera,isWebKit:wn.webkit,isIE:wn.ie,isGecko:wn.gecko,isMac:wn.mac},IS=Sn.extend(sS,PS);NS=IS,window.tinymce=NS,window.tinyMCE=NS,function(e){if("object"==typeof module)try{module.exports=e}catch(t){}}(IS)}(window),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");$.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var e=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),e.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),e.navbarMenuSlimscroll&&"undefined"!=typeof $.fn.slimscroll&&$(".navbar .menu").slimscroll({height:e.navbarMenuHeight,alwaysVisible:!1,size:e.navbarMenuSlimscrollWidth}).css("width","100%"),e.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(e.sidebarToggleSelector),e.enableBSToppltip&&$("body").tooltip({selector:e.BSTooltipSelector}),e.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),e.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),e.directChat.enable&&$(e.directChat.contactToggleSelector).on("click",function(){var e=$(this).parents(".direct-chat").first();e.toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var e=$(this);$(this).find(".btn").on("click",function(t){e.find(".btn.active").removeClass("active"),$(this).addClass("active"),t.preventDefault()})})}),function(e){e.fn.boxRefresh=function(t){function n(e){e.append(o),r.onLoadStart.call(e)}function i(e){e.find(o).remove(),r.onLoadDone.call(e)}var r=e.extend({trigger:".refresh-btn",source:"",onLoadStart:function(e){},onLoadDone:function(e){}},t),o=e('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""===r.source)return void(console&&console.log("Please specify a source first - boxRefresh()"));var t=e(this),o=t.find(r.trigger).first();o.on("click",function(e){e.preventDefault(),n(t),t.find(".box-body").load(r.source,function(){i(t)})})})}}(jQuery),function(e){e.fn.activateBox=function(){e.AdminLTE.boxWidget.activate(this)}}(jQuery),function(e){e.fn.todolist=function(t){var n=e.extend({onCheck:function(e){},onUncheck:function(e){}},t);return this.each(function(){"undefined"!=typeof e.fn.iCheck?(e("input",this).on("ifChecked",function(t){var i=e(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)}),e("input",this).on("ifUnchecked",function(t){var i=e(this).parents("li").first();i.toggleClass("done"),n.onUncheck.call(i)})):e("input",this).on("change",function(t){var i=e(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)})})}}(jQuery),function(e){e.fn.extend({slimScroll:function(n){var i={width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},r=e.extend(i,n);return this.each(function(){function i(t){if(c){var t=t||window.event,n=0;t.wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3);var i=t.target||t.srcTarget||t.srcElement;e(i).closest("."+r.wrapperClass).is(x.parent())&&o(n,!0),t.preventDefault&&!w&&t.preventDefault(),w||(t.returnValue=!1)}}function o(e,t,n){w=!1;var i=e,o=x.outerHeight()-D.outerHeight();if(t&&(i=parseInt(D.css("top"))+e*parseInt(r.wheelStep)/100*D.outerHeight(),i=Math.min(Math.max(i,0),o),i=e>0?Math.ceil(i):Math.floor(i),D.css({top:i+"px"})),g=parseInt(D.css("top"))/(x.outerHeight()-D.outerHeight()),i=g*(x[0].scrollHeight-x.outerHeight()),n){i=e;var a=i/x[0].scrollHeight*x.outerHeight();a=Math.min(Math.max(a,0),o),D.css({top:a+"px"})}x.scrollTop(i),x.trigger("slimscrolling",~~i),l(),u()}function a(){window.addEventListener?(this.addEventListener("DOMMouseScroll",i,!1),this.addEventListener("mousewheel",i,!1)):document.attachEvent("onmousewheel",i)}function s(){m=Math.max(x.outerHeight()/x[0].scrollHeight*x.outerHeight(),y),D.css({height:m+"px"});var e=m==x.outerHeight()?"none":"block";D.css({display:e})}function l(){if(s(),clearTimeout(h),g==~~g){if(w=r.allowPageScroll,v!=g){var e=0==~~g?"top":"bottom";x.trigger("slimscroll",e)}}else w=!1;return v=g,m>=x.outerHeight()?void(w=!0):(D.stop(!0,!0).fadeIn("fast"),void(r.railVisible&&S.stop(!0,!0).fadeIn("fast")))}function u(){r.alwaysVisible||(h=setTimeout(function(){r.disableFadeOut&&c||d||f||(D.fadeOut("slow"),S.fadeOut("slow"))},1e3))}var c,d,f,h,p,m,g,v,b="<div></div>",y=30,w=!1,x=e(this);if(x.parent().hasClass(r.wrapperClass)){var C=x.scrollTop();if(D=x.parent().find("."+r.barClass),S=x.parent().find("."+r.railClass),s(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){x.parent().css("height","auto"),x.css("height","auto");var _=x.parent().parent().height();x.parent().css("height",_),x.css("height",_)}if("scrollTo"in n)C=parseInt(r.scrollTo);else if("scrollBy"in n)C+=parseInt(r.scrollBy);else if("destroy"in n)return D.remove(),S.remove(),void x.unwrap();o(C,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){r.height="auto"==r.height?x.parent().height():r.height;var k=e(b).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});x.css({overflow:"hidden",width:r.width,height:r.height,"-ms-touch-action":"none"});var S=e(b).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),D=e(b).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),$="right"==r.position?{right:r.distance}:{left:r.distance};S.css($),D.css($),x.wrap(k),x.parent().append(D),x.parent().append(S),r.railDraggable&&D.bind("mousedown",function(n){var i=e(document);return f=!0,t=parseFloat(D.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,D.css("top",currTop),o(0,D.position().top,!1)}),i.bind("mouseup.slimscroll",function(e){f=!1,u(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),S.hover(function(){l()},function(){u()}),D.hover(function(){d=!0},function(){d=!1}),x.hover(function(){c=!0,l(),u()},function(){c=!1,u()}),window.navigator.msPointerEnabled?(x.bind("MSPointerDown",function(e,t){e.originalEvent.targetTouches.length&&(p=e.originalEvent.targetTouches[0].pageY)}),x.bind("MSPointerMove",function(e){if(e.originalEvent.preventDefault(),e.originalEvent.targetTouches.length){var t=(p-e.originalEvent.targetTouches[0].pageY)/r.touchScrollStep;o(t,!0),p=e.originalEvent.targetTouches[0].pageY}})):(x.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(p=e.originalEvent.touches[0].pageY)}),x.bind("touchmove",function(e){if(w||e.originalEvent.preventDefault(),e.originalEvent.touches.length){var t=(p-e.originalEvent.touches[0].pageY)/r.touchScrollStep;o(t,!0),p=e.originalEvent.touches[0].pageY}})),s(),"bottom"===r.start?(D.css({top:x.outerHeight()-D.outerHeight()}),o(0,!0)):"top"!==r.start&&(o(e(r.start).position().top,null,!0),r.alwaysVisible||D.hide()),a()}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Qe.apply(null,arguments)}function t(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return void 0===e}function r(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function u(e,t,n,i){return ge(e,t,n,i,!0).utc()}function c(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function d(e){if(null==e._isValid){var t=c(e),n=et.call(t.parsedDateParts,function(e){return null!=e}),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function f(e){var t=u(NaN);return null!=e?l(c(t),e):c(t).userInvalidated=!0,t}function h(e,t){var n,r,o;if(i(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),i(t._i)||(e._i=t._i),i(t._f)||(e._f=t._f),i(t._l)||(e._l=t._l),i(t._strict)||(e._strict=t._strict),i(t._tzm)||(e._tzm=t._tzm),i(t._isUTC)||(e._isUTC=t._isUTC),i(t._offset)||(e._offset=t._offset),i(t._pf)||(e._pf=c(t)),i(t._locale)||(e._locale=t._locale),0<nt.length)for(n=0;n<nt.length;n++)i(o=t[r=nt[n]])||(e[r]=o);return e}function p(t){h(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===it&&(it=!0,e.updateOffset(this),it=!1)}function m(e){return e instanceof p||null!=e&&null!=e._isAMomentObject}function g(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=g(t)),n}function b(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&v(e[i])!==v(t[i]))&&a++;return a+o}function y(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function w(t,n){var i=!0;return l(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),i){for(var r,o=[],a=0;a<arguments.length;a++){if(r="","object"==typeof arguments[a]){for(var s in r+="\n["+a+"] ",arguments[0])r+=s+": "+arguments[0][s]+", ";r=r.slice(0,-2)}else r=arguments[a];o.push(r)}y(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),i=!1}return n.apply(this,arguments)},n)}function x(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),rt[t]||(y(n),rt[t]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function _(e,t){var i,r=l({},e);for(i in t)s(t,i)&&(n(e[i])&&n(t[i])?(r[i]={},l(r[i],e[i]),l(r[i],t[i])):null!=t[i]?r[i]=t[i]:delete r[i]);for(i in e)s(e,i)&&!s(t,i)&&n(e[i])&&(r[i]=l({},r[i]));return r}function k(e){null!=e&&this.set(e)}function S(e,t){var n=e.toLowerCase();ot[n]=ot[n+"s"]=ot[t]=e}function D(e){return"string"==typeof e?ot[e]||ot[e.toLowerCase()]:void 0}function $(e){var t,n,i={};for(n in e)s(e,n)&&(t=D(n))&&(i[t]=e[n]);return i}function T(e,t){at[e]=t}function E(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}function A(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(ct[e]=r),t&&(ct[t[0]]=function(){return E(r.apply(this,arguments),t[1],t[2])}),n&&(ct[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function O(e,t){return e.isValid()?(t=M(t,e.localeData()),ut[t]=ut[t]||function(e){var t,n,i,r=e.match(st);for(t=0,n=r.length;t<n;t++)ct[r[t]]?r[t]=ct[r[t]]:r[t]=(i=r[t]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(t){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(t,e):r[i];return o}}(t),ut[t](e)):e.localeData().invalidDate()}function M(e,t){function n(e){return t.longDateFormat(e)||e}var i=5;for(lt.lastIndex=0;0<=i&&lt.test(e);)e=e.replace(lt,n),lt.lastIndex=0,i-=1;return e}function N(e,t,n){$t[e]=C(t)?t:function(e,i){return e&&n?n:t}}function P(e,t){return s($t,e)?$t[e](t._strict,t._locale):new RegExp(I(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function I(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function R(e,t){var n,i=t;for("string"==typeof e&&(e=[e]),r(t)&&(i=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)Tt[e[n]]=i}function L(e,t){R(e,function(e,n,i,r){i._w=i._w||{},t(e,i._w,i,r)})}function B(e){return F(e)?366:365}function F(e){return e%4==0&&e%100!=0||e%400==0}function H(t,n){return function(i){return null!=i?(V(this,t,i),e.updateOffset(this,n),this):j(this,t)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&F(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),z(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function z(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,i=(t%(n=12)+n)%n;return e+=(t-i)/12,1===i?F(e)?29:28:31-i%7%2}function U(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(!r(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),z(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function W(t){return null!=t?(U(this,t),e.updateOffset(this,!0),this):j(this,"Month")}function q(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=u([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=I(i[t]),r[t]=I(r[t]);for(t=0;t<24;t++)o[t]=I(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Y(e){var t;if(e<100&&0<=e){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function G(e,t,n){var i=7+t-n;return-((7+Y(e,0,i).getUTCDay()-t)%7)+i-1}function K(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+G(e,i,r);return a=s<=0?B(o=e-1)+s:s>B(e)?(o=e+1,s-B(e)):(o=e,s),{year:o,dayOfYear:a}}function X(e,t,n){var i,r,o=G(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+J(r=e.year()-1,t,n):a>J(e.year(),t,n)?(i=a-J(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function J(e,t,n){var i=G(e,t,n),r=G(e+1,t,n);return(B(e)-i+r)/7}function Z(e,t){return e.slice(t,7).concat(e.slice(0,t))}function Q(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=u([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=I(s[t]),l[t]=I(l[t]),c[t]=I(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function ee(){return this.hours()%12||12}function te(e,t){A(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t);
})}function ne(e,t){return t._meridiemParse}function ie(e){return e?e.toLowerCase().replace("_","-"):e}function re(e){var t=null;if(!en[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Jt._abbr,require("./locale/"+e),oe(t)}catch(e){}return en[e]}function oe(e,t){var n;return e&&((n=i(t)?se(e):ae(e,t))?Jt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Jt._abbr}function ae(e,t){if(null===t)return delete en[e],null;var n,i=Qt;if(t.abbr=e,null!=en[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=en[e]._config;else if(null!=t.parentLocale)if(null!=en[t.parentLocale])i=en[t.parentLocale]._config;else{if(null==(n=re(t.parentLocale)))return tn[t.parentLocale]||(tn[t.parentLocale]=[]),tn[t.parentLocale].push({name:e,config:t}),null;i=n._config}return en[e]=new k(_(i,t)),tn[e]&&tn[e].forEach(function(e){ae(e.name,e.config)}),oe(e),en[e]}function se(e){var n;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Jt;if(!t(e)){if(n=re(e))return n;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=ie(e[o]).split("-")).length,n=(n=ie(e[o+1]))?n.split("-"):null;0<t;){if(i=re(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&b(r,n,!0)>=t-1)break;t--}o++}return Jt}(e)}function le(e){var t,n=e._a;return n&&-2===c(e).overflow&&(t=n[At]<0||11<n[At]?At:n[Ot]<1||n[Ot]>z(n[Et],n[At])?Ot:n[Mt]<0||24<n[Mt]||24===n[Mt]&&(0!==n[Nt]||0!==n[Pt]||0!==n[It])?Mt:n[Nt]<0||59<n[Nt]?Nt:n[Pt]<0||59<n[Pt]?Pt:n[It]<0||999<n[It]?It:-1,c(e)._overflowDayOfYear&&(t<Et||Ot<t)&&(t=Ot),c(e)._overflowWeeks&&-1===t&&(t=Rt),c(e)._overflowWeekday&&-1===t&&(t=Lt),c(e).overflow=t),e}function ue(e,t,n){return null!=e?e:null!=t?t:n}function ce(t){var n,i,r,o,a,s=[];if(!t._d){var l,u;for(l=t,u=new Date(e.now()),r=l._useUTC?[u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()]:[u.getFullYear(),u.getMonth(),u.getDate()],t._w&&null==t._a[Ot]&&null==t._a[At]&&function(e){var t,n,i,r,o,a,s,l;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=ue(t.GG,e._a[Et],X(ve(),1,4).year),i=ue(t.W,1),((r=ue(t.E,1))<1||7<r)&&(l=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var u=X(ve(),o,a);n=ue(t.gg,e._a[Et],u.year),i=ue(t.w,u.week),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o}i<1||i>J(n,o,a)?c(e)._overflowWeeks=!0:null!=l?c(e)._overflowWeekday=!0:(s=K(n,i,r,o,a),e._a[Et]=s.year,e._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=ue(t._a[Et],r[Et]),(t._dayOfYear>B(a)||0===t._dayOfYear)&&(c(t)._overflowDayOfYear=!0),i=Y(a,0,t._dayOfYear),t._a[At]=i.getUTCMonth(),t._a[Ot]=i.getUTCDate()),n=0;n<3&&null==t._a[n];++n)t._a[n]=s[n]=r[n];for(;n<7;n++)t._a[n]=s[n]=null==t._a[n]?2===n?1:0:t._a[n];24===t._a[Mt]&&0===t._a[Nt]&&0===t._a[Pt]&&0===t._a[It]&&(t._nextDay=!0,t._a[Mt]=0),t._d=(t._useUTC?Y:function(e,t,n,i,r,o,a){var s;return e<100&&0<=e?(s=new Date(e+400,t,n,i,r,o,a),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,n,i,r,o,a),s}).apply(null,s),o=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[Mt]=24),t._w&&void 0!==t._w.d&&t._w.d!==o&&(c(t).weekdayMismatch=!0)}}function de(e){var t,n,i,r,o,a,s=e._i,l=nn.exec(s)||rn.exec(s);if(l){for(c(e).iso=!0,t=0,n=an.length;t<n;t++)if(an[t][1].exec(l[1])){r=an[t][0],i=!1!==an[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=sn.length;t<n;t++)if(sn[t][1].exec(l[3])){o=(l[2]||" ")+sn[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!on.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),pe(e)}else e._isValid=!1}function fe(e,t,n,i,r,o){var a=[function(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}(e),Vt.indexOf(t),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return o&&a.push(parseInt(o,10)),a}function he(e){var t,n,i,r=un.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){var o=fe(r[4],r[3],r[2],r[5],r[6],r[7]);if(t=r[1],n=o,i=e,t&&qt.indexOf(t)!==new Date(n[0],n[1],n[2]).getDay()&&(c(i).weekdayMismatch=!0,!(i._isValid=!1)))return;e._a=o,e._tzm=function(e,t,n){if(e)return cn[e];if(t)return 0;var i=parseInt(n,10),r=i%100;return(i-r)/100*60+r}(r[8],r[9],r[10]),e._d=Y.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),c(e).rfc2822=!0}else e._isValid=!1}function pe(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],c(t).empty=!0;var n,i,r,o,a,l,u,d,f=""+t._i,h=f.length,p=0;for(r=M(t._f,t._locale).match(st)||[],n=0;n<r.length;n++)o=r[n],(i=(f.match(P(o,t))||[])[0])&&(0<(a=f.substr(0,f.indexOf(i))).length&&c(t).unusedInput.push(a),f=f.slice(f.indexOf(i)+i.length),p+=i.length),ct[o]?(i?c(t).empty=!1:c(t).unusedTokens.push(o),l=o,d=t,null!=(u=i)&&s(Tt,l)&&Tt[l](u,d._a,d,l)):t._strict&&!i&&c(t).unusedTokens.push(o);c(t).charsLeftOver=h-p,0<f.length&&c(t).unusedInput.push(f),t._a[Mt]<=12&&!0===c(t).bigHour&&0<t._a[Mt]&&(c(t).bigHour=void 0),c(t).parsedDateParts=t._a.slice(0),c(t).meridiem=t._meridiem,t._a[Mt]=function(e,t,n){var i;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(t._locale,t._a[Mt],t._meridiem),ce(t),le(t)}else he(t);else de(t)}function me(s){var u,g,v,b,y=s._i,w=s._f;return s._locale=s._locale||se(s._l),null===y||void 0===w&&""===y?f({nullInput:!0}):("string"==typeof y&&(s._i=y=s._locale.preparse(y)),m(y)?new p(le(y)):(o(y)?s._d=y:t(w)?function(e){var t,n,i,r,o;if(0===e._f.length)return c(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=h({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],pe(t),d(t)&&(o+=c(t).charsLeftOver,o+=10*c(t).unusedTokens.length,c(t).score=o,(null==i||o<i)&&(i=o,n=t));l(e,n||t)}(s):w?pe(s):i(g=(u=s)._i)?u._d=new Date(e.now()):o(g)?u._d=new Date(g.valueOf()):"string"==typeof g?(v=u,null===(b=ln.exec(v._i))?(de(v),!1===v._isValid&&(delete v._isValid,he(v),!1===v._isValid&&(delete v._isValid,e.createFromInputFallback(v)))):v._d=new Date((+b[1]))):t(g)?(u._a=a(g.slice(0),function(e){return parseInt(e,10)}),ce(u)):n(g)?function(e){if(!e._d){var t=$(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ce(e)}}(u):r(g)?u._d=new Date(g):e.createFromInputFallback(u),d(s)||(s._d=null),s))}function ge(e,i,r,o,a){var s,l={};return!0!==r&&!1!==r||(o=r,r=void 0),(n(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||t(e)&&0===e.length)&&(e=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=r,l._i=e,l._f=i,l._strict=o,(s=new p(le(me(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function ve(e,t,n,i){return ge(e,t,n,i,!1)}function be(e,n){var i,r;if(1===n.length&&t(n[0])&&(n=n[0]),!n.length)return ve();for(i=n[0],r=1;r<n.length;++r)n[r].isValid()&&!n[r][e](i)||(i=n[r]);return i}function ye(e){var t=$(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||t.isoWeek||0,a=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Bt.call(hn,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,i=0;i<hn.length;++i)if(e[hn[i]]){if(n)return!1;parseFloat(e[hn[i]])!==v(e[hn[i]])&&(n=!0)}return!0}(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=se(),this._bubble()}function we(e){return e instanceof ye}function xe(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ce(e,t){A(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+E(~~(e/60),2)+t+E(~~e%60,2)})}function _e(e,t){var n=(t||"").match(e);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(pn)||["-",0,0],r=60*i[1]+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function ke(t,n){var i,r;return n._isUTC?(i=n.clone(),r=(m(t)||o(t)?t.valueOf():ve(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+r),e.updateOffset(i,!1),i):ve(t).local()}function Se(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function De(){return!!this.isValid()&&this._isUTC&&0===this._offset}function $e(e,t){var n,i,o,a=e,l=null;return we(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:r(e)?(a={},t?a[t]=e:a.milliseconds=e):(l=mn.exec(e))?(n="-"===l[1]?-1:1,a={y:0,d:v(l[Ot])*n,h:v(l[Mt])*n,m:v(l[Nt])*n,s:v(l[Pt])*n,ms:v(xe(1e3*l[It]))*n}):(l=gn.exec(e))?(n="-"===l[1]?-1:1,a={y:Te(l[2],n),M:Te(l[3],n),w:Te(l[4],n),d:Te(l[5],n),h:Te(l[6],n),m:Te(l[7],n),s:Te(l[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var n;return e.isValid()&&t.isValid()?(t=ke(t,e),e.isBefore(t)?n=Ee(e,t):((n=Ee(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(ve(a.from),ve(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),i=new ye(a),we(e)&&s(e,"_locale")&&(i._locale=e._locale),i}function Te(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ee(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Ae(e,t){return function(n,i){var r;return null===i||isNaN(+i)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=i,i=r),Oe(this,$e(n="string"==typeof n?+n:n,i),e),this}}function Oe(t,n,i,r){var o=n._milliseconds,a=xe(n._days),s=xe(n._months);t.isValid()&&(r=null==r||r,s&&U(t,j(t,"Month")+s*i),a&&V(t,"Date",j(t,"Date")+a*i),o&&t._d.setTime(t._d.valueOf()+o*i),r&&e.updateOffset(t,a||s))}function Me(e,t){var n=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(n,"months");return-(n+(t-i<0?(t-i)/(i-e.clone().add(n-1,"months")):(t-i)/(e.clone().add(n+1,"months")-i)))||0}function Ne(e){var t;return void 0===e?this._locale._abbr:(null!=(t=se(e))&&(this._locale=t),this)}function Pe(){return this._locale}function Ie(e,t){return(e%t+t)%t}function Re(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-wn:new Date(e,t,n).valueOf()}function Le(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-wn:Date.UTC(e,t,n)}function Be(e,t){A(0,[e,e.length],0,t)}function Fe(e,t,n,i,r){var o;return null==e?X(this,i,r).year:((o=J(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=K(e,t,n,i,r),a=Y(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}function He(e,t){t[It]=v(1e3*("0."+e))}function je(e){return e}function Ve(e,t,n,i){var r=se(),o=u().set(i,t);return r[n](o,e)}function ze(e,t,n){if(r(e)&&(t=e,e=void 0),e=e||"",null!=t)return Ve(e,t,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=Ve(e,i,n,"month");return o}function Ue(e,t,n,i){"boolean"==typeof e?r(t)&&(n=t,t=void 0):(t=e,e=!1,r(n=t)&&(n=t,t=void 0)),t=t||"";var o,a=se(),s=e?a._week.dow:0;if(null!=n)return Ve(t,(n+s)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=Ve(t,(o+s)%7,i,"day");return l}function We(e,t,n,i){var r=$e(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function qe(e){return e<0?Math.floor(e):Math.ceil(e)}function Ye(e){return 4800*e/146097}function Ge(e){return 146097*e/4800}function Ke(e){return function(){return this.as(e)}}function Xe(e){return function(){return this.isValid()?this._data[e]:NaN}}function Je(e){return(0<e)-(e<0)||+e}function Ze(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Yn(this._milliseconds)/1e3,i=Yn(this._days),r=Yn(this._months);t=g((e=g(n/60))/60),n%=60,e%=60;var o=g(r/12),a=r%=12,s=i,l=t,u=e,c=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var f=d<0?"-":"",h=Je(this._months)!==Je(d)?"-":"",p=Je(this._days)!==Je(d)?"-":"",m=Je(this._milliseconds)!==Je(d)?"-":"";return f+"P"+(o?h+o+"Y":"")+(a?h+a+"M":"")+(s?p+s+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Qe,et;et=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var tt,nt=e.momentProperties=[],it=!1,rt={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null,tt=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var ot={},at={},st=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,lt=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,ut={},ct={},dt=/\d/,ft=/\d\d/,ht=/\d{3}/,pt=/\d{4}/,mt=/[+-]?\d{6}/,gt=/\d\d?/,vt=/\d\d\d\d?/,bt=/\d\d\d\d\d\d?/,yt=/\d{1,3}/,wt=/\d{1,4}/,xt=/[+-]?\d{1,6}/,Ct=/\d+/,_t=/[+-]?\d+/,kt=/Z|[+-]\d\d:?\d\d/gi,St=/Z|[+-]\d\d(?::?\d\d)?/gi,Dt=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,$t={},Tt={},Et=0,At=1,Ot=2,Mt=3,Nt=4,Pt=5,It=6,Rt=7,Lt=8;A("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),A(0,["YY",2],0,function(){return this.year()%100}),A(0,["YYYY",4],0,"year"),A(0,["YYYYY",5],0,"year"),A(0,["YYYYYY",6,!0],0,"year"),S("year","y"),T("year",1),N("Y",_t),N("YY",gt,ft),N("YYYY",wt,pt),N("YYYYY",xt,mt),N("YYYYYY",xt,mt),R(["YYYYY","YYYYYY"],Et),R("YYYY",function(t,n){n[Et]=2===t.length?e.parseTwoDigitYear(t):v(t)}),R("YY",function(t,n){n[Et]=e.parseTwoDigitYear(t)}),R("Y",function(e,t){t[Et]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(68<v(e)?1900:2e3)};var Bt,Ft=H("FullYear",!0);Bt=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},A("M",["MM",2],"Mo",function(){return this.month()+1}),A("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),A("MMMM",0,0,function(e){return this.localeData().months(this,e)}),S("month","M"),T("month",8),N("M",gt),N("MM",gt,ft),N("MMM",function(e,t){return t.monthsShortRegex(e)}),N("MMMM",function(e,t){return t.monthsRegex(e)}),R(["M","MM"],function(e,t){t[At]=v(e)-1}),R(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[At]=r:c(n).invalidMonth=e});var Ht=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,jt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),zt=Dt,Ut=Dt;A("w",["ww",2],"wo","week"),A("W",["WW",2],"Wo","isoWeek"),S("week","w"),S("isoWeek","W"),T("week",5),T("isoWeek",5),N("w",gt),N("ww",gt,ft),N("W",gt),N("WW",gt,ft),L(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=v(e)}),A("d",0,"do","day"),A("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),A("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),A("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),A("e",0,0,"weekday"),A("E",0,0,"isoWeekday"),S("day","d"),S("weekday","e"),S("isoWeekday","E"),T("day",11),T("weekday",11),T("isoWeekday",11),N("d",gt),N("e",gt),N("E",gt),N("dd",function(e,t){return t.weekdaysMinRegex(e)}),N("ddd",function(e,t){return t.weekdaysShortRegex(e)}),N("dddd",function(e,t){return t.weekdaysRegex(e)}),L(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:c(n).invalidWeekday=e}),L(["d","e","E"],function(e,t,n,i){t[i]=v(e)});var Wt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=Dt,Kt=Dt,Xt=Dt;A("H",["HH",2],0,"hour"),A("h",["hh",2],0,ee),A("k",["kk",2],0,function(){return this.hours()||24}),A("hmm",0,0,function(){return""+ee.apply(this)+E(this.minutes(),2)}),A("hmmss",0,0,function(){return""+ee.apply(this)+E(this.minutes(),2)+E(this.seconds(),2)}),A("Hmm",0,0,function(){return""+this.hours()+E(this.minutes(),2)}),A("Hmmss",0,0,function(){return""+this.hours()+E(this.minutes(),2)+E(this.seconds(),2)}),te("a",!0),te("A",!1),S("hour","h"),T("hour",13),N("a",ne),N("A",ne),N("H",gt),N("h",gt),N("k",gt),N("HH",gt,ft),N("hh",gt,ft),N("kk",gt,ft),N("hmm",vt),N("hmmss",bt),N("Hmm",vt),N("Hmmss",bt),R(["H","HH"],Mt),R(["k","kk"],function(e,t,n){var i=v(e);t[Mt]=24===i?0:i}),R(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),R(["h","hh"],function(e,t,n){t[Mt]=v(e),c(n).bigHour=!0}),R("hmm",function(e,t,n){var i=e.length-2;t[Mt]=v(e.substr(0,i)),t[Nt]=v(e.substr(i)),c(n).bigHour=!0}),R("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Mt]=v(e.substr(0,i)),t[Nt]=v(e.substr(i,2)),t[Pt]=v(e.substr(r)),c(n).bigHour=!0}),R("Hmm",function(e,t,n){var i=e.length-2;t[Mt]=v(e.substr(0,i)),t[Nt]=v(e.substr(i))}),R("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[Mt]=v(e.substr(0,i)),t[Nt]=v(e.substr(i,2)),t[Pt]=v(e.substr(r))});var Jt,Zt=H("Hours",!0),Qt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:jt,monthsShort:Vt,week:{dow:0,doy:6},weekdays:Wt,weekdaysMin:Yt,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},en={},tn={},nn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,rn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,on=/Z|[+-]\d\d(?::?\d\d)?/,an=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],sn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ln=/^\/?Date\((\-?\d+)/i,un=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=w("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var dn=w("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ve.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),fn=w("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ve.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:f()}),hn=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ce("Z",":"),Ce("ZZ",""),N("Z",St),N("ZZ",St),R(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=_e(St,e)});var pn=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var mn=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,gn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;$e.fn=ye.prototype,$e.invalid=function(){return $e(NaN)};var vn=Ae(1,"add"),bn=Ae(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var yn=w("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),wn=126227808e5;A(0,["gg",2],0,function(){return this.weekYear()%100}),A(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Be("gggg","weekYear"),Be("ggggg","weekYear"),Be("GGGG","isoWeekYear"),Be("GGGGG","isoWeekYear"),S("weekYear","gg"),S("isoWeekYear","GG"),T("weekYear",1),T("isoWeekYear",1),N("G",_t),N("g",_t),N("GG",gt,ft),N("gg",gt,ft),N("GGGG",wt,pt),N("gggg",wt,pt),N("GGGGG",xt,mt),N("ggggg",xt,mt),L(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=v(e)}),L(["gg","GG"],function(t,n,i,r){n[r]=e.parseTwoDigitYear(t)}),A("Q",0,"Qo","quarter"),S("quarter","Q"),T("quarter",7),N("Q",dt),R("Q",function(e,t){t[At]=3*(v(e)-1)}),A("D",["DD",2],"Do","date"),S("date","D"),T("date",9),N("D",gt),N("DD",gt,ft),N("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),R(["D","DD"],Ot),R("Do",function(e,t){t[Ot]=v(e.match(gt)[0])});var xn=H("Date",!0);A("DDD",["DDDD",3],"DDDo","dayOfYear"),S("dayOfYear","DDD"),T("dayOfYear",4),N("DDD",yt),N("DDDD",ht),R(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),A("m",["mm",2],0,"minute"),S("minute","m"),T("minute",14),N("m",gt),N("mm",gt,ft),R(["m","mm"],Nt);var Cn=H("Minutes",!1);A("s",["ss",2],0,"second"),S("second","s"),T("second",15),N("s",gt),N("ss",gt,ft),R(["s","ss"],Pt);var _n,kn=H("Seconds",!1);for(A("S",0,0,function(){return~~(this.millisecond()/100)}),A(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),A(0,["SSS",3],0,"millisecond"),A(0,["SSSS",4],0,function(){return 10*this.millisecond()}),A(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),A(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),A(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),A(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),A(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),S("millisecond","ms"),T("millisecond",16),N("S",yt,dt),N("SS",yt,ft),N("SSS",yt,ht),_n="SSSS";_n.length<=9;_n+="S")N(_n,Ct);for(_n="S";_n.length<=9;_n+="S")R(_n,He);var Sn=H("Milliseconds",!1);A("z",0,0,"zoneAbbr"),A("zz",0,0,"zoneName");var Dn=p.prototype;Dn.add=vn,Dn.calendar=function(t,n){var i=t||ve(),r=ke(i,this).startOf("day"),o=e.calendarFormat(this,r)||"sameElse",a=n&&(C(n[o])?n[o].call(this,i):n[o]);return this.format(a||this.localeData().calendar(o,this,ve(i)))},Dn.clone=function(){return new p(this)},Dn.diff=function(e,t,n){var i,r,o;if(!this.isValid())return NaN;if(!(i=ke(e,this)).isValid())return NaN;switch(r=6e4*(i.utcOffset()-this.utcOffset()),t=D(t)){case"year":o=Me(this,i)/12;break;case"month":o=Me(this,i);break;case"quarter":o=Me(this,i)/3;break;case"second":o=(this-i)/1e3;break;case"minute":o=(this-i)/6e4;break;case"hour":o=(this-i)/36e5;break;case"day":o=(this-i-r)/864e5;break;case"week":o=(this-i-r)/6048e5;break;default:o=this-i}return n?o:g(o)},Dn.endOf=function(t){var n;if(void 0===(t=D(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?Le:Re;switch(t){case"year":n=i(this.year()+1,0,1)-1;break;case"quarter":n=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=i(this.year(),this.month()+1,1)-1;break;case"week":n=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=36e5-Ie(n+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":n=this._d.valueOf(),n+=6e4-Ie(n,6e4)-1;break;case"second":n=this._d.valueOf(),n+=1e3-Ie(n,1e3)-1}return this._d.setTime(n),e.updateOffset(this,!0),this},Dn.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=O(this,t);return this.localeData().postformat(n)},Dn.from=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||ve(e).isValid())?$e({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.fromNow=function(e){return this.from(ve(),e)},Dn.to=function(e,t){return this.isValid()&&(m(e)&&e.isValid()||ve(e).isValid())?$e({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},Dn.toNow=function(e){return this.to(ve(),e)},Dn.get=function(e){return C(this[e=D(e)])?this[e]():this},Dn.invalidAt=function(){return c(this).overflow},Dn.isAfter=function(e,t){var n=m(e)?e:ve(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=D(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},Dn.isBefore=function(e,t){var n=m(e)?e:ve(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=D(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},Dn.isBetween=function(e,t,n,i){var r=m(e)?e:ve(e),o=m(t)?t:ve(t);return!!(this.isValid()&&r.isValid()&&o.isValid())&&("("===(i=i||"()")[0]?this.isAfter(r,n):!this.isBefore(r,n))&&(")"===i[1]?this.isBefore(o,n):!this.isAfter(o,n))},Dn.isSame=function(e,t){var n,i=m(e)?e:ve(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=D(t)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},Dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},Dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},Dn.isValid=function(){return d(this)},Dn.lang=yn,Dn.locale=Ne,Dn.localeData=Pe,Dn.max=fn,Dn.min=dn,Dn.parsingFlags=function(){return l({},c(this))},Dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:at[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=$(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(C(this[e=D(e)]))return this[e](t);return this},Dn.startOf=function(t){var n;if(void 0===(t=D(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?Le:Re;switch(t){case"year":n=i(this.year(),0,1);break;case"quarter":n=i(this.year(),this.month()-this.month()%3,1);break;case"month":n=i(this.year(),this.month(),1);break;case"week":n=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=i(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Ie(n+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":n=this._d.valueOf(),n-=Ie(n,6e4);break;case"second":n=this._d.valueOf(),n-=Ie(n,1e3)}return this._d.setTime(n),e.updateOffset(this,!0),this},Dn.subtract=bn,Dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},Dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},Dn.toDate=function(){return new Date(this.valueOf())},Dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?O(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",O(n,"Z")):O(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r=t+'[")]';return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+r)},Dn.toJSON=function(){return this.isValid()?this.toISOString():null},Dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Dn.unix=function(){return Math.floor(this.valueOf()/1e3)},Dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Dn.year=Ft,Dn.isLeapYear=function(){return F(this.year())},Dn.weekYear=function(e){return Fe.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Dn.isoWeekYear=function(e){return Fe.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},Dn.quarter=Dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},Dn.month=W,Dn.daysInMonth=function(){return z(this.year(),this.month())},Dn.week=Dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},Dn.isoWeek=Dn.isoWeeks=function(e){var t=X(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},Dn.weeksInYear=function(){var e=this.localeData()._week;return J(this.year(),e.dow,e.doy)},Dn.isoWeeksInYear=function(){return J(this.year(),1,4)},Dn.date=xn,Dn.day=Dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},Dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},Dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},Dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},Dn.hour=Dn.hours=Zt,Dn.minute=Dn.minutes=Cn,Dn.second=Dn.seconds=kn,Dn.millisecond=Dn.milliseconds=Sn,Dn.utcOffset=function(t,n,i){var r,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?o:Se(this);if("string"==typeof t){if(null===(t=_e(St,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&n&&(r=Se(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),o!==t&&(!n||this._changeInProgress?Oe(this,$e(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this},Dn.utc=function(e){return this.utcOffset(0,e)},Dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Se(this),"m")),this},Dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=_e(kt,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},Dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?ve(e).utcOffset():0,(this.utcOffset()-e)%60==0)},Dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},Dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Dn.isUtc=De,Dn.isUTC=De,Dn.zoneAbbr=function(){return this._isUTC?"UTC":""},Dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Dn.dates=w("dates accessor is deprecated. Use date instead.",xn),
Dn.months=w("months accessor is deprecated. Use month instead",W),Dn.years=w("years accessor is deprecated. Use year instead",Ft),Dn.zone=w("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),Dn.isDSTShifted=w("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!i(this._isDSTShifted))return this._isDSTShifted;var e={};if(h(e,this),(e=me(e))._a){var t=e._isUTC?u(e._a):ve(e._a);this._isDSTShifted=this.isValid()&&0<b(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var $n=k.prototype;$n.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return C(i)?i.call(t,n):i},$n.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},$n.invalidDate=function(){return this._invalidDate},$n.ordinal=function(e){return this._ordinal.replace("%d",e)},$n.preparse=je,$n.postformat=je,$n.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return C(r)?r(e,t,n,i):r.replace(/%d/i,e)},$n.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return C(n)?n(t):n.replace(/%s/i,t)},$n.set=function(e){var t,n;for(n in e)C(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},$n.months=function(e,n){return e?t(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ht).test(n)?"format":"standalone"][e.month()]:t(this._months)?this._months:this._months.standalone},$n.monthsShort=function(e,n){return e?t(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ht.test(n)?"format":"standalone"][e.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},$n.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=Bt.call(this._shortMonthsParse,a))?r:null:-1!==(r=Bt.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=Bt.call(this._shortMonthsParse,a))?r:-1!==(r=Bt.call(this._longMonthsParse,a))?r:null:-1!==(r=Bt.call(this._longMonthsParse,a))?r:-1!==(r=Bt.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},$n.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||q.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=Ut),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},$n.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||q.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=zt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},$n.week=function(e){return X(e,this._week.dow,this._week.doy).week},$n.firstDayOfYear=function(){return this._week.doy},$n.firstDayOfWeek=function(){return this._week.dow},$n.weekdays=function(e,n){var i=t(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(n)?"format":"standalone"];return!0===e?Z(i,this._week.dow):e?i[e.day()]:i},$n.weekdaysMin=function(e){return!0===e?Z(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},$n.weekdaysShort=function(e){return!0===e?Z(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},$n.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=Bt.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Bt.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=Bt.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=Bt.call(this._weekdaysParse,a))?r:-1!==(r=Bt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Bt.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=Bt.call(this._shortWeekdaysParse,a))?r:-1!==(r=Bt.call(this._weekdaysParse,a))?r:-1!==(r=Bt.call(this._minWeekdaysParse,a))?r:null:-1!==(r=Bt.call(this._minWeekdaysParse,a))?r:-1!==(r=Bt.call(this._weekdaysParse,a))?r:-1!==(r=Bt.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},$n.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},$n.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},$n.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Q.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},$n.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},$n.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},oe("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),e.lang=w("moment.lang is deprecated. Use moment.locale instead.",oe),e.langData=w("moment.langData is deprecated. Use moment.localeData instead.",se);var Tn=Math.abs,En=Ke("ms"),An=Ke("s"),On=Ke("m"),Mn=Ke("h"),Nn=Ke("d"),Pn=Ke("w"),In=Ke("M"),Rn=Ke("Q"),Ln=Ke("y"),Bn=Xe("milliseconds"),Fn=Xe("seconds"),Hn=Xe("minutes"),jn=Xe("hours"),Vn=Xe("days"),zn=Xe("months"),Un=Xe("years"),Wn=Math.round,qn={ss:44,s:45,m:45,h:22,d:26,M:11},Yn=Math.abs,Gn=ye.prototype;return Gn.isValid=function(){return this._isValid},Gn.abs=function(){var e=this._data;return this._milliseconds=Tn(this._milliseconds),this._days=Tn(this._days),this._months=Tn(this._months),e.milliseconds=Tn(e.milliseconds),e.seconds=Tn(e.seconds),e.minutes=Tn(e.minutes),e.hours=Tn(e.hours),e.months=Tn(e.months),e.years=Tn(e.years),this},Gn.add=function(e,t){return We(this,e,t,1)},Gn.subtract=function(e,t){return We(this,e,t,-1)},Gn.as=function(e){if(!this.isValid())return NaN;var t,n,i=this._milliseconds;if("month"===(e=D(e))||"quarter"===e||"year"===e)switch(t=this._days+i/864e5,n=this._months+Ye(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ge(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},Gn.asMilliseconds=En,Gn.asSeconds=An,Gn.asMinutes=On,Gn.asHours=Mn,Gn.asDays=Nn,Gn.asWeeks=Pn,Gn.asMonths=In,Gn.asQuarters=Rn,Gn.asYears=Ln,Gn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN},Gn._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*qe(Ge(s)+a),s=a=0),l.milliseconds=o%1e3,e=g(o/1e3),l.seconds=e%60,t=g(e/60),l.minutes=t%60,n=g(t/60),l.hours=n%24,s+=r=g(Ye(a+=g(n/24))),a-=qe(Ge(r)),i=g(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Gn.clone=function(){return $e(this)},Gn.get=function(e){return e=D(e),this.isValid()?this[e+"s"]():NaN},Gn.milliseconds=Bn,Gn.seconds=Fn,Gn.minutes=Hn,Gn.hours=jn,Gn.days=Vn,Gn.weeks=function(){return g(this.days()/7)},Gn.months=zn,Gn.years=Un,Gn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t,n,i,r,o,a,s,l,u,c,d,f=this.localeData(),h=(n=!e,i=f,r=$e(t=this).abs(),o=Wn(r.as("s")),a=Wn(r.as("m")),s=Wn(r.as("h")),l=Wn(r.as("d")),u=Wn(r.as("M")),c=Wn(r.as("y")),(d=o<=qn.ss&&["s",o]||o<qn.s&&["ss",o]||a<=1&&["m"]||a<qn.m&&["mm",a]||s<=1&&["h"]||s<qn.h&&["hh",s]||l<=1&&["d"]||l<qn.d&&["dd",l]||u<=1&&["M"]||u<qn.M&&["MM",u]||c<=1&&["y"]||["yy",c])[2]=n,d[3]=0<+t,d[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,d));return e&&(h=f.pastFuture(+this,h)),f.postformat(h)},Gn.toISOString=Ze,Gn.toString=Ze,Gn.toJSON=Ze,Gn.locale=Ne,Gn.localeData=Pe,Gn.toIsoString=w("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ze),Gn.lang=yn,A("X",0,0,"unix"),A("x",0,0,"valueOf"),N("x",_t),N("X",/[+-]?\d+(\.\d{1,3})?/),R("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),R("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.24.0",Qe=ve,e.fn=Dn,e.min=function(){return be("isBefore",[].slice.call(arguments,0))},e.max=function(){return be("isAfter",[].slice.call(arguments,0))},e.now=function(){return Date.now?Date.now():+new Date},e.utc=u,e.unix=function(e){return ve(1e3*e)},e.months=function(e,t){return ze(e,t,"months")},e.isDate=o,e.locale=oe,e.invalid=f,e.duration=$e,e.isMoment=m,e.weekdays=function(e,t,n){return Ue(e,t,n,"weekdays")},e.parseZone=function(){return ve.apply(null,arguments).parseZone()},e.localeData=se,e.isDuration=we,e.monthsShort=function(e,t){return ze(e,t,"monthsShort")},e.weekdaysMin=function(e,t,n){return Ue(e,t,n,"weekdaysMin")},e.defineLocale=ae,e.updateLocale=function(e,t){if(null!=t){var n,i,r=Qt;null!=(i=re(e))&&(r=i._config),(n=new k(t=_(r,t))).parentLocale=en[e],en[e]=n,oe(e)}else null!=en[e]&&(null!=en[e].parentLocale?en[e]=en[e].parentLocale:null!=en[e]&&delete en[e]);return en[e]},e.locales=function(){return tt(en)},e.weekdaysShort=function(e,t,n){return Ue(e,t,n,"weekdaysShort")},e.normalizeUnits=D,e.relativeTimeRounding=function(e){return void 0===e?Wn:"function"==typeof e&&(Wn=e,!0)},e.relativeTimeThreshold=function(e,t){return void 0!==qn[e]&&(void 0===t?qn[e]:(qn[e]=t,"s"===e&&(qn.ss=t-1),!0))},e.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},e.prototype=Dn,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e}),function(e,t){if("function"==typeof define&&define.amd)define(["moment","jquery"],function(e,n){return n.fn||(n.fn={}),"function"!=typeof e&&e.hasOwnProperty("default")&&(e=e["default"]),t(e,n)});else if("object"==typeof module&&module.exports){var n="undefined"!=typeof window?window.jQuery:void 0;n||(n=require("jquery"),n.fn||(n.fn={}));var i="undefined"!=typeof window&&"undefined"!=typeof window.moment?window.moment:require("moment");module.exports=t(i,n)}else e.daterangepicker=t(e.moment,e.jQuery)}(this,function(e,t){var n=function(n,i,r){if(this.parentEl="body",this.element=t(n),this.startDate=e().startOf("day"),this.endDate=e().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=e().subtract(100,"year").format("YYYY"),this.maxYear=e().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:e.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:e.weekdaysMin(),monthNames:e.monthsShort(),firstDay:e.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},"object"==typeof i&&null!==i||(i={}),i=t.extend(this.element.data(),i),"string"==typeof i.template||i.template instanceof t||(i.template='<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'),this.parentEl=t(i.parentEl&&t(i.parentEl).length?i.parentEl:this.parentEl),this.container=t(i.template).appendTo(this.parentEl),"object"==typeof i.locale&&("string"==typeof i.locale.direction&&(this.locale.direction=i.locale.direction),"string"==typeof i.locale.format&&(this.locale.format=i.locale.format),"string"==typeof i.locale.separator&&(this.locale.separator=i.locale.separator),"object"==typeof i.locale.daysOfWeek&&(this.locale.daysOfWeek=i.locale.daysOfWeek.slice()),"object"==typeof i.locale.monthNames&&(this.locale.monthNames=i.locale.monthNames.slice()),"number"==typeof i.locale.firstDay&&(this.locale.firstDay=i.locale.firstDay),"string"==typeof i.locale.applyLabel&&(this.locale.applyLabel=i.locale.applyLabel),"string"==typeof i.locale.cancelLabel&&(this.locale.cancelLabel=i.locale.cancelLabel),"string"==typeof i.locale.weekLabel&&(this.locale.weekLabel=i.locale.weekLabel),"string"==typeof i.locale.customRangeLabel)){var o=document.createElement("textarea");o.innerHTML=i.locale.customRangeLabel;var a=o.value;this.locale.customRangeLabel=a}if(this.container.addClass(this.locale.direction),"string"==typeof i.startDate&&(this.startDate=e(i.startDate,this.locale.format)),"string"==typeof i.endDate&&(this.endDate=e(i.endDate,this.locale.format)),"string"==typeof i.minDate&&(this.minDate=e(i.minDate,this.locale.format)),"string"==typeof i.maxDate&&(this.maxDate=e(i.maxDate,this.locale.format)),"object"==typeof i.startDate&&(this.startDate=e(i.startDate)),"object"==typeof i.endDate&&(this.endDate=e(i.endDate)),"object"==typeof i.minDate&&(this.minDate=e(i.minDate)),"object"==typeof i.maxDate&&(this.maxDate=e(i.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),"string"==typeof i.applyButtonClasses&&(this.applyButtonClasses=i.applyButtonClasses),"string"==typeof i.applyClass&&(this.applyButtonClasses=i.applyClass),"string"==typeof i.cancelButtonClasses&&(this.cancelButtonClasses=i.cancelButtonClasses),"string"==typeof i.cancelClass&&(this.cancelButtonClasses=i.cancelClass),"object"==typeof i.maxSpan&&(this.maxSpan=i.maxSpan),"object"==typeof i.dateLimit&&(this.maxSpan=i.dateLimit),"string"==typeof i.opens&&(this.opens=i.opens),"string"==typeof i.drops&&(this.drops=i.drops),"boolean"==typeof i.showWeekNumbers&&(this.showWeekNumbers=i.showWeekNumbers),"boolean"==typeof i.showISOWeekNumbers&&(this.showISOWeekNumbers=i.showISOWeekNumbers),"string"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses),"object"==typeof i.buttonClasses&&(this.buttonClasses=i.buttonClasses.join(" ")),"boolean"==typeof i.showDropdowns&&(this.showDropdowns=i.showDropdowns),"number"==typeof i.minYear&&(this.minYear=i.minYear),"number"==typeof i.maxYear&&(this.maxYear=i.maxYear),"boolean"==typeof i.showCustomRangeLabel&&(this.showCustomRangeLabel=i.showCustomRangeLabel),"boolean"==typeof i.singleDatePicker&&(this.singleDatePicker=i.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),"boolean"==typeof i.timePicker&&(this.timePicker=i.timePicker),"boolean"==typeof i.timePickerSeconds&&(this.timePickerSeconds=i.timePickerSeconds),"number"==typeof i.timePickerIncrement&&(this.timePickerIncrement=i.timePickerIncrement),"boolean"==typeof i.timePicker24Hour&&(this.timePicker24Hour=i.timePicker24Hour),"boolean"==typeof i.autoApply&&(this.autoApply=i.autoApply),"boolean"==typeof i.autoUpdateInput&&(this.autoUpdateInput=i.autoUpdateInput),"boolean"==typeof i.linkedCalendars&&(this.linkedCalendars=i.linkedCalendars),"function"==typeof i.isInvalidDate&&(this.isInvalidDate=i.isInvalidDate),"function"==typeof i.isCustomDate&&(this.isCustomDate=i.isCustomDate),"boolean"==typeof i.alwaysShowCalendars&&(this.alwaysShowCalendars=i.alwaysShowCalendars),0!=this.locale.firstDay)for(var s=this.locale.firstDay;s>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),s--;var l,u,c;if("undefined"==typeof i.startDate&&"undefined"==typeof i.endDate&&t(this.element).is(":text")){var d=t(this.element).val(),f=d.split(this.locale.separator);l=u=null,2==f.length?(l=e(f[0],this.locale.format),u=e(f[1],this.locale.format)):this.singleDatePicker&&""!==d&&(l=e(d,this.locale.format),u=e(d,this.locale.format)),null!==l&&null!==u&&(this.setStartDate(l),this.setEndDate(u))}if("object"==typeof i.ranges){for(c in i.ranges){l="string"==typeof i.ranges[c][0]?e(i.ranges[c][0],this.locale.format):e(i.ranges[c][0]),u="string"==typeof i.ranges[c][1]?e(i.ranges[c][1],this.locale.format):e(i.ranges[c][1]),this.minDate&&l.isBefore(this.minDate)&&(l=this.minDate.clone());var h=this.maxDate;if(this.maxSpan&&h&&l.clone().add(this.maxSpan).isAfter(h)&&(h=l.clone().add(this.maxSpan)),h&&u.isAfter(h)&&(u=h.clone()),!(this.minDate&&u.isBefore(this.minDate,this.timepicker?"minute":"day")||h&&l.isAfter(h,this.timepicker?"minute":"day"))){var o=document.createElement("textarea");o.innerHTML=c;var a=o.value;this.ranges[a]=[l,u]}}var p="<ul>";for(c in this.ranges)p+='<li data-range-key="'+c+'">'+c+"</li>";this.showCustomRangeLabel&&(p+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"</li>"),p+="</ul>",this.container.find(".ranges").prepend(p)}"function"==typeof r&&(this.callback=r),this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide()),this.timePicker&&this.autoApply&&(this.autoApply=!1),this.autoApply&&this.container.addClass("auto-apply"),"object"==typeof i.ranges&&this.container.addClass("show-ranges"),this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply")),("undefined"==typeof i.ranges&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar"),this.container.addClass("opens"+this.opens),this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses),this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses),this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses),this.container.find(".applyBtn").html(this.locale.applyLabel),this.container.find(".cancelBtn").html(this.locale.cancelLabel),this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this)),this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this)),this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this)),this.element.is("input")||this.element.is("button")?this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)}):(this.element.on("click.daterangepicker",t.proxy(this.toggle,this)),this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))),this.updateElement()};return n.prototype={constructor:n,setStartDate:function(t){"string"==typeof t&&(this.startDate=e(t,this.locale.format)),"object"==typeof t&&(this.startDate=e(t)),this.timePicker||(this.startDate=this.startDate.startOf("day")),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement)),this.isShowing||this.updateElement(),this.updateMonthsInView()},setEndDate:function(t){"string"==typeof t&&(this.endDate=e(t,this.locale.format)),"object"==typeof t&&(this.endDate=e(t)),this.timePicker||(this.endDate=this.endDate.endOf("day")),this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement),this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan)),this.previousRightTime=this.endDate.clone(),this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.isShowing||this.updateElement(),this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled")),this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format)),this.updateMonthsInView(),this.updateCalendars(),this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2),this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"):this.rightCalendar.month=this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){if(this.timePicker){var e,t,n;if(this.endDate){if(e=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".left .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}}else if(e=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),n=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,!this.timePicker24Hour){var i=this.container.find(".right .ampmselect").val();"PM"===i&&e<12&&(e+=12),"AM"===i&&12===e&&(e=0)}this.leftCalendar.month.hour(e).minute(t).second(n),this.rightCalendar.month.hour(e).minute(t).second(n)}this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),null!=this.endDate&&this.calculateChosenLabel()},renderCalendar:function(n){var i="left"==n?this.leftCalendar:this.rightCalendar,r=i.month.month(),o=i.month.year(),a=i.month.hour(),s=i.month.minute(),l=i.month.second(),u=e([o,r]).daysInMonth(),c=e([o,r,1]),d=e([o,r,u]),f=e(c).subtract(1,"month").month(),h=e(c).subtract(1,"month").year(),p=e([h,f]).daysInMonth(),m=c.day(),i=[];i.firstDay=c,i.lastDay=d;for(var g=0;g<6;g++)i[g]=[];var v=p-m+this.locale.firstDay+1;v>p&&(v-=7),m==this.locale.firstDay&&(v=p-6);for(var b,y,w=e([h,f,v,12,s,l]),g=0,b=0,y=0;g<42;g++,b++,w=e(w).add(24,"hour"))g>0&&b%7===0&&(b=0,y++),i[y][b]=w.clone().hour(a).minute(s).second(l),w.hour(12),this.minDate&&i[y][b].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&i[y][b].isBefore(this.minDate)&&"left"==n&&(i[y][b]=this.minDate.clone()),this.maxDate&&i[y][b].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&i[y][b].isAfter(this.maxDate)&&"right"==n&&(i[y][b]=this.maxDate.clone());"left"==n?this.leftCalendar.calendar=i:this.rightCalendar.calendar=i;var x="left"==n?this.minDate:this.startDate,C=this.maxDate,_=("left"==n?this.startDate:this.endDate,"ltr"==this.locale.direction?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},'<table class="table-condensed">');_+="<thead>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+="<th></th>"),_+=x&&!x.isBefore(i.firstDay)||this.linkedCalendars&&"left"!=n?"<th></th>":'<th class="prev available"><span></span></th>';var k=this.locale.monthNames[i[1][1].month()]+i[1][1].format(" YYYY");if(this.showDropdowns){for(var S=i[1][1].month(),D=i[1][1].year(),$=C&&C.year()||this.maxYear,T=x&&x.year()||this.minYear,E=D==T,A=D==$,O='<select class="monthselect">',M=0;M<12;M++)O+=(!E||x&&M>=x.month())&&(!A||C&&M<=C.month())?"<option value='"+M+"'"+(M===S?" selected='selected'":"")+">"+this.locale.monthNames[M]+"</option>":"<option value='"+M+"'"+(M===S?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[M]+"</option>";O+="</select>";for(var N='<select class="yearselect">',P=T;P<=$;P++)N+='<option value="'+P+'"'+(P===D?' selected="selected"':"")+">"+P+"</option>";N+="</select>",k=O+N}if(_+='<th colspan="5" class="month">'+k+"</th>",_+=C&&!C.isAfter(i.lastDay)||this.linkedCalendars&&"right"!=n&&!this.singleDatePicker?"<th></th>":'<th class="next available"><span></span></th>',_+="</tr>",_+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(_+='<th class="week">'+this.locale.weekLabel+"</th>"),t.each(this.locale.daysOfWeek,function(e,t){_+="<th>"+t+"</th>"}),_+="</tr>",_+="</thead>",_+="<tbody>",null==this.endDate&&this.maxSpan){var I=this.startDate.clone().add(this.maxSpan).endOf("day");C&&!I.isBefore(C)||(C=I)}for(var y=0;y<6;y++){_+="<tr>",this.showWeekNumbers?_+='<td class="week">'+i[y][0].week()+"</td>":this.showISOWeekNumbers&&(_+='<td class="week">'+i[y][0].isoWeek()+"</td>");for(var b=0;b<7;b++){var R=[];i[y][b].isSame(new Date,"day")&&R.push("today"),i[y][b].isoWeekday()>5&&R.push("weekend"),i[y][b].month()!=i[1][1].month()&&R.push("off","ends"),this.minDate&&i[y][b].isBefore(this.minDate,"day")&&R.push("off","disabled"),C&&i[y][b].isAfter(C,"day")&&R.push("off","disabled"),this.isInvalidDate(i[y][b])&&R.push("off","disabled"),i[y][b].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&R.push("active","start-date"),null!=this.endDate&&i[y][b].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&R.push("active","end-date"),null!=this.endDate&&i[y][b]>this.startDate&&i[y][b]<this.endDate&&R.push("in-range");var L=this.isCustomDate(i[y][b]);L!==!1&&("string"==typeof L?R.push(L):Array.prototype.push.apply(R,L));for(var B="",F=!1,g=0;g<R.length;g++)B+=R[g]+" ","disabled"==R[g]&&(F=!0);F||(B+="available"),_+='<td class="'+B.replace(/^\s+|\s+$/g,"")+'" data-title="r'+y+"c"+b+'">'+i[y][b].date()+"</td>"}_+="</tr>"}_+="</tbody>",_+="</table>",this.container.find(".drp-calendar."+n+" .calendar-table").html(_)},renderTimePicker:function(e){if("right"!=e||this.endDate){var t,n,i,r=this.maxDate;if(!this.maxSpan||this.maxDate&&!this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate)||(r=this.startDate.clone().add(this.maxSpan)),"left"==e)n=this.startDate.clone(),i=this.minDate;else if("right"==e){
n=this.endDate.clone(),i=this.startDate;var o=this.container.find(".drp-calendar.right .calendar-time");if(""!=o.html()&&(n.hour(isNaN(n.hour())?o.find(".hourselect option:selected").val():n.hour()),n.minute(isNaN(n.minute())?o.find(".minuteselect option:selected").val():n.minute()),n.second(isNaN(n.second())?o.find(".secondselect option:selected").val():n.second()),!this.timePicker24Hour)){var a=o.find(".ampmselect option:selected").val();"PM"===a&&n.hour()<12&&n.hour(n.hour()+12),"AM"===a&&12===n.hour()&&n.hour(0)}n.isBefore(this.startDate)&&(n=this.startDate.clone()),r&&n.isAfter(r)&&(n=r.clone())}t='<select class="hourselect">';for(var s=this.timePicker24Hour?0:1,l=this.timePicker24Hour?23:12,u=s;u<=l;u++){var c=u;this.timePicker24Hour||(c=n.hour()>=12?12==u?12:u+12:12==u?0:u);var d=n.clone().hour(c),f=!1;i&&d.minute(59).isBefore(i)&&(f=!0),r&&d.minute(0).isAfter(r)&&(f=!0),t+=c!=n.hour()||f?f?'<option value="'+u+'" disabled="disabled" class="disabled">'+u+"</option>":'<option value="'+u+'">'+u+"</option>":'<option value="'+u+'" selected="selected">'+u+"</option>"}t+="</select> ",t+=': <select class="minuteselect">';for(var u=0;u<60;u+=this.timePickerIncrement){var h=u<10?"0"+u:u,d=n.clone().minute(u),f=!1;i&&d.second(59).isBefore(i)&&(f=!0),r&&d.second(0).isAfter(r)&&(f=!0),t+=n.minute()!=u||f?f?'<option value="'+u+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+u+'">'+h+"</option>":'<option value="'+u+'" selected="selected">'+h+"</option>"}if(t+="</select> ",this.timePickerSeconds){t+=': <select class="secondselect">';for(var u=0;u<60;u++){var h=u<10?"0"+u:u,d=n.clone().second(u),f=!1;i&&d.isBefore(i)&&(f=!0),r&&d.isAfter(r)&&(f=!0),t+=n.second()!=u||f?f?'<option value="'+u+'" disabled="disabled" class="disabled">'+h+"</option>":'<option value="'+u+'">'+h+"</option>":'<option value="'+u+'" selected="selected">'+h+"</option>"}t+="</select> "}if(!this.timePicker24Hour){t+='<select class="ampmselect">';var p="",m="";i&&n.clone().hour(12).minute(0).second(0).isBefore(i)&&(p=' disabled="disabled" class="disabled"'),r&&n.clone().hour(0).minute(0).second(0).isAfter(r)&&(m=' disabled="disabled" class="disabled"'),t+=n.hour()>=12?'<option value="AM"'+p+'>AM</option><option value="PM" selected="selected"'+m+">PM</option>":'<option value="AM" selected="selected"'+p+'>AM</option><option value="PM"'+m+">PM</option>",t+="</select>"}this.container.find(".drp-calendar."+e+" .calendar-time").html(t)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var e,n={top:0,left:0},i=this.drops,r=t(window).width();switch(this.parentEl.is("body")||(n={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},r=this.parentEl[0].clientWidth+this.parentEl.offset().left),i){case"auto":e=this.element.offset().top+this.element.outerHeight()-n.top,e+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(e=this.element.offset().top-this.container.outerHeight()-n.top,i="up");break;case"up":e=this.element.offset().top-this.container.outerHeight()-n.top;break;default:e=this.element.offset().top+this.element.outerHeight()-n.top}this.container.css({top:0,left:0,right:"auto"});var o=this.container.outerWidth();if(this.container.toggleClass("drop-up","up"==i),"left"==this.opens){var a=r-this.element.offset().left-this.element.outerWidth();o+a>t(window).width()?this.container.css({top:e,right:"auto",left:9}):this.container.css({top:e,right:a,left:"auto"})}else if("center"==this.opens){var s=this.element.offset().left-n.left+this.element.outerWidth()/2-o/2;s<0?this.container.css({top:e,right:"auto",left:9}):s+o>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"})}else{var s=this.element.offset().left-n.left;s+o>t(window).width()?this.container.css({top:e,left:"auto",right:0}):this.container.css({top:e,left:s,right:"auto"})}},show:function(e){this.isShowing||(this._outsideClickProxy=t.proxy(function(e){this.outsideClick(e)},this),t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy),t(window).on("resize.daterangepicker",t.proxy(function(e){this.move(e)},this)),this.oldStartDate=this.startDate.clone(),this.oldEndDate=this.endDate.clone(),this.previousRightTime=this.endDate.clone(),this.updateView(),this.container.show(),this.move(),this.element.trigger("show.daterangepicker",this),this.isShowing=!0)},hide:function(e){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(e){this.isShowing?this.hide():this.show()},outsideClick:function(e){var n=t(e.target);"focusin"==e.type||n.closest(this.element).length||n.closest(this.container).length||n.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar"),this.move(),this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar"),this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(e){var t=e.target.getAttribute("data-range-key");if(this.chosenLabel=t,t==this.locale.customRangeLabel)this.showCalendars();else{var n=this.ranges[t];this.startDate=n[0],this.endDate=n[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply()}},clickPrev:function(e){var n=t(e.target).parents(".drp-calendar");n.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month"),this.updateCalendars()},clickNext:function(e){var n=t(e.target).parents(".drp-calendar");n.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month")),this.updateCalendars()},hoverDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=t(e.target).parents(".drp-calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r],s=this.leftCalendar,l=this.rightCalendar,u=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(e,n){if(!t(n).hasClass("week")){var i=t(n).attr("data-title"),r=i.substr(1,1),o=i.substr(3,1),c=t(n).parents(".drp-calendar"),d=c.hasClass("left")?s.calendar[r][o]:l.calendar[r][o];d.isAfter(u)&&d.isBefore(a)||d.isSame(a,"day")?t(n).addClass("in-range"):t(n).removeClass("in-range")}})}},clickDate:function(e){if(t(e.target).hasClass("available")){var n=t(e.target).attr("data-title"),i=n.substr(1,1),r=n.substr(3,1),o=t(e.target).parents(".drp-calendar"),a=o.hasClass("left")?this.leftCalendar.calendar[i][r]:this.rightCalendar.calendar[i][r];if(this.endDate||a.isBefore(this.startDate,"day")){if(this.timePicker){var s=parseInt(this.container.find(".left .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".left .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".left .minuteselect").val(),10);isNaN(u)&&(u=parseInt(this.container.find(".left .minuteselect option:last").val(),10));var c=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.endDate=null,this.setStartDate(a.clone())}else if(!this.endDate&&a.isBefore(this.startDate))this.setEndDate(this.startDate.clone());else{if(this.timePicker){var s=parseInt(this.container.find(".right .hourselect").val(),10);if(!this.timePicker24Hour){var l=this.container.find(".right .ampmselect").val();"PM"===l&&s<12&&(s+=12),"AM"===l&&12===s&&(s=0)}var u=parseInt(this.container.find(".right .minuteselect").val(),10);isNaN(u)&&(u=parseInt(this.container.find(".right .minuteselect option:last").val(),10));var c=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0;a=a.clone().hour(s).minute(u).second(c)}this.setEndDate(a.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply())}this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply()),this.updateView(),e.stopPropagation()}},calculateChosenLabel:function(){var e=!0,t=0;for(var n in this.ranges){if(this.timePicker){var i=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm";if(this.startDate.format(i)==this.ranges[n][0].format(i)&&this.endDate.format(i)==this.ranges[n][1].format(i)){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){e=!1,this.chosenLabel=this.container.find(".ranges li:eq("+t+")").addClass("active").attr("data-range-key");break}t++}e&&(this.showCustomRangeLabel?this.chosenLabel=this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):this.chosenLabel=null,this.showCalendars())},clickApply:function(e){this.hide(),this.element.trigger("apply.daterangepicker",this)},clickCancel:function(e){this.startDate=this.oldStartDate,this.endDate=this.oldEndDate,this.hide(),this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(e){var n=t(e.target).closest(".drp-calendar").hasClass("left"),i=n?"left":"right",r=this.container.find(".drp-calendar."+i),o=parseInt(r.find(".monthselect").val(),10),a=r.find(".yearselect").val();n||(a<this.startDate.year()||a==this.startDate.year()&&o<this.startDate.month())&&(o=this.startDate.month(),a=this.startDate.year()),this.minDate&&(a<this.minDate.year()||a==this.minDate.year()&&o<this.minDate.month())&&(o=this.minDate.month(),a=this.minDate.year()),this.maxDate&&(a>this.maxDate.year()||a==this.maxDate.year()&&o>this.maxDate.month())&&(o=this.maxDate.month(),a=this.maxDate.year()),n?(this.leftCalendar.month.month(o).year(a),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(o).year(a),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month"))),this.updateCalendars()},timeChanged:function(e){var n=t(e.target).closest(".drp-calendar"),i=n.hasClass("left"),r=parseInt(n.find(".hourselect").val(),10),o=parseInt(n.find(".minuteselect").val(),10);isNaN(o)&&(o=parseInt(n.find(".minuteselect option:last").val(),10));var a=this.timePickerSeconds?parseInt(n.find(".secondselect").val(),10):0;if(!this.timePicker24Hour){var s=n.find(".ampmselect").val();"PM"===s&&r<12&&(r+=12),"AM"===s&&12===r&&(r=0)}if(i){var l=this.startDate.clone();l.hour(r),l.minute(o),l.second(a),this.setStartDate(l),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==l.format("YYYY-MM-DD")&&this.endDate.isBefore(l)&&this.setEndDate(l.clone())}else if(this.endDate){var u=this.endDate.clone();u.hour(r),u.minute(o),u.second(a),this.setEndDate(u)}this.updateCalendars(),this.updateFormInputs(),this.renderTimePicker("left"),this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var t=this.element.val().split(this.locale.separator),n=null,i=null;2===t.length&&(n=e(t[0],this.locale.format),i=e(t[1],this.locale.format)),(this.singleDatePicker||null===n||null===i)&&(n=e(this.element.val(),this.locale.format),i=n),n.isValid()&&i.isValid()&&(this.setStartDate(n),this.setEndDate(i),this.updateView())}},keydown:function(e){9!==e.keyCode&&13!==e.keyCode||this.hide(),27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var e=this.startDate.format(this.locale.format);this.singleDatePicker||(e+=this.locale.separator+this.endDate.format(this.locale.format)),e!==this.element.val()&&this.element.val(e).trigger("change")}},remove:function(){this.container.remove(),this.element.off(".daterangepicker"),this.element.removeData()}},t.fn.daterangepicker=function(e,i){var r=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,e);return this.each(function(){var e=t(this);e.data("daterangepicker")&&e.data("daterangepicker").remove(),e.data("daterangepicker",new n(e,r,i))}),this},n});var wysihtml5,Base,Handlebars;Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&!function(){var e=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return e.get.call(this)},set:function(t){return e.set.call(this,t)}})}(),Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),wysihtml5={version:"0.4.15",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46},function(e,t){"function"==typeof define&&define.amd?define(e):t.rangy=e()}(function(){function e(e,t){var n=typeof e[t];return n==_||!(n!=C||!e[t])||"unknown"==n}function t(e,t){return!(typeof e[t]!=C||!e[t])}function n(e,t){return typeof e[t]!=k}function i(e){return function(t,n){for(var i=n.length;i--;)if(!e(t,n[i]))return!1;return!0}}function r(e){return e&&E(e,T)&&O(e,$)}function o(e){return t(e,"body")?e.body:e.getElementsByTagName("body")[0]}function a(n){t(window,"console")&&e(window.console,"log")&&window.console.log(n)}function s(e,t){t?window.alert(e):a(e)}function l(e){N.initialized=!0,N.supported=!1,s("Rangy is not supported on this page in your browser. Reason: "+e,N.config.alertOnFail)}function u(e){s("Rangy warning: "+e,N.config.alertOnWarn)}function c(e){return e.message||e.description||e+""}function d(){var t,n,i,s,u,d,f,p,m;if(!N.initialized){if(n=!1,i=!1,e(document,"createRange")&&(t=document.createRange(),E(t,D)&&O(t,S)&&(n=!0)),s=o(document),!s||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&e(s,"createTextRange")&&(t=s.createTextRange(),r(t)&&(i=!0)),!n&&!i)return void l("Neither Range nor TextRange are available");N.initialized=!0,N.features={implementsDomRange:n,implementsTextRange:i};for(f in M)(u=M[f])instanceof h&&u.init(u,N);for(p=0,m=b.length;m>p;++p)try{b[p](N)}catch(g){d="Rangy init listener threw an exception. Continuing. Detail: "+c(g),a(d)}}}function f(e){e=e||window,d();for(var t=0,n=y.length;n>t;++t)y[t](e)}function h(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function p(e,t,n,i){var r=new h(t,n,function(e){if(!e.initialized){e.initialized=!0;try{i(N,e),e.supported=!0}catch(n){var r="Module '"+t+"' failed to load: "+c(n);a(r)}}});M[t]=r}function m(){}function g(){}var v,b,y,w,x,C="object",_="function",k="undefined",S=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],D=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],$=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],T=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],E=i(e),A=i(t),O=i(n),M={},N={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:e,isHostObject:t,isHostProperty:n,areHostMethods:E,areHostObjects:A,areHostProperties:O,isTextRange:r,getBody:o},features:{},modules:M,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==k||rangyAutoInitialize}};return N.fail=l,N.warn=u,{}.hasOwnProperty?N.util.extend=function(e,t,n){var i,r,o;for(o in t)t.hasOwnProperty(o)&&(i=e[o],r=t[o],n&&null!==i&&"object"==typeof i&&null!==r&&"object"==typeof r&&N.util.extend(i,r,!0),e[o]=r);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e}:l("hasOwnProperty not supported"),function(){var e,t,n=document.createElement("div");n.appendChild(document.createElement("span")),e=[].slice;try{1==e.call(n.childNodes,0)[0].nodeType&&(t=function(t){return e.call(t,0)})}catch(i){}t||(t=function(e){var t,n,i=[];for(t=0,n=e.length;n>t;++t)i[t]=e[t];return i}),N.util.toArray=t}(),e(document,"addEventListener")?v=function(e,t,n){e.addEventListener(t,n,!1)}:e(document,"attachEvent")?v=function(e,t,n){e.attachEvent("on"+t,n)}:l("Document does not have required addEventListener or attachEvent method"),N.util.addListener=v,b=[],N.init=d,N.addInitListener=function(e){N.initialized?e(N):b.push(e)},y=[],N.addShimListener=function(e){y.push(e)},N.shim=N.createMissingNativeApi=f,h.prototype={init:function(){var e,t,n,i,r=this.dependencies||[];for(e=0,t=r.length;t>e;++e){if(i=r[e],n=M[i],!(n&&n instanceof h))throw Error("required module '"+i+"' not found");if(n.init(),!n.supported)throw Error("required module '"+i+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+e)},warn:function(e){N.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){N.warn("DEPRECATED: "+e+" in module "+this.name+"is deprecated. Please use "+t+" instead")},createError:function(e){return Error("Error in Rangy "+this.name+" module: "+e)}},N.createModule=function(e){var t,n,i;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]),i=p(!1,e,n,t),N.initialized&&i.init()},N.createCoreModule=function(e,t,n){p(!0,e,t,n)},N.RangePrototype=m,N.rangePrototype=new m,N.selectionPrototype=new g,w=!1,x=function(){w||(w=!0,!N.initialized&&N.config.autoInitialize&&d())},typeof window==k?void l("No window found"):typeof document==k?void l("No document found"):(e(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",x,!1),v(window,"load",x),N.createCoreModule("DomUtil",[],function(e,t){function n(e){var t;return typeof e.namespaceURI==P||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t}function i(e){var t=e.parentNode;return 1==t.nodeType?t:null}function r(e){for(var t=0;e=e.previousSibling;)++t;return t}function o(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}}function a(e,t){var n,i=[];for(n=e;n;n=n.parentNode)i.push(n);for(n=t;n;n=n.parentNode)if(O(i,n))return n;return null}function s(e,t,n){for(var i=n?t:t.parentNode;i;){if(i===e)return!0;i=i.parentNode}return!1}function l(e,t){return s(e,t,!0)}function u(e,t,n){for(var i,r=n?e:e.parentNode;r;){if(i=r.parentNode,i===t)return r;r=i}return null}function c(e){var t=e.nodeType;return 3==t||4==t||8==t}function d(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t}function f(e,t){var n=t.nextSibling,i=t.parentNode;return n?i.insertBefore(e,n):i.appendChild(e),e}function h(e,t,n){var i,o,a=e.cloneNode(!1);if(a.deleteData(0,t),e.deleteData(t,e.length-t),f(a,e),n)for(i=0;o=n[i++];)o.node==e&&o.offset>t?(o.node=a,o.offset-=t):o.node==e.parentNode&&o.offset>r(e)&&++o.offset;return a}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=P)return e.ownerDocument;if(typeof e.document!=P)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function m(e){var n=p(e);if(typeof n.defaultView!=P)return n.defaultView;if(typeof n.parentWindow!=P)return n.parentWindow;throw t.createError("Cannot get a window object for node")}function g(e){if(typeof e.contentDocument!=P)return e.contentDocument;if(typeof e.contentWindow!=P)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function v(e){if(typeof e.contentWindow!=P)return e.contentWindow;if(typeof e.contentDocument!=P)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")}function b(e){return e&&I.isHostMethod(e,"setTimeout")&&I.isHostObject(e,"document")}function y(e,t,n){var i;if(e?I.isHostProperty(e,"nodeType")?i=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?g(e):p(e):b(e)&&(i=e.document):i=document,!i)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return i}function w(e){for(var t;t=e.parentNode;)e=t;return e}function x(e,n,i,o){var s,l,c,d,f;if(e==i)return n===o?0:o>n?-1:1;if(s=u(i,e,!0))return n<=r(s)?-1:1;if(s=u(e,i,!0))return r(s)<o?-1:1;if(l=a(e,i),!l)throw Error("comparePoints error: nodes have no common ancestor");if(c=e===l?l:u(e,l,!0),d=i===l?l:u(i,l,!0),c===d)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(f=l.firstChild;f;){if(f===c)return-1;if(f===d)return 1;f=f.nextSibling}}function C(e){var t;try{return t=e.parentNode,!1}catch(n){return!0}}function _(e){if(!e)return"[No node]";if(M&&C(e))return"[Broken node]";if(c(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+r(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function k(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n}function S(e){this.root=e,this._next=e}function D(e){return new S(e)}function $(e,t){this.node=e,this.offset=t}function T(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}var E,A,O,M,N,P="undefined",I=e.util;I.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),I.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method"),E=document.createElement("div"),I.areHostMethods(E,["insertBefore","appendChild","cloneNode"]||!I.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),I.isHostProperty(E,"innerHTML")||t.fail("Element is missing innerHTML property"),A=document.createTextNode("test"),I.areHostMethods(A,["splitText","deleteData","insertData","appendData","cloneNode"]||!I.areHostObjects(E,["previousSibling","nextSibling","childNodes","parentNode"])||!I.areHostProperties(A,["data"]))||t.fail("Incomplete Text Node implementation"),O=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},M=!1,function(){var t,n=document.createElement("b");n.innerHTML="1",t=n.firstChild,n.innerHTML="<br>",M=C(t),e.features.crashyTextNodes=M}(),typeof window.getComputedStyle!=P?N=function(e,t){return m(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=P?N=function(e,t){return e.currentStyle[t]}:t.fail("No means of obtaining computed style properties found"),S.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},$.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+_(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},T.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},T.prototype.toString=function(){return this.message},e.dom={arrayContains:O,isHtmlNamespace:n,parentElement:i,getNodeIndex:r,getNodeLength:o,getCommonAncestor:a,isAncestorOf:s,isOrIsAncestorOf:l,getClosestAncestorIn:u,isCharacterDataNode:c,isTextOrCommentNode:d,insertAfter:f,splitDataNode:h,getDocument:p,getWindow:m,getIframeWindow:v,getIframeDocument:g,getBody:I.getBody,isWindow:b,getContentDocument:y,getRootContainer:w,comparePoints:x,isBrokenNode:C,inspectNode:_,getComputedStyleProperty:N,fragmentFromNodeChildren:k,createIterator:D,DomPosition:$},e.DOMException=T}),N.createCoreModule("DomRange",["DomUtil"],function(e){function t(e,t){return 3!=e.nodeType&&(ae(e,t.startContainer)||ae(e,t.endContainer))}function n(e){return e.document||se(e.startContainer)}function i(e){return new ne(e.parentNode,oe(e))}function r(e){return new ne(e.parentNode,oe(e)+1)}function o(e,t,n){var i=11==e.nodeType?e.firstChild:e;return re(t)?n==t.length?ee.insertAfter(e,t):t.parentNode.insertBefore(e,0==n?t:ue(t,n)):n>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[n]),i}function a(e,t,i){if(k(e),k(t),n(t)!=n(e))throw new ie("WRONG_DOCUMENT_ERR");var r=le(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=le(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return i?0>=r&&o>=0:0>r&&o>0}function s(e){var t,i,r,o;for(r=n(e.range).createDocumentFragment();i=e.next();){if(t=e.isPartiallySelectedSubtree(),i=i.cloneNode(!t),t&&(o=e.getSubtreeIterator(),i.appendChild(s(o)),o.detach()),10==i.nodeType)throw new ie("HIERARCHY_REQUEST_ERR");r.appendChild(i)}return r}function l(e,t,n){var i,r,o,a;for(n=n||{stop:!1};o=e.next();)if(e.isPartiallySelectedSubtree()){if(t(o)===!1)return void(n.stop=!0);if(a=e.getSubtreeIterator(),l(a,t,n),a.detach(),n.stop)return}else for(i=ee.createIterator(o);r=i.next();)if(t(r)===!1)return void(n.stop=!0)}function u(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(t=e.getSubtreeIterator(),u(t),t.detach()):e.remove()}function c(e){for(var t,i,r=n(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),i=e.getSubtreeIterator(),t.appendChild(c(i)),i.detach()):e.remove(),10==t.nodeType)throw new ie("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function d(e,t,n){var i,r,o=!(!t||!t.length),a=!!n;return o&&(i=RegExp("^("+t.join("|")+")$")),r=[],l(new h(e,(!1)),function(t){var s,l;(!o||i.test(t.nodeType))&&(!a||n(t))&&(s=e.startContainer,t==s&&re(s)&&e.startOffset==s.length||(l=e.endContainer,t==l&&re(l)&&0==e.endOffset||r.push(t)))}),r}function f(e){var t=void 0===e.getName?"Range":e.getName();return"["+t+"("+ee.inspectNode(e.startContainer)+":"+e.startOffset+", "+ee.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function h(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&re(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||re(this.sc)?ce(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||re(this.ec)?ce(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function p(e){return function(t,n){for(var i,r=n?t:t.parentNode;r;){if(i=r.nodeType,fe(e,i))return r;r=r.parentNode}return null}}function m(e,t){if(j(e,t))throw new ie("INVALID_NODE_TYPE_ERR")}function g(e,t){if(!fe(t,e.nodeType))throw new ie("INVALID_NODE_TYPE_ERR")}function v(e,t){if(0>t||t>(re(e)?e.length:e.childNodes.length))throw new ie("INDEX_SIZE_ERR")}function b(e,t){if(F(e,!0)!==F(t,!0))throw new ie("WRONG_DOCUMENT_ERR")}function y(e){if(H(e,!0))throw new ie("NO_MODIFICATION_ALLOWED_ERR")}function w(e,t){if(!e)throw new ie(t)}function x(e){return pe&&ee.isBrokenNode(e)||!fe(I,e.nodeType)&&!F(e,!0)}function C(e,t){return t<=(re(e)?e.length:e.childNodes.length)}function _(e){return!!e.startContainer&&!!e.endContainer&&!x(e.startContainer)&&!x(e.endContainer)&&C(e.startContainer,e.startOffset)&&C(e.endContainer,e.endOffset)}function k(e){if(!_(e))throw Error("Range error: Range is no longer valid after DOM mutation ("+e.inspect()+")")}function S(e,t){var n,i,r,o,a;k(e),n=e.startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,a=n===r,re(r)&&o>0&&o<r.length&&ue(r,o,t),re(n)&&i>0&&i<n.length&&(n=ue(n,i,t),a?(o-=i,r=n):r==n.parentNode&&o>=oe(n)&&o++,i=0),e.setStartAndEnd(n,i,r,o)}function D(e){k(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}function $(e){e.START_TO_START=q,e.START_TO_END=Y,e.END_TO_END=G,e.END_TO_START=K,e.NODE_BEFORE=X,e.NODE_AFTER=J,e.NODE_BEFORE_AND_AFTER=Z,e.NODE_INSIDE=Q}function T(e){$(e),$(e.prototype)}function E(e,t){return function(){var n,i,o,a,s,u,c;return k(this),n=this.startContainer,i=this.startOffset,o=this.commonAncestorContainer,a=new h(this,(!0)),n!==o&&(s=ce(n,o,!0),u=r(s),n=u.node,i=u.offset),l(a,y),a.reset(),c=e(a),a.detach(),t(this,n,i,n,i),c}}function A(n,o){function a(e,t){return function(n){g(n,P),g(he(n),I);var o=(e?i:r)(n);(t?s:l)(this,o.node,o.offset)}}function s(e,t,n){var i=e.endContainer,r=e.endOffset;(t!==e.startContainer||n!==e.startOffset)&&((he(t)!=he(i)||1==le(t,n,i,r))&&(i=t,r=n),o(e,t,n,i,r))}function l(e,t,n){var i=e.startContainer,r=e.startOffset;(t!==e.endContainer||n!==e.endOffset)&&((he(t)!=he(i)||-1==le(t,n,i,r))&&(i=t,r=n),o(e,i,r,t,n))}var d=function(){};d.prototype=e.rangePrototype,n.prototype=new d,te.extend(n.prototype,{setStart:function(e,t){m(e,!0),v(e,t),s(this,e,t)},setEnd:function(e,t){m(e,!0),v(e,t),l(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],n=e[1],i=t,r=n;switch(e.length){case 3:r=e[2];break;case 4:i=e[2],r=e[3]}o(this,t,n,i,r)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(e){k(this),e?o(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):o(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){m(e,!0),o(this,e,0,e,de(e))},selectNode:function(e){m(e,!1),g(e,P);var t=i(e),n=r(e);o(this,t.node,t.offset,n.node,n.offset)},extractContents:E(c,o),deleteContents:E(u,o),canSurroundContents:function(){var e,n;return k(this),y(this.startContainer),y(this.endContainer),e=new h(this,(!0)),n=e._first&&t(e._first,this)||e._last&&t(e._last,this),e.detach(),!n},splitBoundaries:function(){S(this)},splitBoundariesPreservingPositions:function(e){S(this,e)},normalizeBoundaries:function(){var e,t,n,i,r,a,s,l,u;k(this),e=this.startContainer,t=this.startOffset,n=this.endContainer,i=this.endOffset,r=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(n=e,i=e.length,e.appendData(t.data),t.parentNode.removeChild(t))},a=function(r){var o,a,s=r.previousSibling;s&&s.nodeType==r.nodeType&&(e=r,o=r.length,t=s.length,r.insertData(0,s.data),s.parentNode.removeChild(s),e==n?(i+=t,n=e):n==r.parentNode&&(a=oe(r),i==a?(n=r,i=o):i>a&&i--))},s=!0,re(n)?n.length==i&&r(n):(i>0&&(l=n.childNodes[i-1],l&&re(l)&&r(l)),s=!this.collapsed),s?re(e)?0==t&&a(e):t<e.childNodes.length&&(u=e.childNodes[t],u&&re(u)&&a(u)):(e=n,t=i),o(this,e,t,n,i)},collapseToPoint:function(e,t){m(e,!0),v(e,t),this.setStartAndEnd(e,t)}}),T(n)}function O(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,
e.commonAncestorContainer=e.collapsed?e.startContainer:ee.getCommonAncestor(e.startContainer,e.endContainer)}function M(e,t,n,i,r){e.startContainer=t,e.startOffset=n,e.endContainer=i,e.endOffset=r,e.document=ee.getDocument(t),O(e)}function N(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,O(this)}var P,I,R,L,B,F,H,j,V,z,U,W,q,Y,G,K,X,J,Z,Q,ee=e.dom,te=e.util,ne=ee.DomPosition,ie=e.DOMException,re=ee.isCharacterDataNode,oe=ee.getNodeIndex,ae=ee.isOrIsAncestorOf,se=ee.getDocument,le=ee.comparePoints,ue=ee.splitDataNode,ce=ee.getClosestAncestorIn,de=ee.getNodeLength,fe=ee.arrayContains,he=ee.getRootContainer,pe=e.features.crashyTextNodes;h.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,re(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!re(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return t(e,this.range)},getSubtreeIterator:function(){var e,t,i,r,o,a;return this.isSingleCharacterDataNode?(e=this.range.cloneRange(),e.collapse(!1)):(e=new N(n(this.range)),t=this._current,i=t,r=0,o=t,a=de(t),ae(t,this.sc)&&(i=this.sc,r=this.so),ae(t,this.ec)&&(o=this.ec,a=this.eo),M(e,i,r,o,a)),new h(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},P=[1,3,4,5,7,8,10],I=[2,9,11],R=[5,6,10,12],L=[1,3,4,5,7,8,10,11],B=[1,3,4,5,7,8],F=p([9,11]),H=p(R),j=p([6,10,12]),V=document.createElement("style"),z=!1;try{V.innerHTML="<b>x</b>",z=3==V.firstChild.nodeType}catch(me){}e.features.htmlParsingConforms=z,U=z?function(e){var t,n=this.startContainer,i=se(n);if(!n)throw new ie("INVALID_STATE_ERR");return t=null,1==n.nodeType?t=n:re(n)&&(t=ee.parentElement(n)),t=null===t||"HTML"==t.nodeName&&ee.isHtmlNamespace(se(t).documentElement)&&ee.isHtmlNamespace(t)?i.createElement("body"):t.cloneNode(!1),t.innerHTML=e,ee.fragmentFromNodeChildren(t)}:function(e){var t=n(this),i=t.createElement("body");return i.innerHTML=e,ee.fragmentFromNodeChildren(i)},W=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],q=0,Y=1,G=2,K=3,X=0,J=1,Z=2,Q=3,te.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var n,i,r,o,a,s;return k(this),b(this.startContainer,t.startContainer),a=e==K||e==q?"start":"end",s=e==Y||e==q?"start":"end",n=this[a+"Container"],i=this[a+"Offset"],r=t[s+"Container"],o=t[s+"Offset"],le(n,i,r,o)},insertNode:function(e){if(k(this),g(e,L),y(this.startContainer),ae(e,this.startContainer))throw new ie("HIERARCHY_REQUEST_ERR");var t=o(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t,i;return k(this),this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&re(this.startContainer)?(e=this.startContainer.cloneNode(!0),e.data=e.data.slice(this.startOffset,this.endOffset),t=n(this).createDocumentFragment(),t.appendChild(e),t):(i=new h(this,(!0)),e=s(i),i.detach(),e)},canSurroundContents:function(){var e,n;return k(this),y(this.startContainer),y(this.endContainer),e=new h(this,(!0)),n=e._first&&t(e._first,this)||e._last&&t(e._last,this),e.detach(),!n},surroundContents:function(e){if(g(e,B),!this.canSurroundContents())throw new ie("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);o(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){var e,t,i;for(k(this),e=new N(n(this)),t=W.length;t--;)i=W[t],e[i]=this[i];return e},toString:function(){var e,t,n;return k(this),e=this.startContainer,e===this.endContainer&&re(e)?3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"":(t=[],n=new h(this,(!0)),l(n,function(e){(3==e.nodeType||4==e.nodeType)&&t.push(e.data)}),n.detach(),t.join(""))},compareNode:function(e){var t,n,i,r;if(k(this),t=e.parentNode,n=oe(e),!t)throw new ie("NOT_FOUND_ERR");return i=this.comparePoint(t,n),r=this.comparePoint(t,n+1),0>i?r>0?Z:X:r>0?J:Q},comparePoint:function(e,t){return k(this),w(e,"HIERARCHY_REQUEST_ERR"),b(e,this.startContainer),le(e,t,this.startContainer,this.startOffset)<0?-1:le(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:U,toHtml:function(){return D(this)},intersectsNode:function(e,t){var i,r,o,a;return k(this),w(e,"NOT_FOUND_ERR"),se(e)===n(this)&&(i=e.parentNode,r=oe(e),w(i,"NOT_FOUND_ERR"),o=le(i,r,this.endContainer,this.endOffset),a=le(i,r+1,this.startContainer,this.startOffset),t?0>=o&&a>=0:0>o&&a>0)},isPointInRange:function(e,t){return k(this),w(e,"HIERARCHY_REQUEST_ERR"),b(e,this.startContainer),le(e,t,this.startContainer,this.startOffset)>=0&&le(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return a(this,e,!1)},intersectsOrTouchesRange:function(e){return a(this,e,!0)},intersection:function(e){var t,n,i;return this.intersectsRange(e)?(t=le(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=le(this.endContainer,this.endOffset,e.endContainer,e.endOffset),i=this.cloneRange(),-1==t&&i.setStart(e.startContainer,e.startOffset),1==n&&i.setEnd(e.endContainer,e.endOffset),i):null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==le(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==le(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new ie("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==Q},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,de(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t,n,i=this.cloneRange();return i.selectNode(e),t=i.getNodes([3]),t.length>0?(i.setStart(t[0],0),n=t.pop(),i.setEnd(n,n.length),this.containsRange(i)):this.containsNodeContents(e)},getNodes:function(e,t){return k(this),d(this,e,t)},getDocument:function(){return n(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var i,r,o,a=n(this),s=e.createRange(a);return t=t||ee.getBody(a),s.selectNodeContents(t),i=this.intersection(s),r=0,o=0,i&&(s.setEnd(i.startContainer,i.startOffset),r=(""+s).length,o=r+(""+i).length),{start:r,end:o,containerNode:t}},moveToBookmark:function(e){var t,n,i,r,o,a,s,l=e.containerNode,u=0;for(this.setStart(l,0),this.collapse(!0),t=[l],i=!1,r=!1;!r&&(n=t.pop());)if(3==n.nodeType)o=u+n.length,!i&&e.start>=u&&e.start<=o&&(this.setStart(n,e.start-u),i=!0),i&&e.end>=u&&e.end<=o&&(this.setEnd(n,e.end-u),r=!0),u=o;else for(s=n.childNodes,a=s.length;a--;)t.push(s[a])},getName:function(){return"DomRange"},equals:function(e){return N.rangesEqual(this,e)},isValid:function(){return _(this)},inspect:function(){return f(this)},detach:function(){}}),A(N,M),te.extend(N,{rangeProperties:W,RangeIterator:h,copyComparisonConstants:T,createPrototypeRange:A,inspect:f,toHtml:D,getRangeDocument:n,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=N}),N.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,i,r,o,a,s,l,u,c=e.dom,d=e.util,f=c.DomPosition,h=e.DomRange,p=c.getBody,m=c.getContentDocument,g=c.isCharacterDataNode;e.features.implementsDomRange&&!function(){function i(e){for(var t,n=b.length;n--;)t=b[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}function r(e,t,n,i,r){var o=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==i||e.endOffset!=r,s=!e.equals(e.nativeRange);(o||a||s)&&(e.setEnd(i,r),e.setStart(t,n))}var o,a,s,l,u,f,g,v,b=h.rangeProperties;n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,i(this)},h.createPrototypeRange(n,r),o=n.prototype,o.selectNode=function(e){this.nativeRange.selectNode(e),i(this)},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(e){this.nativeRange.surroundContents(e),i(this)},o.collapse=function(e){this.nativeRange.collapse(e),i(this)},o.cloneRange=function(){return new n(this.nativeRange.cloneRange())},o.refresh=function(){i(this)},o.toString=function(){return""+this.nativeRange},s=document.createTextNode("test"),p(document).appendChild(s),l=document.createRange(),l.setStart(s,0),l.setEnd(s,0);try{l.setStart(s,1),o.setStart=function(e,t){this.nativeRange.setStart(e,t),i(this)},o.setEnd=function(e,t){this.nativeRange.setEnd(e,t),i(this)},a=function(e){return function(t){this.nativeRange[e](t),i(this)}}}catch(y){o.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}i(this)},o.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}i(this)},a=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}i(this)}}}o.setStartBefore=a("setStartBefore","setEndBefore"),o.setStartAfter=a("setStartAfter","setEndAfter"),o.setEndBefore=a("setEndBefore","setStartBefore"),o.setEndAfter=a("setEndAfter","setStartAfter"),o.selectNodeContents=function(e){this.setStartAndEnd(e,0,c.getNodeLength(e))},l.selectNodeContents(s),l.setEnd(s,3),u=document.createRange(),u.selectNodeContents(s),u.setEnd(s,4),u.setStart(s,2),o.compareBoundaryPoints=-1==l.compareBoundaryPoints(l.START_TO_END,u)&&1==l.compareBoundaryPoints(l.END_TO_START,u)?function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)},f=document.createElement("div"),f.innerHTML="123",g=f.firstChild,v=p(document),v.appendChild(f),l.setStart(g,1),l.setEnd(g,2),l.deleteContents(),"13"==g.data&&(o.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},o.extractContents=function(){var e=this.nativeRange.extractContents();return i(this),e}),v.removeChild(f),v=null,d.isHostMethod(l,"createContextualFragment")&&(o.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),p(document).removeChild(s),o.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return e=m(e,t,"createNativeRange"),e.createRange()}}(),e.features.implementsTextRange&&(r=function(e){var t,n,i,r=e.parentElement(),o=e.duplicate();return o.collapse(!0),t=o.parentElement(),o=e.duplicate(),o.collapse(!1),n=o.parentElement(),i=t==n?t:c.getCommonAncestor(t,n),i==r?i:c.getCommonAncestor(r,i)},o=function(e){return 0==e.compareEndPoints("StartToEnd",e)},a=function(e,t,n,i,r){var o,a,s,l,u,d,h,p,m,v,b,y,w,x,C,_,k=e.duplicate();if(k.collapse(n),o=k.parentElement(),c.isOrIsAncestorOf(t,o)||(o=t),!o.canHaveHTML)return a=new f(o.parentNode,c.getNodeIndex(o)),{boundaryPosition:a,nodeInfo:{nodeIndex:a.offset,containerElement:a.node}};for(s=c.getDocument(o).createElement("span"),s.parentNode&&s.parentNode.removeChild(s),u=n?"StartToStart":"StartToEnd",v=r&&r.containerElement==o?r.nodeIndex:0,b=o.childNodes.length,y=b,w=y;w==b?o.appendChild(s):o.insertBefore(s,o.childNodes[w]),k.moveToElementText(s),l=k.compareEndPoints(u,e),0!=l&&v!=y;){if(-1==l){if(y==v+1)break;v=w}else y=y==v+1?v:w;w=Math.floor((v+y)/2),o.removeChild(s)}if(m=s.nextSibling,-1==l&&m&&g(m)){if(k.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(m.data))for(C=k.duplicate(),_=C.text.replace(/\r\n/g,"\r").length,x=C.moveStart("character",_);-1==(l=C.compareEndPoints("StartToEnd",C));)x++,C.moveStart("character",1);else x=k.text.length;p=new f(m,x)}else d=(i||!n)&&s.previousSibling,h=(i||n)&&s.nextSibling,p=h&&g(h)?new f(h,0):d&&g(d)?new f(d,d.data.length):new f(o,c.getNodeIndex(s));return s.parentNode.removeChild(s),{boundaryPosition:p,nodeInfo:{nodeIndex:w,containerElement:o}}},s=function(e,t){var n,i,r,o,a=e.offset,s=c.getDocument(e.node),l=p(s).createTextRange(),u=g(e.node);return u?(n=e.node,i=n.parentNode):(o=e.node.childNodes,n=a<o.length?o[a]:null,i=e.node),r=s.createElement("span"),r.innerHTML="&#feff;",n?i.insertBefore(r,n):i.appendChild(r),l.moveToElementText(r),l.collapse(!t),i.removeChild(r),u&&l[t?"moveStart":"moveEnd"]("character",a),l},i=function(e){this.textRange=e,this.refresh()},i.prototype=new h(document),i.prototype.refresh=function(){var e,t,n,i=r(this.textRange);o(this.textRange)?t=e=a(this.textRange,i,!0,!0).boundaryPosition:(n=a(this.textRange,i,!0,!1),e=n.boundaryPosition,t=a(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},i.prototype.getName=function(){return"WrappedTextRange"},h.copyComparisonConstants(i),l=function(e){var t,n,i;return e.collapsed?s(new f(e.startContainer,e.startOffset),!0):(t=s(new f(e.startContainer,e.startOffset),!0),n=s(new f(e.endContainer,e.endOffset),!1),i=p(h.getRangeDocument(e)).createTextRange(),i.setEndPoint("StartToStart",t),i.setEndPoint("EndToEnd",n),i)},i.rangeToTextRange=l,i.prototype.toTextRange=function(){return l(this)},e.WrappedTextRange=i,(!e.features.implementsDomRange||e.config.preferTextRange)&&(u=function(){return this}(),void 0===u.Range&&(u.Range=i),e.createNativeRange=function(e){return e=m(e,t,"createNativeRange"),p(e).createTextRange()},e.WrappedRange=i)),e.createRange=function(n){return n=m(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=m(e,t,"createRangyRange"),new h(e)},e.createIframeRange=function(n){return t.deprecationNotice("createIframeRange()","createRange(iframeEl)"),e.createRange(n)},e.createIframeRangyRange=function(n){return t.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),e.createRangyRange(n)},e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),N.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){function n(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function i(e,n){if(e){if(D.isWindow(e))return e;if(e instanceof v)return e.win;var i=D.getContentDocument(e,t,n);return D.getWindow(i)}return window}function r(e){return i(e,"getWinSelection").getSelection()}function o(e){return i(e,"getDocSelection").document.selection}function a(e){var t=!1;return e.anchorNode&&(t=1==D.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}function s(e,t,n){var i=n?"end":"start",r=n?"start":"end";e.anchorNode=t[i+"Container"],e.anchorOffset=t[i+"Offset"],e.focusNode=t[r+"Container"],e.focusOffset=t[r+"Offset"]}function l(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}function u(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function c(t){var n;return t instanceof E?(n=e.createNativeRange(t.getDocument()),n.setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof A?n=t.nativeRange:I.implementsDomRange&&t instanceof D.getWindow(t.startContainer).Range&&(n=t),n}function d(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;n>t;++t)if(!D.isAncestorOf(e[0],e[t]))return!1;return!0}function f(e){var n=e.getNodes();if(!d(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function h(e){return!!e&&void 0!==e.text}function p(e,t){var n=new A(t);e._ranges=[n],s(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function m(t){var n,i,r,o;if(t._ranges.length=0,"None"==t.docSelection.type)u(t);else if(n=t.docSelection.createRange(),h(n))p(t,n);else{for(t.rangeCount=n.length,r=L(n.item(0)),o=0;o<t.rangeCount;++o)i=e.createRange(r),i.selectNode(n.item(o)),t._ranges.push(i);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,s(t,t._ranges[t.rangeCount-1],!1)}}function g(e,n){var i,r,o=e.docSelection.createRange(),a=f(n),s=L(o.item(0)),l=B(s).createControlRange();for(i=0,r=o.length;r>i;++i)l.add(o.item(i));try{l.add(a)}catch(u){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}l.select(),m(e)}function v(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function b(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}function y(e,t){for(var n,i,r=te.length;r--;)if(n=te[r],i=n.selection,"deleteAll"==t)b(i);else if(n.win==e)return"delete"==t?(te.splice(r,1),!0):i;return"deleteAll"==t&&(te.length=0),null}function w(e,n){var i,r,o,a=L(n[0].startContainer),s=B(a).createControlRange();for(i=0,o=n.length;o>i;++i){r=f(n[i]);try{s.add(r)}catch(l){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),m(e)}function x(e,t){if(e.win.document!=L(t))throw new O("WRONG_DOCUMENT_ERR")}function C(t){return function(n,i){var r;this.rangeCount?(r=this.getRangeAt(0),r["set"+(t?"Start":"End")](n,i)):(r=e.createRange(this.win.document),r.setStartAndEnd(n,i)),this.setSingleRange(r,this.isBackward())}}function _(e){var t,n,i=[],r=new M(e.anchorNode,e.anchorOffset),o=new M(e.focusNode,e.focusOffset),a="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(t=0,n=e.rangeCount;n>t;++t)i[t]=E.inspect(e.getRangeAt(t));return"["+a+"(Ranges: "+i.join(", ")+")(anchor: "+r.inspect()+", focus: "+o.inspect()+"]"}var k,S,D,$,T,E,A,O,M,N,P,I,R,L,B,F,H,j,V,z,U,W,q,Y,G,K,X,J,Z,Q,ee,te,ne,ie,re,oe,ae,se;if(e.config.checkSelectionRanges=!0,k="boolean",S="number",D=e.dom,$=e.util,T=$.isHostMethod,E=e.DomRange,A=e.WrappedRange,O=e.DOMException,M=D.DomPosition,I=e.features,R="Control",L=D.getDocument,B=D.getBody,F=E.rangesEqual,H=T(window,"getSelection"),j=$.isHostObject(document,"selection"),I.implementsWinGetSelection=H,I.implementsDocSelection=j,V=j&&(!H||e.config.preferTextRange),V?(N=o,e.isSelectionValid=function(e){var t=i(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||L(n.createRange().parentElement())==t}):H?(N=r,e.isSelectionValid=function(){return!0}):t.fail("Neither document.selection or window.getSelection() detected."),e.getNativeSelection=N,z=N(),U=e.createNativeRange(document),W=B(document),q=$.areHostProperties(z,["anchorNode","focusNode","anchorOffset","focusOffset"]),I.selectionHasAnchorAndFocus=q,Y=T(z,"extend"),I.selectionHasExtend=Y,G=typeof z.rangeCount==S,I.selectionHasRangeCount=G,K=!1,X=!0,J=Y?function(t,n){var i=E.getRangeDocument(n),r=e.createRange(i);r.collapseToPoint(n.endContainer,n.endOffset),t.addRange(c(r)),t.extend(n.startContainer,n.startOffset)}:null,$.areHostMethods(z,["addRange","getRangeAt","removeAllRanges"])&&typeof z.rangeCount==S&&I.implementsDomRange&&!function(){var t,n,i,r,o,s,l,u,c,d,f,h=window.getSelection();if(h){for(t=h.rangeCount,n=t>1,i=[],r=a(h),o=0;t>o;++o)i[o]=h.getRangeAt(o);for(s=B(document),l=s.appendChild(document.createElement("div")),l.contentEditable="false",u=l.appendChild(document.createTextNode("")),c=document.createRange(),c.setStart(u,1),c.collapse(!0),h.addRange(c),X=1==h.rangeCount,h.removeAllRanges(),n||(d=window.navigator.appVersion.match(/Chrome\/(.*?) /),d&&parseInt(d[1])>=36?K=!1:(f=c.cloneRange(),c.setStart(u,0),f.setEnd(u,3),f.setStart(u,2),h.addRange(c),h.addRange(f),K=2==h.rangeCount)),s.removeChild(l),h.removeAllRanges(),o=0;t>o;++o)0==o&&r?J?J(h,i[o]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),h.addRange(i[o])):h.addRange(i[o])}}(),I.selectionSupportsMultipleRanges=K,I.collapsedNonEditableSelectionsSupported=X,Z=!1,W&&T(W,"createControlRange")&&(Q=W.createControlRange(),$.areHostProperties(Q,["item","add"])&&(Z=!0)),I.implementsControlRange=Z,P=q?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},T(z,"getRangeAt")?ee=function(e,t){try{return e.getRangeAt(t)}catch(n){return null}}:q&&(ee=function(t){var n=L(t.anchorNode),i=e.createRange(n);return i.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),i}),v.prototype=e.selectionPrototype,te=[],ne=function(e){var t,n,r;return e&&e instanceof v?(e.refresh(),e):(e=i(e,"getNativeSelection"),t=y(e),n=N(e),r=j?o(e):null,t?(t.nativeSelection=n,t.docSelection=r,t.refresh()):(t=new v(n,r,e),te.push({win:e,selection:t})),t)},e.getSelection=ne,e.getIframeSelection=function(n){return t.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),e.getSelection(D.getIframeWindow(n))},ie=v.prototype,!V&&q&&$.areHostMethods(z,["removeAllRanges","addRange"]))ie.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),u(this)},re=function(e,t){J(e.nativeSelection,t),e.refresh()},ie.addRange=G?function(t,i){var r,o;Z&&j&&this.docSelection.type==R?g(this,t):n(i)&&Y?re(this,t):(K?r=this.rangeCount:(this.removeAllRanges(),r=0),this.nativeSelection.addRange(c(t).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==r+1?(e.config.checkSelectionRanges&&(o=ee(this.nativeSelection,this.rangeCount-1),o&&!F(o,t)&&(t=new A(o))),this._ranges[this.rangeCount-1]=t,s(this,t,se(this.nativeSelection)),this.isCollapsed=P(this)):this.refresh())}:function(e,t){n(t)&&Y?re(this,e):(this.nativeSelection.addRange(c(e)),this.refresh())},ie.setRanges=function(e){if(Z&&j&&e.length>1)w(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;n>t;++t)this.addRange(e[t])}};else{if(!(T(z,"empty")&&T(U,"select")&&Z&&V))return t.fail("No means of selecting a Range or TextRange was found"),!1;ie.removeAllRanges=function(){var e,t,n;try{this.docSelection.empty(),"None"!=this.docSelection.type&&(this.anchorNode?e=L(this.anchorNode):this.docSelection.type==R&&(t=this.docSelection.createRange(),t.length&&(e=L(t.item(0)))),e&&(n=B(e).createTextRange(),n.select(),this.docSelection.empty()))}catch(i){}u(this)},ie.addRange=function(t){this.docSelection.type==R?g(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,s(this,t,!1))},ie.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?w(this,e):t&&this.addRange(e[0])}}if(ie.getRangeAt=function(e){if(0>e||e>=this.rangeCount)throw new O("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},V)oe=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=B(t.win.document).createTextRange(),n.collapse(!0)),t.docSelection.type==R?m(t):h(n)?p(t,n):u(t)};else if(T(z,"getRangeAt")&&typeof z.rangeCount==S)oe=function(t){if(Z&&j&&t.docSelection.type==R)m(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,i=t.rangeCount;i>n;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));s(t,t._ranges[t.rangeCount-1],se(t.nativeSelection)),t.isCollapsed=P(t)}else u(t)};else{if(!q||typeof z.isCollapsed!=k||typeof U.collapsed!=k||!I.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;oe=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=ee(n,0),e._ranges=[t],e.rangeCount=1,l(e),e.isCollapsed=P(e)):u(e)}}ie.refresh=function(e){var t,n=e?this._ranges.slice(0):null,i=this.anchorNode,r=this.anchorOffset;if(oe(this),e){if(t=n.length,t!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=r)return!0;for(;t--;)if(!F(n[t],this._ranges[t]))return!0;return!1}},ae=function(e,t){var n,i,r=e.getAllRanges();for(e.removeAllRanges(),n=0,i=r.length;i>n;++n)F(t,r[n])||e.addRange(r[n]);e.rangeCount||u(e)},ie.removeRange=Z&&j?function(e){var t,n,i,r,o,a,s,l;if(this.docSelection.type==R){for(t=this.docSelection.createRange(),n=f(e),i=L(t.item(0)),r=B(i).createControlRange(),a=!1,s=0,l=t.length;l>s;++s)o=t.item(s),o!==n||a?r.add(t.item(s)):a=!0;r.select(),m(this)}else ae(this,e)}:function(e){ae(this,e)},!V&&q&&I.implementsDomRange?(se=a,ie.isBackward=function(){return se(this)}):se=ie.isBackward=function(){return!1},ie.isBackwards=ie.isBackward,ie.toString=function(){var e,t,n=[];for(e=0,t=this.rangeCount;t>e;++e)n[e]=""+this._ranges[e];return n.join("")},ie.collapse=function(t,n){x(this,t);var i=e.createRange(t);i.collapseToPoint(t,n),this.setSingleRange(i),this.isCollapsed=!0},ie.collapseToStart=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},ie.collapseToEnd=function(){if(!this.rangeCount)throw new O("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},ie.selectAllChildren=function(t){x(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},ie.deleteFromDocument=function(){var e,t,n,i,r;if(Z&&j&&this.docSelection.type==R){for(e=this.docSelection.createRange();e.length;)t=e.item(0),e.remove(t),t.parentNode.removeChild(t);this.refresh()}else if(this.rangeCount&&(n=this.getAllRanges(),n.length)){for(this.removeAllRanges(),i=0,r=n.length;r>i;++i)n[i].deleteContents();this.addRange(n[r-1])}},ie.eachRange=function(e,t){for(var n=0,i=this._ranges.length;i>n;++n)if(e(this.getRangeAt(n)))return t},ie.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},ie.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},ie.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(i){n.push(i[e].apply(i,t))}),n},ie.setStart=C(!0),ie.setEnd=C(!1),e.rangePrototype.select=function(e){ne(this.getDocument()).setSingleRange(this,e)},ie.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},ie.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},ie.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},ie.moveToBookmark=function(t){var n,i,r,o=[];for(n=0;i=t.rangeBookmarks[n++];)r=e.createRange(this.win),r.moveToBookmark(i),o.push(r);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},ie.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(E.toHtml(t))}),e.join("")},I.implementsTextRange&&(ie.getNativeTextRange=function(){var n,i;if(n=this.docSelection){if(i=n.createRange(),h(i))return i;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),ie.getName=function(){return"WrappedSelection"},ie.inspect=function(){return _(this)},ie.detach=function(){y(this.win,"delete"),b(this)},v.detachAll=function(){y(null,"deleteAll")},v.inspect=_,v.isDirectionBackward=n,e.Selection=v,e.selectionPrototype=ie,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return ne(e)}),e=null})}),N)},this),function(e,t){"function"==typeof define&&define.amd?define(["rangy"],e):e(t.rangy)}(function(e){e.createModule("SaveRestore",["WrappedRange"],function(e,t){function n(e,t){return(t||document).getElementById(e)}function i(e,t){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),r=p.getDocument(e.startContainer),o=e.cloneRange();return o.collapse(t),n=r.createElement("span"),n.id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(r.createTextNode(m)),o.insertNode(n),n}function r(e,i,r,o){var a=n(r,e);a?(i[o?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):t.warn("Marker element has been removed. Cannot restore selection.")}function o(e,t){return t.compareBoundaryPoints(e.START_TO_START,e)}function a(t,n){var r,o,a=e.DomRange.getRangeDocument(t),s=""+t;return t.collapsed?(o=i(t,!1),{document:a,markerId:o.id,collapsed:!0}):(o=i(t,!1),r=i(t,!0),{document:a,startMarkerId:r.id,endMarkerId:o.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+s+"', new text: '"+t+"'"}})}function s(i,o){var a,s,l,u=i.document;return void 0===o&&(o=!0),a=e.createRange(u),i.collapsed?(s=n(i.markerId,u),s?(s.style.display="inline",l=s.previousSibling,l&&3==l.nodeType?(s.parentNode.removeChild(s),a.collapseToPoint(l,l.length)):(a.collapseBefore(s),s.parentNode.removeChild(s))):t.warn("Marker element has been removed. Cannot restore selection.")):(r(u,a,i.startMarkerId,!0),r(u,a,i.endMarkerId,!1)),o&&a.normalizeBoundaries(),a}function l(t,i){var r,s,l,u,c=[];for(t=t.slice(0),t.sort(o),l=0,u=t.length;u>l;++l)c[l]=a(t[l],i);for(l=u-1;l>=0;--l)r=t[l],s=e.DomRange.getRangeDocument(r),r.collapsed?r.collapseAfter(n(c[l].markerId,s)):(r.setEndBefore(n(c[l].endMarkerId,s)),r.setStartAfter(n(c[l].startMarkerId,s)));return c}function u(n){var i,r,o,a;return e.isSelectionValid(n)?(i=e.getSelection(n),r=i.getAllRanges(),o=1==r.length&&i.isBackward(),a=l(r,o),o?i.setSingleRange(r[0],"backward"):i.setRanges(r),{win:n,rangeInfos:a,restored:!1}):(t.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null)}function c(e){var t,n=[],i=e.length;for(t=i-1;t>=0;t--)n[t]=s(e[t],!0);return n}function d(t,n){var i,r,o,a;t.restored||(i=t.rangeInfos,r=e.getSelection(t.win),o=c(i),a=i.length,1==a&&n&&e.features.selectionHasExtend&&i[0].backward?(r.removeAllRanges(),r.addRange(o[0],!0)):r.setRanges(o),t.restored=!0)}function f(e,t){var i=n(t,e);i&&i.parentNode.removeChild(i)}function h(e){var t,n,i,r=e.rangeInfos;for(t=0,n=r.length;n>t;++t)i=r[t],i.collapsed?f(e.doc,i.markerId):(f(e.doc,i.startMarkerId),f(e.doc,i.endMarkerId))}var p=e.dom,m="\ufeff";e.util.extend(e,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:u,restoreSelection:d,removeMarkerElement:f,removeMarkers:h})})},this),Base=function(){},Base.extend=function(e,t){var n,i,r,o=Base.prototype.extend;return Base._prototyping=!0,n=new this,o.call(n,e),n.base=function(){},delete Base._prototyping,i=n.constructor,r=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==r)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||o).call(arguments[0],n)},r.ancestor=this,r.extend=this.extend,r.forEach=this.forEach,r.implement=this.implement,r.prototype=n,r.toString=this.toString,r.valueOf=function(e){return"object"==e?r:i.valueOf()},o.call(r,t),"function"==typeof r.init&&r.init(),r},Base.prototype={extend:function(e,t){var n,i,r,o,a,s,l;if(arguments.length>1)n=this[e],!n||"function"!=typeof t||n.valueOf&&n.valueOf()==t.valueOf()||!/\bbase\b/.test(t)||(i=t.valueOf(),t=function(){var e,t=this.base||Base.prototype.base;return this.base=n,e=i.apply(this,arguments),this.base=t,e},t.valueOf=function(e){
return"object"==e?t:i},t.toString=Base.toString),this[e]=t;else if(e){for(r=Base.prototype.extend,Base._prototyping||"function"==typeof this||(r=this.extend||r),o={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)e[l]!=o[l]&&r.call(this,l,e[l]);for(l in e)o[l]||r.call(this,l,e[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(e,t,n){for(var i in e)void 0===this.prototype[i]&&t.call(n,e[i],i,e)},implement:function(){for(var e=0;e<arguments.length;e++)"function"==typeof arguments[e]?arguments[e](this.prototype):this.prototype.extend(arguments[e]);return this},toString:function(){return this.valueOf()+""}}),wysihtml5.browser=function(){function e(e){return+(/ipad|iphone|ipod/.test(e)&&e.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}function t(e){return+(e.match(/android (\d+)/)||[void 0,0])[1]}function n(e,t){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!e||(t?"<"===t?i>e:">"===t?e>i:"<="===t?i>=e:">="===t?e>=i:void 0:e===i))}var i=navigator.userAgent,r=document.createElement("div"),o=-1!==i.indexOf("Gecko")&&-1===i.indexOf("KHTML"),a=-1!==i.indexOf("AppleWebKit/"),s=-1!==i.indexOf("Chrome/"),l=-1!==i.indexOf("Opera/");return{USER_AGENT:i,supported:function(){var n=this.USER_AGENT.toLowerCase(),i="contentEditable"in r,o=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,a=document.querySelector&&document.querySelectorAll,s=this.isIos()&&e(n)<5||this.isAndroid()&&t(n)<4||-1!==n.indexOf("opera mobi")||-1!==n.indexOf("hpwos/");return i&&o&&a&&!s},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return n()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return n()},hasCurrentStyleProperty:function(){return"currentStyle"in r},hasHistoryIssue:function(){return o&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return o},supportsPlaceholderAttributeOn:function(e){return"placeholder"in e},supportsEvent:function(e){return"on"+e in r||function(){return r.setAttribute("on"+e,"return;"),"function"==typeof r["on"+e]}()},supportsEventsInIframeCorrectly:function(){return!l},supportsHTML5Tags:function(e){var t=e.createElement("div"),n="<article>foo</article>";return t.innerHTML=n,t.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:n(10,"<="),insertUnorderedList:n(),insertOrderedList:n()},t={insertHTML:o};return function(n,i){var r=e[i];if(!r){try{return n.queryCommandSupported(i)}catch(o){}try{return n.queryCommandEnabled(i)}catch(a){return!!t[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return n()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return o||l||a},supportsGetAttributeCorrectly:function(){var e=document.createElement("td");return"1"!=e.getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return o||n()||l},autoScrollsToCaret:function(){return!a},autoClosesUnclosedTags:function(){var e,t,n=r.cloneNode(!1);return n.innerHTML="<p><div></div>",t=n.innerHTML.toLowerCase(),e="<p></p><div></div>"===t||"<p><div></div></p>"===t,this.autoClosesUnclosedTags=function(){return e},e},supportsNativeGetElementsByClassName:function(){return-1!==(document.getElementsByClassName+"").indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return l},supportsSpeechApiOn:function(e){var t=i.match(/Chrome\/(\d+)/)||[void 0,0];return t[1]>=11&&("onwebkitspeechchange"in e||"speech"in e)},crashesWhenDefineProperty:function(e){return n(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return n()},hasProblemsSettingCaretAfterImg:function(){return n()},hasUndoInContextMenu:function(){return o||s||l},hasInsertNodeIssue:function(){return l},hasIframeFocusIssue:function(){return n()},createsNestedInvalidMarkupAfterPaste:function(){return a},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(e){return{contains:function(t){if(Array.isArray(t)){for(var n=t.length;n--;)if(-1!==wysihtml5.lang.array(e).indexOf(t[n]))return!0;return!1}return-1!==wysihtml5.lang.array(e).indexOf(t)},indexOf:function(t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},without:function(t){t=wysihtml5.lang.array(t);for(var n=[],i=0,r=e.length;r>i;i++)t.contains(e[i])||n.push(e[i]);return n},get:function(){for(var t=0,n=e.length,i=[];n>t;t++)i.push(e[t]);return i},map:function(t,n){if(Array.prototype.map)return e.map(t,n);for(var i=e.length>>>0,r=Array(i),o=0;i>o;o++)r[o]=t.call(n,e[o],o,e);return r},unique:function(){for(var t=[],n=e.length,i=0;n>i;)wysihtml5.lang.array(t).contains(e[i])||t.push(e[i]),i++;return t}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(e,t){return this.events=this.events||{},this.events[e]=this.events[e]||[],this.events[e].push(t),this},off:function(e,t){this.events=this.events||{};var n,i,r=0;if(e){for(n=this.events[e]||[],i=[];r<n.length;r++)n[r]!==t&&t&&i.push(n[r]);this.events[e]=i}else this.events={};return this},fire:function(e,t){this.events=this.events||{};for(var n=this.events[e]||[],i=0;i<n.length;i++)n[i].call(this,t);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(e){return{merge:function(t){for(var n in t)e[n]=t[n];return this},get:function(){return e},clone:function(t){var n,i={};if(null===e||!wysihtml5.lang.object(e).isPlainObject())return e;for(n in e)e.hasOwnProperty(n)&&(i[n]=t?wysihtml5.lang.object(e[n]).clone(t):e[n]);return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(e)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(e)}}},function(){var e=/^\s+/,t=/\s+$/,n=/[&<>\t"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(r){return r+="",{trim:function(){return r.replace(e,"").replace(t,"")},interpolate:function(e){for(var t in e)r=this.replace("#{"+t+"}").by(e[t]);return r},replace:function(e){return{by:function(t){return r.split(e).join(t)}}},escapeHTML:function(e,t){var o=r.replace(n,function(e){return i[e]});return e&&(o=o.replace(/(?:\r\n|\r|\n)/g,"<br />")),t&&(o=o.replace(/  /gi,"&nbsp; ")),o}}}}(),function(e){function t(e,t){return o(e,t)?e:(e===e.ownerDocument.documentElement&&(e=e.ownerDocument.body),a(e,t))}function n(e){return e.replace(l,function(e,t){var n,i,r=(t.match(u)||[])[1]||"",o=d[r];return t=t.replace(u,""),t.split(o).length>t.split(r).length&&(t+=r,r=""),n=t,i=t,t.length>c&&(i=i.substr(0,c)+"..."),"www."===n.substr(0,4)&&(n="http://"+n),'<a href="'+n+'">'+i+"</a>"+r})}function i(e){var t=e._wysihtml5_tempElement;return t||(t=e._wysihtml5_tempElement=e.createElement("div")),t}function r(t){var r=t.parentNode,o=e.lang.string(t.data).escapeHTML(),a=i(r.ownerDocument);for(a.innerHTML="<span></span>"+n(o),a.removeChild(a.firstChild);a.firstChild;)r.insertBefore(a.firstChild,t);r.removeChild(t)}function o(t,n){for(var i;t.parentNode;){if(t=t.parentNode,i=t.nodeName,t.className&&e.lang.array(t.className.split(" ")).contains(n))return!0;if(s.contains(i))return!0;if("body"===i)return!1}return!1}function a(t,n){if(!(s.contains(t.nodeName)||t.className&&e.lang.array(t.className.split(" ")).contains(n))){if(t.nodeType===e.TEXT_NODE&&t.data.match(l))return void r(t);for(var i=e.lang.array(t.childNodes).get(),o=i.length,u=0;o>u;u++)a(i[u],n);return t}}var s=e.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),l=/((https?:\/\/|www\.)[^\s<]{3,})/gi,u=/([^\w\/\-](,?))$/i,c=100,d={")":"(","]":"[","}":"{"};e.dom.autoLink=t,e.dom.autoLink.URL_REG_EXP=l}(wysihtml5),function(e){var t=e.dom;t.addClass=function(e,n){var i=e.classList;return i?i.add(n):void(t.hasClass(e,n)||(e.className+=" "+n))},t.removeClass=function(e,t){var n=e.classList;return n?n.remove(t):void(e.className=e.className.replace(RegExp("(^|\\s+)"+t+"(\\s+|$)")," "))},t.hasClass=function(e,t){var n,i=e.classList;return i?i.contains(t):(n=e.className,n.length>0&&(n==t||RegExp("(^|\\s)"+t+"(\\s|$)").test(n)))}}(wysihtml5),wysihtml5.dom.contains=function(){var e=document.documentElement;return e.contains?function(e,t){return t.nodeType!==wysihtml5.ELEMENT_NODE&&(t=t.parentNode),e!==t&&e.contains(t)}:e.compareDocumentPosition?function(e,t){return!!(16&e.compareDocumentPosition(t))}:void 0}(),wysihtml5.dom.convertToList=function(){function e(e,t){var n=e.createElement("li");return t.appendChild(n),n}function t(e,t){return e.createElement(t)}function n(n,i,r){if("UL"===n.nodeName||"OL"===n.nodeName||"MENU"===n.nodeName)return n;var o,a,s,l,u,c,d,f,h,p=n.ownerDocument,m=t(p,i),g=n.querySelectorAll("br"),v=g.length;for(h=0;v>h;h++)for(l=g[h];(u=l.parentNode)&&u!==n&&u.lastChild===l;){if("block"===wysihtml5.dom.getStyle("display").from(u)){u.removeChild(l);break}wysihtml5.dom.insert(l).after(l.parentNode)}for(o=wysihtml5.lang.array(n.childNodes).get(),a=o.length,h=0;a>h;h++)f=f||e(p,m),s=o[h],c="block"===wysihtml5.dom.getStyle("display").from(s),d="BR"===s.nodeName,!c||r&&wysihtml5.dom.hasClass(s,r)?d?f=f.firstChild?null:f:f.appendChild(s):(f=f.firstChild?e(p,m):f,f.appendChild(s),f=null);return 0===o.length&&e(p,m),n.parentNode.replaceChild(m,n),m}return n}(),wysihtml5.dom.copyAttributes=function(e){return{from:function(t){return{to:function(n){for(var i,r=0,o=e.length;o>r;r++)i=e[r],void 0!==t[i]&&""!==t[i]&&(n[i]=t[i]);return{andTo:arguments.callee}}}}}},function(e){var t=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(t){return!!i(t)&&parseInt(e.getStyle("width").from(t),10)<t.offsetWidth},i=function(n){for(var i=0,r=t.length;r>i;i++)if("border-box"===e.getStyle(t[i]).from(n))return t[i]};e.copyStyles=function(i){return{from:function(r){n(r)&&(i=wysihtml5.lang.array(i).without(t));for(var o,a="",s=i.length,l=0;s>l;l++)o=i[l],a+=o+":"+e.getStyle(o).from(r)+";";return{to:function(t){return e.setStyles(a).on(t),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(e){e.dom.delegate=function(t,n,i,r){return e.dom.observe(t,i,function(i){for(var o=i.target,a=e.lang.array(t.querySelectorAll(n));o&&o!==t;){if(a.contains(o)){r.call(o,i);break}o=o.parentNode}})}}(wysihtml5),function(e){e.dom.domNode=function(t){var n=[e.ELEMENT_NODE,e.TEXT_NODE],i=function(t){return t.nodeType===e.TEXT_NODE&&/^\s*$/g.test(t.data)};return{prev:function(r){var o=t.previousSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).prev(r):o:null},next:function(r){var o=t.nextSibling,a=r&&r.nodeTypes?r.nodeTypes:n;return o?!e.lang.array(a).contains(o.nodeType)||r&&r.ignoreBlankTexts&&i(o)?e.dom.domNode(o).next(r):o:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var e=function(e,t){var n=t.createElement("div");n.style.display="none",t.body.appendChild(n);try{n.innerHTML=e}catch(i){}return t.body.removeChild(n),n},t=function(e){if(!e._wysihtml5_supportsHTML5Tags){for(var t=0,i=n.length;i>t;t++)e.createElement(n[t]);e._wysihtml5_supportsHTML5Tags=!0}},n=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(n,i){i=i||document;var r;return"object"==typeof n&&n.nodeType?(r=i.createElement("div"),r.appendChild(n)):wysihtml5.browser.supportsHTML5Tags(i)?(r=i.createElement("div"),r.innerHTML=n):(t(i),r=e(n,i)),r}}(),wysihtml5.dom.getParentElement=function(){function e(e,t){return!t||!t.length||("string"==typeof t?e===t:wysihtml5.lang.array(t).contains(e))}function t(e){return e.nodeType===wysihtml5.ELEMENT_NODE}function n(e,t,n){var i=(e.className||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}function i(e,t,n){var i=(e.getAttribute("style")||"").match(n)||[];return t?i[i.length-1]===t:!!i.length}return function(r,o,a,s){var l=o.cssStyle||o.styleRegExp,u=o.className||o.classRegExp;for(a=a||50;a--&&r&&"BODY"!==r.nodeName&&(!s||r!==s);){if(t(r)&&e(r.nodeName,o.nodeName)&&(!l||i(r,o.cssStyle,o.styleRegExp))&&(!u||n(r,o.className,o.classRegExp)))return r;r=r.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function e(e){return e.replace(n,function(e){return e.charAt(1).toUpperCase()})}var t={"float":"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){var r,o,a,s,l,u,c,d,f;if(i.nodeType===wysihtml5.ELEMENT_NODE){if(r=i.ownerDocument,o=t[n]||e(n),a=i.style,s=i.currentStyle,l=a[o])return l;if(s)try{return s[o]}catch(h){}return u=r.defaultView||r.parentWindow,c=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName,u.getComputedStyle?(c&&(d=a.overflow,a.overflow="hidden"),f=u.getComputedStyle(i,null).getPropertyValue(n),c&&(a.overflow=d||""),f):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(e,t){var n=[];for(e=e.firstChild;e;e=e.nextSibling)3==e.nodeType?t&&/^\s*$/.test(e.innerText||e.textContent)||n.push(e):n=n.concat(wysihtml5.dom.getTextNodes(e,t));return n},wysihtml5.dom.hasElementWithTagName=function(){function e(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=n++)}var t={},n=1;return function(n,i){var r=e(n)+":"+i,o=t[r];return o||(o=t[r]=n.getElementsByTagName(i)),o.length>0}}(),function(e){function t(e){return e._wysihtml5_identifier||(e._wysihtml5_identifier=i++)}var n={},i=1;e.dom.hasElementWithClassName=function(i,r){if(!e.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+r);var o=t(i)+":"+r,a=n[o];return a||(a=n[o]=i.getElementsByClassName(r)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(e){return{after:function(t){t.parentNode.insertBefore(e,t.nextSibling)},before:function(t){t.parentNode.insertBefore(e,t)},into:function(t){t.appendChild(e)}}},wysihtml5.dom.insertCSS=function(e){return e=e.join("\n"),{into:function(t){var n,i,r=t.createElement("style");return r.type="text/css",r.styleSheet?r.styleSheet.cssText=e:r.appendChild(t.createTextNode(e)),n=t.querySelector("head link"),n?void n.parentNode.insertBefore(r,n):(i=t.querySelector("head"),void(i&&i.appendChild(r)))}}},function(e){e.dom.lineBreaks=function(t){function n(e){return"BR"===e.nodeName}function i(t){return!!n(t)||"block"===e.dom.getStyle("display").from(t)}return{add:function(){var n=t.ownerDocument,r=e.dom.domNode(t).next({ignoreBlankTexts:!0}),o=e.dom.domNode(t).prev({ignoreBlankTexts:!0});r&&!i(r)&&e.dom.insert(n.createElement("br")).after(t),o&&!i(o)&&e.dom.insert(n.createElement("br")).before(t)},remove:function(){var i=e.dom.domNode(t).next({ignoreBlankTexts:!0}),r=e.dom.domNode(t).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),r&&n(r)&&r.parentNode.removeChild(r)}}}}(wysihtml5),wysihtml5.dom.observe=function(e,t,n){t="string"==typeof t?[t]:t;for(var i,r,o=0,a=t.length;a>o;o++)r=t[o],e.addEventListener?e.addEventListener(r,n,!1):(i=function(t){"target"in t||(t.target=t.srcElement),t.preventDefault=t.preventDefault||function(){this.returnValue=!1},t.stopPropagation=t.stopPropagation||function(){this.cancelBubble=!0},n.call(e,t)},e.attachEvent("on"+r,i));return{stop:function(){for(var r,o=0,a=t.length;a>o;o++)r=t[o],e.removeEventListener?e.removeEventListener(r,n,!1):e.detachEvent("on"+r,i)}}},wysihtml5.dom.parse=function(e,t){function n(e,t){var n,o,a,s,l,u,c,d,f;for(wysihtml5.lang.object(y).merge(b).merge(t.rules).get(),n=t.context||e.ownerDocument||document,o=n.createDocumentFragment(),a="string"==typeof e,s=!1,t.clearInternals===!0&&(s=!0),l=a?wysihtml5.dom.getAsDom(e,n):e,y.selectors&&r(l,y.selectors);l.firstChild;)c=l.firstChild,u=i(c,t.cleanUp,s,t.uneditableClass),u&&o.appendChild(u),c!==u&&l.removeChild(c);if(t.unjoinNbsps)for(d=wysihtml5.dom.getTextNodes(o),f=d.length;f--;)d[f].nodeValue=d[f].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return l.innerHTML="",l.appendChild(o),a?wysihtml5.quirks.getCorrectInnerHTML(l):l}function i(e,t,n,r){var o,a,s,l=e.nodeType,u=e.childNodes,c=u.length,d=m[l],f=0;if(r&&1===l&&wysihtml5.dom.hasClass(e,r))return e;if(a=d&&d(e,n),!a){if(a===!1){for(o=e.ownerDocument.createDocumentFragment(),f=c;f--;)u[f]&&(s=i(u[f],t,n,r),s&&(u[f]===s&&f--,o.insertBefore(s,o.firstChild)));return"block"===wysihtml5.dom.getStyle("display").from(e)&&o.appendChild(e.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(e.nodeName.toLowerCase())&&e.parentNode.lastChild!==e&&(e.nextSibling&&3===e.nextSibling.nodeType&&/^\s/.test(e.nextSibling.nodeValue)||o.appendChild(e.ownerDocument.createTextNode(" "))),o.normalize&&o.normalize(),o}return null}for(f=0;c>f;f++)u[f]&&(s=i(u[f],t,n,r),s&&(u[f]===s&&f--,a.appendChild(s)));if(t&&a.nodeName.toLowerCase()===g&&(!a.childNodes.length||/^\s*$/gi.test(a.innerHTML)&&(n||"_wysihtml5-temp-placeholder"!==e.className&&"rangySelectionBoundary"!==e.className)||!a.attributes.length)){for(o=a.ownerDocument.createDocumentFragment();a.firstChild;)o.appendChild(a.firstChild);return o.normalize&&o.normalize(),o}return a.normalize&&a.normalize(),a}function r(e,t){var n,i,r,o;for(n in t)if(t.hasOwnProperty(n))for(wysihtml5.lang.object(t[n]).isFunction()?i=t[n]:"string"==typeof t[n]&&S[t[n]]&&(i=S[t[n]]),r=e.querySelectorAll(n),o=r.length;o--;)i(r[o])}function o(e,t){var n,i,r,o=y.tags,s=e.nodeName.toLowerCase(),u=e.scopeName;if(e._wysihtml5)return null;if(e._wysihtml5=1,"wysihtml5-temp"===e.className)return null;if(u&&"HTML"!=u&&(s=u+":"+s),"outerHTML"in e&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==e.nodeName||"</p>"===e.outerHTML.slice(-4).toLowerCase()||(s="div")),s in o){if(n=o[s],!n||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!e.firstChild)return null;n={rename_tag:g}}if(n.one_of_type&&!a(e,y,n.one_of_type,t)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;r=n.remove_action_rename_to||g}return i=e.ownerDocument.createElement(r||n.rename_tag||s),f(e,i,n,t),l(e,i,n),e=null,i.normalize&&i.normalize(),i}function a(e,t,n,i){var r,o;if("SPAN"===e.nodeName&&!i&&("_wysihtml5-temp-placeholder"===e.className||"rangySelectionBoundary"===e.className))return!0;for(o in n)if(n.hasOwnProperty(o)&&t.type_definitions&&t.type_definitions[o]&&(r=t.type_definitions[o],s(e,r)))return!0;return!1}function s(e,t){var n,i,r,o,a,s,l,u,c=e.getAttribute("class"),d=e.getAttribute("style");if(t.methods)for(s in t.methods)if(t.methods.hasOwnProperty(s)&&k[s]&&k[s](e))return!0;if(c&&t.classes)for(c=c.replace(/^\s+/g,"").replace(/\s+$/g,"").split(v),n=c.length,l=0;n>l;l++)if(t.classes[c[l]])return!0;if(d&&t.styles){d=d.split(";");for(i in t.styles)if(t.styles.hasOwnProperty(i))for(u=d.length;u--;)if(a=d[u].split(":"),a[0].replace(/\s/g,"").toLowerCase()===i&&(t.styles[i]===!0||1===t.styles[i]||wysihtml5.lang.array(t.styles[i]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0}if(t.attrs)for(r in t.attrs)if(t.attrs.hasOwnProperty(r)&&(o=wysihtml5.dom.getAttribute(e,r),"string"==typeof o&&o.search(t.attrs[r])>-1))return!0;return!1}function l(e,t,n){var i,r;if(n&&n.keep_styles)for(i in n.keep_styles)if(n.keep_styles.hasOwnProperty(i)){if(r="float"===i?e.style.styleFloat||e.style.cssFloat:e.style[i],n.keep_styles[i]instanceof RegExp&&!n.keep_styles[i].test(r))continue;"float"===i?t.style[e.style.styleFloat?"styleFloat":"cssFloat"]=r:e.style[i]&&(t.style[i]=r)}}function u(e,t){var n,i=[];for(n in t)t.hasOwnProperty(n)&&0===n.indexOf(e)&&i.push(n);return i}function c(e,t,n,i){var r,o=x[n];return!(!o||!(t||"alt"===e&&"IMG"==i)||(r=o(t),"string"!=typeof r))&&r}function d(e,t){var n,i,r,o,a,s=wysihtml5.lang.object(y.attributes||{}).clone(),l=wysihtml5.lang.object(s).merge(wysihtml5.lang.object(t||{}).clone()).get(),d={},f=wysihtml5.dom.getAttributes(e);for(n in l)if(/\*$/.test(n))for(r=u(n.slice(0,-1),f),o=0,a=r.length;a>o;o++)i=c(r[o],f[r[o]],l[n],e.nodeName),i!==!1&&(d[r[o]]=i);else i=c(n,f[n],l[n],e.nodeName),i!==!1&&(d[n]=i);return d}function f(e,t,n,i){var r,o,a,s,l,u={},c=n.set_class,f=n.add_class,h=n.add_style,p=n.set_attributes,m=y.classes,g=0,b=[],w=[],x=[],k=[];if(p&&(u=wysihtml5.lang.object(p).clone()),u=wysihtml5.lang.object(u).merge(d(e,n.check_attributes)).get(),c&&b.push(c),f)for(s in f)l=_[f[s]],l&&(a=l(wysihtml5.dom.getAttribute(e,s)),"string"==typeof a&&b.push(a));if(h)for(s in h)l=C[h[s]],l&&(newStyle=l(wysihtml5.dom.getAttribute(e,s)),"string"==typeof newStyle&&w.push(newStyle));if("string"==typeof m&&"any"===m&&e.getAttribute("class"))if(y.classes_blacklist){for(k=e.getAttribute("class"),k&&(b=b.concat(k.split(v))),r=b.length;r>g;g++)o=b[g],y.classes_blacklist[o]||x.push(o);x.length&&(u["class"]=wysihtml5.lang.array(x).unique().join(" "))}else u["class"]=e.getAttribute("class");else{for(i||(m["_wysihtml5-temp-placeholder"]=1,m._rangySelectionBoundary=1,m["wysiwyg-tmp-selected-cell"]=1),k=e.getAttribute("class"),k&&(b=b.concat(k.split(v))),r=b.length;r>g;g++)o=b[g],m[o]&&x.push(o);x.length&&(u["class"]=wysihtml5.lang.array(x).unique().join(" "))}u["class"]&&i&&(u["class"]=u["class"].replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(u["class"])&&delete u["class"]),w.length&&(u.style=wysihtml5.lang.array(w).unique().join(" "));for(s in u)try{t.setAttribute(s,u[s])}catch(S){}u.src&&(void 0!==u.width&&t.setAttribute("width",u.width),void 0!==u.height&&t.setAttribute("height",u.height))}function h(e){var t,n=e.nextSibling;return n&&n.nodeType===wysihtml5.TEXT_NODE?void(n.data=e.data.replace(w,"")+n.data.replace(w,"")):(t=e.data.replace(w,""),e.ownerDocument.createTextNode(t))}function p(e){return y.comments?e.ownerDocument.createComment(e.nodeValue):void 0}var m={1:o,3:h,8:p},g="span",v=/\s+/,b={tags:{},classes:{}},y={},w=/\uFEFF/g,x={url:function(){var e=/^https?:\/\//i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),src:function(){var e=/^(\/|https?:\/\/)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),href:function(){var e=/^(#|\/|https?:\/\/|mailto:)/i;return function(t){return t&&t.match(e)?t.replace(e,function(e){return e.toLowerCase()}):null}}(),alt:function(){var e=/[^ a-z0-9_\-]/gi;return function(t){return t?t.replace(e,""):""}}(),numbers:function(){var e=/\D/g;return function(t){return t=(t||"").replace(e,""),t||null}}(),any:function(){return function(e){return e}}()},C={align_text:function(){var e={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(t){return e[(t+"").toLowerCase()]}}()},_={align_img:function(){var e={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(t){return e[(t+"").toLowerCase()]}}(),align_text:function(){var e={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(t){return e[(t+"").toLowerCase()]}}(),clear_br:function(){var e={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(t){return e[(t+"").toLowerCase()]}}(),size_font:function(){var e={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(t){return e[(t+"").charAt(0)]}}()},k={has_visible_contet:function(){var e,t=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if(e=(n.innerText||n.textContent).replace(/\s/g,""),e&&e.length>0)return!0;for(var i=t.length;i--;)if(n.querySelector(t[i]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()},S={unwrap:function(e){wysihtml5.dom.unwrap(e)},remove:function(e){e.parentNode.removeChild(e)}};return n(e,t)},wysihtml5.dom.removeEmptyTextNodes=function(e){for(var t,n=wysihtml5.lang.array(e.childNodes).get(),i=n.length,r=0;i>r;r++)t=n[r],t.nodeType===wysihtml5.TEXT_NODE&&""===t.data&&t.parentNode.removeChild(t)},wysihtml5.dom.renameElement=function(e,t){for(var n,i=e.ownerDocument.createElement(t);n=e.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(e).to(i),e.parentNode.replaceChild(i,e),i},wysihtml5.dom.replaceWithChildNodes=function(e){if(e.parentNode){if(!e.firstChild)return void e.parentNode.removeChild(e);for(var t=e.ownerDocument.createDocumentFragment();e.firstChild;)t.appendChild(e.firstChild);e.parentNode.replaceChild(t,e),e=t=null}},function(e){function t(t){return"block"===e.getStyle("display").from(t)}function n(e){return"BR"===e.nodeName}function i(e){var t=e.ownerDocument.createElement("br");e.appendChild(t)}function r(e,r){if(e.nodeName.match(/^(MENU|UL|OL)$/)){var o,a,s,l,u,c,d=e.ownerDocument,f=d.createDocumentFragment(),h=wysihtml5.dom.domNode(e).prev({ignoreBlankTexts:!0});if(r)for(!h||t(h)||n(h)||i(f);c=e.firstElementChild||e.firstChild;){for(a=c.lastChild;o=c.firstChild;)s=o===a,l=s&&!t(o)&&!n(o),f.appendChild(o),l&&i(f);c.parentNode.removeChild(c)}else for(;c=e.firstElementChild||e.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;o=c.firstChild;)f.appendChild(o);else{for(u=d.createElement("p");o=c.firstChild;)u.appendChild(o);f.appendChild(u)}c.parentNode.removeChild(c)}e.parentNode.replaceChild(f,e)}}e.resolveList=r}(wysihtml5.dom),function(e){var t=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],r=["referrer","write","open","close"];e.dom.Sandbox=Base.extend({constructor:function(t,n){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(e){"string"==typeof e&&(e=t.getElementById(e)),e.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var e=this.getIframe();e.parentNode.removeChild(e)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=t.createElement("iframe");return i.className="wysihtml5-sandbox",e.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),e.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(o){var a,s,l,u,c,d,f;if(e.dom.contains(t.documentElement,o)){if(a=this,s=o.contentWindow,l=o.contentWindow.document,u=t.characterSet||t.charset||"utf-8",c=this._getHtml({charset:u,stylesheets:this.config.stylesheets}),l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return o.contentWindow},this.getDocument=function(){return o.contentWindow.document},s.onerror=function(e,t,n){throw Error("wysihtml5.Sandbox: "+e,t,n)},!e.browser.supportsSandboxedIframes()){for(d=0,f=n.length;f>d;d++)this._unset(s,n[d]);for(d=0,f=i.length;f>d;d++)this._unset(s,i[d],e.EMPTY_FUNCTION);for(d=0,f=r.length;f>d;d++)this._unset(l,r[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(t){var n,i=t.stylesheets,r="",o=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>o;o++)r+='<link rel="stylesheet" href="'+i[o]+'">';return t.stylesheets=r,e.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(t)},_unset:function(t,n,i,r){try{t[n]=i}catch(o){}try{t.__defineGetter__(n,function(){return i})}catch(o){}if(r)try{t.__defineSetter__(n,function(){})}catch(o){}if(!e.browser.crashesWhenDefineProperty(n))try{var a={get:function(){return i}};r&&(a.set=function(){}),Object.defineProperty(t,n,a)}catch(o){}}})}(wysihtml5),function(e){var t=document;e.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(t,n,i){this.callback=t||e.EMPTY_FUNCTION,this.config=e.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var e=t.createElement("div");return e.className="wysihtml5-sandbox",this._loadElement(e),e},_bindElement:function(e){return e.className=e.className&&""!=e.className?e.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(e,!0),e},_loadElement:function(e,t){var n,i=this;t||(n=this._getHtml(),e.innerHTML=n),this.getWindow=function(){return e.ownerDocument.defaultView},this.getDocument=function(){return e.ownerDocument},this.loaded=!0,setTimeout(function(){i.callback(i)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var e={className:"class"};wysihtml5.dom.setAttributes=function(t){return{on:function(n){for(var i in t)n.setAttribute(e[i]||i,t[i])}}}}(),wysihtml5.dom.setStyles=function(e){return{on:function(t){var n,i=t.style;if("string"==typeof e)return void(i.cssText+=";"+e);for(n in e)"float"===n?(i.cssFloat=e[n],i.styleFloat=e[n]):i[n]=e[n]}}},function(e){e.simulatePlaceholder=function(t,n,i){var r="placeholder",o=function(){var t=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),t&&setTimeout(function(){var e=n.selection.getSelection();e.focusNode&&e.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,e.removeClass(n.element,r)},a=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),e.addClass(n.element,r))};t.on("set_placeholder",a).on("unset_placeholder",o).on("focus:composer",o).on("paste:composer",o).on("blur:composer",a),a()}}(wysihtml5.dom),function(e){var t=document.documentElement;"textContent"in t?(e.setTextContent=function(e,t){e.textContent=t},e.getTextContent=function(e){return e.textContent}):"innerText"in t?(e.setTextContent=function(e,t){e.innerText=t},e.getTextContent=function(e){return e.innerText}):(e.setTextContent=function(e,t){e.nodeValue=t},e.getTextContent=function(e){return e.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(e,t){var n,i,r,o=!wysihtml5.browser.supportsGetAttributeCorrectly();return t=t.toLowerCase(),n=e.nodeName,"IMG"==n&&"src"==t&&wysihtml5.dom.isLoadedImage(e)===!0?e.src:o&&"outerHTML"in e?(i=e.outerHTML.toLowerCase(),r=-1!=i.indexOf(" "+t+"="),r?e.getAttribute(t):null):e.getAttribute(t);
},wysihtml5.dom.getAttributes=function(e){var t,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),i=e.nodeName,r=[];for(t in e.attributes)(e.attributes.hasOwnProperty&&e.attributes.hasOwnProperty(t)||!e.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(e.attributes,t))&&e.attributes[t].specified&&("IMG"==i&&"src"==e.attributes[t].name.toLowerCase()&&wysihtml5.dom.isLoadedImage(e)===!0?r.src=e.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(e.attributes[t].name.toLowerCase())&&n?1!==e.attributes[t].value&&(r[e.attributes[t].name]=e.attributes[t].value):r[e.attributes[t].name]=e.attributes[t].value);return r},wysihtml5.dom.isLoadedImage=function(e){try{return e.complete&&!e.mozMatchesSelector(":-moz-broken")}catch(t){if(e.complete&&"complete"===e.readyState)return!0}},function(e){function t(e,t){var n,i,r,o,a=[];for(i=0,r=e.length;r>i;i++)if(n=e[i].querySelectorAll(t))for(o=n.length;o--;a.unshift(n[o]));return a}function n(e){e.parentNode.removeChild(e)}function i(e,t){e.parentNode.insertBefore(t,e.nextSibling)}function r(e,t){for(var n=e.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!t||t==n.tagName.toLowerCase())return n;return null}var o=e.dom,a=function(e){this.el=e,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},s=function(e,t){e?(this.cell=e,this.table=o.getParentElement(e,{nodeName:["TABLE"]})):t&&(this.table=t,this.cell=this.table.querySelectorAll("th, td")[0])};s.prototype={addSpannedCellToMap:function(e,t,n,i,r,o){var s,l,u=[],c=n+(o?parseInt(o,10)-1:0),d=i+(r?parseInt(r,10)-1:0);for(s=n;c>=s;s++)for(void 0===t[s]&&(t[s]=[]),l=i;d>=l;l++)t[s][l]=new a(e),t[s][l].isColspan=r&&parseInt(r,10)>1,t[s][l].isRowspan=o&&parseInt(o,10)>1,t[s][l].firstCol=l==i,t[s][l].lastCol=l==d,t[s][l].firstRow=s==n,t[s][l].lastRow=s==c,t[s][l].isReal=l==i&&s==n,t[s][l].spanCollection=u,u.push(t[s][l])},setCellAsModified:function(e){if(e.modified=!0,e.spanCollection.length>0)for(var t=0,n=e.spanCollection.length;n>t;t++)e.spanCollection[t].modified=!0},setTableMap:function(){var e,t,n,i,r,s,l,u,c=[],d=this.getTableRows();for(e=0;e<d.length;e++)for(t=d[e],n=this.getRowCells(t),s=0,void 0===c[e]&&(c[e]=[]),i=0;i<n.length;i++){for(r=n[i];void 0!==c[e][s];)s++;l=o.getAttribute(r,"colspan"),u=o.getAttribute(r,"rowspan"),l||u?(this.addSpannedCellToMap(r,c,e,s,l,u),s+=l?parseInt(l,10):1):(c[e][s]=new a(r),s++)}return this.map=c,c},getRowCells:function(n){var i=this.table.querySelectorAll("table"),r=i?t(i,"th, td"):[],o=n.querySelectorAll("th, td"),a=r.length>0?e.lang.array(o).without(r):o;return a},getTableRows:function(){var n=this.table.querySelectorAll("table"),i=n?t(n,"tr"):[],r=this.table.querySelectorAll("tr"),o=i.length>0?e.lang.array(r).without(i):r;return o},getMapIndex:function(e){var t,n,i=this.map.length,r=this.map&&this.map[0]?this.map[0].length:0;for(t=0;i>t;t++)for(n=0;r>n;n++)if(this.map[t][n].el===e)return{row:t,col:n};return!1},getElementAtIndex:function(e){return this.setTableMap(),this.map[e.row]&&this.map[e.row][e.col]&&this.map[e.row][e.col].el?this.map[e.row][e.col].el:null},getMapElsTo:function(e){var t,n,i,r,o,a,s=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),null!=this.idx_start&&null!=this.idx_end)for(i=this.idx_start.row,r=this.idx_end.row;r>=i;i++)for(o=this.idx_start.col,a=this.idx_end.col;a>=o;o++)s.push(this.map[i][o].el);return s},orderSelectionEnds:function(e){var t,n;return this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(e),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(e,t,n){var i,r,o,a=this.table.ownerDocument,s=a.createDocumentFragment();for(r=0;t>r;r++){if(i=a.createElement(e),n)for(o in n)n.hasOwnProperty(o)&&i.setAttribute(o,n[o]);i.appendChild(document.createTextNode("")),s.appendChild(i)}return s},correctColIndexForUnreals:function(e,t){var n,i,r=this.map[t],o=-1;for(n=0,i=e;e>n;n++)r[n].isReal&&o++;return o},getLastNewCellOnRow:function(e,t){var n,i,r,o,a=this.getRowCells(e);for(r=0,o=a.length;o>r;r++)if(n=a[r],i=this.getMapIndex(n),i===!1||void 0!==t&&i.row!=t)return n;return null},removeEmptyTable:function(){var e=this.table.querySelectorAll("td, th");return(!e||0==e.length)&&(n(this.table),!0)},splitRowToCells:function(e){var t,n,r;e.isColspan&&(t=parseInt(o.getAttribute(e.el,"colspan")||1,10),n=e.el.tagName.toLowerCase(),t>1&&(r=this.createCells(n,t-1),i(e.el,r)),e.el.removeAttribute("colspan"))},getRealRowEl:function(e,t){var n,i,r=null,a=null;for(t=t||this.idx,n=0,i=this.map[t.row].length;i>n;n++)if(a=this.map[t.row][n],a.isReal&&(r=o.getParentElement(a.el,{nodeName:["TR"]})))return r;return null===r&&e&&(r=o.getParentElement(this.map[t.row][t.col].el,{nodeName:["TR"]})||null),r},injectRowAt:function(e,t,n,r,a){var s,l,u=this.getRealRowEl(!1,{row:e,col:t}),c=this.createCells(r,n);u?(s=this.correctColIndexForUnreals(t,e),s>=0?i(this.getRowCells(u)[s],c):u.insertBefore(c,u.firstChild)):(l=this.table.ownerDocument.createElement("tr"),l.appendChild(c),i(o.getParentElement(a.el,{nodeName:["TR"]}),l))},canMerge:function(e){var t,n,i,r,o,a;for(this.to=e,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(t=this.idx_start,this.idx_start=this.idx_end,this.idx_end=t),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),i=this.idx_start.row,r=this.idx_end.row;r>=i;i++)for(o=this.idx_start.col,a=this.idx_end.col;a>=o;o++)if(this.map[i][o].isColspan||this.map[i][o].isRowspan)return!1;return!0},decreaseCellSpan:function(e,t){var n=parseInt(o.getAttribute(e.el,t),10)-1;n>=1?e.el.setAttribute(t,n):(e.el.removeAttribute(t),"colspan"==t&&(e.isColspan=!1),"rowspan"==t&&(e.isRowspan=!1),e.firstCol=!0,e.lastCol=!0,e.firstRow=!0,e.lastRow=!0,e.isReal=!0)},removeSurplusLines:function(){var e,t,i,r,a,s,l,u;if(this.setTableMap(),this.map){for(i=0,r=this.map.length;r>i;i++){for(e=this.map[i],l=!0,a=0,s=e.length;s>a;a++)if(t=e[a],!(o.getAttribute(t.el,"rowspan")&&parseInt(o.getAttribute(t.el,"rowspan"),10)>1&&t.firstRow!==!0)){l=!1;break}if(l)for(a=0;s>a;a++)this.decreaseCellSpan(e[a],"rowspan")}for(u=this.getTableRows(),i=0,r=u.length;r>i;i++)e=u[i],0==e.childNodes.length&&/^\s*$/.test(e.textContent||e.innerText)&&n(e)}},fillMissingCells:function(){var e,t,n,r=0,o=0,s=null;if(this.setTableMap(),this.map){for(r=this.map.length,e=0;r>e;e++)this.map[e].length>o&&(o=this.map[e].length);for(t=0;r>t;t++)for(n=0;o>n;n++)this.map[t]&&!this.map[t][n]&&n>0&&(this.map[t][n]=new a(this.createCells("td",1)),s=this.map[t][n-1],s&&s.el&&s.el.parent&&i(this.map[t][n-1].el,this.map[t][n].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){var e,t,n,i,r,a;if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){if(e=this.map[this.idx.row][this.idx.col],t=o.getAttribute(e.el,"colspan")?parseInt(o.getAttribute(e.el,"colspan"),10):1,n=e.el.tagName.toLowerCase(),e.isRowspan){if(i=parseInt(o.getAttribute(e.el,"rowspan"),10),i>1)for(r=1,a=i-1;a>=r;r++)this.injectRowAt(this.idx.row+r,this.idx.col,t,n,e);e.el.removeAttribute("rowspan")}this.splitRowToCells(e)}},merge:function(e){var t,i,r,o,a,s;if(this.rectify())if(this.canMerge(e)){for(t=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,r=this.idx_start.row,o=this.idx_end.row;o>=r;r++)for(a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)r==this.idx_start.row&&a==this.idx_start.col?(t>1&&this.map[r][a].el.setAttribute("rowspan",t),i>1&&this.map[r][a].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[r][a].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[r][a].el.innerHTML),n(this.map[r][a].el));this.rectify()}else window.console&&void 0},collapseCellToNextRow:function(e){var t,n,r,a=this.getMapIndex(e.el),s=a.row+1,l={row:s,col:a.col};s<this.map.length&&(t=this.getRealRowEl(!1,l),null!==t&&(n=this.correctColIndexForUnreals(l.col,l.row),n>=0?i(this.getRowCells(t)[n],e.el):(r=this.getLastNewCellOnRow(t,s),null!==r?i(r,e.el):t.insertBefore(e.el,t.firstChild)),parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")))},removeRowCell:function(e){e.isReal?e.isRowspan?this.collapseCellToNextRow(e):n(e.el):parseInt(o.getAttribute(e.el,"rowspan"),10)>2?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)-1):e.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var e,t,n,i=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(e=this.map[this.idx.row],t=0,n=e.length;n>t;t++)e[t].isReal&&i.push(e[t].el);return i},getColumnElementsByCell:function(){var e,t,n=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col]&&this.map[e][this.idx.col].isReal&&n.push(this.map[e][this.idx.col].el);return n},removeRow:function(){var e,t,i,r=o.getParentElement(this.cell,{nodeName:["TR"]});if(r){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(e=this.map[this.idx.row],t=0,i=e.length;i>t;t++)e[t].modified||(this.setCellAsModified(e[t]),this.removeRowCell(e[t]));n(r)}},removeColCell:function(e){e.isColspan?parseInt(o.getAttribute(e.el,"colspan"),10)>2?e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)-1):e.el.removeAttribute("colspan"):e.isReal&&n(e.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx!==!1)for(var e=0,t=this.map.length;t>e;e++)this.map[e][this.idx.col].modified||(this.setCellAsModified(this.map[e][this.idx.col]),this.removeColCell(this.map[e][this.idx.col]))},remove:function(e){if(this.rectify()){switch(e){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(e){var t,n,r,a,s,l=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==e&&o.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(o.getAttribute(this.cell,"rowspan"),10)-1),this.idx!==!1){for(t=this.map[this.idx.row],n=l.createElement("tr"),r=0,a=t.length;a>r;r++)t[r].modified||(this.setCellAsModified(t[r]),this.addRowCell(t[r],n,e));switch(e){case"below":i(this.getRealRowEl(!0),n);break;case"above":s=o.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]}),s&&s.parentNode.insertBefore(n,s)}}},addRowCell:function(e,t,n){var i=e.isColspan?{colspan:o.getAttribute(e.el,"colspan")}:null;e.isReal?"above"!=n&&e.isRowspan?e.el.setAttribute("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1):t.appendChild(this.createCells("td",1,i)):"above"!=n&&e.isRowspan&&e.lastRow?t.appendChild(this.createCells("td",1,i)):c.isRowspan&&e.el.attr("rowspan",parseInt(o.getAttribute(e.el,"rowspan"),10)+1)},add:function(e){this.rectify()&&(("below"==e||"above"==e)&&this.addRow(e),("before"==e||"after"==e)&&this.addColumn(e))},addColCell:function(e,t,n){var r,a=e.el.tagName.toLowerCase();switch(n){case"before":r=!e.isColspan||e.firstCol;break;case"after":r=!e.isColspan||e.lastCol||e.isColspan&&c.el==this.cell}if(r){switch(n){case"before":e.el.parentNode.insertBefore(this.createCells(a,1),e.el);break;case"after":i(e.el,this.createCells(a,1))}e.isRowspan&&this.handleCellAddWithRowspan(e,t+1,n)}else e.el.setAttribute("colspan",parseInt(o.getAttribute(e.el,"colspan"),10)+1)},addColumn:function(e){var t,n,i,r;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==e&&o.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(o.getAttribute(this.cell,"colspan"),10)-1),this.idx!==!1)for(i=0,r=this.map.length;r>i;i++)t=this.map[i],t[this.idx.col]&&(n=t[this.idx.col],n.modified||(this.setCellAsModified(n),this.addColCell(n,i,e)))},handleCellAddWithRowspan:function(e,t,n){var a,s,l,u,c=parseInt(o.getAttribute(this.cell,"rowspan"),10)-1,d=o.getParentElement(e.el,{nodeName:["TR"]}),f=e.el.tagName.toLowerCase(),h=this.table.ownerDocument;for(u=0;c>u;u++)if(a=this.correctColIndexForUnreals(this.idx.col,t+u),d=r(d,"tr"))if(a>0)switch(n){case"before":s=this.getRowCells(d),a>0&&this.map[t+u][this.idx.col].el!=s[a]&&a==s.length-1?i(s[a],this.createCells(f,1)):s[a].parentNode.insertBefore(this.createCells(f,1),s[a]);break;case"after":i(this.getRowCells(d)[a],this.createCells(f,1))}else d.insertBefore(this.createCells(f,1),d.firstChild);else l=h.createElement("tr"),l.appendChild(this.createCells(f,1)),this.table.appendChild(l)}},o.table={getCellsBetween:function(e,t){var n=new s(e);return n.getMapElsTo(t)},addCells:function(e,t){var n=new s(e);n.add(t)},removeCells:function(e,t){var n=new s(e);n.remove(t)},mergeCellsBetween:function(e,t){var n=new s(e);n.merge(t)},unmergeCell:function(e){var t=new s(e);t.unmerge()},orderSelectionEnds:function(e,t){var n=new s(e);return n.orderSelectionEnds(t)},indexOf:function(e){var t=new s(e);return t.setTableMap(),t.getMapIndex(e)},findCell:function(e,t){var n=new s(null,e);return n.getElementAtIndex(t)},findRowByCell:function(e){var t=new s(e);return t.getRowElementsByCell()},findColumnByCell:function(e){var t=new s(e);return t.getColumnElementsByCell()},canMerge:function(e,t){var n=new s(e);return n.canMerge(t)}}}(wysihtml5),wysihtml5.dom.query=function(e,t){var n,i,r,o,a=[];for(e.nodeType&&(e=[e]),i=0,r=e.length;r>i;i++)if(n=e[i].querySelectorAll(t))for(o=n.length;o--;a.unshift(n[o]));return a},wysihtml5.dom.compareDocumentPosition=function(){var e=document.documentElement;return e.compareDocumentPosition?function(e,t){return e.compareDocumentPosition(t)}:function(e,t){var n,i,r,o,a,s,l,u,c;if(n=9===e.nodeType?e:e.ownerDocument,i=9===t.nodeType?t:t.ownerDocument,e===t)return 0;if(e===t.ownerDocument)return 20;if(e.ownerDocument===t)return 10;if(n!==i)return 1;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 20;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 10;for(r=e,o=[],a=null;r;){if(r==t)return 10;o.push(r),r=r.parentNode}for(r=t,a=null;r;){if(r==e)return 20;if(s=wysihtml5.lang.array(o).indexOf(r),-1!==s)return l=o[s],u=wysihtml5.lang.array(l.childNodes).indexOf(o[s-1]),c=wysihtml5.lang.array(l.childNodes).indexOf(a),u>c?2:4;a=r,r=r.parentNode}return 1}}(),wysihtml5.dom.unwrap=function(e){if(e.parentNode){for(;e.lastChild;)wysihtml5.dom.insert(e.lastChild).after(e);e.parentNode.removeChild(e)}},wysihtml5.dom.getPastedHtml=function(e){var t;return e.clipboardData&&(wysihtml5.lang.array(e.clipboardData.types).contains("text/html")?t=e.clipboardData.getData("text/html"):wysihtml5.lang.array(e.clipboardData.types).contains("text/plain")&&(t=wysihtml5.lang.string(e.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),t},wysihtml5.dom.getPastedHtmlWithDiv=function(e,t){var n=e.selection.getBookmark(),i=e.element.ownerDocument,r=i.createElement("DIV");i.body.appendChild(r),r.style.width="1px",r.style.height="1px",r.style.overflow="hidden",r.setAttribute("contenteditable","true"),r.focus(),setTimeout(function(){e.selection.setBookmark(n),t(r.innerHTML),r.parentNode.removeChild(r)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var e=function(e){var t=wysihtml5.lang.string(e).trim(),n=t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return RegExp("^((?!^"+n+"$).)*$","i")},t=function(t,n){var i,r,o=wysihtml5.lang.object(t).clone(!0);for(i in o.tags)if(o.tags.hasOwnProperty(i)&&o.tags[i].keep_styles)for(r in o.tags[i].keep_styles)o.tags[i].keep_styles.hasOwnProperty(r)&&n[r]&&(o.tags[i].keep_styles[r]=e(n[r]));return o},n=function(e,t){var n,i,r;if(!e)return null;for(i=0,r=e.length;r>i;i++)if(e[i].condition||(n=e[i].set),e[i].condition&&e[i].condition.test(t))return e[i].set;return n};return function(e,i){var r,o={color:wysihtml5.dom.getStyle("color").from(i.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(i.referenceNode)},a=t(n(i.rules,e)||{},o);return r=wysihtml5.dom.parse(e,{rules:a,cleanUp:!0,context:i.referenceNode.ownerDocument,uneditableClass:i.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var e=function(){var e=this;setTimeout(function(){var t=e.innerHTML.toLowerCase();("<p>&nbsp;</p>"==t||"<p>&nbsp;</p><p>&nbsp;</p>"==t)&&(e.innerHTML="")},0)};return function(t){wysihtml5.dom.observe(t.element,["cut","keydown"],e)}}(),function(e){var t="%7E";e.quirks.getCorrectInnerHTML=function(n){var i,r,o,a,s,l=n.innerHTML;if(-1===l.indexOf(t))return l;for(i=n.querySelectorAll("[href*='~'], [src*='~']"),s=0,a=i.length;a>s;s++)r=i[s].href||i[s].src,o=e.lang.string(r).replace("~").by(t),l=e.lang.string(l).replace(o).by(r);return l}}(wysihtml5),function(e){var t="wysihtml5-quirks-redraw";e.quirks.redraw=function(n){e.dom.addClass(n,t),e.dom.removeClass(n,t);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(r){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(e,t){function n(){return c.observe(e,"mousedown",function(e){var t=wysihtml5.dom.getParentElement(e.target,{nodeName:["TD","TH"]});t&&i(t)}),d}function i(n){d.start=n,d.end=n,d.cells=[n],d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),d.table&&(r(),c.addClass(n,f),h=c.observe(e,"mousemove",a),p=c.observe(e,"mouseup",s),t.fire("tableselectstart").fire("tableselectstart:composer"))}function r(){var t,n;if(e&&(t=e.querySelectorAll("."+f),t.length>0))for(n=0;n<t.length;n++)c.removeClass(t[n],f)}function o(e){for(var t=0;t<e.length;t++)c.addClass(e[t],f)}function a(e){var n,i=null,a=c.getParentElement(e.target,{nodeName:["TD","TH"]});a&&d.table&&d.start&&(i=c.getParentElement(a,{nodeName:["TABLE"]}),i&&i===d.table&&(r(),n=d.end,d.end=a,d.cells=c.table.getCellsBetween(d.start,a),d.cells.length>1&&t.composer.selection.deselect(),o(d.cells),d.end!==n&&t.fire("tableselectchange").fire("tableselectchange:composer")))}function s(){h.stop(),p.stop(),t.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){l()},0)}function l(){var n=c.observe(e.ownerDocument,"click",function(e){n.stop(),c.getParentElement(e.target,{nodeName:["TABLE"]})!=d.table&&(r(),d.table=null,d.start=null,d.end=null,t.fire("tableunselect").fire("tableunselect:composer"))})}function u(e,n){d.start=e,d.end=n,d.table=c.getParentElement(d.start,{nodeName:["TABLE"]}),selectedCells=c.table.getCellsBetween(d.start,d.end),o(selectedCells),l(),t.fire("tableselect").fire("tableselect:composer")}var c=wysihtml5.dom,d={table:null,start:null,end:null,cells:null,select:u},f="wysiwyg-tmp-selected-cell",h=null,p=null;return n()},function(e){var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,r=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,o=function(e){return RegExp("(^|\\s|;)"+e+"\\s*:\\s*[^;$]+","gi")};e.quirks.styleParser={parseColor:function(a,s){var l,u,c,d=o(s),f=a.match(d),h=10;if(f){for(c=f.length;c--;)f[c]=e.lang.string(f[c].split(":")[1]).trim();if(l=f[f.length-1],t.test(l))u=l.match(t);else if(n.test(l))u=l.match(n);else if(i.test(l))u=l.match(i),h=16;else if(r.test(l))return u=l.match(r),u.shift(),u.push(1),e.lang.array(u).map(function(e,t){return 3>t?16*parseInt(e,16)+parseInt(e,16):parseFloat(e)});if(u)return u.shift(),u[3]||u.push(1),e.lang.array(u).map(function(e,t){return 3>t?parseInt(e,h):parseFloat(e)})}return!1},unparseColor:function(e,t){if(t){if("hex"==t)return e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("hash"==t)return"#"+e[0].toString(16).toUpperCase()+e[1].toString(16).toUpperCase()+e[2].toString(16).toUpperCase();if("rgb"==t)return"rgb("+e[0]+","+e[1]+","+e[2]+")";if("rgba"==t)return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")";if("csv"==t)return e[0]+","+e[1]+","+e[2]+","+e[3]}return e[3]&&1!==e[3]?"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")":"rgb("+e[0]+","+e[1]+","+e[2]+")"},parseFontSize:function(t){var n=t.match(o("font-size"));return!!n&&e.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(e){function t(e){var t=0;if(e.parentNode)do t+=e.offsetTop||0,e=e.offsetParent;while(e);return t}function n(e,t){for(var n=0;t!==e;)if(n++,t=t.parentNode,!t)throw Error("not a descendant of ancestor!");return n}function i(e){if(!e.canSurroundContents())for(var t=e.commonAncestorContainer,i=n(t,e.startContainer),r=n(t,e.endContainer);!e.canSurroundContents();)i>r?(e.setStartBefore(e.startContainer),i=n(t,e.startContainer)):(e.setEndAfter(e.endContainer),r=n(t,e.endContainer))}var r=e.dom;e.Selection=Base.extend({constructor:function(e,t,n){window.rangy.init(),this.editor=e,this.composer=e.composer,this.doc=this.composer.doc,this.contain=t,this.unselectableClass=n||!1},getBookmark:function(){var e=this.getRange();return e&&i(e),e&&e.cloneRange()},setBookmark:function(e){e&&this.setSelection(e)},setBefore:function(e){var t=rangy.createRange(this.doc);return t.setStartBefore(e),t.setEndBefore(e),this.setSelection(t)},setAfter:function(e){var t=rangy.createRange(this.doc);return t.setStartAfter(e),t.setEndAfter(e),this.setSelection(t)},selectNode:function(t,n){var i=rangy.createRange(this.doc),o=t.nodeType===e.ELEMENT_NODE,a="canHaveHTML"in t?t.canHaveHTML:"IMG"!==t.nodeName,s=o?t.innerHTML:t.data,l=""===s||s===e.INVISIBLE_SPACE,u=r.getStyle("display").from(t),c="block"===u||"list-item"===u;if(l&&o&&a&&!n)try{t.innerHTML=e.INVISIBLE_SPACE}catch(d){}a?i.selectNodeContents(t):i.selectNode(t),a&&l&&o?i.collapse(c):a&&l&&(i.setStartAfter(t),i.setEndAfter(t)),this.setSelection(i)},getSelectedNode:function(e){var t,n;return e&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange(),n&&n.length)?n.item(0):(t=this.getSelection(this.doc),t.focusNode===t.anchorNode?t.focusNode:(n=this.getRange(this.doc),n?n.commonAncestorContainer:this.doc.body))},fixSelBorders:function(){var e=this.getRange();i(e),this.setSelection(e)},getSelectedOwnNodes:function(){var e,t,n=this.getOwnRanges(),i=[];for(e=0,t=n.length;t>e;e++)i.push(n[e].commonAncestorContainer||this.doc.body);return i},findNodesInSelection:function(t){var n,i,r,o=this.getOwnRanges(),a=[];for(i=0,r=o.length;r>i;i++)n=o[i].getNodes([1],function(n){return e.lang.array(t).contains(n.nodeName)}),a=a.concat(n);return a},containsUneditable:function(){var e,t,n=this.getOwnUneditables(),i=this.getSelection();for(e=0,t=n.length;t>e;e++)if(i.containsNode(n[e]))return!0;return!1},deleteContents:function(){var e,t=this.getOwnRanges();for(e=t.length;e--;)t[e].deleteContents();this.setSelection(t[0])},getPreviousNode:function(t,n){var i,r,o;return t||(i=this.getSelection(),t=i.anchorNode),t!==this.contain&&(r=t.previousSibling,r!==this.contain&&(r&&3!==r.nodeType&&1!==r.nodeType?r=this.getPreviousNode(r,n):r&&3===r.nodeType&&/^\s*$/.test(r.textContent)?r=this.getPreviousNode(r,n):n&&r&&1===r.nodeType&&!e.lang.array(["BR","HR","IMG"]).contains(r.nodeName)&&/^[\s]*$/.test(r.innerHTML)?r=this.getPreviousNode(r,n):r||t===this.contain||(o=t.parentNode,o!==this.contain&&(r=this.getPreviousNode(o,n))),r!==this.contain&&r))},getSelectionParentsByTag:function(){var t,n,i,r=this.getSelectedOwnNodes(),o=[];for(n=0,i=r.length;i>n;n++)t=r[n].nodeName&&"LI"===r[n].nodeName?r[n]:e.dom.getParentElement(r[n],{nodeName:["LI"]},!1,this.contain),t&&o.push(t);return o.length?o:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var e=this.getRange(),t=e.startContainer,n=e.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(t),i.setStart(t,n),i}},caretIsLastInSelection:function(){var e=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents()),t=e.textContent;return/^\s*$/.test(t)},caretIsFirstInSelection:function(){var t=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),r=i.startContainer;return r.nodeType===e.TEXT_NODE?this.isCollapsed()&&r.nodeType===e.TEXT_NODE&&/^\s*$/.test(r.data.substr(0,i.startOffset)):(t.selectNodeContents(this.getRange().commonAncestorContainer),t.collapse(!0),this.isCollapsed()&&(t.startContainer===n.anchorNode||t.endContainer===n.anchorNode)&&t.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(t){var n=this.getSelection(),i=n.anchorNode,r=n.anchorOffset;return t?0===r&&(i.nodeName&&i.nodeName===t.toUpperCase()||e.dom.getParentElement(i.parentNode,{nodeName:t},1)):0===r&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var e,t,n,i,r=this.getSelection(),o=r.anchorNode,a=r.anchorOffset;if(0===a&&(e=this.getPreviousNode(o,!0)))for(t=this.getOwnUneditables(),n=0,i=t.length;i>n;n++)if(e===t[n])return t[n];return!1},executeAndRestoreRangy:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.saveSelection(t);if(n)try{e()}catch(i){setTimeout(function(){throw i},0)}else e();rangy.restoreSelection(n)},executeAndRestore:function(t,n){var i,o,a,s,l,u,c,d,f,h=this.doc.body,p=n&&h.scrollTop,m=n&&h.scrollLeft,g="_wysihtml5-temp-placeholder",v='<span class="'+g+'">'+e.INVISIBLE_SPACE+"</span>",b=this.getRange(!0);if(!b)return void t(h,h);b.collapsed||(c=b.cloneRange(),u=c.createContextualFragment(v),c.collapse(!1),c.insertNode(u),c.detach()),l=b.createContextualFragment(v),b.insertNode(l),u&&(i=this.contain.querySelectorAll("."+g),b.setStartBefore(i[0]),b.setEndAfter(i[i.length-1])),this.setSelection(b);try{t(b.startContainer,b.endContainer)}catch(y){setTimeout(function(){throw y},0)}if(i=this.contain.querySelectorAll("."+g),i&&i.length)for(d=rangy.createRange(this.doc),a=i[0].nextSibling,i.length>1&&(s=i[i.length-1].previousSibling),s&&a?(d.setStartBefore(a),d.setEndAfter(s)):(o=this.doc.createTextNode(e.INVISIBLE_SPACE),r.insert(o).after(i[0]),d.setStartBefore(o),d.setEndAfter(o)),this.setSelection(d),f=i.length;f--;)i[f].parentNode.removeChild(i[f]);else this.contain.focus();n&&(h.scrollTop=p,h.scrollLeft=m);try{i.parentNode.removeChild(i)}catch(w){}},set:function(e,t){var n=rangy.createRange(this.doc);n.setStart(e,t||0),this.setSelection(n)},insertHTML:function(e){var t,n=(rangy.createRange(this.doc),this.doc.createElement("DIV")),i=this.doc.createDocumentFragment();for(n.innerHTML=e,t=n.lastChild;n.firstChild;)i.appendChild(n.firstChild);this.insertNode(i),t&&this.setAfter(t)},insertNode:function(e){var t=this.getRange();t&&t.insertNode(e)},surround:function(e){var t,n,i=this.getOwnRanges(),r=[];if(0==i.length)return r;for(n=i.length;n--;){t=this.doc.createElement(e.nodeName),r.push(t),e.className&&(t.className=e.className),e.cssStyle&&t.setAttribute("style",e.cssStyle);try{i[n].surroundContents(t),this.selectNode(t)}catch(o){t.appendChild(i[n].extractContents()),i[n].insertNode(t)}}return r},deblockAndSurround:function(t){var n,i,r,o=this.doc.createElement("div"),a=rangy.createRange(this.doc);if(o.className=t.className,this.composer.commands.exec("formatBlock",t.nodeName,t.className),n=this.contain.querySelectorAll("."+t.className),n[0])for(n[0].parentNode.insertBefore(o,n[0]),a.setStartBefore(n[0]),a.setEndAfter(n[n.length-1]),i=a.extractContents();i.firstChild;)if(r=i.firstChild,1==r.nodeType&&e.dom.hasClass(r,t.className)){for(;r.firstChild;)o.appendChild(r.firstChild);"BR"!==r.nodeName&&o.appendChild(this.doc.createElement("br")),i.removeChild(r)}else o.appendChild(r);else o=null;return o},scrollIntoView:function(){var n,i=this.doc,r=5,o=i.documentElement.scrollHeight>i.documentElement.offsetHeight,a=i._wysihtml5ScrollIntoViewElement=i._wysihtml5ScrollIntoViewElement||function(){var t=i.createElement("span");return t.innerHTML=e.INVISIBLE_SPACE,t}();o&&(this.insertNode(a),n=t(a),a.parentNode.removeChild(a),n>=i.body.scrollTop+i.documentElement.offsetHeight-r&&(i.body.scrollTop=n))},selectLine:function(){e.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var e=this.doc.defaultView,t=e.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var e,t,n,i,r,o=this.doc.selection.createRange(),a=o.boundingTop,s=this.doc.body.scrollWidth;if(o.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;s>i;i+=2)try{o.moveToPoint(i,a);break}catch(l){}for(e=a,t=this.doc.selection.createRange(),r=s;r>=0;r--)try{t.moveToPoint(r,e);break}catch(u){}o.setEndPoint("EndToEnd",t),o.select()}},getText:function(){var e=this.getSelection();return e?""+e:""},getNodes:function(e,t){var n=this.getRange();return n?n.getNodes([e],t):[]},fixRangeOverflow:function(e){var t,n;this.contain&&this.contain.firstChild&&e&&(t=e.compareNode(this.contain),2!==t?(1===t&&e.setStartBefore(this.contain.firstChild),0===t&&e.setEndAfter(this.contain.lastChild),3===t&&(e.setStartBefore(this.contain.firstChild),e.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(e)&&(n=e.endContainer.previousElementSibling,n&&e.setEnd(n,this._endOffsetForNode(n))))},_endOffsetForNode:function(e){var t=document.createRange();return t.selectNodeContents(e),t.endOffset},_detectInlineRangeProblems:function(e){var t=r.compareDocumentPosition(e.startContainer,e.endContainer);return 0==e.endOffset&&4&t},getRange:function(e){var t=this.getSelection(),n=t&&t.rangeCount&&t.getRangeAt(0);return e!==!0&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var t=r.query(this.contain,"."+this.unselectableClass),n=r.query(t,"."+this.unselectableClass);return e.lang.array(t).without(n)},getOwnRanges:function(){var e,t,n,i,r,o,a,s=[],l=this.getRange();if(l&&s.push(l),this.unselectableClass&&this.contain&&l&&(t=this.getOwnUneditables(),t.length>0))for(i=0,r=t.length;r>i;i++)for(e=[],o=0,a=s.length;a>o;o++){if(s[o])switch(s[o].compareNode(t[i])){case 2:break;case 3:n=s[o].cloneRange(),n.setEndBefore(t[i]),e.push(n),n=s[o].cloneRange(),n.setStartAfter(t[i]),e.push(n);break;default:e.push(s[o])}s=e}return s},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(e){var t=this.doc.defaultView||this.doc.parentWindow,n=rangy.getSelection(t);return n.setSingleRange(e)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},isEndToEndInNode:function(t){var n=this.getRange(),i=n.commonAncestorContainer,r=n.startContainer,o=n.endContainer;if(i.nodeType===e.TEXT_NODE&&(i=i.parentNode),r.nodeType===e.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.startOffset)))return!1;if(o.nodeType===e.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.endOffset)))return!1;for(;r&&r!==i;){if(r.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,r))return!1;if(e.dom.domNode(r).prev({ignoreBlankTexts:!0}))return!1;r=r.parentNode}for(;o&&o!==i;){if(o.nodeType!==e.TEXT_NODE&&!e.dom.contains(i,o))return!1;if(e.dom.domNode(o).next({ignoreBlankTexts:!0}))return!1;o=o.parentNode}return!!e.lang.array(t).contains(i.nodeName)&&i;
},deselect:function(){var e=this.getSelection();e&&e.removeAllRanges()}})}(wysihtml5),function(e,t){function n(e,t,n){if(!e.className)return!1;var i=e.className.match(n)||[];return i[i.length-1]===t}function i(e,t){return!(!e.getAttribute||!e.getAttribute("style"))&&(e.getAttribute("style").match(t),!!e.getAttribute("style").match(t))}function r(e,t,n){e.getAttribute("style")?(s(e,n),e.getAttribute("style")&&!/^\s*$/.test(e.getAttribute("style"))?e.setAttribute("style",t+";"+e.getAttribute("style")):e.setAttribute("style",t)):e.setAttribute("style",t)}function o(e,t,n){e.className?(a(e,n),e.className+=" "+t):e.className=t}function a(e,t){e.className&&(e.className=e.className.replace(t,""))}function s(e,t){var n,i,r=[];if(e.getAttribute("style")){for(n=e.getAttribute("style").split(";"),i=n.length;i--;)n[i].match(t)||/^\s*$/.test(n[i])||r.push(n[i]);r.length?e.setAttribute("style",r.join(";")):e.removeAttribute("style")}}function l(e,t){var n,i,r,o=[],a=t.split(";"),s=e.getAttribute("style");if(s){for(s=s.replace(/\s/gi,"").toLowerCase(),o.push(RegExp("(^|\\s|;)"+t.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi")),n=a.length;n-- >0;)/^\s*$/.test(a[n])||o.push(RegExp("(^|\\s|;)"+a[n].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(i=0,r=o.length;r>i;i++)if(s.match(o[i]))return o[i]}return!1}function u(n,i,r,o){return r?l(n,r):o?e.dom.hasClass(n,o):t.dom.arrayContains(i,n.tagName.toLowerCase())}function c(e,t,n,i){for(var r=e.length;r--;)if(!u(e[r],t,n,i))return!1;return!!e.length}function d(e,t,n){var i=l(e,t);return i?(s(e,i),"remove"):(r(e,t,n),"change")}function f(e,t){return e.className.replace(w," ")==t.className.replace(w," ")}function h(e){for(var t=e.parentNode;e.firstChild;)t.insertBefore(e.firstChild,e);t.removeChild(e)}function p(e,t){if(e.attributes.length!=t.attributes.length)return!1;for(var n,i,r,o=0,a=e.attributes.length;a>o;++o)if(n=e.attributes[o],r=n.name,"class"!=r){if(i=t.attributes.getNamedItem(r),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}function m(e,n){return t.dom.isCharacterDataNode(e)?0==n?!!e.previousSibling:n!=e.length||!!e.nextSibling:n>0&&n<e.childNodes.length}function g(e,n,i,r){var o,a;if(t.dom.isCharacterDataNode(n)&&(0==i?(i=t.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=t.dom.getNodeIndex(n)+1,n=n.parentNode):o=t.dom.splitDataNode(n,i)),!(o||r&&n===r)){for(o=n.cloneNode(!1),o.id&&o.removeAttribute("id");a=n.childNodes[i];)o.appendChild(a);t.dom.insertAfter(o,n)}return n==e?o:g(e,o.parentNode,t.dom.getNodeIndex(o),r)}function v(t){this.isElementMerge=t.nodeType==e.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?t.lastChild:t,this.textNodes=[this.firstTextNode]}function b(e,t,n,i,r,o,a){this.tagNames=e||[y],this.cssClass=t||t!==!1&&"",this.similarClassRegExp=n,this.cssStyle=r||"",this.similarStyleRegExp=o,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}var y="span",w=/\s+/g;v.prototype={doMerge:function(){var e,t,n,i,r,o=[];for(i=0,r=this.textNodes.length;r>i;++i)e=this.textNodes[i],t=e.parentNode,o[i]=e.data,i&&(t.removeChild(e),t.hasChildNodes()||t.parentNode.removeChild(t));return this.firstTextNode.data=n=o.join(""),n},getLength:function(){for(var e=this.textNodes.length,t=0;e--;)t+=this.textNodes[e].length;return t},toString:function(){var e,t,n=[];for(e=0,t=this.textNodes.length;t>e;++e)n[e]="'"+this.textNodes[e].data+"'";return"[Merge("+n.join(",")+")]"}},b.prototype={getAncestorWithClass:function(i){for(var r;i;){if(r=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):""===this.cssStyle,i.nodeType==e.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&r)return i;i=i.parentNode}return!1},getAncestorWithStyle:function(n){for(var r;n;){if(r=!!this.cssStyle&&i(n,this.similarStyleRegExp),n.nodeType==e.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&r)return n;n=n.parentNode}return!1},getMatchingAncestor:function(e){var t=this.getAncestorWithClass(e),n=!1;return t?this.cssStyle&&(n="class"):(t=this.getAncestorWithStyle(e),t&&(n="style")),{element:t,type:n}},postApply:function(e,t){var n,i,r,o,a,s,l=e[0],u=e[e.length-1],c=[],d=l,f=u,h=0,p=u.length;for(o=0,a=e.length;a>o;++o)i=e[o],r=null,i&&i.parentNode&&(r=this.getAdjacentMergeableTextNode(i.parentNode,!1)),r?(n||(n=new v(r),c.push(n)),n.textNodes.push(i),i===l&&(d=n.firstTextNode,h=d.length),i===u&&(f=n.firstTextNode,p=n.getLength())):n=null;if(u&&u.parentNode&&(s=this.getAdjacentMergeableTextNode(u.parentNode,!0),s&&(n||(n=new v(u),c.push(n)),n.textNodes.push(s))),c.length){for(o=0,a=c.length;a>o;++o)c[o].doMerge();t.setStart(d,h),t.setEnd(f,p)}},getAdjacentMergeableTextNode:function(t,n){var i,r=t.nodeType==e.TEXT_NODE,o=r?t.parentNode:t,a=n?"nextSibling":"previousSibling";if(r){if(i=t[a],i&&i.nodeType==e.TEXT_NODE)return i}else if(i=o[a],i&&this.areElementsMergeable(t,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(e,n){return t.dom.arrayContains(this.tagNames,(e.tagName||"").toLowerCase())&&t.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&f(e,n)&&p(e,n)},createContainer:function(e){var t=e.createElement(this.tagNames[0]);return this.cssClass&&(t.className=this.cssClass),this.cssStyle&&t.setAttribute("style",this.cssStyle),t},applyToTextNode:function(e){var n,i=e.parentNode;1==i.childNodes.length&&t.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())?(this.cssClass&&o(i,this.cssClass,this.similarClassRegExp),this.cssStyle&&r(i,this.cssStyle,this.similarStyleRegExp)):(n=this.createContainer(t.dom.getDocument(e)),e.parentNode.insertBefore(n,e),n.appendChild(e))},isRemovable:function(n){return t.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===e.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===e.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(e,t,n,i){var r,o=!n,s=n||i,l=!1;t.containsNode(s)||(r=t.cloneRange(),r.selectNode(s),r.isPointInRange(t.endContainer,t.endOffset)&&m(t.endContainer,t.endOffset)&&(g(s,t.endContainer,t.endOffset,this.container),t.setEndAfter(s)),r.isPointInRange(t.startContainer,t.startOffset)&&m(t.startContainer,t.startOffset)&&(s=g(s,t.startContainer,t.startOffset,this.container))),!o&&this.similarClassRegExp&&a(s,this.similarClassRegExp),o&&this.similarStyleRegExp&&(l="change"===d(s,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(s)&&!l&&h(s)},applyToRange:function(t){var n,i,r,o,a,s;for(i=t.length;i--;){if(n=t[i].getNodes([e.TEXT_NODE]),!n.length)try{return r=this.createContainer(t[i].endContainer.ownerDocument),t[i].surroundContents(r),void this.selectNode(t[i],r)}catch(l){}if(t[i].splitBoundaries(),n=t[i].getNodes([e.TEXT_NODE]),n.length){for(a=0,s=n.length;s>a;++a)o=n[a],this.getMatchingAncestor(o).element||this.applyToTextNode(o);t[i].setStart(n[0],0),o=n[n.length-1],t[i].setEnd(o,o.length),this.normalize&&this.postApply(n,t[i])}}},undoToRange:function(t){var n,i,r,o,a,s,l,u;for(o=t.length;o--;){for(n=t[o].getNodes([e.TEXT_NODE]),n.length?(t[o].splitBoundaries(),n=t[o].getNodes([e.TEXT_NODE])):(a=t[o].endContainer.ownerDocument,s=a.createTextNode(e.INVISIBLE_SPACE),t[o].insertNode(s),t[o].selectNode(s),n=[s]),l=0,u=n.length;u>l;++l)t[o].isValid()&&(i=n[l],r=this.getMatchingAncestor(i),"style"===r.type?this.undoToTextNode(i,t[o],!1,r.element):r.element&&this.undoToTextNode(i,t[o],r.element));1==u?this.selectNode(t[o],n[0]):(t[o].setStart(n[0],0),i=n[n.length-1],t[o].setEnd(i,i.length),this.normalize&&this.postApply(n,t[o]))}},selectNode:function(t,n){var i=n.nodeType===e.ELEMENT_NODE,r=!("canHaveHTML"in n)||n.canHaveHTML,o=i?n.innerHTML:n.data,a=""===o||o===e.INVISIBLE_SPACE;if(a&&i&&r)try{n.innerHTML=e.INVISIBLE_SPACE}catch(s){}t.selectNodeContents(n),a&&i?t.collapse(!1):a&&(t.setStartAfter(n),t.setEndAfter(n))},getTextSelectedByRange:function(e,t){var n,i,r=t.cloneRange();return r.selectNodeContents(e),n=r.intersection(t),i=n?""+n:"",r.detach(),i},isAppliedToRange:function(t){var n,i,r,o,a,s,l=[],u="full";for(r=t.length;r--;){if(i=t[r].getNodes([e.TEXT_NODE]),!i.length)return n=this.getMatchingAncestor(t[r].startContainer).element,!!n&&{elements:[n],coverage:u};for(o=0,a=i.length;a>o;++o)s=this.getTextSelectedByRange(i[o],t[r]),n=this.getMatchingAncestor(i[o]).element,n&&""!=s?(l.push(n),1===e.dom.getTextNodes(n,!0).length?u="full":"full"===u&&(u="inline")):n||(u="partial")}return!!l.length&&{elements:l,coverage:u}},toggleRange:function(e){var t,n=this.isAppliedToRange(e);n?"full"===n.coverage?this.undoToRange(e):"inline"===n.coverage?(t=c(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(e),t||this.applyToRange(e)):(c(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(e),this.applyToRange(e)):this.applyToRange(e)}},e.selection.HTMLApplier=b}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.doc=this.composer.doc},support:function(e){return wysihtml5.browser.supportsCommand(this.doc,e)},exec:function(e,t){var n=wysihtml5.commands[e],i=wysihtml5.lang.array(arguments).get(),r=n&&n.exec,o=null;if(this.editor.fire("beforecommand:composer"),r)i.unshift(this.composer),o=r.apply(n,i);else try{o=this.doc.execCommand(e,!1,t)}catch(a){}return this.editor.fire("aftercommand:composer"),o},state:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.state;if(i)return n.unshift(this.composer),i.apply(t,n);try{return this.doc.queryCommandState(e)}catch(r){return!1}},stateValue:function(e){var t=wysihtml5.commands[e],n=wysihtml5.lang.array(arguments).get(),i=t&&t.stateValue;return!!i&&(n.unshift(this.composer),i.apply(t,n))}}),wysihtml5.commands.bold={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"b")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"b")}},function(e){function t(t,n){var a,s,l,u,c,d,f,h,p,m=t.doc,g="_wysihtml5-temp-"+ +new Date,v=/non-matching-class/g,b=0;for(e.commands.formatInline.exec(t,i,r,g,v,i,i,!0,!0),s=m.querySelectorAll(r+"."+g),a=s.length;a>b;b++){l=s[b],l.removeAttribute("class");for(p in n)"text"!==p&&l.setAttribute(p,n[p])}d=l,1===a&&(f=o.getTextContent(l),u=!!l.querySelector("*"),c=""===f||f===e.INVISIBLE_SPACE,!u&&c&&(o.setTextContent(l,n.text||l.href),h=m.createTextNode(" "),t.selection.setAfter(l),o.insert(h).after(l),d=h)),t.selection.setAfter(d)}function n(e,t,n){var i,r,o,a;for(r=t.length;r--;){for(i=t[r].attributes,o=i.length;o--;)t[r].removeAttribute(i.item(o).name);for(a in n)n.hasOwnProperty(a)&&t[r].setAttribute(a,n[a])}}var i,r="A",o=e.dom;e.commands.createLink={exec:function(e,i,r){var o=this.state(e,i);o?e.selection.executeAndRestore(function(){n(e,o,r)}):(r="object"==typeof r?r:{href:r},t(e,r))},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){function t(e,t){for(var i,r,o,a=t.length,s=0;a>s;s++)i=t[s],r=n.getParentElement(i,{nodeName:"code"}),o=n.getTextContent(i),o.match(n.autoLink.URL_REG_EXP)&&!r?r=n.renameElement(i,"code"):n.replaceWithChildNodes(i)}var n=e.dom;e.commands.removeLink={exec:function(e,n){var i=this.state(e,n);i&&e.selection.executeAndRestore(function(){t(e,i)})},state:function(t,n){return e.commands.formatInline.state(t,n,"A")}}}(wysihtml5),function(e){var t=/wysiwyg-font-size-[0-9a-z\-]+/g;e.commands.fontSize={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;e.commands.fontSizeStyle={exec:function(n,i,r){r="object"==typeof r?r.size:r,/^\s*$/.test(r)||e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+r,t)},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"font-size",t)},stateValue:function(t,n){var i,r=this.state(t,n);return r&&e.lang.object(r).isArray()&&(r=r[0]),!(!r||!(i=r.getAttribute("style")))&&e.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(e){var t=/wysiwyg-color-[0-9a-z]+/g;e.commands.foreColor={exec:function(n,i,r){e.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+r,t)},state:function(n,i,r){return e.commands.formatInline.state(n,i,"span","wysiwyg-color-"+r,t)}}}(wysihtml5),function(e){var t=/(\s|^)color\s*:\s*[^;\s]+;?/gi;e.commands.foreColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"color:"+r.color:"color:"+r,"color");a&&(o="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n);return o&&e.lang.object(o).isArray()&&(o=o[0]),!!(o&&(r=o.getAttribute("style"),r&&r))&&(val=e.quirks.styleParser.parseColor(r,"color"),e.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(e){var t=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;e.commands.bgColorStyle={exec:function(n,i,r){var o,a=e.quirks.styleParser.parseColor("object"==typeof r?"background-color:"+r.color:"background-color:"+r,"background-color");a&&(o="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(o+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),e.commands.formatInline.execWithToggle(n,i,"span",!1,!1,o,t))},state:function(n,i){return e.commands.formatInline.state(n,i,"span",!1,!1,"background-color",t)},stateValue:function(t,n,i){var r,o=this.state(t,n),a=!1;return o&&e.lang.object(o).isArray()&&(o=o[0]),!(!o||!(r=o.getAttribute("style")))&&(a=e.quirks.styleParser.parseColor(r,"background-color"),e.quirks.styleParser.unparseColor(a,i))}}}(wysihtml5),function(e){function t(t,n,r){t.className?(i(t,r),t.className=e.lang.string(t.className+" "+n).trim()):t.className=n}function n(t,n,i){r(t,i),t.getAttribute("style")?t.setAttribute("style",e.lang.string(t.getAttribute("style")+" "+n).trim()):t.setAttribute("style",n)}function i(t,n){var i=n.test(t.className);return t.className=t.className.replace(n,""),""==e.lang.string(t.className).trim()&&t.removeAttribute("class"),i}function r(t,n){var i=n.test(t.getAttribute("style"));return t.setAttribute("style",(t.getAttribute("style")||"").replace(n,"")),""==e.lang.string(t.getAttribute("style")||"").trim()&&t.removeAttribute("style"),i}function o(e){var t=e.lastChild;t&&a(t)&&t.parentNode.removeChild(t)}function a(e){return"BR"===e.nodeName}function s(t,n){var i,r,a;for(t.selection.isCollapsed()&&t.selection.selectLine(),i=t.selection.surround(n),r=0,a=i.length;a>r;r++)e.dom.lineBreaks(i[r]).remove(),o(i[r])}function l(t){return!!e.lang.string(t.className).trim()}function u(t){return!!e.lang.string(t.getAttribute("style")||"").trim()}var c=e.dom,d=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];e.commands.formatBlock={exec:function(o,a,f,h,p,m,g){var v,b,y,w,x,C=(o.doc,this.state(o,a,f,h,p,m,g)),_=o.config.useLineBreaks,k=_?"DIV":"P";return f="string"==typeof f?f.toUpperCase():f,C.length?void o.selection.executeAndRestoreRangy(function(){var t,n,o;for(t=C.length;t--;){if(p&&(b=i(C[t],p)),g&&(w=r(C[t],g)),(w||b)&&null===f&&C[t].nodeName!=k)return;n=l(C[t]),o=u(C[t]),n||o||!_&&"P"!==f?c.renameElement(C[t],"P"===f?"DIV":k):(e.dom.lineBreaks(C[t]).add(),c.replaceWithChildNodes(C[t]))}}):void((null!==f&&!e.lang.array(d).contains(f)||(v=o.selection.findNodesInSelection(d).concat(o.selection.getSelectedOwnNodes()),o.selection.executeAndRestoreRangy(function(){for(var e=v.length;e--;)x=c.getParentElement(v[e],{nodeName:d}),x==o.element&&(x=null),x&&(f&&(x=c.renameElement(x,f)),h&&t(x,h,p),m&&n(x,m,g),y=!0)}),!y))&&s(o,{nodeName:f||k,className:h||null,cssStyle:m||null}))},state:function(t,n,i,r,o,a,s){var l,u,d,f=t.selection.getSelectedOwnNodes(),h=[];for(i="string"==typeof i?i.toUpperCase():i,u=0,d=f.length;d>u;u++)l=c.getParentElement(f[u],{nodeName:i,className:r,classRegExp:o,cssStyle:a,styleRegExp:s}),l&&-1==e.lang.array(h).indexOf(l)&&h.push(l);return 0!=h.length&&h}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(e,t,n){var i,r,o,a=this.state(e);a?e.selection.executeAndRestore(function(){i=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(r=e.selection.getRange(),o=r.extractContents(),a=e.doc.createElement("pre"),i=e.doc.createElement("code"),n&&(i.className=n),a.appendChild(i),i.appendChild(o),r.insertNode(a),e.selection.selectNode(a))},state:function(e){var t=e.selection.getSelectedNode();return t&&t.nodeName&&"PRE"==t.nodeName&&t.firstChild&&t.firstChild.nodeName&&"CODE"==t.firstChild.nodeName?t:wysihtml5.dom.getParentElement(t,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(t,{nodeName:"PRE"})}},function(e){function t(e){var t=i[e];return t?[e.toLowerCase(),t.toLowerCase()]:[e.toLowerCase()]}function n(n,i,o,a,s,l){var u=n;return i&&(u+=":"+i),a&&(u+=":"+a),r[u]||(r[u]=new e.selection.HTMLApplier(t(n),i,o,(!0),a,s,l)),r[u]}var i={strong:"b",em:"i",b:"strong",i:"em"},r={};e.commands.formatInline={exec:function(e,t,i,r,o,a,s,l,u){var c=e.selection.createRange(),d=e.selection.getOwnRanges();return!(!d||0==d.length)&&(e.selection.getSelection().removeAllRanges(),n(i,r,o,a,s,e.element).toggleRange(d),void(l?u||e.cleanUp():(c.setStart(d[0].startContainer,d[0].startOffset),c.setEnd(d[d.length-1].endContainer,d[d.length-1].endOffset),e.selection.setSelection(c),e.selection.executeAndRestore(function(){u||e.cleanUp()},!0,!0))))},execWithToggle:function(t,n,i,r,o,a,s){var l,u=this;this.state(t,n,i,r,o,a,s)&&t.selection.isCollapsed()&&!t.selection.caretIsLastInSelection()&&!t.selection.caretIsFirstInSelection()?(l=u.state(t,n,i,r,o)[0],t.selection.executeAndRestoreRangy(function(){l.parentNode,t.selection.selectNode(l,!0),e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)})):this.state(t,n,i,r,o,a,s)&&!t.selection.isCollapsed()?t.selection.executeAndRestoreRangy(function(){e.commands.formatInline.exec(t,n,i,r,o,a,s,!0,!0)}):e.commands.formatInline.exec(t,n,i,r,o,a,s)},state:function(t,r,o,a,s,l,u){var c,d,f=t.doc,h=i[o]||o;return!(!e.dom.hasElementWithTagName(f,o)&&!e.dom.hasElementWithTagName(f,h))&&(!(a&&!e.dom.hasElementWithClassName(f,a))&&(c=t.selection.getOwnRanges(),!(!c||0===c.length)&&(d=n(o,a,s,l,u,t.element).isAppliedToRange(c),!(!d||!d.elements)&&d.elements)))}}}(wysihtml5),function(e){e.commands.insertBlockQuote={exec:function(t,n){var i=this.state(t,n),r=t.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);t.selection.executeAndRestore(function(){if(i)t.config.useLineBreaks&&e.dom.lineBreaks(i).add(),e.dom.unwrap(i);else if(t.selection.isCollapsed()&&t.selection.selectLine(),r){var n=r.ownerDocument.createElement("blockquote");e.dom.insert(n).after(r),n.appendChild(r)}else t.selection.surround({nodeName:"blockquote"})})},state:function(t){var n=t.selection.getSelectedNode(),i=e.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,t.element);return!!i&&i}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(e,t,n){e.commands.support(t)?e.doc.execCommand(t,!1,n):e.selection.insertHTML(n)},state:function(){return!1}},function(e){var t="IMG";e.commands.insertImage={exec:function(n,i,r){var o,a,s,l,u;if(r="object"==typeof r?r:{src:r},o=n.doc,a=this.state(n))return n.selection.setBefore(a),l=a.parentNode,l.removeChild(a),e.dom.removeEmptyTextNodes(l),"A"!==l.nodeName||l.firstChild||(n.selection.setAfter(l),l.parentNode.removeChild(l)),void e.quirks.redraw(n.element);a=o.createElement(t);for(u in r)a.setAttribute("className"===u?"class":u,r[u]);n.selection.insertNode(a),e.browser.hasProblemsSettingCaretAfterImg()?(s=o.createTextNode(e.INVISIBLE_SPACE),n.selection.insertNode(s),n.selection.setAfter(s)):n.selection.setAfter(a)},state:function(n){var i,r,o,a=n.doc;return!!e.dom.hasElementWithTagName(a,t)&&(i=n.selection.getSelectedNode(),!!i&&(i.nodeName===t?i:i.nodeType===e.ELEMENT_NODE&&(r=n.selection.getText(),r=e.lang.string(r).trim(),!r&&(o=n.selection.getNodes(e.ELEMENT_NODE,function(e){return"IMG"===e.nodeName}),1===o.length&&o[0]))))}}}(wysihtml5),function(e){var t="<br>"+(e.browser.needsSpaceAfterLineBreak()?" ":"");e.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),e.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",t)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"OL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(e,t){wysihtml5.commands.insertList.exec(e,t,"UL")},state:function(e,t){return wysihtml5.commands.insertList.state(e,t,"UL")}},wysihtml5.commands.insertList=function(e){var t=function(e,t){if(e&&e.nodeName){"string"==typeof t&&(t=[t]);for(var n=t.length;n--;)if(e.nodeName===t[n])return!0}return!1},n=function(n,i,r){var o,a,s={el:null,other:!1};return n&&(o=e.dom.getParentElement(n,{nodeName:"LI"}),a="UL"===i?"OL":"UL",t(n,i)?s.el=n:t(n,a)?s={el:n,other:!0}:o&&(t(o.parentNode,i)?s.el=o.parentNode:t(o.parentNode,a)&&(s={el:o.parentNode,other:!0}))),s.el&&!r.element.contains(s.el)&&(s.el=null),s},i=function(t,n,i){var r,a="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var s,l,u=o(a,i);if(u.length)for(s=u.length;s--;)e.dom.renameElement(u[s],n.toLowerCase());else{for(r=o(["OL","UL"],i),l=r.length;l--;)e.dom.resolveList(r[l],i.config.useLineBreaks);e.dom.resolveList(t,i.config.useLineBreaks)}})},r=function(t,n,i){var r="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var a,s=[t].concat(o(r,i));for(a=s.length;a--;)e.dom.renameElement(s[a],n.toLowerCase())})},o=function(e,n){var i,r=n.selection.getOwnRanges(),o=[];for(i=r.length;i--;)o=o.concat(r[i].getNodes([1],function(n){return t(n,e)}));return o},a=function(t,n){n.selection.executeAndRestoreRangy(function(){var i,r,o="_wysihtml5-temp-"+(new Date).getTime(),a=n.selection.deblockAndSurround({nodeName:"div",className:o}),s=/\uFEFF/g;a.innerHTML=a.innerHTML.replace(s,""),a&&(i=e.lang.array(["","<br>",e.INVISIBLE_SPACE]).contains(a.innerHTML),r=e.dom.convertToList(a,t.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(r.querySelector("li"),!0))})};return{exec:function(e,t,o){var s=e.doc,l="OL"===o?"insertOrderedList":"insertUnorderedList",u=e.selection.getSelectedNode(),c=n(u,o,e);c.el?c.other?r(c.el,o,e):i(c.el,o,e):e.commands.support(l)?s.execCommand(l,!1,null):a(o,e)},state:function(e,t,i){var r=e.selection.getSelectedNode(),o=n(r,i,e);return!(!o.el||o.other)&&o.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"i")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"i")}},function(e){var t="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyCenter={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyLeft={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyRight={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;e.commands.justifyFull={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,t,n)}}}(wysihtml5),function(e){var t="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignRightStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignLeftStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),function(e){var t="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;e.commands.alignCenterStyle={exec:function(i){return e.commands.formatBlock.exec(i,"formatBlock",null,null,null,t,n)},state:function(i){return e.commands.formatBlock.state(i,"formatBlock",null,null,null,t,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(e){return e.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(e,t){wysihtml5.commands.formatInline.execWithToggle(e,t,"u")},state:function(e,t){return wysihtml5.commands.formatInline.state(e,t,"u")}},wysihtml5.commands.undo={exec:function(e){return e.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(e,t,n){var i,r,o;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(o=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",o+="<tbody>",r=0;r<n.rows;r++){for(o+="<tr>",i=0;i<n.cols;i++)o+="<td>&nbsp;</td>";o+="</tr>"}o+="</tbody></table>",e.commands.exec("insertHTML",o)}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(e,t){e.tableSelection&&e.tableSelection.start&&e.tableSelection.end&&(this.state(e,t)?wysihtml5.dom.table.unmergeCell(e.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(e.tableSelection.start,e.tableSelection.end))},state:function(e){if(e.tableSelection){var t=e.tableSelection.start,n=e.tableSelection.end;if(t&&n&&t==n&&(wysihtml5.dom.getAttribute(t,"colspan")&&parseInt(wysihtml5.dom.getAttribute(t,"colspan"),10)>1||wysihtml5.dom.getAttribute(t,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(t,"rowspan"),10)>1))return[t]}return!1}},wysihtml5.commands.addTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):("after"==n||"below"==n)&&wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){e.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(e,t,n){if(e.tableSelection&&e.tableSelection.start&&e.tableSelection.end){var i,r=wysihtml5.dom.table.orderSelectionEnds(e.tableSelection.start,e.tableSelection.end),o=wysihtml5.dom.table.indexOf(r.start),a=e.tableSelection.table;wysihtml5.dom.table.removeCells(r.start,n),setTimeout(function(){i=wysihtml5.dom.table.findCell(a,o),i||("row"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row-1,col:o.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(a,{row:o.row,col:o.col-1}))),i&&e.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPushLiLevel(t,e.selection)},state:function(){return!1},tryToPushLiLevel:function(e,t){var n,i,r,o,a,s=!1;return t.executeAndRestoreRangy(function(){for(var t=e.length;t--;)o=e[t],n="OL"===o.parentNode.nodeName?"OL":"UL",i=o.ownerDocument.createElement(n),r=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),a=r?r.querySelector("ul, ol"):null,r&&(a?a.appendChild(o):(i.appendChild(o),r.appendChild(i)),s=!0)}),s}},wysihtml5.commands.outdentList={exec:function(e){var t=e.selection.getSelectionParentsByTag("LI");return!!t&&this.tryToPullLiLevel(t,e)},state:function(){return!1},tryToPullLiLevel:function(e,t){var n,i,r,o,a,s=!1,l=this;return t.selection.executeAndRestoreRangy(function(){var u,c;for(u=e.length;u--;)if(o=e[u],o.parentNode&&(n=o.parentNode,"OL"===n.tagName||"UL"===n.tagName)){if(s=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,t.element),r=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,t.element),i&&r)o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a)),i.insertBefore(o,r.nextSibling);else{for(o.nextSibling&&(a=l.getAfterList(n,o),o.appendChild(a)),c=o.childNodes.length;c--;)n.parentNode.insertBefore(o.childNodes[c],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),o.parentNode.removeChild(o)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),s},getAfterList:function(e,t){for(var n=e.nodeName,i=document.createElement(n);t.nextSibling;)i.appendChild(t.nextSibling);return i}},function(e){var t=90,n=89,i=8,r=46,o=25,a="data-wysihtml5-selection-node",s="data-wysihtml5-selection-offset",l=('<span id="_wysihtml5-undo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",'<span id="_wysihtml5-redo" class="_wysihtml5-temp">'+e.INVISIBLE_SPACE+"</span>",e.dom);e.UndoManager=e.lang.Dispatcher.extend({constructor:function(e){this.editor=e,this.composer=e.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var e,o=this;this.composer.sandbox.getDocument(),l.observe(this.element,"keydown",function(e){if(!e.altKey&&(e.ctrlKey||e.metaKey)){var i=e.keyCode,r=i===t&&!e.shiftKey,a=i===t&&e.shiftKey||i===n;r?(o.undo(),e.preventDefault()):a&&(o.redo(),e.preventDefault())}}),l.observe(this.element,"keydown",function(t){var n=t.keyCode;n!==e&&(e=n,(n===i||n===r)&&o.transact())}),this.editor.on("newword:composer",function(){o.transact()}).on("beforecommand:composer",function(){o.transact()})},transact:function(){var t,n,i,r,l,u,c,d=this.historyStr[this.position-1],f=this.composer.getValue(!1,!1),h=this.element.offsetWidth>0&&this.element.offsetHeight>0;f!==d&&(u=this.historyStr.length=this.historyDom.length=this.position,u>o&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,h&&(t=this.composer.selection.getRange(),n=t&&t.startContainer?t.startContainer:this.element,i=t&&t.startOffset?t.startOffset:0,n.nodeType===e.ELEMENT_NODE?r=n:(r=n.parentNode,l=this.getChildNodeIndex(r,n)),r.setAttribute(s,i),void 0!==l&&r.setAttribute(a,l)),c=this.element.cloneNode(!!f),this.historyDom.push(c),this.historyStr.push(f),r&&(r.removeAttribute(s),r.removeAttribute(a)))},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(e){var t,n,i,r,o,l;for(this.element.innerHTML="",t=0,n=e.childNodes,i=e.childNodes.length;i>t;t++)this.element.appendChild(n[t].cloneNode(!0));e.hasAttribute(s)?(r=e.getAttribute(s),l=e.getAttribute(a),o=this.element):(o=this.element.querySelector("["+s+"]")||this.element,r=o.getAttribute(s),l=o.getAttribute(a),o.removeAttribute(s),o.removeAttribute(a)),null!==l&&(o=this.getChildNodeByIndex(o,+l)),this.composer.selection.set(o,r)},getChildNodeIndex:function(e,t){for(var n=0,i=e.childNodes,r=i.length;r>n;n++)if(i[n]===t)return n},getChildNodeByIndex:function(e,t){return e.childNodes[t]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(e,t,n){this.parent=e,
this.element=t,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var e=this;this.parent.on("beforeload",function(){e.parent.on("change_view",function(t){t===e.name?(e.parent.currentView=e,e.show(),setTimeout(function(){e.focus()},0)):e.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(e){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(e){var t=e.dom,n=e.browser;e.views.Composer=e.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(e,t,n){this.base(e,t,n),this.config.noTextarea?this.editableArea=t:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(t,n){var i=this.isEmpty()?"":e.quirks.getCorrectInnerHTML(this.element);return t!==!1&&(i=this.parent.parse(i,n!==!1)),i},setValue:function(e,t){t&&(e=this.parent.parse(e));try{this.element.innerHTML=e}catch(n){this.element.innerText=e}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=t.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(t){e.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;t&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return t.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var e=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(e)||""===e||"<br>"===e||"<p></p>"===e||"<p><br></p>"===e||this.hasPlaceholderSet()},_initContentEditableArea:function(){var e=this;this.config.noTextarea?this.sandbox=new t.ContentEditableArea(function(){e._create()},{},this.editableArea):(this.sandbox=new t.ContentEditableArea(function(){e._create()}),this.editableArea=this.sandbox.getContentEditable(),t.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var e,n=this;this.sandbox=new t.Sandbox(function(){n._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe(),e=this.textarea.element,t.insert(this.editableArea).after(e),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var e=document.createElement("input");e.type="hidden",e.name="_wysihtml5_mode",e.value=1,t.insert(e).after(this.textarea.element)}},_create:function(){var i,r,o=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new e.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new e.Commands(this.parent),this.config.noTextarea||t.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),t.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe(),i=this.config.name,i&&(t.addClass(this.element,i),this.config.contentEditableMode||t.addClass(this.editableArea,i)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable(),r="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"),r&&t.simulatePlaceholder(this.parent,this,r),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){o.focus(!0)},100),n.clearsContentEditableCorrectly()||e.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i,r,o,a=this,s=n.canDisableAutoLinking(),l=n.doesAutoLinkingInContentEditable();s&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink&&((!l||l&&s)&&(this.parent.on("newword:composer",function(){t.getTextContent(a.element).match(t.autoLink.URL_REG_EXP)&&a.selection.executeAndRestore(function(n,i){var r,o=a.element.querySelectorAll("."+a.config.uneditableContainerClassname),s=!1;for(r=o.length;r--;)e.dom.contains(o[r],i)&&(s=!0);s||t.autoLink(i.parentNode,[a.config.uneditableContainerClassname])})}),t.observe(this.element,"blur",function(){t.autoLink(a.element,[a.config.uneditableContainerClassname])})),i=this.sandbox.getDocument().getElementsByTagName("a"),r=t.autoLink.URL_REG_EXP,o=function(n){var i=e.lang.string(t.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i},t.observe(this.element,"keydown",function(e){if(i.length){var n,s=a.selection.getSelectedNode(e.target.ownerDocument),l=t.getParentElement(s,{nodeName:"A"},4);l&&(n=o(l),setTimeout(function(){var e=o(l);e!==n&&e.match(r)&&l.setAttribute("href",e)},0))}}))},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],r=i.length,o=this.element;t.observe(o,"resizeend",function(t){var n,a=t.target||t.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;r>l;l++)n=i[l],s[n]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");e.quirks.redraw(o)}})}},_initUndoManager:function(){this.undoManager=new e.UndoManager(this.parent)},_initLineBreaking:function(){function i(e){var n=t.getParentElement(e,{nodeName:["P","DIV"]},2);n&&t.contains(r.element,n)&&r.selection.executeAndRestore(function(){r.config.useLineBreaks?t.replaceWithChildNodes(n):"P"!==n.nodeName&&t.renameElement(n,"p")})}var r=this,o=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||t.observe(this.element,["focus","keydown"],function(){if(r.isEmpty()){var e=r.doc.createElement("P");r.element.innerHTML="",r.element.appendChild(e),n.displaysCaretInEmptyContentEditableCorrectly()?r.selection.selectNode(e,!0):(e.innerHTML="<br>",r.selection.setBefore(e.firstChild))}}),t.observe(this.element,"keydown",function(n){var s,l=n.keyCode;if(!n.shiftKey&&(l===e.ENTER_KEY||l===e.BACKSPACE_KEY))return s=t.getParentElement(r.selection.getSelectedNode(),{nodeName:o},4),s?void setTimeout(function(){var n,o=r.selection.getSelectedNode();if("LI"===s.nodeName){if(!o)return;n=t.getParentElement(o,{nodeName:a},2),n||i(o)}l===e.ENTER_KEY&&s.nodeName.match(/^H[1-6]$/)&&i(o)},0):void(r.config.useLineBreaks&&l===e.ENTER_KEY&&!e.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),r.commands.exec("insertLineBreak")))})}})}(wysihtml5),function(e){var t=e.dom,n=document,i=window,r=n.createElement("div"),o=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",e.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(e){if(e.setActive)try{e.setActive()}catch(r){}else{var o=e.style,a=n.documentElement.scrollTop||n.body.scrollTop,s=n.documentElement.scrollLeft||n.body.scrollLeft,l={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};t.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(e),e.focus(),t.setStyles(l).on(e),i.scrollTo&&i.scrollTo(s,a)}};e.views.Composer.prototype.style=function(){var i,u,c=this,d=n.querySelector(":focus"),f=this.textarea.element,h=f.hasAttribute("placeholder"),p=h&&f.getAttribute("placeholder"),m=f.style.display,g=f.disabled;return this.focusStylesHost=r.cloneNode(!1),this.blurStylesHost=r.cloneNode(!1),this.disabledStylesHost=r.cloneNode(!1),h&&f.removeAttribute("placeholder"),f===d&&f.blur(),f.disabled=!1,f.style.display=i="none",(f.getAttribute("rows")&&"auto"===t.getStyle("height").from(f)||f.getAttribute("cols")&&"auto"===t.getStyle("width").from(f))&&(f.style.display=i=m),t.copyStyles(a).from(f).to(this.editableArea).andTo(this.blurStylesHost),t.copyStyles(o).from(f).to(this.element).andTo(this.blurStylesHost),t.insertCSS(s).into(this.element.ownerDocument),f.disabled=!0,t.copyStyles(a).from(f).to(this.disabledStylesHost),t.copyStyles(o).from(f).to(this.disabledStylesHost),f.disabled=g,f.style.display=m,l(f),f.style.display=i,t.copyStyles(a).from(f).to(this.focusStylesHost),t.copyStyles(o).from(f).to(this.focusStylesHost),f.style.display=m,t.copyStyles(["display"]).from(f).to(this.editableArea),u=e.lang.array(a).without(["display"]),d?d.focus():f.blur(),h&&f.setAttribute("placeholder",p),this.parent.on("focus:composer",function(){t.copyStyles(u).from(c.focusStylesHost).to(c.editableArea),t.copyStyles(o).from(c.focusStylesHost).to(c.element)}),this.parent.on("blur:composer",function(){t.copyStyles(u).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this.parent.observe("disable:composer",function(){t.copyStyles(u).from(c.disabledStylesHost).to(c.editableArea),t.copyStyles(o).from(c.disabledStylesHost).to(c.element)}),this.parent.observe("enable:composer",function(){t.copyStyles(u).from(c.blurStylesHost).to(c.editableArea),t.copyStyles(o).from(c.blurStylesHost).to(c.element)}),this}}(wysihtml5),function(e){var t=e.dom,n=e.browser,i={66:"bold",73:"italic",85:"underline"},r=function(e,t,n){var i,r=e.getPreviousNode(t,!0),o=e.getSelectedNode();if(1!==o.nodeType&&o.parentNode!==n&&(o=o.parentNode),r)if(1==o.nodeType){if(i=o.firstChild,1==r.nodeType)for(;o.firstChild;)r.appendChild(o.firstChild);else for(;o.firstChild;)t.parentNode.insertBefore(o.firstChild,t);o.parentNode&&o.parentNode.removeChild(o),e.setBefore(i)}else 1==r.nodeType?r.appendChild(o):t.parentNode.insertBefore(o,t),e.setBefore(o)},o=function(e,t,n,i){var o,a,s;t.isCollapsed()?t.caretIsInTheBeginnig("LI")?(e.preventDefault(),i.commands.exec("outdentList")):t.caretIsInTheBeginnig()?e.preventDefault():(t.caretIsFirstInSelection()&&t.getPreviousNode()&&t.getPreviousNode().nodeName&&/^H\d$/gi.test(t.getPreviousNode().nodeName)&&(o=t.getPreviousNode(),e.preventDefault(),/^\s*$/.test(o.textContent||o.innerText)?o.parentNode.removeChild(o):(a=o.ownerDocument.createRange(),a.selectNodeContents(o),a.collapse(!1),t.setSelection(a))),s=t.caretIsBeforeUneditable(),s&&(e.preventDefault(),r(t,s,n))):t.containsUneditable()&&(e.preventDefault(),t.deleteContents())},a=function(e){if(e.selection.isCollapsed()){if(e.selection.caretIsInTheBeginnig("LI")&&e.commands.exec("indentList"))return}else e.selection.deleteContents();e.commands.exec("insertHTML","&emsp;")};e.views.Composer.prototype.observe=function(){var r,s,l=this,u=this.getValue(!1,!1),c=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),d=this.element,f=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?d:this.sandbox.getWindow(),h=["drop","paste","beforepaste"],p=["drop","paste","mouseup","focus","keyup"];t.observe(c,"DOMNodeRemoved",function(){clearInterval(r),l.parent.fire("destroy:composer")}),n.supportsMutationEvents()||(r=setInterval(function(){t.contains(document.documentElement,c)||(clearInterval(r),l.parent.fire("destroy:composer"))},250)),t.observe(f,p,function(){setTimeout(function(){l.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&e.browser.supportsCommand(this.doc,"enableObjectResizing")&&e.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=t.observe(c,["focus","mouseup","mouseover"],function(){l.doc.execCommand("enableObjectResizing",!1,"false"),l.doc.execCommand("enableInlineTableEditing",!1,"false"),l.tableClickHandle.stop()}):setTimeout(function(){l.doc.execCommand("enableObjectResizing",!1,"false"),l.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=e.quirks.tableCellsSelection(d,l.parent)),t.observe(f,"focus",function(e){l.parent.fire("focus",e).fire("focus:composer",e),setTimeout(function(){u=l.getValue(!1,!1)},0)}),t.observe(f,"blur",function(e){if(u!==l.getValue(!1,!1)){var t=e;"function"==typeof Object.create&&(t=Object.create(e,{type:{value:"change"}})),l.parent.fire("change",t).fire("change:composer",t)}l.parent.fire("blur",e).fire("blur:composer",e)}),t.observe(d,"dragenter",function(){l.parent.fire("unset_placeholder")}),t.observe(d,h,function(e){l.parent.fire(e.type,e).fire(e.type+":composer",e)}),this.config.copyedFromMarking&&t.observe(d,"copy",function(e){e.clipboardData&&(e.clipboardData.setData("text/html",l.config.copyedFromMarking+l.selection.getHtml()),e.preventDefault()),l.parent.fire(e.type,e).fire(e.type+":composer",e)}),t.observe(d,"keyup",function(t){var n=t.keyCode;(n===e.SPACE_KEY||n===e.ENTER_KEY)&&l.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){l.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||t.observe(d,"mousedown",function(t){var n=t.target,i=d.querySelectorAll("img"),r=d.querySelectorAll("."+l.config.uneditableContainerClassname+" img"),o=e.lang.array(i).without(r);"IMG"===n.nodeName&&e.lang.array(o).contains(n)&&l.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||t.observe(d,"drop",function(){setTimeout(function(){l.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&t.observe(d,"keydown",function(e){if(e.metaKey||e.ctrlKey){var t=e.keyCode,n=d.ownerDocument.defaultView,i=n.getSelection();(37===t||39===t)&&(37===t&&(i.modify("extend","left","lineboundary"),e.shiftKey||i.collapseToStart()),39===t&&(i.modify("extend","right","lineboundary"),e.shiftKey||i.collapseToEnd()),e.preventDefault())}}),t.observe(d,"keydown",function(e){var t=e.keyCode,n=i[t];(e.ctrlKey||e.metaKey)&&!e.altKey&&n&&(l.commands.exec(n),e.preventDefault()),8===t?o(e,l.selection,d,l):l.config.handleTabKey&&9===t&&(e.preventDefault(),a(l,d))}),t.observe(d,"keydown",function(t){var n,i=l.selection.getSelectedNode(!0),r=t.keyCode;!i||"IMG"!==i.nodeName||r!==e.BACKSPACE_KEY&&r!==e.DELETE_KEY||(n=i.parentNode,n.removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){e.quirks.redraw(d)},0),t.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(t.observe(c,"focus",function(){setTimeout(function(){l.doc.querySelector(":focus")!==l.element&&l.focus()},0)}),t.observe(this.element,"blur",function(){setTimeout(function(){l.selection.getSelection().removeAllRanges()},0)})),s={IMG:"Image: ",A:"Link: "},t.observe(d,"mouseover",function(e){var t,n,i=e.target,r=i.nodeName;("A"===r||"IMG"===r)&&(n=i.hasAttribute("title"),n||(t=s[r]+(i.getAttribute("href")||i.getAttribute("src")),i.setAttribute("title",t)))})}}(wysihtml5),function(e){var t=400;e.views.Synchronizer=Base.extend({constructor:function(e,t,n){this.editor=e,this.textarea=t,this.composer=n,this._observe()},fromComposerToTextarea:function(t){this.textarea.setValue(e.lang.string(this.composer.getValue(!1,!1)).trim(),t)},fromTextareaToComposer:function(e){var t=this.textarea.getValue(!1,!1);t?this.composer.setValue(t,e):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(e){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(e):this.fromComposerToTextarea(e)},_observe:function(){var n,i=this,r=this.textarea.element.form,o=function(){n=setInterval(function(){i.fromComposerToTextarea()},t)},a=function(){clearInterval(n),n=null};o(),r&&(e.dom.observe(r,"submit",function(){i.sync(!0)}),e.dom.observe(r,"reset",function(){setTimeout(function(){i.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(e){"composer"!==e||n?"textarea"===e&&(i.fromComposerToTextarea(!0),a()):(i.fromTextareaToComposer(!0),o())}),this.editor.on("destroy:composer",a)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(e,t,n){this.base(e,t,n),this._observe()},clear:function(){this.element.value=""},getValue:function(e){var t=this.isEmpty()?"":this.element.value;return e!==!1&&(t=this.parent.parse(t)),t},setValue:function(e,t){t&&(e=this.parent.parse(e)),this.element.value=e},cleanUp:function(){var e=this.parent.parse(this.element.value);this.element.value=e},hasPlaceholderSet:function(){var e=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),t=this.element.getAttribute("placeholder")||null,n=this.element.value,i=!n;return e&&i||n===t},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var e=this.element,t=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];t.on("beforeload",function(){wysihtml5.dom.observe(e,i,function(e){var i=n[e.type]||e.type;t.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(e,["paste","drop"],function(){setTimeout(function(){t.fire("paste").fire("paste:textarea")},0)})})}}),function(e){var t,n={name:t,style:!0,toolbar:t,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:e.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:t,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};e.Editor=e.lang.Dispatcher.extend({constructor:function(t,i){if(this.editableElement="string"==typeof t?document.getElementById(t):t,this.config=e.lang.object({}).merge(n).merge(i).get(),this._isCompatible=e.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new e.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&e.browser.isTouchDevice()){var r=this;return void setTimeout(function(){r.fire("beforeload").fire("load")},0)}e.dom.addClass(document.body,this.config.bodyClassName),this.composer=new e.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new e.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new e.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(e,t){return this.currentView.getValue(e,t)},setValue:function(e,t){return this.fire("unset_placeholder"),e?(this.currentView.setValue(e,t),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(e){return this.currentView.focus(e),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(t,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,r=this.config.parser(t,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof t&&e.quirks.redraw(t),r},_initParser:function(){var t,n=this;e.browser.supportsModenPaste()?this.on("paste:composer",function(i){i.preventDefault(),t=e.dom.getPastedHtml(i),t&&n._cleanAndPaste(t)}):this.on("beforepaste:composer",function(t){t.preventDefault(),e.dom.getPastedHtmlWithDiv(n.composer,function(e){e&&n._cleanAndPaste(e)})})},_cleanAndPaste:function(t){var n=e.quirks.cleanPastedHTML(t,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(n)}})}(wysihtml5),function(e){var t=e.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",r="[data-wysihtml5-dialog-field]",o="data-wysihtml5-dialog-field";e.toolbar.Dialog=e.lang.Dispatcher.extend({constructor:function(e,t){this.link=e,this.container=t},_observe:function(){var r,o,a,s,l,u;if(!this._observed){for(r=this,o=function(e){var t=r._serialize();t==r.elementToChange?r.fire("edit",t):r.fire("save",t),r.hide(),e.preventDefault(),e.stopPropagation()},t.observe(r.link,"click",function(){t.hasClass(r.link,n)&&setTimeout(function(){r.hide()},0)}),t.observe(this.container,"keydown",function(t){var n=t.keyCode;n===e.ENTER_KEY&&o(t),n===e.ESCAPE_KEY&&(r.fire("cancel"),r.hide())}),t.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",o),t.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(e){r.fire("cancel"),r.hide(),e.preventDefault(),e.stopPropagation()}),a=this.container.querySelectorAll(i),s=0,l=a.length,u=function(){clearInterval(r.interval)};l>s;s++)t.observe(a[s],"change",u);this._observed=!0}},_serialize:function(){for(var e=this.elementToChange||{},t=this.container.querySelectorAll(r),n=t.length,i=0;n>i;i++)e[t[i].getAttribute(o)]=t[i].value;return e},_interpolate:function(e){for(var t,n,i,a=document.querySelector(":focus"),s=this.container.querySelectorAll(r),l=s.length,u=0;l>u;u++)t=s[u],t!==a&&(e&&"hidden"===t.type||(n=t.getAttribute(o),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":t.defaultValue,t.value=i))},show:function(e){if(!t.hasClass(this.link,n)){var r=this,o=this.container.querySelector(i);if(this.elementToChange=e,this._observe(),this._interpolate(),e&&(this.interval=setInterval(function(){r._interpolate(!0)},500)),t.addClass(this.link,n),this.container.style.display="",this.fire("show"),o&&!e)try{o.focus()}catch(a){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,t.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(e){var t=e.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},r={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},o={"x-webkit-speech":"",speech:""};e.toolbar.Speech=function(a,s){var l,u,c,d=document.createElement("input");return e.browser.supportsSpeechApiOn(d)?(l=a.editor.textarea.element.getAttribute("lang"),l&&(o.lang=l),u=document.createElement("div"),e.lang.object(i).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),t.insert(d).into(u),t.insert(u).into(s),t.setStyles(r).on(d),t.setAttributes(o).on(d),t.setStyles(i).on(u),t.setStyles(n).on(s),c="onwebkitspeechchange"in d?"webkitspeechchange":"speechchange",t.observe(d,c,function(){a.execCommand("insertText",d.value),d.value=""}),void t.observe(d,"click",function(e){t.hasClass(s,"wysihtml5-command-disabled")&&e.preventDefault(),e.stopPropagation()})):void(s.style.display="none")}}(wysihtml5),function(e){var t="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",r="wysihtml5-action-active",o=e.dom;e.toolbar.Toolbar=Base.extend({constructor:function(o,a,s){this.editor=o,this.container="string"==typeof a?document.getElementById(a):a,this.composer=o.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),s&&this.show(),null!=o.config.classNameCommandDisabled&&(t=o.config.classNameCommandDisabled),null!=o.config.classNameCommandsDisabled&&(n=o.config.classNameCommandsDisabled),null!=o.config.classNameCommandActive&&(i=o.config.classNameCommandActive),null!=o.config.classNameActionActive&&(r=o.config.classNameActionActive);for(var l=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),u=l.length,c=0;u>c;c++)new e.toolbar.Speech(this,l[c])},_getLinks:function(t){for(var n,i,r,o,a,s=this[t+"Links"]=e.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+t+"]")).get(),l=s.length,u=0,c=this[t+"Mapping"]={};l>u;u++)n=s[u],r=n.getAttribute("data-wysihtml5-"+t),o=n.getAttribute("data-wysihtml5-"+t+"-value"),i=this.container.querySelector("[data-wysihtml5-"+t+"-group='"+r+"']"),a=this._getDialog(n,r),c[r+":"+o]={link:n,group:i,name:r,value:o,dialog:a,state:!1}},_getDialog:function(t,n){var i,r,o=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&(i=e.toolbar["Dialog_"+n]?new e.toolbar["Dialog_"+n](t,a):new e.toolbar.Dialog(t,a),i.on("show",function(){r=o.composer.selection.getBookmark(),o.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("save",function(e){r&&o.composer.selection.setBookmark(r),o._execCommand(n,e),o.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:t})}),i.on("cancel",function(){o.editor.focus(!1),o.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:t})})),i},execCommand:function(e,t){if(!this.commandsDisabled){var n=this.commandMapping[e+":"+t];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(e,t)}},_execCommand:function(e,t){this.editor.focus(!1),this.composer.commands.exec(e,t),this._updateLinkStates()},execAction:function(e){var t=this.editor;"change_view"===e&&t.textarea&&(t.currentView===t.textarea?t.fire("change_view","composer"):t.fire("change_view","textarea")),"showSource"==e&&t.fire("showSource")},_observe:function(){for(var e=this,t=this.editor,i=this.container,r=this.commandLinks.concat(this.actionLinks),a=r.length,s=0;a>s;s++)"A"===r[s].nodeName?o.setAttributes({href:"javascript:;",unselectable:"on"}).on(r[s]):o.setAttributes({unselectable:"on"}).on(r[s]);o.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(e){e.preventDefault()}),o.delegate(i,"[data-wysihtml5-command]","click",function(t){var n=this,i=n.getAttribute("data-wysihtml5-command"),r=n.getAttribute("data-wysihtml5-command-value");e.execCommand(i,r),t.preventDefault()}),o.delegate(i,"[data-wysihtml5-action]","click",function(t){var n=this.getAttribute("data-wysihtml5-action");e.execAction(n),t.preventDefault()}),t.on("interaction:composer",function(){e._updateLinkStates()}),t.on("focus:composer",function(){e.bookmark=null}),this.editor.config.handleTables&&(t.on("tableselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),t.on("tableunselect:composer",function(){e.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),t.on("change_view",function(r){t.textarea&&setTimeout(function(){e.commandsDisabled="composer"!==r,e._updateLinkStates(),e.commandsDisabled?o.addClass(i,n):o.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,a,s,l,u=this.commandMapping,c=this.actionMapping;for(n in u)l=u[n],this.commandsDisabled?(a=!1,o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),o.removeClass(l.link,t),l.group&&o.removeClass(l.group,t)),l.state!==a&&(l.state=a,a?(o.addClass(l.link,i),l.group&&o.addClass(l.group,i),l.dialog&&("object"==typeof a||e.lang.object(a).isArray()?(!l.dialog.multiselect&&e.lang.object(a).isArray()&&(a=1!==a.length||a[0],l.state=a),l.dialog.show(a)):l.dialog.hide())):(o.removeClass(l.link,i),l.group&&o.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in c)s=c[n],"change_view"===s.name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?o.addClass(s.link,r):o.removeClass(s.link,r))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),function(e){e.toolbar.Dialog_createTable=e.toolbar.Dialog.extend({show:function(e){this.base(e)}})}(wysihtml5),function(e){var t=(e.dom,"[data-wysihtml5-dialog-field]"),n="data-wysihtml5-dialog-field";e.toolbar.Dialog_foreColorStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var e={},i=this.container.querySelectorAll(t),r=i.length,o=0;r>o;o++)e[i[o].getAttribute(n)]=i[o].value;return e},_interpolate:function(i){for(var r,o=document.querySelector(":focus"),a=this.container.querySelectorAll(t),s=a.length,l=0,u=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,c=u?u.getAttribute("style"):null,d=c?e.quirks.styleParser.parseColor(c,"color"):null;s>l;l++)r=a[l],r!==o&&(i&&"hidden"===r.type||"color"===r.getAttribute(n)&&(r.value=d?d[3]&&1!=d[3]?"rgba("+d[0]+","+d[1]+","+d[2]+","+d[3]+");":"rgb("+d[0]+","+d[1]+","+d[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(e){e.dom,e.toolbar.Dialog_fontSizeStyle=e.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var t=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?e.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,r=i?i.getAttribute("style"):null,o=r?e.quirks.styleParser.parseFontSize(r):null;
n&&n!==t&&o&&!/^\s*$/.test(o)&&(n.value=o)}})}(wysihtml5),Handlebars=function(){var e=function(){"use strict";function e(e){this.string=e}var t;return e.prototype.toString=function(){return""+this.string},t=e}(),t=function(e){"use strict";function t(e){return c[e]||"&amp;"}function n(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function i(e){return e instanceof u?""+e:e||0===e?(e=""+e,f.test(e)?e.replace(d,t):e):""}function r(e){return!e&&0!==e||!(!s(e)||0!==e.length)}var o,a,s,l={},u=e,c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/[&<>"'`]/g,f=/[&<>"'`]/;return l.extend=n,o=Object.prototype.toString,l.toString=o,a=function(e){return"function"==typeof e},a(/x/)&&(a=function(e){return"function"==typeof e&&"[object Function]"===o.call(e)}),l.isFunction=a,s=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===o.call(e)},l.isArray=s,l.escapeExpression=i,l.isEmpty=r,l}(e),n=function(){"use strict";function e(e,t){var i,r,o;for(t&&t.firstLine&&(i=t.firstLine,e+=" - "+i+":"+t.firstColumn),r=Error.prototype.constructor.call(this,e),o=0;o<n.length;o++)this[n[o]]=r[n[o]];i&&(this.lineNumber=i,this.column=t.firstColumn)}var t,n=["description","fileName","lineNumber","message","name","number","stack"];return e.prototype=Error(),t=e}(),i=function(e,t){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},i(this)}function i(e){e.registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new m("Missing helper: '"+e+"'")}),e.registerHelper("blockHelperMissing",function(t,n){var i=n.inverse||function(){},r=n.fn;return l(t)&&(t=t.call(this)),t===!0?r(this):t===!1||null==t?i(this):s(t)?t.length>0?e.helpers.each(t,n):i(this):r(t)}),e.registerHelper("each",function(e,t){var n,i,r,o=t.fn,a=t.inverse,u=0,c="";if(l(e)&&(e=e.call(this)),t.data&&(n=f(t.data)),e&&"object"==typeof e)if(s(e))for(i=e.length;i>u;u++)n&&(n.index=u,n.first=0===u,n.last=u===e.length-1),c+=o(e[u],{data:n});else for(r in e)e.hasOwnProperty(r)&&(n&&(n.key=r,n.index=u,n.first=0===u),c+=o(e[r],{data:n}),u++);return 0===u&&(c=a(this)),c}),e.registerHelper("if",function(e,t){return l(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||p.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,n){return e.helpers["if"].call(this,t,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),e.registerHelper("with",function(e,t){return l(e)&&(e=e.call(this)),p.isEmpty(e)?void 0:t.fn(e)}),e.registerHelper("log",function(t,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;e.log(i,t)})}function r(e,t){d.log(e,t)}var o,a,s,l,u,c,d,f,h={},p=e,m=t,g="1.3.0";return h.VERSION=g,o=4,h.COMPILER_REVISION=o,a={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},h.REVISION_CHANGES=a,s=p.isArray,l=p.isFunction,u=p.toString,c="[object Object]",h.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:d,log:r,registerHelper:function(e,t,n){if(u.call(e)===c){if(n||t)throw new m("Arg not supported with multiple helpers");p.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){u.call(e)===c?p.extend(this.partials,e):this.partials[e]=t}},d={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(d.level<=e){var n=d.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}},h.logger=d,h.log=r,f=function(e){var t={};return p.extend(t,e),t},h.createFrame=f,h}(t,n),r=function(e,t,n){"use strict";function i(e){var t,n,i=e&&e[0]||1,r=f;if(i!==r){if(r>i)throw t=h[r],n=h[i],new d("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+t+") or downgrade your runtime to an older version ("+n+").");throw new d("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function r(e,t){if(!t)throw new d("No environment passed to template");var n=function(e,n,i,r,o,a){var s,l=t.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(t.compile)return s={helpers:r,partials:o,data:a},o[n]=t.compile(e,{data:void 0!==a},t),o[n](i,s);throw new d("The partial "+n+" could not be compiled when running in runtime-only mode")},i={escapeExpression:c.escapeExpression,invokePartial:n,programs:[],program:function(e,t,n){var i=this.programs[e];return n?i=a(e,t,n):i||(i=this.programs[e]=a(e,t)),i},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},c.extend(n,t),c.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(n,r){var o,a,s,l;return r=r||{},s=r.partial?r:t,r.partial||(o=r.helpers,a=r.partials),l=e.call(i,s,n,o,a,r.data),r.partial||t.VM.checkRevision(i.compilerInfo),l}}function o(e,t,n){var i=Array.prototype.slice.call(arguments,3),r=function(e,r){return r=r||{},t.apply(this,[e,r.data||n].concat(i))};return r.program=e,r.depth=i.length,r}function a(e,t,n){var i=function(e,i){return i=i||{},t(e,i.data||n)};return i.program=e,i.depth=0,i}function s(e,t,n,i,r,o){var a={partial:!0,helpers:i,partials:r,data:o};if(void 0===e)throw new d("The partial "+t+" could not be found");return e instanceof Function?e(n,a):void 0}function l(){return""}var u={},c=e,d=t,f=n.COMPILER_REVISION,h=n.REVISION_CHANGES;return u.checkRevision=i,u.template=r,u.programWithDepth=o,u.program=a,u.invokePartial=s,u.noop=l,u}(t,n,i),o=function(e,t,n,i,r){"use strict";var o,a=e,s=t,l=n,u=i,c=r,d=function(){var e=new a.HandlebarsEnvironment;return u.extend(e,a),e.SafeString=s,e.Exception=l,e.Utils=u,e.VM=c,e.template=function(t){return c.template(t,e)},e},f=d();return f.create=d,o=f}(i,e,n,t,r);return o}(),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+d((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===c?t.apply(e):t))}function a(){return' \n      <span class="fa fa-quote-left"></span>\n    '}function s(){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,u="",c="function",d=this.escapeExpression,f=this;return u+='<li>\n  <a class="btn ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.size),{hash:{},inverse:f.noop,fn:f.program(1,o,r),data:r}),(l||0===l)&&(u+=l),u+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.fa),{hash:{},inverse:f.program(5,s,r),fn:f.program(3,a,r),data:r}),(l||0===l)&&(u+=l),u+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+u((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===l?t.apply(e):t))}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var a,s="",l="function",u=this.escapeExpression,c=this;return s+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',a=n["if"].call(t,(a=t&&t.options,a=null==a||a===!1?a:a.toolbar,null==a||a===!1?a:a.size),{hash:{},inverse:c.noop,fn:c.program(1,o,r),data:r}),(a||0===a)&&(s+=a),s+='" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.black,typeof a===l?a.apply(t):a))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.black,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.silver,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.gray,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.maroon,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.red,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.purple,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.green,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.olive,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.navy,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.blue,typeof a===l?a.apply(t):a))+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+u((a=t&&t.locale,a=null==a||a===!1?a:a.colours,a=null==a||a===!1?a:a.orange,typeof a===l?a.apply(t):a))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+c((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===u?t.apply(e):t))}function a(e,t){var i,r="";return r+='\n    <a class="btn ',i=n["if"].call(e,(i=e&&e.options,i=null==i||i===!1?i:i.toolbar,null==i||i===!1?i:i.size),{hash:{},inverse:d.noop,fn:d.program(1,o,t),data:t}),(i||0===i)&&(r+=i),r+=' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+c((i=e&&e.locale,i=null==i||i===!1?i:i.emphasis,i=null==i||i===!1?i:i.small,typeof i===u?i.apply(e):i))+"</a>\n    "}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var s,l="",u="function",c=this.escapeExpression,d=this;return l+='<li>\n  <div class="btn-group">\n    <a class="btn ',s=n["if"].call(t,(s=t&&t.options,s=null==s||s===!1?s:s.toolbar,null==s||s===!1?s:s.size),{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}),(s||0===s)&&(l+=s),l+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+c((s=t&&t.locale,s=null==s||s===!1?s:s.emphasis,s=null==s||s===!1?s:s.bold,typeof s===u?s.apply(t):s))+'</a>\n    <a class="btn ',s=n["if"].call(t,(s=t&&t.options,s=null==s||s===!1?s:s.toolbar,null==s||s===!1?s:s.size),{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}),(s||0===s)&&(l+=s),l+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+c((s=t&&t.locale,s=null==s||s===!1?s:s.emphasis,s=null==s||s===!1?s:s.italic,typeof s===u?s.apply(t):s))+'</a>\n    <a class="btn ',s=n["if"].call(t,(s=t&&t.options,s=null==s||s===!1?s:s.toolbar,null==s||s===!1?s:s.size),{hash:{},inverse:d.noop,fn:d.program(1,o,r),data:r}),(s||0===s)&&(l+=s),l+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+c((s=t&&t.locale,s=null==s||s===!1?s:s.emphasis,s=null==s||s===!1?s:s.underline,typeof s===u?s.apply(t):s))+"</a>\n    ",s=n["if"].call(t,(s=t&&t.options,s=null==s||s===!1?s:s.toolbar,s=null==s||s===!1?s:s.emphasis,null==s||s===!1?s:s.small),{hash:{},inverse:d.noop,fn:d.program(3,a,r),data:r}),(s||0===s)&&(l+=s),l+="\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+d((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===c?t.apply(e):t))}function a(){return'\n      <span class="fa fa-font"></span>\n    '}function s(){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,u="",c="function",d=this.escapeExpression,f=this;return u+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.size),{hash:{},inverse:f.noop,fn:f.program(1,o,r),data:r}),(l||0===l)&&(u+=l),u+='" data-toggle="dropdown">\n    ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.fa),{hash:{},inverse:f.program(5,s,r),fn:f.program(3,a,r),data:r}),(l||0===l)&&(u+=l),u+='\n    <span class="current-font">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.normal,typeof l===c?l.apply(t):l))+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.normal,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h1,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h2,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h3,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h4,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h5,typeof l===c?l.apply(t):l))+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+d((l=t&&t.locale,l=null==l||l===!1?l:l.font_styles,l=null==l||l===!1?l:l.h6,typeof l===c?l.apply(t):l))+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+d((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===c?t.apply(e):t))}function a(){return'\n        <span class="fa fa-pencil"></span>\n      '}function s(){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var l,u="",c="function",d=this.escapeExpression,f=this;return u+='<li>\n  <div class="btn-group">\n    <a class="btn ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.size),{hash:{},inverse:f.noop,fn:f.program(1,o,r),data:r}),(l||0===l)&&(u+=l),u+=' btn-default" data-wysihtml5-action="change_view" title="'+d((l=t&&t.locale,l=null==l||l===!1?l:l.html,l=null==l||l===!1?l:l.edit,typeof l===c?l.apply(t):l))+'" tabindex="-1">\n      ',l=n["if"].call(t,(l=t&&t.options,l=null==l||l===!1?l:l.toolbar,null==l||l===!1?l:l.fa),{hash:{},inverse:f.program(5,s,r),fn:f.program(3,a,r),data:r}),(l||0===l)&&(u+=l),u+="\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(e,t,n,i,r){function o(){return"modal-sm"}function a(e){var t,n="";return n+="btn-"+f((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===d?t.apply(e):t))}function s(){return'\n      <span class="fa fa-file-image-o"></span>\n    '}function l(){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var u,c="",d="function",f=this.escapeExpression,h=this;return c+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.smallmodals),{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}),(u||0===u)&&(c+=u),c+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+f((u=t&&t.locale,u=null==u||u===!1?u:u.image,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+f((u=t&&t.locale,u=null==u||u===!1?u:u.image,u=null==u||u===!1?u:u.cancel,typeof u===d?u.apply(t):u))+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+f((u=t&&t.locale,u=null==u||u===!1?u:u.image,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.size),{hash:{},inverse:h.noop,fn:h.program(3,a,r),data:r}),(u||0===u)&&(c+=u),c+=' btn-default" data-wysihtml5-command="insertImage" title="'+f((u=t&&t.locale,u=null==u||u===!1?u:u.image,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'" tabindex="-1">\n    ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.fa),{hash:{},inverse:h.program(7,l,r),fn:h.program(5,s,r),data:r}),(u||0===u)&&(c+=u),c+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(e,t,n,i,r){function o(){return"modal-sm"}function a(e){var t,n="";return n+="btn-"+f((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===d?t.apply(e):t))}function s(){return'\n      <span class="fa fa-share-square-o"></span>\n    '}function l(){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var u,c="",d="function",f=this.escapeExpression,h=this;return c+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.smallmodals),{hash:{},inverse:h.noop,fn:h.program(1,o,r),data:r}),(u||0===u)&&(c+=u),c+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+f((u=t&&t.locale,u=null==u||u===!1?u:u.link,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+f((u=t&&t.locale,u=null==u||u===!1?u:u.link,u=null==u||u===!1?u:u.target,typeof u===d?u.apply(t):u))+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+f((u=t&&t.locale,u=null==u||u===!1?u:u.link,u=null==u||u===!1?u:u.cancel,typeof u===d?u.apply(t):u))+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+f((u=t&&t.locale,u=null==u||u===!1?u:u.link,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.size),{hash:{},inverse:h.noop,fn:h.program(3,a,r),data:r}),(u||0===u)&&(c+=u),c+=' btn-default" data-wysihtml5-command="createLink" title="'+f((u=t&&t.locale,u=null==u||u===!1?u:u.link,u=null==u||u===!1?u:u.insert,typeof u===d?u.apply(t):u))+'" tabindex="-1">\n    ',u=n["if"].call(t,(u=t&&t.options,u=null==u||u===!1?u:u.toolbar,null==u||u===!1?u:u.fa),{hash:{},inverse:h.program(7,l,r),fn:h.program(5,s,r),data:r}),(u||0===u)&&(c+=u),c+="\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(e,t,n,i,r){function o(e){var t,n="";return n+="btn-"+v((t=e&&e.options,t=null==t||t===!1?t:t.toolbar,t=null==t||t===!1?t:t.size,typeof t===g?t.apply(e):t))}function a(){return'\n      <span class="fa fa-list-ul"></span>\n    '}function s(){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '}function l(){return'\n      <span class="fa fa-list-ol"></span>\n    '}function u(){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '}function c(){return'\n      <span class="fa fa-outdent"></span>\n    '}function d(){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '}function f(){return'\n      <span class="fa fa-indent"></span>\n    '}function h(){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),r=r||{};var p,m="",g="function",v=this.escapeExpression,b=this;return m+='<li>\n  <div class="btn-group">\n    <a class="btn ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.size),{hash:{},inverse:b.noop,fn:b.program(1,o,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+v((p=t&&t.locale,p=null==p||p===!1?p:p.lists,p=null==p||p===!1?p:p.unordered,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.fa),{hash:{},inverse:b.program(5,s,r),fn:b.program(3,a,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.size),{hash:{},inverse:b.noop,fn:b.program(1,o,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+v((p=t&&t.locale,p=null==p||p===!1?p:p.lists,p=null==p||p===!1?p:p.ordered,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.fa),{hash:{},inverse:b.program(9,u,r),fn:b.program(7,l,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.size),{hash:{},inverse:b.noop,fn:b.program(1,o,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Outdent" title="'+v((p=t&&t.locale,p=null==p||p===!1?p:p.lists,p=null==p||p===!1?p:p.outdent,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.fa),{hash:{},inverse:b.program(13,d,r),fn:b.program(11,c,r),data:r}),(p||0===p)&&(m+=p),m+='\n    </a>\n    <a class="btn ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.size),{hash:{},inverse:b.noop,fn:b.program(1,o,r),data:r}),(p||0===p)&&(m+=p),m+=' btn-default" data-wysihtml5-command="Indent" title="'+v((p=t&&t.locale,p=null==p||p===!1?p:p.lists,p=null==p||p===!1?p:p.indent,typeof p===g?p.apply(t):p))+'" tabindex="-1">\n    ',p=n["if"].call(t,(p=t&&t.options,p=null==p||p===!1?p:p.toolbar,null==p||p===!1?p:p.fa),{hash:{},inverse:b.program(17,h,r),fn:b.program(15,f,r),data:r}),(p||0===p)&&(m+=p),m+="\n    </a>\n  </div>\n</li>\n"}),function(e){"use strict";"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],e):e(jQuery,wysihtml5)}(function(e,t){"use strict";var n=function(e,t){var n,i,r,o=function(e,n,i){return t.tpl[e]?t.tpl[e]({locale:n,options:i}):void 0},a=function(n,r){var o,a;this.el=n,o=e.extend(!0,{},i,r);for(a in o.customTemplates)o.customTemplates.hasOwnProperty(a)&&(t.tpl[a]=o.customTemplates[a]);this.toolbar=this.createToolbar(n,o),this.editor=this.createEditor(o)};a.prototype={constructor:a,createEditor:function(t){t=t||{},t=e.extend(!0,{},t),t.toolbar=this.toolbar[0],this.initializeEditor(this.el[0],t)},initializeEditor:function(e,n){var i,r=new t.Editor(this.el[0],n);if(r.on("beforeload",this.syncBootstrapDialogEvents),r.on("beforeload",this.loadParserRules),r.composer.editableArea.contentDocument?this.addMoreShortcuts(r,r.composer.editableArea.contentDocument.body||r.composer.editableArea.contentDocument,n.shortcuts):this.addMoreShortcuts(r,r.composer.editableArea,n.shortcuts),n&&n.events)for(i in n.events)n.events.hasOwnProperty(i)&&r.on(i,n.events[i]);return r},loadParserRules:function(){"string"===e.type(this.config.parserRules)&&e.ajax({dataType:"json",url:this.config.parserRules,context:this,error:function(e,t,n){},success:function(e){void(this.config.parserRules=e)}}),this.config.pasteParserRulesets&&"string"===e.type(this.config.pasteParserRulesets)&&e.ajax({dataType:"json",url:this.config.pasteParserRulesets,context:this,error:function(e,t,n){},success:function(e){this.config.pasteParserRulesets=e}})},syncBootstrapDialogEvents:function(){var t=this;e.map(this.toolbar.commandMapping,function(e){return[e]}).filter(function(e){return e.dialog}).map(function(e){return e.dialog}).forEach(function(n){n.on("show",function(){e(this.container).modal("show")}),n.on("hide",function(){e(this.container).modal("hide"),setTimeout(t.composer.focus,0)}),e(n.container).on("shown.bs.modal",function(){e(this).find("input, select, textarea").first().focus()})}),this.on("change_view",function(){e(this.toolbar.container.children).find("a.btn").not('[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},createToolbar:function(t,n){var a,s,l=this,u=e("<ul/>",{"class":"wysihtml5-toolbar",style:"display:none"}),c=n.locale||i.locale||"en";r.hasOwnProperty(c)||(c="en"),a=e.extend(!0,{},r.en,r[c]);for(s in n.toolbar)n.toolbar[s]&&u.append(o(s,a,n));return u.find('a[data-wysihtml5-command="formatBlock"]').click(function(t){var n=t.delegateTarget||t.target||t.srcElement,i=e(n),r=i.data("wysihtml5-display-format-name"),o=i.data("wysihtml5-format-name")||i.html();(void 0===r||"true"===r)&&l.toolbar.find(".current-font").text(o)}),u.find('a[data-wysihtml5-command="foreColor"]').click(function(t){var n=t.target||t.srcElement,i=e(n);l.toolbar.find(".current-color").text(i.html())}),this.el.before(u),u},addMoreShortcuts:function(e,n,i){t.dom.observe(n,"keydown",function(n){var r,o=n.keyCode,a=i[o];(n.ctrlKey||n.metaKey||n.altKey)&&a&&t.commands[a]&&(r=e.toolbar.commandMapping[a+":null"],r&&r.dialog&&!r.state?r.dialog.show():t.commands[a].exec(e.composer,a),n.preventDefault())})}},n={resetDefaults:function(){e.fn.wysihtml5.defaultOptions=e.extend(!0,{},e.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(t){return this.each(function(){var n=e(this);n.data("wysihtml5",new a(n,t))})},shallowExtend:function(t){var i=e.extend({},e.fn.wysihtml5.defaultOptions,t||{},e(this).data()),r=this;return n.bypassDefaults.apply(r,[i])},deepExtend:function(t){var i=e.extend(!0,{},e.fn.wysihtml5.defaultOptions,t||{}),r=this;return n.bypassDefaults.apply(r,[i])},init:function(e){var t=this;return n.shallowExtend.apply(t,[e])}},e.fn.wysihtml5=function(t){return n[t]?n[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.wysihtml5"):n.init.apply(this,arguments)},e.fn.wysihtml5.Constructor=a,i=e.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},useLineBreaks:!1,parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small",75:"createLink"}},void 0===e.fn.wysihtml5.defaultOptionsCache&&(e.fn.wysihtml5.defaultOptionsCache=e.extend(!0,{},e.fn.wysihtml5.defaultOptions)),r=e.fn.wysihtml5.locale={}};n(e,t)}),function(e){e.commands.small={exec:function(t,n){return e.commands.formatInline.exec(t,n,"small")},state:function(t,n){return e.commands.formatInline.state(t,n,"small")}}}(wysihtml5),function(e){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],e):e(jQuery)}(function(e){e.fn.wysihtml5.locale.en=e.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),function(e){function t(e){var t=document.createElement("input"),e="on"+e,n=e in t;return n||(t.setAttribute(e,"return;"),n="function"==typeof t[e]),t=null,n}function n(t,i,r){var o=r.aliases[t];return!!o&&(o.alias&&n(o.alias,void 0,r),e.extend(!0,r,o),e.extend(!0,r,i),!0)}function i(t){function n(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,r=0,o=t.greedy,a=t.repeat;"*"==a&&(o=!1),1==n.length&&0==o&&0!=a&&(t.placeholder="");for(var s=e.map(n.split(""),function(e,n){
var o=[];if(e==t.escapeChar)i=!0;else if(e!=t.optionalmarker.start&&e!=t.optionalmarker.end||i){var a=t.definitions[e];if(a&&!i)for(var s=0;s<a.cardinality;s++)o.push(t.placeholder.charAt((r+s)%t.placeholder.length));else o.push(e),i=!1;return r+=o.length,o}}),l=s.slice(),u=1;u<a&&o;u++)l=l.concat(s.slice());return{mask:l,repeat:a,greedy:o}}function i(n){t.numericInput&&(n=n.split("").reverse().join(""));var i=!1,r=!1,o=!1;return e.map(n.split(""),function(e,n){var a=[];if(e==t.escapeChar)r=!0;else if(e!=t.optionalmarker.start||r){if(e!=t.optionalmarker.end||r){var s=t.definitions[e];if(s&&!r){for(var l=s.prevalidator,u=l?l.length:0,c=1;c<s.cardinality;c++){var d=u>=c?l[c-1]:[],f=d.validator,h=d.cardinality;a.push({fn:f?"string"==typeof f?new RegExp(f):new function(){this.test=f}:new RegExp("."),cardinality:h?h:1,optionality:i,newBlockMarker:1==i&&o,offset:0,casing:s.casing,def:s.definitionSymbol||e}),1==i&&(o=!1)}a.push({fn:s.validator?"string"==typeof s.validator?new RegExp(s.validator):new function(){this.test=s.validator}:new RegExp("."),cardinality:s.cardinality,optionality:i,newBlockMarker:o,offset:0,casing:s.casing,def:s.definitionSymbol||e})}else a.push({fn:null,cardinality:0,optionality:i,newBlockMarker:o,offset:0,casing:null,def:e}),r=!1;return o=!1,a}i=!1,o=!0}else i=!0,o=!0})}function r(e){return t.optionalmarker.start+e+t.optionalmarker.end}function o(e){for(var n=0,i=0,r=e.length,o=0;o<r&&(e.charAt(o)==t.optionalmarker.start&&n++,e.charAt(o)==t.optionalmarker.end&&i++,!(n>0&&n==i));o++);var a=[e.substring(0,o)];return o<r&&a.push(e.substring(o+1,r)),a}function a(e){for(var n=e.length,i=0;i<n&&e.charAt(i)!=t.optionalmarker.start;i++);var r=[e.substring(0,i)];return i<n&&r.push(e.substring(i+1,n)),r}function s(t,c,d){var f,h,p=o(c),m=a(p[0]);m.length>1?(f=t+m[0]+r(m[1])+(p.length>1?p[1]:""),e.inArray(f,u)==-1&&""!=f&&(u.push(f),h=n(f),l.push({mask:f,_buffer:h.mask,buffer:h.mask.slice(),tests:i(f),lastValidPosition:-1,greedy:h.greedy,repeat:h.repeat,metadata:d})),f=t+m[0]+(p.length>1?p[1]:""),e.inArray(f,u)==-1&&""!=f&&(u.push(f),h=n(f),l.push({mask:f,_buffer:h.mask,buffer:h.mask.slice(),tests:i(f),lastValidPosition:-1,greedy:h.greedy,repeat:h.repeat,metadata:d})),a(m[1]).length>1&&s(t+m[0],m[1]+p[1],d),p.length>1&&a(p[1]).length>1&&(s(t+m[0]+r(m[1]),p[1],d),s(t+m[0],p[1],d))):(f=t+p,e.inArray(f,u)==-1&&""!=f&&(u.push(f),h=n(f),l.push({mask:f,_buffer:h.mask,buffer:h.mask.slice(),tests:i(f),lastValidPosition:-1,greedy:h.greedy,repeat:h.repeat,metadata:d})))}var l=[],u=[];return e.isFunction(t.mask)&&(t.mask=t.mask.call(this,t)),e.isArray(t.mask)?e.each(t.mask,function(e,t){void 0!=t.mask?s("",t.mask.toString(),t):s("",t.toString())}):s("",t.mask.toString()),t.greedy?l:l.sort(function(e,t){return e.mask.length-t.mask.length})}function r(t,n,i,r){function c(){return t[n]}function d(){return c().tests}function f(){return c()._buffer}function h(){return c().buffer}function p(r,o,a){function s(e,t,n,r){for(var o=v(e),a=n?1:0,s="",l=t.buffer,u=t.tests[o].cardinality;u>a;u--)s+=C(l,o-(u-1));return n&&(s+=n),null!=t.tests[o].fn?t.tests[o].fn.test(s,l,e,r,i):(n==C(t._buffer,e,!0)||n==i.skipOptionalPartCharacter)&&{refresh:!0,c:C(t._buffer,e,!0),pos:e}}function l(n,i){var a=!1;if(e.each(i,function(t,i){if(a=e.inArray(i.activeMasksetIndex,n)==-1&&i.result!==!1)return!1}),a)i=e.map(i,function(i,r){return e.inArray(i.activeMasksetIndex,n)==-1?i:void(t[i.activeMasksetIndex].lastValidPosition=m)});else{var l,u=-1,c=-1;e.each(i,function(t,i){e.inArray(i.activeMasksetIndex,n)!=-1&&i.result!==!1&(u==-1||u>i.result.pos)&&(u=i.result.pos,c=i.activeMasksetIndex)}),i=e.map(i,function(i,a){if(e.inArray(i.activeMasksetIndex,n)!=-1){if(i.result.pos==u)return i;if(i.result!==!1){for(var d=r;d<u;d++){if(l=s(d,t[i.activeMasksetIndex],t[c].buffer[d],!0),l===!1){t[i.activeMasksetIndex].lastValidPosition=u-1;break}x(t[i.activeMasksetIndex].buffer,d,t[c].buffer[d],!0),t[i.activeMasksetIndex].lastValidPosition=d}return l=s(u,t[i.activeMasksetIndex],o,!0),l!==!1&&(x(t[i.activeMasksetIndex].buffer,u,o,!0),t[i.activeMasksetIndex].lastValidPosition=u),i}}})}return i}if(a=a===!0){var u=s(r,c(),o,a);return u===!0&&(u={pos:r}),u}var d=[],u=!1,f=n,p=h().slice(),m=c().lastValidPosition,_=(w(r),[]);return e.each(t,function(e,t){if("object"==typeof t){n=e;var i,l=r,v=c().lastValidPosition;if(v==m){if(l-m>1)for(var w=v==-1?0:v;w<l&&(i=s(w,c(),p[w],!0),i!==!1);w++){x(h(),w,p[w],!0),i===!0&&(i={pos:w});var C=i.pos||w;c().lastValidPosition<C&&(c().lastValidPosition=C)}if(!g(l)&&!s(l,c(),o,a)){for(var k=y(l)-l,S=0;S<k&&s(++l,c(),o,a)===!1;S++);_.push(n)}}if((c().lastValidPosition>=m||n==f)&&l>=0&&l<b()){if(u=s(l,c(),o,a),u!==!1){u===!0&&(u={pos:l});var C=u.pos||l;c().lastValidPosition<C&&(c().lastValidPosition=C)}d.push({activeMasksetIndex:e,result:u})}}}),n=f,l(_,d)}function m(){var i=n,r={activeMasksetIndex:0,lastValidPosition:-1,next:-1};e.each(t,function(e,t){"object"==typeof t&&(n=e,c().lastValidPosition>r.lastValidPosition?(r.activeMasksetIndex=e,r.lastValidPosition=c().lastValidPosition,r.next=y(c().lastValidPosition)):c().lastValidPosition==r.lastValidPosition&&(r.next==-1||r.next>y(c().lastValidPosition))&&(r.activeMasksetIndex=e,r.lastValidPosition=c().lastValidPosition,r.next=y(c().lastValidPosition)))}),n=r.lastValidPosition!=-1&&t[i].lastValidPosition==r.lastValidPosition?i:r.activeMasksetIndex,i!=n&&(S(h(),y(r.lastValidPosition),b()),c().writeOutBuffer=!0),Y.data("_inputmask").activeMasksetIndex=n}function g(e){var t=v(e),n=d()[t];return void 0!=n&&n.fn}function v(e){return e%d().length}function b(){return i.getMaskLength(f(),c().greedy,c().repeat,h(),i)}function y(e){var t=b();if(e>=t)return t;for(var n=e;++n<t&&!g(n););return n}function w(e){var t=e;if(t<=0)return 0;for(;--t>0&&!g(t););return t}function x(e,t,n,i){i&&(t=_(e,t));var r=d()[v(t)],o=n;if(void 0!=o&&void 0!=r)switch(r.casing){case"upper":o=n.toUpperCase();break;case"lower":o=n.toLowerCase()}e[t]=o}function C(e,t,n){return n&&(t=_(e,t)),e[t]}function _(e,t){for(var n;void 0==e[t]&&e.length<b();)for(n=0;void 0!==f()[n];)e.push(f()[n++]);return t}function k(e,t,n){e._valueSet(t.join("")),void 0!=n&&P(e,n)}function S(e,t,n,i){for(var r=t,o=b();r<n&&r<o;r++)i===!0?g(r)||x(e,r,""):x(e,r,C(f().slice(),r,!0))}function D(e,t){var n=v(t);x(e,t,C(f(),n))}function $(e){return i.placeholder.charAt(e%i.placeholder.length)}function T(i,r,o,a,s){var l=void 0!=a?a.slice():A(i._valueGet()).split("");e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1,t.p=-1)}),o!==!0&&(n=0),r&&i._valueSet("");b();e.each(l,function(t,n){if(s===!0){var a=c().p,l=a==-1?a:w(a),u=l==-1?t:y(l);e.inArray(n,f().slice(l+1,u))==-1&&z.call(i,void 0,!0,n.charCodeAt(0),r,o,t)}else z.call(i,void 0,!0,n.charCodeAt(0),r,o,t)}),o===!0&&c().p!=-1&&(c().lastValidPosition=w(c().p))}function E(t){return e.inputmask.escapeRegex.call(this,t)}function A(e){return e.replace(new RegExp("("+E(f().join(""))+")*$"),"")}function O(e){for(var t,n,i=h(),r=i.slice(),n=r.length-1;n>=0;n--){var t=v(n);if(!d()[t].optionality)break;if(g(n)&&p(n,i[n],!0))break;r.pop()}k(e,r)}function M(t,n){if(!d()||n!==!0&&t.hasClass("hasDatepicker"))return t[0]._valueGet();var r=e.map(h(),function(e,t){return g(t)&&p(t,e,!0)?e:null}),o=(K?r.reverse():r).join("");return void 0!=i.onUnMask?i.onUnMask.call(this,h().join(""),o):o}function N(e){if(K&&"number"==typeof e&&(!i.greedy||""!=i.placeholder)){var t=h().length;e=t-e}return e}function P(t,n,r){var o,a=t.jquery&&t.length>0?t[0]:t;return"number"!=typeof n?e(t).is(":visible")?(a.setSelectionRange?(n=a.selectionStart,r=a.selectionEnd):document.selection&&document.selection.createRange&&(o=document.selection.createRange(),n=0-o.duplicate().moveStart("character",-1e5),r=n+o.text.length),n=N(n),r=N(r),{begin:n,end:r}):{begin:0,end:0}:(n=N(n),r=N(r),e(t).is(":visible")&&(r="number"==typeof r?r:n,a.scrollLeft=a.scrollWidth,0==i.insertMode&&n==r&&r++,a.setSelectionRange?(a.selectionStart=n,a.selectionEnd=s?n:r):a.createTextRange&&(o=a.createTextRange(),o.collapse(!0),o.moveEnd("character",r),o.moveStart("character",n),o.select())),void 0)}function I(r){if("*"!=i.repeat){var o=!1,a=0,s=n;return e.each(t,function(e,t){if("object"==typeof t){n=e;var i=w(b());if(t.lastValidPosition>=a&&t.lastValidPosition==i){for(var s=!0,l=0;l<=i;l++){var u=g(l),c=v(l);if(u&&(void 0==r[l]||r[l]==$(l))||!u&&r[l]!=f()[c]){s=!1;break}}if(o=o||s)return!1}a=t.lastValidPosition}}),n=s,o}}function R(e,t){return K?e-t>1||e-t==1&&i.insertMode:t-e>1||t-e==1&&i.insertMode}function L(t){var n=e._data(t).events;e.each(n,function(t,n){e.each(n,function(e,t){if("inputmask"==t.namespace&&"setvalue"!=t.type){var n=t.handler;t.handler=function(e){return this.readOnly||this.disabled?void e.preventDefault:n.apply(this,arguments)}}})})}function B(t){var n;if(Object.getOwnPropertyDescriptor&&(n=Object.getOwnPropertyDescriptor(t,"value")),n&&n.get){if(!t._valueGet){var i=n.get,r=n.set;t._valueGet=function(){return K?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){r.call(this,K?e.split("").reverse().join(""):e)},Object.defineProperty(t,"value",{get:function(){var t=e(this),n=e(this).data("_inputmask"),r=n.masksets,o=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=r[o]._buffer.join("")?i.call(this):""},set:function(t){r.call(this,t),e(this).triggerHandler("setvalue.inputmask")}})}}else if(document.__lookupGetter__&&t.__lookupGetter__("value")){if(!t._valueGet){var i=t.__lookupGetter__("value"),r=t.__lookupSetter__("value");t._valueGet=function(){return K?i.call(this).split("").reverse().join(""):i.call(this)},t._valueSet=function(e){r.call(this,K?e.split("").reverse().join(""):e)},t.__defineGetter__("value",function(){var t=e(this),n=e(this).data("_inputmask"),r=n.masksets,o=n.activeMasksetIndex;return n&&n.opts.autoUnmask?t.inputmask("unmaskedvalue"):i.call(this)!=r[o]._buffer.join("")?i.call(this):""}),t.__defineSetter__("value",function(t){r.call(this,t),e(this).triggerHandler("setvalue.inputmask")})}}else if(t._valueGet||(t._valueGet=function(){return K?this.value.split("").reverse().join(""):this.value},t._valueSet=function(e){this.value=K?e.split("").reverse().join(""):e}),void 0==e.valHooks.text||1!=e.valHooks.text.inputmaskpatch){var i=e.valHooks.text&&e.valHooks.text.get?e.valHooks.text.get:function(e){return e.value},r=e.valHooks.text&&e.valHooks.text.set?e.valHooks.text.set:function(e,t){return e.value=t,e};jQuery.extend(e.valHooks,{text:{get:function(t){var n=e(t);if(n.data("_inputmask")){if(n.data("_inputmask").opts.autoUnmask)return n.inputmask("unmaskedvalue");var r=i(t),o=n.data("_inputmask"),a=o.masksets,s=o.activeMasksetIndex;return r!=a[s]._buffer.join("")?r:""}return i(t)},set:function(t,n){var i=e(t),o=r(t,n);return i.data("_inputmask")&&i.triggerHandler("setvalue.inputmask"),o},inputmaskpatch:!0}})}}function F(e,t,n,i){var r=h();if(i!==!1)for(;!g(e)&&e-1>=0;)e--;for(var o=e;o<t&&o<b();o++)if(g(o)){D(r,o);var a=y(o),s=C(r,a);if(s!=$(a))if(a<b()&&p(o,s,!0)!==!1&&d()[v(o)].def==d()[v(a)].def)x(r,o,s,!0);else if(g(o))break}else D(r,o);if(void 0!=n&&x(r,w(t),n),0==c().greedy){var l=A(r.join("")).split("");r.length=l.length;for(var o=0,u=r.length;o<u;o++)r[o]=l[o];0==r.length&&(c().buffer=f().slice())}return e}function H(e,t,n){var i=h();if(C(i,e,!0)!=$(e))for(var r=w(t);r>e&&r>=0;r--)if(g(r)){var o=w(r),a=C(i,o);a!=$(o)&&p(o,a,!0)!==!1&&d()[v(r)].def==d()[v(o)].def&&(x(i,r,a,!0),D(i,o))}else D(i,r);void 0!=n&&C(i,e)==$(e)&&x(i,e,n);var s=i.length;if(0==c().greedy){var l=A(i.join("")).split("");i.length=l.length;for(var r=0,u=i.length;r<u;r++)i[r]=l[r];0==i.length&&(c().buffer=f().slice())}return t-(s-i.length)}function j(e,n,r){if(i.numericInput||K){switch(n){case i.keyCode.BACKSPACE:n=i.keyCode.DELETE;break;case i.keyCode.DELETE:n=i.keyCode.BACKSPACE}if(K){var o=r.end;r.end=r.begin,r.begin=o}}var a=!0;if(r.begin==r.end){var s=n==i.keyCode.BACKSPACE?r.begin-1:r.begin;i.isNumeric&&""!=i.radixPoint&&h()[s]==i.radixPoint&&(r.begin=h().length-1==s?r.begin:n==i.keyCode.BACKSPACE?s:y(s),r.end=r.begin),a=!1,n==i.keyCode.BACKSPACE?r.begin--:n==i.keyCode.DELETE&&r.end++}else r.end-r.begin!=1||i.insertMode||(a=!1,n==i.keyCode.BACKSPACE&&r.begin--);S(h(),r.begin,r.end);var l=b();if(0==i.greedy)F(r.begin,l,void 0,!K&&n==i.keyCode.BACKSPACE&&!a);else{for(var u=r.begin,d=r.begin;d<r.end;d++)!g(d)&&a||(u=F(r.begin,l,void 0,!K&&n==i.keyCode.BACKSPACE&&!a));a||(r.begin=u)}var f=y(-1);S(h(),r.begin,r.end,!0),T(e,!1,void 0==t[1]||f>=r.end,h()),c().lastValidPosition<f?(c().lastValidPosition=-1,c().p=f):c().p=r.begin}function V(t){J=!1;var n=this,r=e(n),o=t.keyCode,s=P(n);o==i.keyCode.BACKSPACE||o==i.keyCode.DELETE||a&&127==o||t.ctrlKey&&88==o?(t.preventDefault(),88==o&&(X=h().join("")),j(n,o,s),m(),k(n,h(),c().p),n._valueGet()==f().join("")&&r.trigger("cleared"),i.showTooltip&&r.prop("title",c().mask)):o==i.keyCode.END||o==i.keyCode.PAGE_DOWN?setTimeout(function(){var e=y(c().lastValidPosition);i.insertMode||e!=b()||t.shiftKey||e--,P(n,t.shiftKey?s.begin:e,e)},0):o==i.keyCode.HOME&&!t.shiftKey||o==i.keyCode.PAGE_UP?P(n,0,t.shiftKey?s.begin:0):o==i.keyCode.ESCAPE||90==o&&t.ctrlKey?(T(n,!0,!1,X.split("")),r.click()):o!=i.keyCode.INSERT||t.shiftKey||t.ctrlKey?0!=i.insertMode||t.shiftKey||(o==i.keyCode.RIGHT?setTimeout(function(){var e=P(n);P(n,e.begin)},0):o==i.keyCode.LEFT&&setTimeout(function(){var e=P(n);P(n,e.begin-1)},0)):(i.insertMode=!i.insertMode,P(n,i.insertMode||s.begin!=b()?s.begin:s.begin-1));var l=P(n);i.onKeyDown.call(this,t,h(),i)===!0&&P(n,l.begin,l.end),Q=e.inArray(o,i.ignorables)!=-1}function z(r,o,a,s,l,u){if(void 0==a&&J)return!1;J=!0;var d=this,f=e(d);r=r||window.event;var a=o?a:r.which||r.charCode||r.keyCode;if(!(o===!0||r.ctrlKey&&r.altKey)&&(r.ctrlKey||r.metaKey||Q))return!0;if(a){o!==!0&&46==a&&0==r.shiftKey&&","==i.radixPoint&&(a=44);var g,v,_,S=String.fromCharCode(a);if(o){var D=l?u:c().lastValidPosition+1;g={begin:D,end:D}}else g=P(d);var T=R(g.begin,g.end),E=n;T&&(n=E,e.each(t,function(e,t){"object"==typeof t&&(n=e,c().undoBuffer=h().join(""))}),j(d,i.keyCode.DELETE,g),i.insertMode||e.each(t,function(e,t){"object"==typeof t&&(n=e,H(g.begin,b()),c().lastValidPosition=y(c().lastValidPosition))}),n=E);var A=h().join("").indexOf(i.radixPoint);i.isNumeric&&o!==!0&&A!=-1&&(i.greedy&&g.begin<=A?(g.begin=w(g.begin),g.end=g.begin):S==i.radixPoint&&(g.begin=A,g.end=g.begin));var O=g.begin;v=p(O,S,l),l===!0&&(v=[{activeMasksetIndex:n,result:v}]);var M=-1;if(e.each(v,function(e,t){n=t.activeMasksetIndex,c().writeOutBuffer=!0;var r=t.result;if(r!==!1){var o=!1,a=h();if(r!==!0&&(o=r.refresh,O=void 0!=r.pos?r.pos:O,S=void 0!=r.c?r.c:S),o!==!0){if(1==i.insertMode){for(var s=b(),u=a.slice();C(u,s,!0)!=$(s)&&s>=O;)s=0==s?-1:w(s);if(s>=O){H(O,b(),S);var d=c().lastValidPosition,f=y(d);f!=b()&&d>=O&&C(h(),f,!0)!=$(f)&&(c().lastValidPosition=f)}else c().writeOutBuffer=!1}else x(a,O,S,!0);(M==-1||M>y(O))&&(M=y(O))}else if(!l){var p=O<b()?O+1:O;(M==-1||M>p)&&(M=p)}M>c().p&&(c().p=M)}}),l!==!0&&(n=E,m()),s!==!1&&(e.each(v,function(e,t){if(t.activeMasksetIndex==n)return _=t,!1}),void 0!=_)){var N=this;if(setTimeout(function(){i.onKeyValidation.call(N,_.result,i)},0),c().writeOutBuffer&&_.result!==!1){var L,B=h();L=o?void 0:i.numericInput?O>A?w(M):S==i.radixPoint?M-1:w(M-1):M,k(d,B,L),o!==!0&&setTimeout(function(){I(B)===!0&&f.trigger("complete"),Z=!0,f.trigger("input")},0)}else T&&(c().buffer=c().undoBuffer.split(""))}i.showTooltip&&f.prop("title",c().mask),r&&(r.preventDefault?r.preventDefault():r.returnValue=!1)}}function U(t){var n=e(this),r=this,o=t.keyCode,a=h();l&&o==i.keyCode.BACKSPACE&&G==r._valueGet()&&V.call(this,t),i.onKeyUp.call(this,t,a,i),o==i.keyCode.TAB&&i.showMaskOnFocus&&(n.hasClass("focus.inputmask")&&0==r._valueGet().length?(a=f().slice(),k(r,a),P(r,0),X=h().join("")):(k(r,a),a.join("")==f().join("")&&e.inArray(i.radixPoint,a)!=-1?(P(r,N(0)),n.click()):P(r,N(0),N(b()))))}function W(t){if(Z===!0)return Z=!1,!0;var n=this,i=e(n);G=h().join(""),T(n,!1,!1),k(n,h()),I(h())===!0&&i.trigger("complete"),i.click()}function q(r){if(Y=e(r),Y.is(":input")){if(Y.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:!1}),i.showTooltip&&Y.prop("title",c().mask),c().greedy=c().greedy?c().greedy:0==c().repeat,null!=Y.attr("maxLength")){var a=Y.prop("maxLength");a>-1&&e.each(t,function(e,t){"object"==typeof t&&"*"==t.repeat&&(t.repeat=a)}),b()>=a&&a>-1&&(a<f().length&&(f().length=a),0==c().greedy&&(c().repeat=Math.round(a/f().length)),Y.prop("maxLength",2*b()))}if(B(r),i.numericInput&&(i.isNumeric=i.numericInput),("rtl"==r.dir||i.numericInput&&i.rightAlignNumerics||i.isNumeric&&i.rightAlignNumerics)&&Y.css("text-align","right"),"rtl"==r.dir||i.numericInput){r.dir="ltr",Y.removeAttr("dir");var s=Y.data("_inputmask");s.isRTL=!0,Y.data("_inputmask",s),K=!0}Y.unbind(".inputmask"),Y.removeClass("focus.inputmask"),Y.closest("form").bind("submit",function(){X!=h().join("")&&Y.change()}).bind("reset",function(){setTimeout(function(){Y.trigger("setvalue")},0)}),Y.bind("mouseenter.inputmask",function(){var t=e(this),n=this;!t.hasClass("focus.inputmask")&&i.showMaskOnHover&&n._valueGet()!=h().join("")&&k(n,h())}).bind("blur.inputmask",function(){var r=e(this),o=this,a=o._valueGet(),s=h();r.removeClass("focus.inputmask"),X!=h().join("")&&r.change(),i.clearMaskOnLostFocus&&""!=a&&(a==f().join("")?o._valueSet(""):O(o)),I(s)===!1&&(r.trigger("incomplete"),i.clearIncomplete&&(e.each(t,function(e,t){"object"==typeof t&&(t.buffer=t._buffer.slice(),t.lastValidPosition=-1)}),n=0,i.clearMaskOnLostFocus?o._valueSet(""):(s=f().slice(),k(o,s))))}).bind("focus.inputmask",function(){var t=e(this),n=this,r=n._valueGet();i.showMaskOnFocus&&!t.hasClass("focus.inputmask")&&(!i.showMaskOnHover||i.showMaskOnHover&&""==r)&&n._valueGet()!=h().join("")&&k(n,h(),y(c().lastValidPosition)),t.addClass("focus.inputmask"),X=h().join("")}).bind("mouseleave.inputmask",function(){var t=e(this),n=this;i.clearMaskOnLostFocus&&(t.hasClass("focus.inputmask")||n._valueGet()==t.attr("placeholder")||(n._valueGet()==f().join("")||""==n._valueGet()?n._valueSet(""):O(n)))}).bind("click.inputmask",function(){var t=this;setTimeout(function(){var n=P(t),r=h();if(n.begin==n.end){var o,a=K?N(n.begin):n.begin,s=c().lastValidPosition;o=i.isNumeric&&i.skipRadixDance===!1&&""!=i.radixPoint&&e.inArray(i.radixPoint,r)!=-1?i.numericInput?y(e.inArray(i.radixPoint,r)):e.inArray(i.radixPoint,r):y(s),a<o?g(a)?P(t,a):P(t,y(a)):P(t,o)}},0)}).bind("dblclick.inputmask",function(){var e=this;setTimeout(function(){P(e,0,y(c().lastValidPosition))},0)}).bind(u+".inputmask dragdrop.inputmask drop.inputmask",function(t){if(Z===!0)return Z=!1,!0;var n=this,r=e(n);return"propertychange"==t.type&&n._valueGet().length<=b()||void setTimeout(function(){var e=void 0!=i.onBeforePaste?i.onBeforePaste.call(this,n._valueGet()):n._valueGet();T(n,!0,!1,e.split(""),!0),I(h())===!0&&r.trigger("complete"),r.click()},0)}).bind("setvalue.inputmask",function(){var e=this;T(e,!0),X=h().join(""),e._valueGet()==f().join("")&&e._valueSet("")}).bind("complete.inputmask",i.oncomplete).bind("incomplete.inputmask",i.onincomplete).bind("cleared.inputmask",i.oncleared).bind("keyup.inputmask",U),l?Y.bind("input.inputmask",W):Y.bind("keydown.inputmask",V).bind("keypress.inputmask",z),o&&Y.bind("input.inputmask",W),T(r,!0,!1),X=h().join("");var d;try{d=document.activeElement}catch(p){}d===r?(Y.addClass("focus.inputmask"),P(r,y(c().lastValidPosition))):i.clearMaskOnLostFocus?h().join("")==f().join("")?r._valueSet(""):O(r):k(r,h()),L(r)}}var Y,G,K=!1,X=h().join(""),J=!1,Z=!1,Q=!1;if(void 0!=r)switch(r.action){case"isComplete":return I(r.buffer);case"unmaskedvalue":return K=r.$input.data("_inputmask").isRTL,M(r.$input,r.skipDatepickerCheck);case"mask":q(r.el);break;case"format":return Y=e({}),Y.data("_inputmask",{masksets:t,activeMasksetIndex:n,opts:i,isRTL:i.numericInput}),i.numericInput&&(i.isNumeric=i.numericInput,K=!0),T(Y,!1,!1,r.value.split(""),!0),h().join("")}}if(void 0===e.fn.inputmask){var o=null!==navigator.userAgent.match(new RegExp("msie 10","i")),a=null!==navigator.userAgent.match(new RegExp("iphone","i")),s=null!==navigator.userAgent.match(new RegExp("android.*safari.*","i")),l=null!==navigator.userAgent.match(new RegExp("android.*chrome.*","i")),u=t("paste")?"paste":t("input")?"input":"propertychange";e.inputmask={defaults:{placeholder:"_",optionalmarker:{start:"[",end:"]"},quantifiermarker:{start:"{",end:"}"},groupmarker:{start:"(",end:")"},escapeChar:"\\",mask:null,oncomplete:e.noop,onincomplete:e.noop,oncleared:e.noop,repeat:0,greedy:!0,autoUnmask:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,aliases:{},onKeyUp:e.noop,onKeyDown:e.noop,onBeforePaste:void 0,onUnMask:void 0,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:e.noop,skipOptionalPartCharacter:" ",showTooltip:!1,numericInput:!1,isNumeric:!1,radixPoint:"",skipRadixDance:!1,rightAlignNumerics:!0,definitions:{9:{validator:"[0-9]",cardinality:1},a:{validator:"[A-Za-z-]",cardinality:1},"*":{validator:"[A-Za-z-0-9]",cardinality:1}},keyCode:{ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91},ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123],getMaskLength:function(e,t,n,i,r){var o=e.length;return t||("*"==n?o=i.length+1:n>1&&(o+=e.length*(n-1))),o}},escapeRegex:function(e){var t=["/",".","*","+","?","|","(",")","[","]","{","}","\\"];return e.replace(new RegExp("(\\"+t.join("|\\")+")","gim"),"\\$1")},format:function(t,o){var a=e.extend(!0,{},e.inputmask.defaults,o);return n(a.alias,o,a),r(i(a),0,a,{action:"format",value:t})}},e.fn.inputmask=function(t,o){var a,s=e.extend(!0,{},e.inputmask.defaults,o),l=0;if("string"==typeof t)switch(t){case"mask":return n(s.alias,o,s),a=i(s),0==a.length?this:this.each(function(){r(e.extend(!0,{},a),0,s,{action:"mask",el:this})});case"unmaskedvalue":var u=e(this);return u.data("_inputmask")?(a=u.data("_inputmask").masksets,l=u.data("_inputmask").activeMasksetIndex,s=u.data("_inputmask").opts,r(a,l,s,{action:"unmaskedvalue",$input:u})):u.val();case"remove":return this.each(function(){var t=e(this),n=this;if(t.data("_inputmask")){a=t.data("_inputmask").masksets,l=t.data("_inputmask").activeMasksetIndex,s=t.data("_inputmask").opts,n._valueSet(r(a,l,s,{action:"unmaskedvalue",$input:t,skipDatepickerCheck:!0})),t.removeData("_inputmask"),t.unbind(".inputmask"),t.removeClass("focus.inputmask");var i;Object.getOwnPropertyDescriptor&&(i=Object.getOwnPropertyDescriptor(n,"value")),i&&i.get?n._valueGet&&Object.defineProperty(n,"value",{get:n._valueGet,set:n._valueSet}):document.__lookupGetter__&&n.__lookupGetter__("value")&&n._valueGet&&(n.__defineGetter__("value",n._valueGet),n.__defineSetter__("value",n._valueSet));try{delete n._valueGet,delete n._valueSet}catch(o){n._valueGet=void 0,n._valueSet=void 0}}});case"getemptymask":return this.data("_inputmask")?(a=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,a[l]._buffer.join("")):"";case"hasMaskedValue":return!!this.data("_inputmask")&&!this.data("_inputmask").opts.autoUnmask;case"isComplete":return a=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,s=this.data("_inputmask").opts,r(a,l,s,{action:"isComplete",buffer:this[0]._valueGet().split("")});case"getmetadata":return this.data("_inputmask")?(a=this.data("_inputmask").masksets,l=this.data("_inputmask").activeMasksetIndex,a[l].metadata):void 0;default:return n(t,o,s)||(s.mask=t),a=i(s),0==a.length?this:this.each(function(){r(e.extend(!0,{},a),l,s,{action:"mask",el:this})})}else{if("object"==typeof t)return s=e.extend(!0,{},e.inputmask.defaults,t),n(s.alias,t,s),a=i(s),0==a.length?this:this.each(function(){r(e.extend(!0,{},a),l,s,{action:"mask",el:this})});if(void 0==t)return this.each(function(){var t=e(this).attr("data-inputmask");if(t&&""!=t)try{t=t.replace(new RegExp("'","g"),'"');var i=e.parseJSON("{"+t+"}");e.extend(!0,i,o),s=e.extend(!0,{},e.inputmask.defaults,i),n(s.alias,i,s),s.alias=void 0,e(this).inputmask(s)}catch(r){}})}}}}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof module&&module.exports?require("jquery"):jQuery)}(function(e){function t(e){return e.replace(/(:|\.|\/)/g,"\\$1")}var n="1.5.5",i={},r={exclude:[],excludeWithin:[],offset:0,direction:"top",scrollElement:null,scrollTarget:null,beforeScroll:function(){},afterScroll:function(){},easing:"swing",speed:400,autoCoefficient:2,preventDefault:!0},o=function(t){var n=[],i=!1,r=t.dir&&"left"===t.dir?"scrollLeft":"scrollTop";return this.each(function(){if(this!==document&&this!==window){var t=e(this);t[r]()>0?n.push(this):(t[r](1),i=t[r]()>0,i&&n.push(this),t[r](0))}}),n.length||this.each(function(){"BODY"===this.nodeName&&(n=[this])}),"first"===t.el&&n.length>1&&(n=[n[0]]),n};e.fn.extend({scrollable:function(e){var t=o.call(this,{dir:e});return this.pushStack(t)},firstScrollable:function(e){var t=o.call(this,{el:"first",dir:e});return this.pushStack(t)},smoothScroll:function(n,i){if(n=n||{},"options"===n)return i?this.each(function(){var t=e(this),n=e.extend(t.data("ssOpts")||{},i);e(this).data("ssOpts",n)}):this.first().data("ssOpts");var r=e.extend({},e.fn.smoothScroll.defaults,n),o=e.smoothScroll.filterPath(location.pathname);return this.unbind("click.smoothscroll").bind("click.smoothscroll",function(n){var i=this,a=e(this),s=e.extend({},r,a.data("ssOpts")||{}),l=r.exclude,u=s.excludeWithin,c=0,d=0,f=!0,h={},p=location.hostname===i.hostname||!i.hostname,m=s.scrollTarget||e.smoothScroll.filterPath(i.pathname)===o,g=t(i.hash);if(s.scrollTarget||p&&m&&g){for(;f&&l.length>c;)a.is(t(l[c++]))&&(f=!1);for(;f&&u.length>d;)a.closest(u[d++]).length&&(f=!1)}else f=!1;f&&(s.preventDefault&&n.preventDefault(),e.extend(h,s,{scrollTarget:s.scrollTarget||g,link:i}),e.smoothScroll(h))}),this}}),e.smoothScroll=function(t,n){if("options"===t&&"object"==typeof n)return e.extend(i,n);var r,o,a,s,l,u=0,c="offset",d="scrollTop",f={},h={};"number"==typeof t?(r=e.extend({link:null},e.fn.smoothScroll.defaults,i),a=t):(r=e.extend({link:null},e.fn.smoothScroll.defaults,t||{},i),r.scrollElement&&(c="position","static"===r.scrollElement.css("position")&&r.scrollElement.css("position","relative"))),d="left"===r.direction?"scrollLeft":d,r.scrollElement?(o=r.scrollElement,/^(?:HTML|BODY)$/.test(o[0].nodeName)||(u=o[d]())):o=e("html, body").firstScrollable(r.direction),r.beforeScroll.call(o,r),a="number"==typeof t?t:n||e(r.scrollTarget)[c]()&&e(r.scrollTarget)[c]()[r.direction]||0,f[d]=a+u+r.offset,s=r.speed,"auto"===s&&(l=f[d]-o.scrollTop(),0>l&&(l*=-1),s=l/r.autoCoefficient),h={duration:s,easing:r.easing,complete:function(){r.afterScroll.call(r.link,r)}},r.step&&(h.step=r.step),o.length?o.stop().animate(f,h):r.afterScroll.call(r.link,r)},e.smoothScroll.version=n,e.smoothScroll.filterPath=function(e){return e=e||"",e.replace(/^\//,"").replace(/(?:index|default).[a-zA-Z]{3,4}$/,"").replace(/\/$/,"")},e.fn.smoothScroll.defaults=r}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||-1!==e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])}function n(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,n,i){return e(window).scrollTo(t,n,i)};return i.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(r,o,a){"object"==typeof o&&(a=o,o=0),"function"==typeof a&&(a={onAfter:a}),"max"===r&&(r=9e9),a=e.extend({},i.defaults,a),o=o||a.duration;var s=a.queue&&1<a.axis.length;return s&&(o/=2),a.offset=n(a.offset),a.over=n(a.over),this.each(function(){function l(t){var n=e.extend({},a,{queue:!0,duration:o,complete:t&&function(){t.call(d,h,a)}});f.animate(p,n)}if(null!==r){var u,c=t(this),d=c?this.contentWindow||window:this,f=e(d),h=r,p={};switch(typeof h){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(h)){h=n(h);break}if(h=c?e(h):e(h,d),!h.length)return;case"object":(h.is||h.style)&&(u=(h=e(h)).offset())}var m=e.isFunction(a.offset)&&a.offset(d,h)||a.offset;e.each(a.axis.split(""),function(e,t){var n="x"===t?"Left":"Top",r=n.toLowerCase(),o="scroll"+n,g=f[o](),v=i.max(d,t);u?(p[o]=u[r]+(c?0:g-f.offset()[r]),a.margin&&(p[o]-=parseInt(h.css("margin"+n),10)||0,p[o]-=parseInt(h.css("border"+n+"Width"),10)||0),p[o]+=m[r]||0,a.over[r]&&(p[o]+=h["x"===t?"width":"height"]()*a.over[r])):(n=h[r],p[o]=n.slice&&"%"===n.slice(-1)?parseFloat(n)/100*v:n),a.limit&&/^\d+$/.test(p[o])&&(p[o]=0>=p[o]?0:Math.min(p[o],v)),!e&&1<a.axis.length&&(g===p[o]?p={}:s&&(l(a.onAfterFirst),p={}))}),l(a.onAfter)}})},i.max=function(n,i){var r="x"===i?"Width":"Height",o="scroll"+r;if(!t(n))return n[o]-e(n)[r.toLowerCase()]();var r="client"+r,a=n.ownerDocument||n.document,s=a.documentElement,a=a.body;return Math.max(s[o],a[o])-Math.min(s[r],a[r])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var n=this.get(t);if(t.options.interrupt&&t._last&&t._last!==n)return e(t.elem).stop();var i=Math.round(t.now);n!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},i}),!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&module.exports?module.exports=function(t,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n),n}:e(jQuery)}(function(e){var t=function(){function t(e,t){return x.call(e,t)}function n(e,t){var n,i,r,o,a,s,l,u,c,d,f,h=t&&t.split("/"),p=y.map,m=p&&p["*"]||{};if(e){for(a=(e=e.split("/")).length-1,y.nodeIdCompat&&_.test(e[a])&&(e[a]=e[a].replace(_,"")),"."===e[0].charAt(0)&&h&&(e=h.slice(0,h.length-1).concat(e)),c=0;c<e.length;c++)if("."===(f=e[c]))e.splice(c,1),c-=1;else if(".."===f){if(0===c||1===c&&".."===e[2]||".."===e[c-1])continue;0<c&&(e.splice(c-1,2),c-=2)}e=e.join("/")}if((h||m)&&p){for(c=(n=e.split("/")).length;0<c;c-=1){if(i=n.slice(0,c).join("/"),h)for(d=h.length;0<d;d-=1)if(r=(r=p[h.slice(0,d).join("/")])&&r[i]){o=r,s=c;break}if(o)break;!l&&m&&m[i]&&(l=m[i],u=c)}!o&&l&&(o=l,s=u),o&&(n.splice(0,s,o),e=n.join("/"))}return e}function i(e,t){return function(){var n=C.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(f,n.concat([e,t]))}}function r(e){return function(t){v[e]=t}}function o(e){if(t(b,e)){var n=b[e];delete b[e],w[e]=!0,h.apply(f,n)}if(!t(v,e)&&!t(w,e))throw new Error("No "+e);return v[e]}function a(e){var t,n=e?e.indexOf("!"):-1;return-1<n&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function s(e){return e?a(e):[]}if(e&&e.fn&&e.fn.select2&&e.fn.select2.amd)var l=e.fn.select2.amd;var u,c,d,f,h,p,m,g,v,b,y,w,x,C,_;return l&&l.requirejs||(l?c=l:l={},v={},b={},y={},w={},x=Object.prototype.hasOwnProperty,C=[].slice,_=/\.js$/,m=function(e,t){var i,r=a(e),s=r[0],l=t[1];return e=r[1],s&&(i=o(s=n(s,l))),s?e=i&&i.normalize?i.normalize(e,function(e){return function(t){return n(t,e)}}(l)):n(e,l):(s=(r=a(e=n(e,l)))[0],e=r[1],s&&(i=o(s))),{f:s?s+"!"+e:e,n:e,pr:s,p:i}},g={require:function(e){return i(e)},exports:function(e){var t=v[e];return void 0!==t?t:v[e]={}},module:function(e){return{id:e,uri:"",exports:v[e],config:function(e){return function(){return y&&y.config&&y.config[e]||{}}}(e)}}},h=function(e,n,a,l){var u,c,d,h,p,y,x,C=[],_=typeof a;if(y=s(l=l||e),"undefined"==_||"function"==_){for(n=!n.length&&a.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(c=(h=m(n[p],y)).f))C[p]=g.require(e);else if("exports"===c)C[p]=g.exports(e),x=!0;else if("module"===c)u=C[p]=g.module(e);else if(t(v,c)||t(b,c)||t(w,c))C[p]=o(c);else{
if(!h.p)throw new Error(e+" missing "+c);h.p.load(h.n,i(l,!0),r(c),{}),C[p]=v[c]}d=a?a.apply(v[e],C):void 0,e&&(u&&u.exports!==f&&u.exports!==v[e]?v[e]=u.exports:d===f&&x||(v[e]=d))}else e&&(v[e]=a)},u=c=p=function(e,t,n,i,r){if("string"==typeof e)return g[e]?g[e](t):o(m(e,s(t)).f);if(!e.splice){if((y=e).deps&&p(y.deps,y.callback),!t)return;t.splice?(e=t,t=n,n=null):e=f}return t=t||function(){},"function"==typeof n&&(n=i,i=r),i?h(f,e,t,n):setTimeout(function(){h(f,e,t,n)},4),p},p.config=function(e){return p(e)},u._defined=v,(d=function(e,n,i){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");n.splice||(i=n,n=[]),t(v,e)||t(b,e)||(b[e]=[e,n,i])}).amd={jQuery:!0},l.requirejs=u,l.require=c,l.define=d),l.define("almond",function(){}),l.define("jquery",[],function(){var t=e||$;return null==t&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),l.define("select2/utils",["jquery"],function(e){function t(e){var t=e.prototype,n=[];for(var i in t)"function"==typeof t[i]&&"constructor"!==i&&n.push(i);return n}function n(){this.listeners={}}var i={};i.Extend=function(e,t){function n(){this.constructor=e}var i={}.hasOwnProperty;for(var r in t)i.call(t,r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},i.Decorate=function(e,n){function i(){var t=Array.prototype.unshift,i=n.prototype.constructor.length,r=e.prototype.constructor;0<i&&(t.call(arguments,e.prototype.constructor),r=n.prototype.constructor),r.apply(this,arguments)}function r(e){var t=function(){};e in i.prototype&&(t=i.prototype[e]);var r=n.prototype[e];return function(){return Array.prototype.unshift.call(arguments,t),r.apply(this,arguments)}}var o=t(n),a=t(e);n.displayName=e.displayName,i.prototype=new function(){this.constructor=i};for(var s=0;s<a.length;s++){var l=a[s];i.prototype[l]=e.prototype[l]}for(var u=0;u<o.length;u++){var c=o[u];i.prototype[c]=r(c)}return i},n.prototype.on=function(e,t){this.listeners=this.listeners||{},e in this.listeners?this.listeners[e].push(t):this.listeners[e]=[t]},n.prototype.trigger=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=e)in this.listeners&&this.invoke(this.listeners[e],t.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},n.prototype.invoke=function(e,t){for(var n=0,i=e.length;n<i;n++)e[n].apply(this,t)},i.Observable=n,i.generateChars=function(e){for(var t="",n=0;n<e;n++)t+=Math.floor(36*Math.random()).toString(36);return t},i.bind=function(e,t){return function(){e.apply(t,arguments)}},i._convertData=function(e){for(var t in e){var n=t.split("-"),i=e;if(1!==n.length){for(var r=0;r<n.length;r++){var o=n[r];(o=o.substring(0,1).toLowerCase()+o.substring(1))in i||(i[o]={}),r==n.length-1&&(i[o]=e[t]),i=i[o]}delete e[t]}}return e},i.hasScroll=function(t,n){var i=e(n),r=n.style.overflowX,o=n.style.overflowY;return(r!==o||"hidden"!==o&&"visible"!==o)&&("scroll"===r||"scroll"===o||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},i.escapeMarkup=function(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof e?e:String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})},i.appendMany=function(t,n){if("1.7"===e.fn.jquery.substr(0,3)){var i=e();e.map(n,function(e){i=i.add(e)}),n=i}t.append(n)},i.__cache={};var r=0;return i.GetUniqueElementId=function(e){var t=e.getAttribute("data-select2-id");return null==t&&(e.id?(t=e.id,e.setAttribute("data-select2-id",t)):(e.setAttribute("data-select2-id",++r),t=r.toString())),t},i.StoreData=function(e,t,n){var r=i.GetUniqueElementId(e);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][t]=n},i.GetData=function(t,n){var r=i.GetUniqueElementId(t);return n?i.__cache[r]&&null!=i.__cache[r][n]?i.__cache[r][n]:e(t).data(n):i.__cache[r]},i.RemoveData=function(e){var t=i.GetUniqueElementId(e);null!=i.__cache[t]&&delete i.__cache[t]},i}),l.define("select2/results",["jquery","./utils"],function(e,t){function n(e,t,i){this.$element=e,this.data=i,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(t){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=e('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);i.append(n(r(t.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(e){this.hideLoading();var t=[];if(null!=e.results&&0!==e.results.length){e.results=this.sort(e.results);for(var n=0;n<e.results.length;n++){var i=e.results[n],r=this.option(i);t.push(r)}this.$results.append(t)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(e,t){t.find(".select2-results").append(e)},n.prototype.sort=function(e){return this.options.get("sorter")(e)},n.prototype.highlightFirstItem=function(){var e=this.$results.find(".select2-results__option[aria-selected]"),t=e.filter("[aria-selected=true]");0<t.length?t.first().trigger("mouseenter"):e.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(i){var r=e.map(i,function(e){return e.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=e(this),i=t.GetData(this,"data"),o=""+i.id;null!=i.element&&i.element.selected||null==i.element&&-1<e.inArray(o,r)?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(e){this.hideLoading();var t={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(e)},n=this.option(t);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var r={role:"treeitem","aria-selected":"false"},o=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&o.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true"),null==n.id&&delete r["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(r.role="group",r["aria-label"]=n.text,delete r["aria-selected"]),r){var s=r[a];i.setAttribute(a,s)}if(n.children){var l=e(i),u=document.createElement("strong");u.className="select2-results__group",e(u),this.template(n,u);for(var c=[],d=0;d<n.children.length;d++){var f=n.children[d],h=this.option(f);c.push(h)}var p=e("<ul></ul>",{"class":"select2-results__options select2-results__options--nested"});p.append(c),l.append(u),l.append(p)}else this.template(n,i);return t.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var r=this,o=n.id+"-results";this.$results.attr("id",o),n.on("results:all",function(e){r.clear(),r.append(e.data),n.isOpen()&&(r.setClasses(),r.highlightFirstItem())}),n.on("results:append",function(e){r.append(e.data),n.isOpen()&&r.setClasses()}),n.on("query",function(e){r.hideMessages(),r.showLoading(e)}),n.on("select",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())}),n.on("open",function(){r.$results.attr("aria-expanded","true"),r.$results.attr("aria-hidden","false"),r.setClasses(),r.ensureHighlightVisible()}),n.on("close",function(){r.$results.attr("aria-expanded","false"),r.$results.attr("aria-hidden","true"),r.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var e=r.getHighlightedResults();0!==e.length&&e.trigger("mouseup")}),n.on("results:select",function(){var e=r.getHighlightedResults();if(0!==e.length){var n=t.GetData(e[0],"data");"true"==e.attr("aria-selected")?r.trigger("close",{}):r.trigger("select",{data:n})}}),n.on("results:previous",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e);if(!(n<=0)){var i=n-1;0===e.length&&(i=0);var o=t.eq(i);o.trigger("mouseenter");var a=r.$results.offset().top,s=o.offset().top,l=r.$results.scrollTop()+(s-a);0===i?r.$results.scrollTop(0):s-a<0&&r.$results.scrollTop(l)}}),n.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),n=t.index(e)+1;if(!(n>=t.length)){var i=t.eq(n);i.trigger("mouseenter");var o=r.$results.offset().top+r.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=r.$results.scrollTop()+a-o;0===n?r.$results.scrollTop(0):o<a&&r.$results.scrollTop(s)}}),n.on("results:focus",function(e){e.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(e){r.displayMessage(e)}),e.fn.mousewheel&&this.$results.on("mousewheel",function(e){var t=r.$results.scrollTop(),n=r.$results.get(0).scrollHeight-t+e.deltaY,i=0<e.deltaY&&t-e.deltaY<=0,o=e.deltaY<0&&n<=r.$results.height();i?(r.$results.scrollTop(0),e.preventDefault(),e.stopPropagation()):o&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),e.preventDefault(),e.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var i=e(this),o=t.GetData(this,"data");"true"!==i.attr("aria-selected")?r.trigger("select",{originalEvent:n,data:o}):r.options.get("multiple")?r.trigger("unselect",{originalEvent:n,data:o}):r.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var i=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted"),r.trigger("results:focus",{data:i,element:e(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var e=this.getHighlightedResults();if(0!==e.length){var t=this.$results.find("[aria-selected]").index(e),n=this.$results.offset().top,i=e.offset().top,r=this.$results.scrollTop()+(i-n),o=i-n;r-=2*e.outerHeight(!1),t<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(r)}},n.prototype.template=function(t,n){var i=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),o=i(t,n);null==o?n.style.display="none":"string"==typeof o?n.innerHTML=r(o):e(n).append(o)},n}),l.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),l.define("select2/selection/base",["jquery","../utils","../keys"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var n=e('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=t.GetData(this.$element[0],"old-tabindex")?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),this.$selection=n},i.prototype.bind=function(e,t){var i=this,r=(e.id,e.id+"-results");this.container=e,this.$selection.on("focus",function(e){i.trigger("focus",e)}),this.$selection.on("blur",function(e){i._handleBlur(e)}),this.$selection.on("keydown",function(e){i.trigger("keypress",e),e.which===n.SPACE&&e.preventDefault()}),e.on("results:focus",function(e){i.$selection.attr("aria-activedescendant",e.data._resultId)}),e.on("selection:update",function(e){i.update(e.data)}),e.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",r),i._attachCloseHandler(e)}),e.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(e)}),e.on("enable",function(){i.$selection.attr("tabindex",i._tabindex)}),e.on("disable",function(){i.$selection.attr("tabindex","-1")})},i.prototype._handleBlur=function(t){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||e.contains(n.$selection[0],document.activeElement)||n.trigger("blur",t)},1)},i.prototype._attachCloseHandler=function(n){e(document.body).on("mousedown.select2."+n.id,function(n){var i=e(n.target).closest(".select2");e(".select2.select2-container--open").each(function(){e(this),this!=i[0]&&t.GetData(this,"element").select2("close")})})},i.prototype._detachCloseHandler=function(t){e(document.body).off("mousedown.select2."+t.id)},i.prototype.position=function(e,t){t.find(".selection").append(e)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(e){throw new Error("The `update` method must be defined in child classes.")},i}),l.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(e,t,n,i){function r(){r.__super__.constructor.apply(this,arguments)}return n.Extend(r,t),r.prototype.render=function(){var e=r.__super__.render.call(this);return e.addClass("select2-selection--single"),e.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),e},r.prototype.bind=function(e,t){var n=this;r.__super__.bind.apply(this,arguments);var i=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(e){1===e.which&&n.trigger("toggle",{originalEvent:e})}),this.$selection.on("focus",function(e){}),this.$selection.on("blur",function(e){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},r.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},r.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},r.prototype.selectionContainer=function(){return e("<span></span>")},r.prototype.update=function(e){if(0!==e.length){var t=e[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(t,n);n.empty().append(i),n.attr("title",t.title||t.text)}else this.clear()},r}),l.define("select2/selection/multiple",["jquery","./base","../utils"],function(e,t,n){function i(e,t){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,t),i.prototype.render=function(){var e=i.__super__.render.call(this);return e.addClass("select2-selection--multiple"),e.html('<ul class="select2-selection__rendered"></ul>'),e},i.prototype.bind=function(t,r){var o=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(e){o.trigger("toggle",{originalEvent:e})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!o.options.get("disabled")){var i=e(this).parent(),r=n.GetData(i[0],"data");o.trigger("unselect",{originalEvent:t,data:r})}})},i.prototype.clear=function(){var e=this.$selection.find(".select2-selection__rendered");e.empty(),e.removeAttr("title")},i.prototype.display=function(e,t){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(e,t))},i.prototype.selectionContainer=function(){return e('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(e){if(this.clear(),0!==e.length){for(var t=[],i=0;i<e.length;i++){var r=e[i],o=this.selectionContainer(),a=this.display(r,o);o.append(a),o.attr("title",r.title||r.text),n.StoreData(o[0],"data",r),t.push(o)}var s=this.$selection.find(".select2-selection__rendered");n.appendMany(s,t)}},i}),l.define("select2/selection/placeholder",["../utils"],function(e){function t(e,t,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n)}return t.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},t.prototype.createPlaceholder=function(e,t){var n=this.selectionContainer();return n.html(this.display(t)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},t.prototype.update=function(e,t){var n=1==t.length&&t[0].id!=this.placeholder.id;if(1<t.length||n)return e.call(this,t);this.clear();var i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},t}),l.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(e,t,n){function i(){}return i.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(e){i._handleClear(e)}),t.on("keypress",function(e){i._handleKeyboardClear(e,t)})},i.prototype._handleClear=function(e,t){if(!this.options.get("disabled")){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){t.stopPropagation();var r=n.GetData(i[0],"data"),o=this.$element.val();this.$element.val(this.placeholder.id);var a={data:r};if(this.trigger("clear",a),a.prevented)this.$element.val(o);else{for(var s=0;s<r.length;s++)if(a={data:r[s]},this.trigger("unselect",a),a.prevented)return void this.$element.val(o);this.$element.trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(e,n,i){i.isOpen()||n.which!=t.DELETE&&n.which!=t.BACKSPACE||this._handleClear(n)},i.prototype.update=function(t,i){if(t.call(this,i),!(0<this.$selection.find(".select2-selection__placeholder").length||0===i.length)){var r=this.options.get("translations").get("removeAllItems"),o=e('<span class="select2-selection__clear" title="'+r()+'">&times;</span>');n.StoreData(o[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(o)}},i}),l.define("select2/selection/search",["jquery","../utils","../keys"],function(e,t,n){function i(e,t,n){e.call(this,t,n)}return i.prototype.render=function(t){var n=e('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=t.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(e,i,r){var o=this;e.call(this,i,r),i.on("open",function(){o.$search.trigger("focus")}),i.on("close",function(){o.$search.val(""),o.$search.removeAttr("aria-activedescendant"),o.$search.trigger("focus")}),i.on("enable",function(){o.$search.prop("disabled",!1),o._transferTabIndex()}),i.on("disable",function(){o.$search.prop("disabled",!0)}),i.on("focus",function(e){o.$search.trigger("focus")}),i.on("results:focus",function(e){o.$search.attr("aria-activedescendant",e.id)}),this.$selection.on("focusin",".select2-search--inline",function(e){o.trigger("focus",e)}),this.$selection.on("focusout",".select2-search--inline",function(e){o._handleBlur(e)}),this.$selection.on("keydown",".select2-search--inline",function(e){if(e.stopPropagation(),o.trigger("keypress",e),o._keyUpPrevented=e.isDefaultPrevented(),e.which===n.BACKSPACE&&""===o.$search.val()){var i=o.$searchContainer.prev(".select2-selection__choice");if(0<i.length){var r=t.GetData(i[0],"data");o.searchRemoveChoice(r),e.preventDefault()}}});var a=document.documentMode,s=a&&a<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(e){s?o.$selection.off("input.search input.searchcheck"):o.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(e){if(s&&"input"===e.type)o.$selection.off("input.search input.searchcheck");else{var t=e.which;t!=n.SHIFT&&t!=n.CTRL&&t!=n.ALT&&t!=n.TAB&&o.handleSearch(e)}})},i.prototype._transferTabIndex=function(e){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(e,t){this.$search.attr("placeholder",t.text)},i.prototype.update=function(e,t){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),e.call(this,t),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(e,t){this.trigger("unselect",{data:t}),this.$search.val(t.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var e="";e=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",e)},i}),l.define("select2/selection/eventRelay",["jquery"],function(e){function t(){}return t.prototype.bind=function(t,n,i){var r=this,o=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];t.call(this,n,i),n.on("*",function(t,n){if(-1!==e.inArray(t,o)){n=n||{};var i=e.Event("select2:"+t,{params:n});r.$element.trigger(i),-1!==e.inArray(t,a)&&(n.prevented=i.isDefaultPrevented())}})},t}),l.define("select2/translation",["jquery","require"],function(e,t){function n(e){this.dict=e||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(e){return this.dict[e]},n.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},n._cache={},n.loadPath=function(e){if(!(e in n._cache)){var i=t(e);n._cache[e]=i}return new n(n._cache[e])},n}),l.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),l.define("select2/data/base",["../utils"],function(e){function t(e,n){t.__super__.constructor.call(this)}return e.Extend(t,e.Observable),t.prototype.current=function(e){throw new Error("The `current` method must be defined in child classes.")},t.prototype.query=function(e,t){throw new Error("The `query` method must be defined in child classes.")},t.prototype.bind=function(e,t){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,n){var i=t.id+"-result-";return i+=e.generateChars(4),i+=null!=n.id?"-"+n.id.toString():"-"+e.generateChars(4)},t}),l.define("select2/data/select",["./base","../utils","jquery"],function(e,t,n){function i(e,t){this.$element=e,this.options=t,i.__super__.constructor.call(this)}return t.Extend(i,e),i.prototype.current=function(e){var t=[],i=this;this.$element.find(":selected").each(function(){var e=n(this),r=i.item(e);t.push(r)}),e(t)},i.prototype.select=function(e){var t=this;if(e.selected=!0,n(e.element).is("option"))return e.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(i){var r=[];(e=[e]).push.apply(e,i);for(var o=0;o<e.length;o++){var a=e[o].id;-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")});else{var i=e.id;this.$element.val(i),this.$element.trigger("change")}},i.prototype.unselect=function(e){var t=this;if(this.$element.prop("multiple")){if(e.selected=!1,n(e.element).is("option"))return e.element.selected=!1,void this.$element.trigger("change");this.current(function(i){for(var r=[],o=0;o<i.length;o++){var a=i[o].id;a!==e.id&&-1===n.inArray(a,r)&&r.push(a)}t.$element.val(r),t.$element.trigger("change")})}},i.prototype.bind=function(e,t){var n=this;(this.container=e).on("select",function(e){n.select(e.data)}),e.on("unselect",function(e){n.unselect(e.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},i.prototype.query=function(e,t){var i=[],r=this;this.$element.children().each(function(){var t=n(this);if(t.is("option")||t.is("optgroup")){var o=r.item(t),a=r.matches(e,o);null!==a&&i.push(a)}}),t({results:i})},i.prototype.addOptions=function(e){t.appendMany(this.$element,e)},i.prototype.option=function(e){var i;e.children?(i=document.createElement("optgroup")).label=e.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=e.text:i.innerText=e.text,
void 0!==e.id&&(i.value=e.id),e.disabled&&(i.disabled=!0),e.selected&&(i.selected=!0),e.title&&(i.title=e.title);var r=n(i),o=this._normalizeItem(e);return o.element=i,t.StoreData(i,"data",o),r},i.prototype.item=function(e){var i={};if(null!=(i=t.GetData(e[0],"data")))return i;if(e.is("option"))i={id:e.val(),text:e.text(),disabled:e.prop("disabled"),selected:e.prop("selected"),title:e.prop("title")};else if(e.is("optgroup")){i={text:e.prop("label"),children:[],title:e.prop("title")};for(var r=e.children("option"),o=[],a=0;a<r.length;a++){var s=n(r[a]),l=this.item(s);o.push(l)}i.children=o}return(i=this._normalizeItem(i)).element=e[0],t.StoreData(e[0],"data",i),i},i.prototype._normalizeItem=function(e){return e!==Object(e)&&(e={id:e,text:e}),null!=(e=n.extend({},{text:""},e)).id&&(e.id=e.id.toString()),null!=e.text&&(e.text=e.text.toString()),null==e._resultId&&e.id&&null!=this.container&&(e._resultId=this.generateResultId(this.container,e)),n.extend({},{selected:!1,disabled:!1},e)},i.prototype.matches=function(e,t){return this.options.get("matcher")(e,t)},i}),l.define("select2/data/array",["./select","../utils","jquery"],function(e,t,n){function i(e,t){var n=t.get("data")||[];i.__super__.constructor.call(this,e,t),this.addOptions(this.convertToOptions(n))}return t.Extend(i,e),i.prototype.select=function(e){var t=this.$element.find("option").filter(function(t,n){return n.value==e.id.toString()});0===t.length&&(t=this.option(e),this.addOptions(t)),i.__super__.select.call(this,e)},i.prototype.convertToOptions=function(e){function i(e){return function(){return n(this).val()==e.id}}for(var r=this,o=this.$element.find("option"),a=o.map(function(){return r.item(n(this)).id}).get(),s=[],l=0;l<e.length;l++){var u=this._normalizeItem(e[l]);if(0<=n.inArray(u.id,a)){var c=o.filter(i(u)),d=this.item(c),f=n.extend(!0,{},u,d),h=this.option(f);c.replaceWith(h)}else{var p=this.option(u);if(u.children){var m=this.convertToOptions(u.children);t.appendMany(p,m)}s.push(p)}}return s},i}),l.define("select2/data/ajax",["./array","../utils","jquery"],function(e,t,n){function i(e,t){this.ajaxOptions=this._applyDefaults(t.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,e,t)}return t.Extend(i,e),i.prototype._applyDefaults=function(e){var t={data:function(e){return n.extend({},e,{q:e.term})},transport:function(e,t,i){var r=n.ajax(e);return r.then(t),r.fail(i),r}};return n.extend({},t,e,!0)},i.prototype.processResults=function(e){return e},i.prototype.query=function(e,t){function i(){var i=o.transport(o,function(i){var o=r.processResults(i,e);r.options.get("debug")&&window.console&&console.error&&(o&&o.results&&n.isArray(o.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),t(o)},function(){"status"in i&&(0===i.status||"0"===i.status)||r.trigger("results:message",{message:"errorLoading"})});r._request=i}var r=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);"function"==typeof o.url&&(o.url=o.url.call(this.$element,e)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,e)),this.ajaxOptions.delay&&null!=e.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(i,this.ajaxOptions.delay)):i()},i}),l.define("select2/data/tags",["jquery"],function(e){function t(t,n,i){var r=i.get("tags"),o=i.get("createTag");void 0!==o&&(this.createTag=o);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),t.call(this,n,i),e.isArray(r))for(var s=0;s<r.length;s++){var l=r[s],u=this._normalizeItem(l),c=this.option(u);this.$element.append(c)}}return t.prototype.query=function(e,t,n){var i=this;this._removeOldTags(),null!=t.term&&null==t.page?e.call(this,t,function r(e,o){for(var a=e.results,s=0;s<a.length;s++){var l=a[s],u=null!=l.children&&!r({results:l.children},!0);if((l.text||"").toUpperCase()===(t.term||"").toUpperCase()||u)return!o&&(e.data=a,void n(e))}if(o)return!0;var c=i.createTag(t);if(null!=c){var d=i.option(c);d.attr("data-select2-tag",!0),i.addOptions([d]),i.insertTag(a,c)}e.results=a,n(e)}):e.call(this,t,n)},t.prototype.createTag=function(t,n){var i=e.trim(n.term);return""===i?null:{id:i,text:i}},t.prototype.insertTag=function(e,t,n){t.unshift(n)},t.prototype._removeOldTags=function(t){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||e(this).remove()})},t}),l.define("select2/data/tokenizer",["jquery"],function(e){function t(e,t,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),e.call(this,t,n)}return t.prototype.bind=function(e,t,n){e.call(this,t,n),this.$search=t.dropdown.$search||t.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,n,i){var r=this;n.term=n.term||"";var o=this.tokenizer(n,this.options,function(t){var n=r._normalizeItem(t);if(!r.$element.find("option").filter(function(){return e(this).val()===n.id}).length){var i=r.option(n);i.attr("data-select2-tag",!0),r._removeOldTags(),r.addOptions([i])}!function(e){r.trigger("select",{data:e})}(n)});o.term!==n.term&&(this.$search.length&&(this.$search.val(o.term),this.$search.trigger("focus")),n.term=o.term),t.call(this,n,i)},t.prototype.tokenizer=function(t,n,i,r){for(var o=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(e){return{id:e.term,text:e.term}};s<a.length;){var u=a[s];if(-1!==e.inArray(u,o)){var c=a.substr(0,s),d=l(e.extend({},n,{term:c}));null!=d?(r(d),a=a.substr(s+1)||"",s=0):s++}else s++}return{term:a}},t}),l.define("select2/data/minimumInputLength",[],function(){function e(e,t,n){this.minimumInputLength=n.get("minimumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",t.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),l.define("select2/data/maximumInputLength",[],function(){function e(e,t,n){this.maximumInputLength=n.get("maximumInputLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){t.term=t.term||"",0<this.maximumInputLength&&t.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}}):e.call(this,t,n)},e}),l.define("select2/data/maximumSelectionLength",[],function(){function e(e,t,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),e.call(this,t,n)}return e.prototype.query=function(e,t,n){var i=this;this.current(function(r){var o=null!=r?r.length:0;0<i.maximumSelectionLength&&o>=i.maximumSelectionLength?i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}}):e.call(i,t,n)})},e}),l.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(e,t){this.$element=e,this.options=t,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(e,t){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),l.define("select2/dropdown/search",["jquery","../utils"],function(e,t){function n(){}return n.prototype.render=function(t){var n=t.call(this),i=e('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(t,n,i){var r=this;t.call(this,n,i),this.$search.on("keydown",function(e){r.trigger("keypress",e),r._keyUpPrevented=e.isDefaultPrevented()}),this.$search.on("input",function(t){e(this).off("keyup")}),this.$search.on("keyup input",function(e){r.handleSearch(e)}),n.on("open",function(){r.$search.attr("tabindex",0),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),n.on("close",function(){r.$search.attr("tabindex",-1),r.$search.val(""),r.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||r.$search.trigger("focus")}),n.on("results:all",function(e){null!=e.query.term&&""!==e.query.term||(r.showSearch(e)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))})},n.prototype.handleSearch=function(e){if(!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},n.prototype.showSearch=function(e,t){return!0},n}),l.define("select2/dropdown/hidePlaceholder",[],function(){function e(e,t,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),e.call(this,t,n,i)}return e.prototype.append=function(e,t){t.results=this.removePlaceholder(t.results),e.call(this,t)},e.prototype.normalizePlaceholder=function(e,t){return"string"==typeof t&&(t={id:"",text:t}),t},e.prototype.removePlaceholder=function(e,t){for(var n=t.slice(0),i=t.length-1;0<=i;i--){var r=t[i];this.placeholder.id===r.id&&n.splice(i,1)}return n},e}),l.define("select2/dropdown/infiniteScroll",["jquery"],function(e){function t(e,t,n,i){this.lastParams={},e.call(this,t,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(e,t){this.$loadingMore.remove(),this.loading=!1,e.call(this,t),this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("query",function(e){i.lastParams=e,i.loading=!0}),t.on("query:append",function(e){i.lastParams=e,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=e.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=e.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(e,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=e('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return t.html(n(this.lastParams)),t},t}),l.define("select2/dropdown/attachBody",["jquery","../utils"],function(e,t){function n(t,n,i){this.$dropdownParent=i.get("dropdownParent")||e(document.body),t.call(this,n,i)}return n.prototype.bind=function(e,t,n){var i=this,r=!1;e.call(this,t,n),t.on("open",function(){i._showDropdown(),i._attachPositioningHandler(t),r||(r=!0,t.on("results:all",function(){i._positionDropdown(),i._resizeDropdown()}),t.on("results:append",function(){i._positionDropdown(),i._resizeDropdown()}))}),t.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(t)}),this.$dropdownContainer.on("mousedown",function(e){e.stopPropagation()})},n.prototype.destroy=function(e){e.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(e,t,n){t.attr("class",n.attr("class")),t.removeClass("select2"),t.addClass("select2-container--open"),t.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(t){var n=e("<span></span>"),i=t.call(this);return n.append(i),this.$dropdownContainer=n},n.prototype._hideDropdown=function(e){this.$dropdownContainer.detach()},n.prototype._attachPositioningHandler=function(n,i){var r=this,o="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(t.hasScroll);l.each(function(){t.StoreData(this,"select2-scroll-position",{x:e(this).scrollLeft(),y:e(this).scrollTop()})}),l.on(o,function(n){var i=t.GetData(this,"select2-scroll-position");e(this).scrollTop(i.y)}),e(window).on(o+" "+a+" "+s,function(e){r._positionDropdown(),r._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var r="scroll.select2."+i.id,o="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(t.hasScroll).off(r),e(window).off(r+" "+o+" "+a)},n.prototype._positionDropdown=function(){var t=e(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),r=null,o=this.$container.offset();o.bottom=o.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=o.top,a.bottom=o.top+a.height;var s=this.$dropdown.outerHeight(!1),l=t.scrollTop(),u=t.scrollTop()+t.height(),c=l<o.top-s,d=u>o.bottom+s,f={left:o.left,top:a.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var p=h.offset();f.top-=p.top,f.left-=p.left,n||i||(r="below"),d||!c||n?!c&&d&&n&&(r="below"):r="above",("above"==r||n&&"below"!==r)&&(f.top=a.top-p.top-s),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(f)},n.prototype._resizeDropdown=function(){var e={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(e.minWidth=e.width,e.position="relative",e.width="auto"),this.$dropdown.css(e)},n.prototype._showDropdown=function(e){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),l.define("select2/dropdown/minimumResultsForSearch",[],function(){function e(e,t,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),e.call(this,t,n,i)}return e.prototype.showSearch=function(e,t){return!(function n(e){for(var t=0,i=0;i<e.length;i++){var r=e[i];r.children?t+=n(r.children):t++}return t}(t.data.results)<this.minimumResultsForSearch)&&e.call(this,t)},e}),l.define("select2/dropdown/selectOnClose",["../utils"],function(e){function t(){}return t.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("close",function(e){i._handleSelectOnClose(e)})},t.prototype._handleSelectOnClose=function(t,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var o=e.GetData(r[0],"data");null!=o.element&&o.element.selected||null==o.element&&o.selected||this.trigger("select",{data:o})}},t}),l.define("select2/dropdown/closeOnSelect",[],function(){function e(){}return e.prototype.bind=function(e,t,n){var i=this;e.call(this,t,n),t.on("select",function(e){i._selectTriggered(e)}),t.on("unselect",function(e){i._selectTriggered(e)})},e.prototype._selectTriggered=function(e,t){var n=t.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:t})},e}),l.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(e){var t=e.input.length-e.maximum,n="Please delete "+t+" character";return 1!=t&&(n+="s"),n},inputTooShort:function(e){return"Please enter "+(e.minimum-e.input.length)+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(e){var t="You can only select "+e.maximum+" item";return 1!=e.maximum&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),l.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(e,t,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,b,y,w,x,C,_,k,S,D,$,T){function E(){this.reset()}return E.prototype.apply=function(d){if(null==(d=e.extend(!0,{},this.defaults,d)).dataAdapter){if(null!=d.ajax?d.dataAdapter=p:null!=d.data?d.dataAdapter=h:d.dataAdapter=f,0<d.minimumInputLength&&(d.dataAdapter=u.Decorate(d.dataAdapter,v)),0<d.maximumInputLength&&(d.dataAdapter=u.Decorate(d.dataAdapter,b)),0<d.maximumSelectionLength&&(d.dataAdapter=u.Decorate(d.dataAdapter,y)),d.tags&&(d.dataAdapter=u.Decorate(d.dataAdapter,m)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=u.Decorate(d.dataAdapter,g)),null!=d.query){var T=t(d.amdBase+"compat/query");d.dataAdapter=u.Decorate(d.dataAdapter,T)}if(null!=d.initSelection){var E=t(d.amdBase+"compat/initSelection");d.dataAdapter=u.Decorate(d.dataAdapter,E)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,_)),null!=d.placeholder&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,C)),d.selectOnClose&&(d.resultsAdapter=u.Decorate(d.resultsAdapter,D))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var A=u.Decorate(w,x);d.dropdownAdapter=A}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=u.Decorate(d.dropdownAdapter,$)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var O=t(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=u.Decorate(d.dropdownAdapter,O)}d.dropdownAdapter=u.Decorate(d.dropdownAdapter,k)}if(null==d.selectionAdapter){if(d.multiple?d.selectionAdapter=r:d.selectionAdapter=i,null!=d.placeholder&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,o)),d.allowClear&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=u.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var M=t(d.amdBase+"compat/containerCss");d.selectionAdapter=u.Decorate(d.selectionAdapter,M)}d.selectionAdapter=u.Decorate(d.selectionAdapter,l)}if("string"==typeof d.language)if(0<d.language.indexOf("-")){var N=d.language.split("-")[0];d.language=[d.language,N]}else d.language=[d.language];if(e.isArray(d.language)){var P=new c;d.language.push("en");for(var I=d.language,R=0;R<I.length;R++){var L=I[R],B={};try{B=c.loadPath(L)}catch(T){try{L=this.defaults.amdLanguageBase+L,B=c.loadPath(L)}catch(T){d.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+L+'" could not be automatically loaded. A fallback will be used instead.');continue}}P.extend(B)}d.translations=P}else{var F=c.loadPath(this.defaults.amdLanguageBase+"en"),H=new c(d.language);H.extend(F),d.translations=H}return d},E.prototype.reset=function(){function t(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return d[e]||e})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:u.escapeMarkup,language:T,matcher:function n(i,r){if(""===e.trim(i.term))return r;if(r.children&&0<r.children.length){for(var o=e.extend(!0,{},r),a=r.children.length-1;0<=a;a--)null==n(i,r.children[a])&&o.children.splice(a,1);return 0<o.children.length?o:n(i,o)}var s=t(r.text).toUpperCase(),l=t(i.term).toUpperCase();return-1<s.indexOf(l)?r:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(e){return e},templateResult:function(e){return e.text},templateSelection:function(e){return e.text},theme:"default",width:"resolve"}},E.prototype.set=function(t,n){var i={};i[e.camelCase(t)]=n;var r=u._convertData(i);e.extend(!0,this.defaults,r)},new E}),l.define("select2/options",["require","jquery","./defaults","./utils"],function(e,t,n,i){function r(t,r){if(this.options=t,null!=r&&this.fromElement(r),this.options=n.apply(this.options),r&&r.is("input")){var o=e(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,o)}}return r.prototype.fromElement=function(e){function n(e,t){return t.toUpperCase()}var r=["select2"];null==this.options.multiple&&(this.options.multiple=e.prop("multiple")),null==this.options.disabled&&(this.options.disabled=e.prop("disabled")),null==this.options.language&&(e.prop("lang")?this.options.language=e.prop("lang").toLowerCase():e.closest("[lang]").prop("lang")&&(this.options.language=e.closest("[lang]").prop("lang"))),null==this.options.dir&&(e.prop("dir")?this.options.dir=e.prop("dir"):e.closest("[dir]").prop("dir")?this.options.dir=e.closest("[dir]").prop("dir"):this.options.dir="ltr"),e.prop("disabled",this.options.disabled),e.prop("multiple",this.options.multiple),i.GetData(e[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(e[0],"data",i.GetData(e[0],"select2Tags")),i.StoreData(e[0],"tags",!0)),i.GetData(e[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),e.attr("ajax--url",i.GetData(e[0],"ajaxUrl")),i.StoreData(e[0],"ajax-Url",i.GetData(e[0],"ajaxUrl")));for(var o={},a=0;a<e[0].attributes.length;a++){var s=e[0].attributes[a].name,l="data-";if(s.substr(0,l.length)==l){var u=s.substring(l.length),c=i.GetData(e[0],u);o[u.replace(/-([a-z])/g,n)]=c}}t.fn.jquery&&"1."==t.fn.jquery.substr(0,2)&&e[0].dataset&&(o=t.extend(!0,{},e[0].dataset,o));var d=t.extend(!0,{},i.GetData(e[0]),o);for(var f in d=i._convertData(d))-1<t.inArray(f,r)||(t.isPlainObject(this.options[f])?t.extend(this.options[f],d[f]):this.options[f]=d[f]);return this},r.prototype.get=function(e){return this.options[e]},r.prototype.set=function(e,t){this.options[e]=t},r}),l.define("select2/core",["jquery","./options","./utils","./keys"],function(e,t,n,i){var r=function(e,i){null!=n.GetData(e[0],"select2")&&n.GetData(e[0],"select2").destroy(),this.$element=e,this.id=this._generateId(e),i=i||{},this.options=new t(i,e),r.__super__.constructor.call(this);var o=e.attr("tabindex")||0;n.StoreData(e[0],"old-tabindex",o),e.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(e,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(e,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var u=this.options.get("dropdownAdapter");this.dropdown=new u(e,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var c=this.options.get("resultsAdapter");this.results=new c(e,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var d=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(e){d.trigger("selection:update",{data:e})}),e.addClass("select2-hidden-accessible"),e.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(e[0],"select2",this),e.data("select2",this)};return n.Extend(r,n.Observable),r.prototype._generateId=function(e){return"select2-"+(null!=e.attr("id")?e.attr("id"):null!=e.attr("name")?e.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},r.prototype._placeContainer=function(e){e.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));null!=t&&e.css("width",t)},r.prototype._resolveWidth=function(e,t){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==t){var i=this._resolveWidth(e,"style");return null!=i?i:this._resolveWidth(e,"element")}if("element"==t){var r=e.outerWidth(!1);return r<=0?"auto":r+"px"}if("style"!=t)return"computedstyle"!=t?t:window.getComputedStyle(e[0]).width;var o=e.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,l=a.length;s<l;s+=1){var u=a[s].replace(/\s/g,"").match(n);if(null!==u&&1<=u.length)return u[1]}return null},r.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},r.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var i=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=i?(this._observer=new i(function(n){e.each(n,t._syncA),e.each(n,t._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},r.prototype._registerDataEvents=function(){var e=this;this.dataAdapter.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerSelectionEvents=function(){var t=this,n=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()}),this.selection.on("focus",function(e){t.focus(e)}),this.selection.on("*",function(i,r){-1===e.inArray(i,n)&&t.trigger(i,r)})},r.prototype._registerDropdownEvents=function(){var e=this;this.dropdown.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerResultsEvents=function(){var e=this;this.results.on("*",function(t,n){e.trigger(t,n)})},r.prototype._registerEvents=function(){var e=this;this.on("open",function(){e.$container.addClass("select2-container--open")}),this.on("close",function(){e.$container.removeClass("select2-container--open")}),this.on("enable",function(){e.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){e.$container.addClass("select2-container--disabled")}),this.on("blur",function(){e.$container.removeClass("select2-container--focus")}),this.on("query",function(t){e.isOpen()||e.trigger("open",{}),this.dataAdapter.query(t,function(n){e.trigger("results:all",{data:n,query:t})})}),this.on("query:append",function(t){this.dataAdapter.query(t,function(n){e.trigger("results:append",{data:n,query:t})})}),this.on("keypress",function(t){var n=t.which;e.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&t.altKey?(e.close(),t.preventDefault()):n===i.ENTER?(e.trigger("results:select",{}),t.preventDefault()):n===i.SPACE&&t.ctrlKey?(e.trigger("results:toggle",{}),t.preventDefault()):n===i.UP?(e.trigger("results:previous",{}),t.preventDefault()):n===i.DOWN&&(e.trigger("results:next",{}),t.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&t.altKey)&&(e.open(),t.preventDefault())})},r.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},r.prototype._syncSubtree=function(e,t){var n=!1,i=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(t)if(t.addedNodes&&0<t.addedNodes.length)for(var r=0;r<t.addedNodes.length;r++)t.addedNodes[r].selected&&(n=!0);else t.removedNodes&&0<t.removedNodes.length&&(n=!0);else n=!0;n&&this.dataAdapter.current(function(e){i.trigger("selection:update",{data:e})})}},r.prototype.trigger=function(e,t){var n=r.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===t&&(t={}),e in i){var o=i[e],a={prevented:!1,name:e,args:t};if(n.call(this,o,a),a.prevented)return void(t.prevented=!0)}n.call(this,e,t)},r.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},r.prototype.open=function(){this.isOpen()||this.trigger("query",{})},r.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},r.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},r.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},r.prototype.focus=function(e){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},r.prototype.enable=function(e){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=e&&0!==e.length||(e=[!0]);var t=!e[0];this.$element.prop("disabled",t)},r.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var e=[];return this.dataAdapter.current(function(t){e=t}),e},r.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==t||0===t.length)return this.$element.val();var n=t[0];e.isArray(n)&&(n=e.map(n,function(e){return e.toString()})),this.$element.val(n).trigger("change")},r.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},r.prototype.render=function(){var t=e('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(t[0],"element",this.$element),t},r}),l.define("jquery-mousewheel",["jquery"],function(e){return e}),l.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(e,t,n,i,r){if(null==e.fn.select2){var o=["open","close","destroy"];e.fn.select2=function(t){if("object"==typeof(t=t||{}))return this.each(function(){var i=e.extend(!0,{},t);new n(e(this),i)}),this;if("string"!=typeof t)throw new Error("Invalid arguments for Select2: "+t);
var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var e=r.GetData(this,"select2");null==e&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2."),i=e[t].apply(e,a)}),-1<e.inArray(t,o)?this:i}}return null==e.fn.select2.defaults&&(e.fn.select2.defaults=i),n}),{define:l.define,require:l.require}}(),n=t.require("jquery.select2");return e.fn.select2.amd=t,n}),function(e){"use strict";function t(e){return w(e)?(y(e.objectMaxDepth)&&(bi.objectMaxDepth=n(e.objectMaxDepth)?e.objectMaxDepth:NaN),void(y(e.urlErrorParamsEnabled)&&O(e.urlErrorParamsEnabled)&&(bi.urlErrorParamsEnabled=e.urlErrorParamsEnabled))):bi}function n(e){return _(e)&&0<e}function i(e,t){return t=t||Error,function(){var n,i=arguments[0];for(n="["+(e?e+":":"")+i+"] http://errors.angularjs.org/1.7.8/"+(e?e+"/":"")+i,i=1;i<arguments.length;i++){n=n+(1==i?"?":"&")+"p"+(i-1)+"=";var r,o=encodeURIComponent;r=arguments[i],r="function"==typeof r?r.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof r?"undefined":"string"!=typeof r?JSON.stringify(r):r,n+=o(r)}return new t(n)}}function r(e){if(null==e||E(e))return!1;if(S(e)||C(e)||mi&&e instanceof mi)return!0;var t="length"in Object(e)&&e.length;return _(t)&&(0<=t&&t-1 in e||"function"==typeof e.item)}function o(e,t,n){var i,a;if(e)if($(e))for(i in e)"prototype"!==i&&"length"!==i&&"name"!==i&&e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else if(S(e)||r(e)){var s="object"!=typeof e;for(i=0,a=e.length;i<a;i++)(s||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==o)e.forEach(t,n,e);else if(x(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)wi.call(e,i)&&t.call(n,e[i],i,e);return e}function a(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function s(e){return function(t,n){e(n,t)}}function l(){return++Ai}function u(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(w(a)||$(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var d=s[l],f=a[d];n&&w(f)?k(f)?e[d]=new Date(f.valueOf()):T(f)?e[d]=new RegExp(f):f.nodeName?e[d]=f.cloneNode(!0):N(f)?e[d]=f.clone():(w(e[d])||(e[d]=S(f)?[]:{}),u(e[d],[f],!0)):e[d]=f}}return i?e.$$hashKey=i:delete e.$$hashKey,e}function c(e){return u(e,_i.call(arguments,1),!1)}function d(e){return u(e,_i.call(arguments,1),!0)}function f(e){return parseInt(e,10)}function h(e,t){return c(Object.create(e),t)}function p(){}function m(e){return e}function g(e){return function(){return e}}function v(e){return $(e.toString)&&e.toString!==Di}function b(e){return"undefined"==typeof e}function y(e){return"undefined"!=typeof e}function w(e){return null!==e&&"object"==typeof e}function x(e){return null!==e&&"object"==typeof e&&!$i(e)}function C(e){return"string"==typeof e}function _(e){return"number"==typeof e}function k(e){return"[object Date]"===Di.call(e)}function S(e){return Array.isArray(e)||e instanceof Array}function D(e){switch(Di.call(e)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMException]":return!0;default:return e instanceof Error}}function $(e){return"function"==typeof e}function T(e){return"[object RegExp]"===Di.call(e)}function E(e){return e&&e.window===e}function A(e){return e&&e.$evalAsync&&e.$watch}function O(e){return"boolean"==typeof e}function M(e){return e&&_(e.length)&&Mi.test(Di.call(e))}function N(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function P(e){var t={};e=e.split(",");var n;for(n=0;n<e.length;n++)t[e[n]]=!0;return t}function I(e){return xi(e.nodeName||e[0]&&e[0].nodeName)}function R(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function L(e,t,i){function r(e,t,n){if(n--,0>n)return"...";var i,r=t.$$hashKey;if(S(e)){i=0;for(var o=e.length;i<o;i++)t.push(a(e[i],n))}else if(x(e))for(i in e)t[i]=a(e[i],n);else if(e&&"function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&(t[i]=a(e[i],n));else for(i in e)wi.call(e,i)&&(t[i]=a(e[i],n));return r?t.$$hashKey=r:delete t.$$hashKey,t}function a(e,t){if(!w(e))return e;var n=l.indexOf(e);if(-1!==n)return u[n];if(E(e)||A(e))throw Ti("cpws");var n=!1,i=s(e);return void 0===i&&(i=S(e)?[]:Object.create($i(e)),n=!0),l.push(e),u.push(i),n?r(e,i,t):i}function s(e){switch(Di.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(a(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(!e.slice){var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t}return e.slice(0);case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":return t=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]),t.lastIndex=e.lastIndex,t;case"[object Blob]":return new e.constructor([e],{type:e.type})}if($(e.cloneNode))return e.cloneNode(!0)}var l=[],u=[];if(i=n(i)?i:NaN,t){if(M(t)||"[object ArrayBuffer]"===Di.call(t))throw Ti("cpta");if(e===t)throw Ti("cpi");return S(t)?t.length=0:o(t,function(e,n){"$$hashKey"!==n&&delete t[n]}),l.push(e),u.push(t),r(e,t,i)}return a(e,i)}function B(e,t){return e===t||e!==e&&t!==t}function F(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!==e&&t!==t)return!0;var n,i=typeof e;if(i===typeof t&&"object"===i){if(!S(e)){if(k(e))return!!k(t)&&B(e.getTime(),t.getTime());if(T(e))return!!T(t)&&e.toString()===t.toString();if(A(e)||A(t)||E(e)||E(t)||S(t)||k(t)||T(t))return!1;i=fe();for(n in e)if("$"!==n.charAt(0)&&!$(e[n])){if(!F(e[n],t[n]))return!1;i[n]=!0}for(n in t)if(!(n in i)&&"$"!==n.charAt(0)&&y(t[n])&&!$(t[n]))return!1;return!0}if(!S(t))return!1;if((i=e.length)===t.length){for(n=0;n<i;n++)if(!F(e[n],t[n]))return!1;return!0}}return!1}function H(e,t,n){return e.concat(_i.call(t,n))}function j(e,t){var n=2<arguments.length?_i.call(arguments,2):[];return!$(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,H(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function V(t,n){var i=n;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=void 0:E(n)?i="$WINDOW":n&&e.document===n?i="$DOCUMENT":A(n)&&(i="$SCOPE"),i}function z(e,t){if(!b(e))return _(t)||(t=t?2:null),JSON.stringify(e,V,t)}function U(e){return C(e)?JSON.parse(e):e}function W(e,t){e=e.replace(Li,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return Oi(n)?t:n}function q(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Y(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset();return t=W(t,i),q(e,n*(t-i))}function G(e){e=mi(e).clone().empty();var t=mi("<div></div>").append(e).html();try{return e[0].nodeType===Vi?xi(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+xi(t)})}catch(n){return xi(t)}}function K(e){try{return decodeURIComponent(e)}catch(t){}}function X(e){var t={};return o((e||"").split("&"),function(e){var n,i,r;e&&(i=e=e.replace(/\+/g,"%20"),n=e.indexOf("="),-1!==n&&(i=e.substring(0,n),r=e.substring(n+1)),i=K(i),y(i)&&(r=!y(r)||K(r),wi.call(t,i)?S(t[i])?t[i].push(r):t[i]=[t[i],r]:t[i]=r))}),t}function J(e){var t=[];return o(e,function(e,n){S(e)?o(e,function(e){t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}):t.push(Q(n,!0)+(!0===e?"":"="+Q(e,!0)))}),t.length?t.join("&"):""}function Z(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}function ee(e,t){var n,i,r=Bi.length;for(i=0;i<r;++i)if(n=Bi[i]+t,C(n=e.getAttribute(n)))return n;return null}function te(t,n){var i,r,a={};o(Bi,function(e){e+="app",!i&&t.hasAttribute&&t.hasAttribute(e)&&(i=t,r=t.getAttribute(e))}),o(Bi,function(e){e+="app";var n;!i&&(n=t.querySelector("["+e.replace(":","\\:")+"]"))&&(i=n,r=n.getAttribute(e))}),i&&(Fi?(a.strictDi=null!==ee(i,"strict-di"),n(i,r?[r]:[],a)):e.console.error("AngularJS: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match."))}function ne(t,n,i){w(i)||(i={}),i=c({strictDi:!1},i);var r=function(){if(t=mi(t),t.injector()){var r=t[0]===e.document?"document":G(t);throw Ti("btstrpd",r.replace(/</,"&lt;").replace(/>/,"&gt;"))}return n=n||[],n.unshift(["$provide",function(e){e.value("$rootElement",t)}]),i.debugInfoEnabled&&n.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),n.unshift("ng"),r=Xe(n,i.strictDi),r.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),r},a=/^NG_ENABLE_DEBUG_INFO!/,s=/^NG_DEFER_BOOTSTRAP!/;return e&&a.test(e.name)&&(i.debugInfoEnabled=!0,e.name=e.name.replace(a,"")),e&&!s.test(e.name)?r():(e.name=e.name.replace(s,""),Ei.resumeBootstrap=function(e){return o(e,function(e){n.push(e)}),r()},void($(Ei.resumeDeferredBootstrap)&&Ei.resumeDeferredBootstrap()))}function ie(){e.name="NG_ENABLE_DEBUG_INFO!"+e.name,e.location.reload()}function re(e){if(e=Ei.element(e).injector(),!e)throw Ti("test");return e.get("$$testability")}function oe(e,t){return t=t||"_",e.replace(Hi,function(e,n){return(n?t:"")+e.toLowerCase()})}function ae(){var t;if(!ji){var n=Ri();(gi=b(n)?e.jQuery:n?e[n]:void 0)&&gi.fn.on?(mi=gi,c(gi.fn,{scope:nr.scope,isolateScope:nr.isolateScope,controller:nr.controller,injector:nr.injector,inheritedData:nr.inheritedData})):mi=Ce,t=mi.cleanData,mi.cleanData=function(e){for(var n,i,r=0;null!=(i=e[r]);r++)(n=(mi._data(i)||{}).events)&&n.$destroy&&mi(i).triggerHandler("$destroy");t(e)},Ei.element=mi,ji=!0}}function se(e,t,n){if(!e)throw Ti("areq",t||"?",n||"required");return e}function le(e,t,n){return n&&S(e)&&(e=e[e.length-1]),se($(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function ue(e,t){if("hasOwnProperty"===e)throw Ti("badname",t)}function ce(e,t,n){if(!t)return e;t=t.split(".");for(var i,r=e,o=t.length,a=0;a<o;a++)i=t[a],e&&(e=(r=e)[i]);return!n&&$(e)?j(r,e):e}function de(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=mi(_i.call(e,0,r))),t.push(n));return t||e}function fe(){return Object.create(null)}function he(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=!v(e)||S(e)||k(e)?z(e):e.toString()}return e}function pe(e){function t(e,t,n){return e[t]||(e[t]=n())}var n=i("$injector"),r=i("ng");return e=t(e,"angular",Object),e.$$minErr=e.$$minErr||i,t(e,"module",function(){var e={};return function(i,o,a){var s={};if("hasOwnProperty"===i)throw r("badname","module");return o&&e.hasOwnProperty(i)&&(e[i]=null),t(e,i,function(){function e(e,t,n,i){return i||(i=l),function(){return i[n||"push"]([e,t,arguments]),f}}function t(e,t,n){return n||(n=l),function(r,o){return o&&$(o)&&(o.$$moduleName=i),n.push([e,t,arguments]),f}}if(!o)throw n("nomod",i);var l=[],u=[],c=[],d=e("$injector","invoke","push",u),f={_invokeQueue:l,_configBlocks:u,_runBlocks:c,info:function(e){if(y(e)){if(!w(e))throw r("aobj","value");return s=e,this}return s},requires:o,name:i,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:e("$provide","value"),constant:e("$provide","constant","unshift"),decorator:t("$provide","decorator",u),animation:t("$animateProvider","register"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),component:t("$compileProvider","component"),config:d,run:function(e){return c.push(e),this}};return a&&d(a),f})}})}function me(e,t){if(S(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(w(e))for(n in t=t||{},e)"$"===n.charAt(0)&&"$"===n.charAt(1)||(t[n]=e[n]);return t||e}function ge(e,t){var i=[];return n(t)&&(e=Ei.copy(e,null,t)),JSON.stringify(e,function(e,t){if(t=V(e,t),w(t)){if(0<=i.indexOf(t))return"...";i.push(t)}return t})}function ve(n){c(n,{errorHandlingConfig:t,bootstrap:ne,copy:L,extend:c,merge:d,equals:F,element:mi,forEach:o,injector:Xe,noop:p,bind:j,toJson:z,fromJson:U,identity:m,isUndefined:b,isDefined:y,isString:C,isFunction:$,isObject:w,isNumber:_,isElement:N,isArray:S,version:zi,isDate:k,callbacks:{$$counter:0},getTestability:re,reloadWithDebugInfo:ie,$$minErr:i,$$csp:Ii,$$encodeUriSegment:Z,$$encodeUriQuery:Q,$$lowercase:xi,$$stringify:he,$$uppercase:Ci}),vi=pe(e),vi("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:an}),e.provider("$compile",ot).directive({a:po,input:Oo,textarea:Oo,form:bo,script:Ca,select:Sa,option:Da,ngBind:Io,ngBindHtml:Lo,ngBindTemplate:Ro,ngClass:Fo,ngClassEven:jo,ngClassOdd:Ho,ngCloak:Vo,ngController:zo,ngForm:yo,ngHide:ma,ngIf:qo,ngInclude:Yo,ngInit:Ko,ngNonBindable:aa,ngPluralize:ca,ngRef:fa,ngRepeat:ha,ngShow:pa,ngStyle:ga,ngSwitch:va,ngSwitchWhen:ba,ngSwitchDefault:ya,ngOptions:ua,ngTransclude:xa,ngModel:ia,ngList:Xo,ngChange:Bo,pattern:Ta,ngPattern:Ta,required:$a,ngRequired:$a,minlength:Aa,ngMinlength:Aa,maxlength:Ea,ngMaxlength:Ea,ngValue:Po,ngModelOptions:oa}).directive({ngInclude:Go,input:Mo}).directive(mo).directive(Uo),e.provider({$anchorScroll:Je,$animate:br,$animateCss:xr,$$animateJs:gr,$$animateQueue:vr,$$AnimateRunner:wr,$$animateAsyncRun:yr,$browser:nt,$cacheFactory:it,$controller:dt,$document:ft,$$isDocumentHidden:ht,$exceptionHandler:pt,$filter:_n,$$forceReflow:Tr,$interpolate:Dt,$interval:$t,$$intervalFactory:Tt,$http:Ct,$httpParamSerializer:gt,$httpParamSerializerJQLike:vt,$httpBackend:kt,$xhrFactory:_t,$jsonpCallbacks:Lr,$location:Ft,$log:Ht,$parse:Qt,$rootScope:on,$q:en,$$q:tn,$sce:cn,$sceDelegate:un,$sniffer:dn,$$taskTrackerFactory:fn,$templateCache:rt,$templateRequest:pn,$$testability:mn,$timeout:gn,$window:wn,$$rAF:rn,$$jqLite:We,$$Map:lr,$$cookieReader:Cn})}]).info({angularVersion:"1.7.8"})}function be(e,t){return t.toUpperCase()}function ye(e){return e.replace(qi,be)}function we(e){return e=e.nodeType,1===e||!e||9===e}function xe(e,t){var n,i,r=t.createDocumentFragment(),a=[];if(Ji.test(e)){for(n=r.appendChild(t.createElement("div")),i=(Zi.exec(e)||["",""])[1].toLowerCase(),i=er[i]||er._default,n.innerHTML=i[1]+e.replace(Qi,"<$1></$2>")+i[2],i=i[0];i--;)n=n.lastChild;a=H(a,n.childNodes),n=r.firstChild,n.textContent=""}else a.push(t.createTextNode(e));return r.textContent="",r.innerHTML="",o(a,function(e){r.appendChild(e)}),r}function Ce(t){if(t instanceof Ce)return t;var n;if(C(t)&&(t=Ni(t),n=!0),!(this instanceof Ce)){if(n&&"<"!==t.charAt(0))throw Ki("nosel");return new Ce(t)}if(n){n=e.document;var i;t=(i=Xi.exec(t))?[n.createElement(i[1])]:(i=xe(t,n))?i.childNodes:[],Pe(this,t)}else $(t)?He(t):Pe(this,t)}function _e(e){return e.cloneNode(!0)}function ke(e,t){!t&&we(e)&&mi.cleanData([e]),e.querySelectorAll&&mi.cleanData(e.querySelectorAll("*"))}function Se(e){for(var t in e)return!1;return!0}function De(e){var t=e.ng339,n=t&&Ui[t],i=n&&n.events,n=n&&n.data;n&&!Se(n)||i&&!Se(i)||(delete Ui[t],e.ng339=void 0)}function $e(e,t,n,i){if(y(i))throw Ki("offargs");var r=(i=Ee(e))&&i.events,a=i&&i.handle;if(a){if(t){var s=function(t){var i=r[t];y(n)&&R(i||[],n),y(n)&&i&&0<i.length||(e.removeEventListener(t,a),delete r[t])};o(t.split(" "),function(e){s(e),Gi[e]&&s(Gi[e])})}else for(t in r)"$destroy"!==t&&e.removeEventListener(t,a),delete r[t];De(e)}}function Te(e,t){var n=e.ng339;(n=n&&Ui[n])&&(t?delete n.data[t]:n.data={},De(e))}function Ee(e,t){var n=e.ng339,n=n&&Ui[n];return t&&!n&&(e.ng339=n=++Wi,n=Ui[n]={events:{},data:{},handle:void 0}),n}function Ae(e,t,n){if(we(e)){var i,r=y(n),o=!r&&t&&!w(t),a=!t;if(e=(e=Ee(e,!o))&&e.data,r)e[ye(t)]=n;else{if(a)return e;if(o)return e&&e[ye(t)];for(i in t)e[ye(i)]=t[i]}}}function Oe(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function Me(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;o(t.split(" "),function(e){e=Ni(e),i=i.replace(" "+e+" "," ")}),i!==n&&e.setAttribute("class",Ni(i))}}function Ne(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," "),i=n;o(t.split(" "),function(e){e=Ni(e),-1===i.indexOf(" "+e+" ")&&(i+=e+" ")}),i!==n&&e.setAttribute("class",Ni(i))}}function Pe(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function Ie(e,t){return Re(e,"$"+(t||"ngController")+"Controller")}function Re(e,t,n){for(9===e.nodeType&&(e=e.documentElement),t=S(t)?t:[t];e;){for(var i=0,r=t.length;i<r;i++)if(y(n=mi.data(e,t[i])))return n;e=e.parentNode||11===e.nodeType&&e.host}}function Le(e){for(ke(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Be(e,t){t||ke(e);var n=e.parentNode;n&&n.removeChild(e)}function Fe(t,n){n=n||e,"complete"===n.document.readyState?n.setTimeout(t):mi(n).on("load",t)}function He(t){function n(){e.document.removeEventListener("DOMContentLoaded",n),e.removeEventListener("load",n),t()}"complete"===e.document.readyState?e.setTimeout(t):(e.document.addEventListener("DOMContentLoaded",n),e.addEventListener("load",n))}function je(e,t){var n=ir[t.toLowerCase()];return n&&rr[I(e)]&&n}function Ve(e,t){var n=function(n,i){n.isDefaultPrevented=function(){return n.defaultPrevented};var r=t[i||n.type],o=r?r.length:0;if(o){if(b(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return!0===n.immediatePropagationStopped};var s=r.specialHandlerWrapper||ze;1<o&&(r=me(r));for(var l=0;l<o;l++)n.isImmediatePropagationStopped()||s(e,n,r[l])}};return n.elem=e,n}function ze(e,t,n){n.call(e,t)}function Ue(e,t,n){var i=t.relatedTarget;i&&(i===e||tr.call(e,i))||n.call(e,t)}function We(){this.$get=function(){return c(Ce,{hasClass:function(e,t){return e.attr&&(e=e[0]),Oe(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),Ne(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),Me(e,t)}})}}function qe(e,t){var n=e&&e.$$hashKey;return n?("function"==typeof n&&(n=e.$$hashKey()),n):(n=typeof e,n="function"===n||"object"===n&&null!==e?e.$$hashKey=n+":"+(t||l)():n+":"+e)}function Ye(){this._keys=[],this._values=[],this._lastKey=NaN,this._lastIndex=-1}function Ge(e){return e=Function.prototype.toString.call(e).replace(hr,""),e.match(ur)||e.match(cr)}function Ke(e){return(e=Ge(e))?"function("+(e[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Xe(e,t){function n(e){return function(t,n){return w(t)?void o(t,s(e)):e(t,n)}}function i(e,t){if(ue(e,"service"),($(t)||S(t))&&(t=p.instantiate(t)),!t.$get)throw pr("pget",e);return h[e+"Provider"]=t}function r(e,t){return function(){var n=y.invoke(t,this);if(b(n))throw pr("undef",e);return n}}function a(e,t,n){return i(e,{$get:!1!==n?r(e,t):t})}function l(e){se(b(e)||S(e),"modulesToLoad","not an array");var t,n=[];return o(e,function(e){function i(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=p.get(i[0]);r[i[1]].apply(r,i[2])}}if(!f.get(e)){f.set(e,!0);try{C(e)?(t=vi(e),y.modules[e]=t,n=n.concat(l(t.requires)).concat(t._runBlocks),i(t._invokeQueue),i(t._configBlocks)):$(e)?n.push(p.invoke(e)):S(e)?n.push(p.invoke(e)):le(e,"module")}catch(r){throw S(e)&&(e=e[e.length-1]),r.message&&r.stack&&-1===r.stack.indexOf(r.message)&&(r=r.message+"\n"+r.stack),pr("modulerr",e,r.stack||r.message||r)}}}),n}function u(e,n){function i(t,i){if(e.hasOwnProperty(t)){if(e[t]===c)throw pr("cdep",t+" <- "+d.join(" <- "));return e[t]}try{return d.unshift(t),e[t]=c,e[t]=n(t,i),e[t]}catch(r){throw e[t]===c&&delete e[t],r}finally{d.shift()}}function r(e,n,r){var o=[];e=Xe.$$annotate(e,t,r);for(var a=0,s=e.length;a<s;a++){var l=e[a];if("string"!=typeof l)throw pr("itkn",l);o.push(n&&n.hasOwnProperty(l)?n[l]:i(l,r))}return o}return{invoke:function(e,t,n,i){if("string"==typeof n&&(i=n,n=null),n=r(e,n,i),S(e)&&(e=e[e.length-1]),i=e,pi||"function"!=typeof i)i=!1;else{var o=i.$$ngIsClass;O(o)||(o=i.$$ngIsClass=/^class\b/.test(Function.prototype.toString.call(i))),i=o}return i?(n.unshift(null),new(Function.prototype.bind.apply(e,n))):e.apply(t,n)},instantiate:function(e,t,n){var i=S(e)?e[e.length-1]:e;return e=r(e,t,n),e.unshift(null),new(Function.prototype.bind.apply(i,e))},get:i,annotate:Xe.$$annotate,has:function(t){return h.hasOwnProperty(t+"Provider")||e.hasOwnProperty(t)}}}t=!0===t;var c={},d=[],f=new sr,h={$provide:{provider:n(i),factory:n(a),service:n(function(e,t){return a(e,["$injector",function(e){return e.instantiate(t)}])}),value:n(function(e,t){return a(e,g(t),!1)}),constant:n(function(e,t){ue(e,"constant"),h[e]=t,m[e]=t}),decorator:function(e,t){var n=p.get(e+"Provider"),i=n.$get;n.$get=function(){var e=y.invoke(i,n);return y.invoke(t,null,{$delegate:e})}}}},p=h.$injector=u(h,function(e,t){throw Ei.isString(t)&&d.push(t),pr("unpr",d.join(" <- "))}),m={},v=u(m,function(e,t){var n=p.get(e+"Provider",t);return y.invoke(n.$get,n,void 0,e)}),y=v;h.$injectorProvider={$get:g(v)},y.modules=p.modules=fe();var x=l(e),y=v.get("$injector");return y.strictDi=t,o(x,function(e){e&&y.invoke(e)}),y.loadNewModules=function(e){o(l(e),function(e){e&&y.invoke(e)})},y}function Je(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(t,n,i){function r(e){var t=null;return Array.prototype.some.call(e,function(e){if("a"===I(e))return t=e,!0}),t}function o(e){if(e){e.scrollIntoView();var n;n=a.yOffset,$(n)?n=n():N(n)?(n=n[0],n="fixed"!==t.getComputedStyle(n).position?0:n.getBoundingClientRect().bottom):_(n)||(n=0),n&&(e=e.getBoundingClientRect().top,t.scrollBy(0,e-n))}else t.scrollTo(0,0)}function a(e){e=C(e)?e:_(e)?e.toString():n.hash();var t;e?(t=s.getElementById(e))?o(t):(t=r(s.getElementsByName(e)))?o(t):"top"===e&&o(null):o(null)}var s=t.document;return e&&i.$watch(function(){return n.hash()},function(e,t){e===t&&""===e||Fe(function(){i.$evalAsync(a)})}),a}]}function Ze(e,t){return e||t?e?t?(S(e)&&(e=e.join(" ")),S(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Qe(e){C(e)&&(e=e.split(" "));var t=fe();return o(e,function(e){e.length&&(t[e]=!0)}),t}function et(e){return w(e)?e:{}}function tt(e,t,n,i,r){function a(){C=null,l()}function s(){v=_(),v=b(v)?null:v,F(v,D)&&(v=D),y=D=v}function l(){var e=y;s(),w===u.url()&&e===v||(w=u.url(),y=v,o(k,function(e){e(u.url(),v)}))}var u=this,c=e.location,d=e.history,f=e.setTimeout,h=e.clearTimeout,m={},g=r(n);u.isMock=!1,u.$$completeOutstandingRequest=g.completeTask,u.$$incOutstandingRequestCount=g.incTaskCount,u.notifyWhenNoOutstandingRequests=g.notifyWhenNoPendingTasks;var v,y,w=c.href,x=t.find("base"),C=null,_=i.history?function(){try{return d.state}catch(e){}}:p;s(),u.url=function(t,n,r){if(b(r)&&(r=null),c!==e.location&&(c=e.location),d!==e.history&&(d=e.history),t){var o=y===r;if(t=vn(t).href,w===t&&(!i.history||o))return u;var a=w&&Nt(w)===Nt(t);return w=t,y=r,!i.history||a&&o?(a||(C=t),n?c.replace(t):a?(n=c,r=t,o=r.indexOf("#"),r=-1===o?"":r.substr(o),n.hash=r):c.href=t,c.href!==t&&(C=t)):(d[n?"replaceState":"pushState"](r,"",t),s()),C&&(C=t),u}return(C||c.href).replace(/#$/,"")},u.state=function(){return v};var k=[],S=!1,D=null;u.onUrlChange=function(t){return S||(i.history&&mi(e).on("popstate",a),mi(e).on("hashchange",a),S=!0),k.push(t),t},u.$$applicationDestroyed=function(){mi(e).off("hashchange popstate",a)},u.$$checkUrlChange=l,u.baseHref=function(){var e=x.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},u.defer=function(e,t,n){var i;return t=t||0,n=n||g.DEFAULT_TASK_TYPE,g.incTaskCount(n),i=f(function(){delete m[i],g.completeTask(e,n)},t),m[i]=n,i},u.defer.cancel=function(e){if(m.hasOwnProperty(e)){var t=m[e];return delete m[e],h(e),g.completeTask(p,t),!0}return!1}}function nt(){this.$get=["$window","$log","$sniffer","$document","$$taskTrackerFactory",function(e,t,n,i,r){return new tt(e,i,t,n,r)}]}function it(){this.$get=function(){function e(e,n){function r(e){e!==f&&(h?h===e&&(h=e.n):h=e,o(e.n,e.p),o(e,f),f=e,f.n=null)}function o(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}if(e in t)throw i("$cacheFactory")("iid",e);var a=0,s=c({},n,{id:e}),l=fe(),u=n&&n.capacity||Number.MAX_VALUE,d=fe(),f=null,h=null;return t[e]={put:function(e,t){if(!b(t)){if(u<Number.MAX_VALUE){var n=d[e]||(d[e]={key:e});r(n)}return e in l||a++,l[e]=t,a>u&&this.remove(h.key),t}},get:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;r(t)}return l[e]},remove:function(e){if(u<Number.MAX_VALUE){var t=d[e];if(!t)return;t===f&&(f=t.p),t===h&&(h=t.n),o(t.n,t.p),delete d[e]}e in l&&(delete l[e],a--)},removeAll:function(){l=fe(),a=0,d=fe(),f=h=null},destroy:function(){d=s=l=null,delete t[e]},info:function(){return c({},s,{size:a})}}}var t={};return e.info=function(){var e={};return o(t,function(t,n){e[n]=t.info()}),e},e.get=function(e){return t[e]},e}}function rt(){this.$get=["$cacheFactory",function(e){return e("templates")}]}function ot(t,n){function i(e,t,n){var i=/^([@&]|[=<](\*?))(\??)\s*([\w$]*)$/,r=fe();return o(e,function(e,o){if(e=e.trim(),e in _)r[o]=_[e];else{var a=e.match(i);if(!a)throw Cr("iscp",t,o,e,n?"controller bindings definition":"isolate scope definition");r[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o},a[4]&&(_[e]=r[o])}}),r}function r(e){var t=e.charAt(0);if(!t||t!==xi(t))throw Cr("baddir",e);if(e!==e.trim())throw Cr("baddir",e)}function a(e){var t=e.require||e.controller&&e.name;return!S(t)&&w(t)&&o(t,function(e,n){var i=e.match(v);e.substring(i[0].length)||(t[n]=i[0]+n)}),t}var l={},u=/^\s*directive:\s*([\w-]+)\s+(.*)$/,d=/(([\w-]+)(?::([^;]+))?;?)/,f=P("ngSrc,ngSrcset,src,srcset"),v=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,x=/^(on[a-z]+|formaction)$/,_=fe();this.directive=function H(e,n){return se(e,"name"),ue(e,"directive"),C(e)?(r(e),se(n,"directiveFactory"),l.hasOwnProperty(e)||(l[e]=[],t.factory(e+"Directive",["$injector","$exceptionHandler",function(t,n){var i=[];return o(l[e],function(r,o){try{var s=t.invoke(r);$(s)?s={compile:g(s)}:!s.compile&&s.link&&(s.compile=g(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=a(s);var l=s,u=s.restrict;if(u&&(!C(u)||!/[EACM]/.test(u)))throw Cr("badrestrict",u,e);l.restrict=u||"EA",s.$$moduleName=r.$$moduleName,i.push(s)}catch(c){n(c)}}),i}])),l[e].push(n)):o(e,s(H)),this},this.component=function V(e,t){function n(e){function n(t){return $(t)||S(t)?function(n,i){return e.invoke(t,this,{$element:n,$attrs:i})}:t}var r=t.template||t.templateUrl?t.template:"",a={controller:i,controllerAs:ct(t.controller)||t.controllerAs||"$ctrl",template:n(r),templateUrl:n(t.templateUrl),transclude:t.transclude,scope:{},bindToController:t.bindings||{},restrict:"E",require:t.require};return o(t,function(e,t){"$"===t.charAt(0)&&(a[t]=e)}),a}if(!C(e))return o(e,s(j(this,V))),this;var i=t.controller||function(){};return o(t,function(e,t){"$"===t.charAt(0)&&(n[t]=e,$(i)&&(i[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return y(e)?(n.aHrefSanitizationWhitelist(e),this):n.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(n.imgSrcSanitizationWhitelist(e),this):n.imgSrcSanitizationWhitelist()};var k=!0;this.debugInfoEnabled=function(e){return y(e)?(k=e,this):k};var T=!1;this.strictComponentBindingsEnabled=function(e){return y(e)?(T=e,this):T};var E=10;this.onChangesTtl=function(e){return arguments.length?(E=e,this):E};var M=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(M=e,this):M};var N=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(N=e,this):N};var L=fe();this.addPropertySecurityContext=function(e,t,n){var i=e.toLowerCase()+"|"+t.toLowerCase();if(i in L&&L[i]!==n)throw Cr("ctxoverride",e,t,L[i],n);return L[i]=n,this},function(){function e(e,t){o(t,function(t){L[t.toLowerCase()]=e})}e(Zr.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),e(Zr.CSS,["*|style"]),e(Zr.URL,"area|href area|ping a|href a|ping blockquote|cite body|background del|cite input|src ins|cite q|cite".split(" ")),e(Zr.MEDIA_URL,"audio|src img|src img|srcset source|src source|srcset track|src video|src video|poster".split(" ")),e(Zr.RESOURCE_URL,"*|formAction applet|code applet|codebase base|href embed|src frame|src form|action head|profile html|manifest iframe|src link|href media|src object|codebase object|data script|src".split(" "))}(),this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate",function(t,n,r,a,s,g,y,_,P){function H(){try{if(!--Ne)throw Te=void 0,Cr("infchng",E);y.$apply(function(){for(var e=0,t=Te.length;e<t;++e)try{Te[e]()}catch(n){r(n)}Te=void 0})}finally{Ne++}}function V(e,t){if(!e)return e;if(!C(e))throw Cr("srcset",t,e.toString());for(var n="",i=Ni(e),r=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,r=/\s/.test(i)?r:/(,)/,i=i.split(r),r=Math.floor(i.length/2),o=0;o<r;o++)var a=2*o,n=n+_.getTrustedMediaUrl(Ni(i[a])),n=n+(" "+Ni(i[a+1]));return i=Ni(i[2*o]).split(/\s/),n+=_.getTrustedMediaUrl(Ni(i[0])),2===i.length&&(n+=" "+Ni(i[1])),n}function z(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)r=o[n],this[r]=t[r]}else this.$attr={};this.$$element=e}function U(e,t,n){Ae.innerHTML="<span "+t+">",t=Ae.firstChild.attributes;var i=t[0];t.removeNamedItem(i.name),i.value=n,e.attributes.setNamedItem(i)}function W(e,t){try{e.addClass(t)}catch(n){}}function q(e,t,n,i,r){e instanceof mi||(e=mi(e));var o=Y(e,t,e,n,i,r);q.$$addScopeClass(e);var a=null;return function(t,n,i){if(!e)throw Cr("multilink");se(t,"scope"),r&&r.needsNewScope&&(t=t.$parent.$new()),i=i||{};var s=i.parentBoundTranscludeFn,l=i.transcludeControllers;if(i=i.futureParentElement,s&&s.$$boundTransclude&&(s=s.$$boundTransclude),a||(a=(i=i&&i[0])&&"foreignobject"!==I(i)&&Di.call(i).match(/SVG/)?"svg":"html"),i="html"!==a?mi(ge(a,mi("<div></div>").append(e).html())):n?nr.clone.call(e):e,l)for(var u in l)i.data("$"+u+"Controller",l[u].instance);return q.$$addScopeInfo(i,t),n&&n(i,t),o&&o(t,i,i,s),n||(e=o=null),i}}function Y(e,t,n,i,r,o){function a(e,n,i,r){var o,a,s,l,u,c,h;if(d)for(h=Array(n.length),l=0;l<f.length;l+=3)o=f[l],h[o]=n[o];else h=n;for(l=0,u=f.length;l<u;)a=h[f[l++]],n=f[l++],o=f[l++],n?(n.scope?(s=e.$new(),q.$$addScopeInfo(mi(a),s)):s=e,c=n.transcludeOnThisElement?X(e,n.transclude,r):!n.templateOnThisElement&&r?r:!r&&t?X(e,t):null,n(o,s,a,i,c)):o&&o(e,a.childNodes,void 0,r)}for(var s,l,u,c,d,f=[],h=S(e)||e instanceof mi,p=0;p<e.length;p++)s=new z,11===pi&&K(e,p,h),l=J(e[p],[],s,0===p?i:void 0,r),(o=l.length?ne(l,e[p],s,t,n,null,[],[],o):null)&&o.scope&&q.$$addScopeClass(s.$$element),s=o&&o.terminal||!(u=e[p].childNodes)||!u.length?null:Y(u,o?(o.transcludeOnThisElement||!o.templateOnThisElement)&&o.transclude:t),(o||s)&&(f.push(p,o,s),c=!0,d=d||o),o=null;return c?a:null}function K(e,t,n){var i,r=e[t],o=r.parentNode;if(r.nodeType===Vi)for(;i=o?r.nextSibling:e[t+1],i&&i.nodeType===Vi;)r.nodeValue+=i.nodeValue,i.parentNode&&i.parentNode.removeChild(i),n&&i===e[t+1]&&e.splice(t+1,1)}function X(e,t,n){function i(i,r,o,a,s){return i||(i=e.$new(!1,s),i.$$transcluded=!0),t(i,r,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})}var r,o=i.$$slots=fe();for(r in t.$$slots)o[r]=t.$$slots[r]?X(e,t.$$slots[r],n):null;return i}function J(e,t,n,i,o){var a,l=n.$attr;switch(e.nodeType){case 1:a=I(e),le(t,st(a),"E",i,o);for(var u,c,f,h,p,m=e.attributes,g=0,v=m&&m.length;g<v;g++){var b,x=!1,_=!1,k=!1,S=!1,D=!1;u=m[g],c=u.name,h=u.value,f=st(c.toLowerCase()),(p=f.match(Le))?(k="Attr"===p[1],S="Prop"===p[1],D="On"===p[1],c=c.replace(kr,"").toLowerCase().substr(4+p[1].length).replace(/_(.)/g,function(e,t){return t.toUpperCase()})):(b=f.match(Be))&&ue(b[1])&&(x=c,
_=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),S||D?(n[f]=h,l[f]=u.name,S?we(e,t,f,c):t.push(ai(s,y,r,f,c,!1))):(f=st(c.toLowerCase()),l[f]=c,!k&&n.hasOwnProperty(f)||(n[f]=h,je(e,f)&&(n[f]=!0)),xe(e,t,h,f,k),le(t,f,"A",i,o,x,_))}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!Me)break;if(l=e.className,w(l)&&(l=l.animVal),C(l)&&""!==l)for(;e=d.exec(l);)f=st(e[2]),le(t,f,"C",i,o)&&(n[f]=Ni(e[3])),l=l.substr(e.index+e[0].length);break;case Vi:me(t,e.nodeValue);break;case 8:if(!Oe)break;Z(e,t,n,i,o)}return t.sort(he),t}function Z(e,t,n,i,r){try{var o=u.exec(e.nodeValue);if(o){var a=st(o[1]);le(t,a,"M",i,r)&&(n[a]=Ni(o[2]))}}catch(s){}}function Q(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t)){do{if(!e)throw Cr("uterdir",t,n);1===e.nodeType&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r)}else i.push(e);return mi(i)}function ee(e,t,n){return function(i,r,o,a,s){return r=Q(r[0],t,n),e(i,r,o,a,s)}}function te(e,t,n,i,r,o){var a;return e?q(t,n,i,r,o):function(){return a||(a=q(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function ne(t,n,i,a,s,l,u,d,f){function h(e,t,n,i){e&&(n&&(e=ee(e,n,i)),e.require=m.require,e.directiveName=g,(D===m||m.$$isolateScope)&&(e=ke(e,{isolateScope:!0})),u.push(e)),t&&(n&&(t=ee(t,n,i)),t.require=m.require,t.directiveName=g,(D===m||m.$$isolateScope)&&(t=ke(t,{isolateScope:!0})),d.push(t))}function p(e,t,a,s,l){function f(e,t,n,i){var r;if(A(e)||(i=n,n=t,t=e,e=void 0),N&&(r=y),n||(n=N?C.parent():C),!i)return l(e,t,r,n,O);var o=l.$$slots[i];if(o)return o(e,t,r,n,O);if(b(o))throw Cr("noslot",i,G(C))}var h,p,m,g,v,y,x,C;n===a?(s=i,C=i.$$element):(C=mi(a),s=new z(C,i)),v=t,D?g=t.$new(!0):_&&(v=t.$parent),l&&(x=f,x.$$boundTransclude=l,x.isSlotFilled=function(e){return!!l.$$slots[e]}),k&&(y=re(C,s,x,k,g,t,D)),D&&(q.$$addScopeInfo(C,g,!0,!(T&&(T===D||T===D.$$originalDirective))),q.$$addScopeClass(C,!0),g.$$isolateBindings=D.$$isolateBindings,p=$e(t,s,g,g.$$isolateBindings,D),p.removeWatches&&g.$on("$destroy",p.removeWatches));for(h in y){p=k[h],m=y[h];var E=p.$$bindings.bindToController;m.instance=m(),C.data("$"+p.name+"Controller",m.instance),m.bindingInfo=$e(v,s,m.instance,E,p)}for(o(k,function(e,t){var n=e.require;e.bindToController&&!S(n)&&w(n)&&c(y[t].instance,ie(t,n,C,y))}),o(y,function(e){var t=e.instance;if($(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(n){r(n)}if($(t.$onInit))try{t.$onInit()}catch(i){r(i)}$(t.$doCheck)&&(v.$watch(function(){t.$doCheck()}),t.$doCheck()),$(t.$onDestroy)&&v.$on("$destroy",function(){t.$onDestroy()})}),h=0,p=u.length;h<p;h++)m=u[h],Se(m,m.isolateScope?g:t,C,s,m.require&&ie(m.directiveName,m.require,C,y),x);var O=t;for(D&&(D.template||null===D.templateUrl)&&(O=g),e&&e(O,a.childNodes,void 0,l),h=d.length-1;0<=h;h--)m=d[h],Se(m,m.isolateScope?g:t,C,s,m.require&&ie(m.directiveName,m.require,C,y),x);o(y,function(e){e=e.instance,$(e.$postLink)&&e.$postLink()})}f=f||{};for(var m,g,v,y,x,C=-Number.MAX_VALUE,_=f.newScopeDirective,k=f.controllerDirectives,D=f.newIsolateScopeDirective,T=f.templateDirective,E=f.nonTlbTranscludeDirective,O=!1,M=!1,N=f.hasElementTranscludeDirective,P=i.$$element=mi(n),R=a,L=!1,B=!1,F=0,H=t.length;F<H;F++){m=t[F];var V=m.$$start,U=m.$$end;if(V&&(P=Q(n,V,U)),v=void 0,C>m.priority)break;if((x=m.scope)&&(m.templateUrl||(w(x)?(pe("new/isolated scope",D||_,m,P),D=m):pe("new/isolated scope",D,m,P)),_=_||m),g=m.name,!L&&(m.replace&&(m.templateUrl||m.template)||m.transclude&&!m.$$tlb)){for(x=F+1;L=t[x++];)if(L.transclude&&!L.$$tlb||L.replace&&(L.templateUrl||L.template)){B=!0;break}L=!0}if(!m.templateUrl&&m.controller&&(k=k||fe(),pe("'"+g+"' controller",k[g],m,P),k[g]=m),x=m.transclude)if(O=!0,m.$$tlb||(pe("transclusion",E,m,P),E=m),"element"===x)N=!0,C=m.priority,v=P,P=i.$$element=mi(q.$$createComment(g,i[g])),n=P[0],Ce(s,_i.call(v,0),n),R=te(B,v,a,C,l&&l.name,{nonTlbTranscludeDirective:E});else{var W=fe();if(w(x)){v=e.document.createDocumentFragment();var Y=fe(),K=fe();o(x,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,Y[e]=t,W[t]=null,K[t]=n}),o(P.contents(),function(t){var n=Y[st(I(t))];n?(K[n]=!0,W[n]=W[n]||e.document.createDocumentFragment(),W[n].appendChild(t)):v.appendChild(t)}),o(K,function(e,t){if(!e)throw Cr("reqslot",t)});for(var X in W)W[X]&&(R=mi(W[X].childNodes),W[X]=te(B,R,a));v=mi(v.childNodes)}else v=mi(_e(n)).contents();P.empty(),R=te(B,v,a,void 0,void 0,{needsNewScope:m.$$isolateScope||m.$$newScope}),R.$$slots=W}if(m.template)if(M=!0,pe("template",T,m,P),T=m,x=$(m.template)?m.template(P,i):m.template,x=Re(x),m.replace){if(l=m,v=Ji.test(x)?ut(ge(m.templateNamespace,Ni(x))):[],n=v[0],1!==v.length||1!==n.nodeType)throw Cr("tplrt",g,"");Ce(s,P,n),H={$attr:{}},x=J(n,[],H);var Z=t.splice(F+1,t.length-(F+1));(D||_)&&ae(x,D,_),t=t.concat(x).concat(Z),ce(i,H),H=t.length}else P.html(x);if(m.templateUrl)M=!0,pe("template",T,m,P),T=m,m.replace&&(l=m),p=de(t.splice(F,t.length-F),P,i,s,O&&R,u,d,{controllerDirectives:k,newScopeDirective:_!==m&&_,newIsolateScopeDirective:D,templateDirective:T,nonTlbTranscludeDirective:E}),H=t.length;else if(m.compile)try{y=m.compile(P,i,R);var ne=m.$$originalDirective||m;$(y)?h(null,j(ne,y),V,U):y&&h(j(ne,y.pre),j(ne,y.post),V,U)}catch(oe){r(oe,G(P))}m.terminal&&(p.terminal=!0,C=Math.max(C,m.priority))}return p.scope=_&&!0===_.scope,p.transcludeOnThisElement=O,p.templateOnThisElement=M,p.transclude=R,f.hasElementTranscludeDirective=N,p}function ie(e,t,n,i){var r;if(C(t)){var a=t.match(v);t=t.substring(a[0].length);var s=a[1]||a[3],a="?"===a[2];if("^^"===s?n=n.parent():r=(r=i&&i[t])&&r.instance,!r){var l="$"+t+"Controller";r="^^"===s&&n[0]&&9===n[0].nodeType?null:s?n.inheritedData(l):n.data(l)}if(!r&&!a)throw Cr("ctreq",t,e)}else if(S(t))for(r=[],s=0,a=t.length;s<a;s++)r[s]=ie(e,t[s],n,i);else w(t)&&(r={},o(t,function(t,o){r[o]=ie(e,t,n,i)}));return r||null}function re(e,t,n,i,r,o,a){var s,l=fe();for(s in i){var u=i[s],c={$scope:u===a||u.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=u.controller;"@"===d&&(d=t[u.name]),c=g(d,c,!0,u.controllerAs),l[u.name]=c,e.data("$"+u.name+"Controller",c.instance)}return l}function ae(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=h(e[i],{$$isolateScope:t,$$newScope:n})}function le(e,n,r,o,a,s,u){if(n===a)return null;var c=null;if(l.hasOwnProperty(n)){a=t.get(n+"Directive");for(var d=0,f=a.length;d<f;d++)if(n=a[d],(b(o)||o>n.priority)&&-1!==n.restrict.indexOf(r)){if(s&&(n=h(n,{$$start:s,$$end:u})),!n.$$bindings){var p=c=n,m=n.name,g={isolateScope:null,bindToController:null};if(w(p.scope)&&(!0===p.bindToController?(g.bindToController=i(p.scope,m,!0),g.isolateScope={}):g.isolateScope=i(p.scope,m,!1)),w(p.bindToController)&&(g.bindToController=i(p.bindToController,m,!0)),g.bindToController&&!p.controller)throw Cr("noctrl",m);c=c.$$bindings=g,w(c.isolateScope)&&(n.$$isolateBindings=c.isolateScope)}e.push(n),c=n}}return c}function ue(e){if(l.hasOwnProperty(e))for(var n=t.get(e+"Directive"),i=0,r=n.length;i<r;i++)if(e=n[i],e.multiElement)return!0;return!1}function ce(e,t){var n=t.$attr,i=e.$attr;o(e,function(i,r){"$"!==r.charAt(0)&&(t[r]&&t[r]!==i&&(i=i.length?i+(("style"===r?";":" ")+t[r]):t[r]),e.$set(r,i,!0,n[r]))}),o(t,function(t,r){e.hasOwnProperty(r)||"$"===r.charAt(0)||(e[r]=t,"class"!==r&&"style"!==r&&(i[r]=n[r]))})}function de(e,t,n,i,s,l,u,c){var d,f,p=[],m=t[0],g=e.shift(),v=h(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),b=$(g.templateUrl)?g.templateUrl(t,n):g.templateUrl,y=g.templateNamespace;return t.empty(),a(b).then(function(r){var a,h;if(r=Re(r),g.replace){if(r=Ji.test(r)?ut(ge(y,Ni(r))):[],a=r[0],1!==r.length||1!==a.nodeType)throw Cr("tplrt",g.name,b);r={$attr:{}},Ce(i,t,a);var x=J(a,[],r);w(g.scope)&&ae(x,!0),e=x.concat(e),ce(n,r)}else a=m,t.html(r);for(e.unshift(v),d=ne(e,a,n,s,t,g,l,u,c),o(i,function(e,n){e===a&&(i[n]=t[0])}),f=Y(t[0].childNodes,s);p.length;){r=p.shift(),h=p.shift();var C=p.shift(),_=p.shift(),x=t[0];if(!r.$$destroyed){if(h!==m){var k=h.className;c.hasElementTranscludeDirective&&g.replace||(x=_e(a)),Ce(C,mi(h),x),W(mi(x),k)}h=d.transcludeOnThisElement?X(r,d.transclude,_):_,d(f,r,x,i,h)}}p=null})["catch"](function(e){D(e)&&r(e)}),function(e,t,n,i,r){e=r,t.$$destroyed||(p?p.push(t,n,i,e):(d.transcludeOnThisElement&&(e=X(t,d.transclude,r)),d(f,t,n,i,e)))}}function he(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function pe(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw Cr("multidir",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,G(i))}function me(e,t){var i=n(t,!0);i&&e.push({priority:0,compile:function(e){e=e.parent();var t=!!e.length;return t&&q.$$addBindingClass(e),function(e,n){var r=n.parent();t||q.$$addBindingClass(r),q.$$addBindingInfo(r,i.expressions),e.$watch(i,function(e){n[0].nodeValue=e})}}})}function ge(t,n){switch(t=xi(t||"html")){case"svg":case"math":var i=e.document.createElement("div");return i.innerHTML="<"+t+">"+n+"</"+t+">",i.childNodes[0].childNodes;default:return n}}function ve(e,t){return"srcdoc"===t?_.HTML:"src"===t||"ngSrc"===t?-1===["img","video","audio","source","track"].indexOf(e)?_.RESOURCE_URL:_.MEDIA_URL:"xlinkHref"===t?"image"===e?_.MEDIA_URL:"a"===e?_.URL:_.RESOURCE_URL:"form"===e&&"action"===t||"base"===e&&"href"===t||"link"===e&&"href"===t?_.RESOURCE_URL:"a"!==e||"href"!==t&&"ngHref"!==t?void 0:_.URL}function be(e,t){var n=t.toLowerCase();return L[e+"|"+n]||L["*|"+n]}function ye(e){return V(_.valueOf(e),"ng-prop-srcset")}function we(e,t,n,i){if(x.test(i))throw Cr("nodomevents");e=I(e);var r=be(e,i),o=m;"srcset"!==i||"img"!==e&&"source"!==e?r&&(o=_.getTrusted.bind(_,r)):o=ye,t.push({priority:100,compile:function(e,t){var r=s(t[n]),a=s(t[n],function(e){return _.valueOf(e)});return{pre:function(e,t){function n(){var n=r(e);t[0][i]=o(n)}n(),e.$watch(a,n)}}}})}function xe(e,t,i,r,o){var a=I(e),s=ve(a,r),l=f[r]||o,u=n(i,!o,s,l);if(u){if("multiple"===r&&"select"===a)throw Cr("selmulti",G(e));if(x.test(r))throw Cr("nodomevents");t.push({priority:100,compile:function(){return{pre:function(e,t,o){t=o.$$observers||(o.$$observers=fe());var a=o[r];a!==i&&(u=a&&n(a,!0,s,l),i=a),u&&(o[r]=u(e),(t[r]||(t[r]=[])).$$inter=!0,(o.$$observers&&o.$$observers[r].$$scope||e).$watch(u,function(e,t){"class"===r&&e!==t?o.$updateClass(e,t):o.$set(r,e)}))}}}})}}function Ce(t,n,i){var r,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(r=0,o=t.length;r<o;r++)if(t[r]===a){t[r++]=i,o=r+s-1;for(var u=t.length;r<u;r++,o++)o<u?t[r]=t[o]:delete t[r];t.length-=s-1,t.context===a&&(t.context=i);break}for(l&&l.replaceChild(i,a),t=e.document.createDocumentFragment(),r=0;r<s;r++)t.appendChild(n[r]);for(mi.hasData(a)&&(mi.data(i,mi.data(a)),mi(a).off("$destroy")),mi.cleanData(t.querySelectorAll("*")),r=1;r<s;r++)delete n[r];n[0]=i,n.length=1}function ke(e,t){return c(function(){return e.apply(null,arguments)},e,t)}function Se(e,t,n,i,o,a){try{e(t,n,i,o,a)}catch(s){r(s,G(n))}}function De(e,t){if(T)throw Cr("missingattr",e,t)}function $e(e,t,i,r,a){function l(t,n,r){$(i.$onChanges)&&!B(n,r)&&(Te||(e.$$postDigest(H),Te=[]),c||(c={},Te.push(u)),c[t]&&(r=c[t].previousValue),c[t]=new at(r,n))}function u(){i.$onChanges(c),c=void 0}var c,d=[],f={};return o(r,function(r,o){var u,c,h,m,g=r.attrName,v=r.optional;switch(r.mode){case"@":v||wi.call(t,g)||(De(g,a.name),i[o]=t[g]=void 0),v=t.$observe(g,function(e){(C(e)||O(e))&&(l(o,e,i[o]),i[o]=e)}),t.$$observers[g].$$scope=e,u=t[g],C(u)?i[o]=n(u)(e):O(u)&&(i[o]=u),f[o]=new at(_r,i[o]),d.push(v);break;case"=":if(!wi.call(t,g)){if(v)break;De(g,a.name),t[g]=void 0}if(v&&!t[g])break;c=s(t[g]),m=c.literal?F:B,h=c.assign||function(){throw u=i[o]=c(e),Cr("nonassign",t[g],g,a.name)},u=i[o]=c(e),v=function(t){return m(t,i[o])||(m(t,u)?h(e,t=i[o]):i[o]=t),u=t},v.$stateful=!0,v=r.collection?e.$watchCollection(t[g],v):e.$watch(s(t[g],v),null,c.literal),d.push(v);break;case"<":if(!wi.call(t,g)){if(v)break;De(g,a.name),t[g]=void 0}if(v&&!t[g])break;c=s(t[g]);var b=c.literal,y=i[o]=c(e);f[o]=new at(_r,i[o]),v=e[r.collection?"$watchCollection":"$watch"](c,function(e,t){if(t===e){if(t===y||b&&F(t,y))return;t=y}l(o,e,t),i[o]=e}),d.push(v);break;case"&":if(v||wi.call(t,g)||De(g,a.name),c=t.hasOwnProperty(g)?s(t[g]):p,c===p&&v)break;i[o]=function(t){return c(e,t)}}}),{initialChanges:f,removeWatches:d.length&&function(){for(var e=0,t=d.length;e<t;++e)d[e]()}}}var Te,Ee=/^\w/,Ae=e.document.createElement("div"),Oe=M,Me=N,Ne=E;z.prototype={$normalize:st,$addClass:function(e){e&&0<e.length&&P.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&P.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=lt(e,t);n&&n.length&&P.addClass(this.$$element,n),(n=lt(t,e))&&n.length&&P.removeClass(this.$$element,n)},$set:function(e,t,n,i){var a=je(this.$$element[0],e),s=or[e],l=e;a?(this.$$element.prop(e,t),i=a):s&&(this[s]=t,l=s),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=oe(e,"-")),"img"===I(this.$$element)&&"srcset"===e&&(this[e]=t=V(t,"$set('srcset', value)")),!1!==n&&(null===t||b(t)?this.$$element.removeAttr(i):Ee.test(i)?a&&!1===t?this.$$element.removeAttr(i):this.$$element.attr(i,t):U(this.$$element[0],i,t)),(e=this.$$observers)&&o(e[l],function(e){try{e(t)}catch(n){r(n)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=fe()),r=i[e]||(i[e]=[]);return r.push(t),y.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||b(n[e])||t(n[e])}),function(){R(r,t)}}};var Pe=n.startSymbol(),Ie=n.endSymbol(),Re="{{"===Pe&&"}}"===Ie?m:function(e){return e.replace(/\{\{/g,Pe).replace(/}}/g,Ie)},Le=/^ng(Attr|Prop|On)([A-Z].*)$/,Be=/^(.+)Start$/;return q.$$addBindingInfo=k?function(e,t){var n=e.data("$binding")||[];S(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:p,q.$$addBindingClass=k?function(e){W(e,"ng-binding")}:p,q.$$addScopeInfo=k?function(e,t,n,i){e.data(n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope",t)}:p,q.$$addScopeClass=k?function(e,t){W(e,t?"ng-isolate-scope":"ng-scope")}:p,q.$$createComment=function(t,n){var i="";return k&&(i=" "+(t||"")+": ",n&&(i+=n+" ")),e.document.createComment(i)},q}]}function at(e,t){this.previousValue=e,this.currentValue=t}function st(e){return e.replace(kr,"").replace(Sr,function(e,t,n){return n?t.toUpperCase():t})}function lt(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/),o=0;e:for(;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function ut(e){e=mi(e);var t=e.length;if(1>=t)return e;for(;t--;){var n=e[t];(8===n.nodeType||n.nodeType===Vi&&""===n.nodeValue.trim())&&ki.call(e,t,1)}return e}function ct(e,t){if(t&&C(t))return t;if(C(e)){var n=$r.exec(e);if(n)return n[3]}}function dt(){var e={};this.has=function(t){return e.hasOwnProperty(t)},this.register=function(t,n){ue(t,"controller"),w(t)?c(e,t):e[t]=n},this.$get=["$injector",function(t){function n(e,t,n,r){if(!e||!w(e.$scope))throw i("$controller")("noscp",r,t);e.$scope[t]=n}return function(i,r,o,a){var s,l,u;if(o=!0===o,a&&C(a)&&(u=a),C(i)){if(a=i.match($r),!a)throw Dr("ctrlfmt",i);if(l=a[1],u=u||a[3],i=e.hasOwnProperty(l)?e[l]:ce(r.$scope,l,!0),!i)throw Dr("ctrlreg",l);le(i,l,!0)}return o?(o=(S(i)?i[i.length-1]:i).prototype,s=Object.create(o||null),u&&n(r,u,s,l||i.name),c(function(){var e=t.invoke(i,s,r,l);return e!==s&&(w(e)||$(e))&&(s=e,u&&n(r,u,s,l||i.name)),s},{instance:s,identifier:u})):(s=t.instantiate(i,r,l),u&&n(r,u,s,l||i.name),s)}}]}function ft(){this.$get=["$window",function(e){return mi(e.document)}]}function ht(){this.$get=["$document","$rootScope",function(e,t){function n(){r=i.hidden}var i=e[0],r=i&&i.hidden;return e.on("visibilitychange",n),t.$on("$destroy",function(){e.off("visibilitychange",n)}),function(){return r}}]}function pt(){this.$get=["$log",function(e){return function(t,n){e.error.apply(e,arguments)}}]}function mt(e){return w(e)?k(e)?e.toISOString():z(e):e}function gt(){this.$get=function(){return function(e){if(!e)return"";var t=[];return a(e,function(e,n){null===e||b(e)||$(e)||(S(e)?o(e,function(e){t.push(Q(n)+"="+Q(mt(e)))}):t.push(Q(n)+"="+Q(mt(e))))}),t.join("&")}}}function vt(){this.$get=function(){return function(e){function t(e,i,r){S(e)?o(e,function(e,n){t(e,i+"["+(w(e)?n:"")+"]")}):w(e)&&!k(e)?a(e,function(e,n){t(e,i+(r?"":"[")+n+(r?"":"]"))}):($(e)&&(e=e()),n.push(Q(i)+"="+(null==e?"":Q(mt(e)))))}if(!e)return"";var n=[];return t(e,"",!0),n.join("&")}}}function bt(e,t){if(C(e)){var n=e.replace(Nr,"").trim();if(n){var i,r=t("Content-Type"),r=r&&0===r.indexOf(Er);if((i=r)||(i=(i=n.match(Or))&&Mr[i[0]].test(n)),i)try{e=U(n)}catch(o){if(!r)return e;throw Pr("baddata",e,o)}}}return e}function yt(e){var t,n=fe();return C(e)?o(e.split("\n"),function(e){t=e.indexOf(":");var i=xi(Ni(e.substr(0,t)));e=Ni(e.substr(t+1)),i&&(n[i]=n[i]?n[i]+", "+e:e)}):w(e)&&o(e,function(e,t){var i=xi(t),r=Ni(e);i&&(n[i]=n[i]?n[i]+", "+r:r)}),n}function wt(e){var t;return function(n){return t||(t=yt(e)),n?(n=t[xi(n)],void 0===n&&(n=null),n):t}}function xt(e,t,n,i){return $(i)?i(e,t,n):(o(i,function(i){e=i(e,t,n)}),e)}function Ct(){var e=this.defaults={transformResponse:[bt],transformRequest:[function(e){return w(e)&&"[object File]"!==Di.call(e)&&"[object Blob]"!==Di.call(e)&&"[object FormData]"!==Di.call(e)?z(e):e}],headers:{common:{Accept:"application/json, text/plain, */*"},post:me(Ar),put:me(Ar),patch:me(Ar)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer",jsonpCallbackParam:"callback"},t=!1;this.useApplyAsync=function(e){return y(e)?(t=!!e,this):t};var n=this.interceptors=[],r=this.xsrfWhitelistedOrigins=[];this.$get=["$browser","$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector","$sce",function(a,s,l,u,d,f,h,m){function g(t){function n(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function r(e,t){var n,i={};return o(e,function(e,r){$(e)?(n=e(t),null!=n&&(i[r]=n)):i[r]=e}),i}function s(e){var t=c({},e);return t.data=xt(e.data,e.headers,e.status,l.transformResponse),e=e.status,200<=e&&300>e?t:f.reject(t)}if(!w(t))throw i("$http")("badreq",t);if(!C(m.valueOf(t.url)))throw i("$http")("badreq",t.url);var l=c({method:"get",transformRequest:e.transformRequest,transformResponse:e.transformResponse,paramSerializer:e.paramSerializer,jsonpCallbackParam:e.jsonpCallbackParam},t);l.headers=function(t){var n,i,o,a=e.headers,s=c({},t.headers),a=c({},a.common,a[xi(t.method)]);e:for(n in a){i=xi(n);for(o in s)if(xi(o)===i)continue e;s[n]=a[n]}return r(s,me(t))}(t),l.method=Ci(l.method),l.paramSerializer=C(l.paramSerializer)?h.get(l.paramSerializer):l.paramSerializer,a.$$incOutstandingRequestCount("$http");var u=[],d=[];return t=f.resolve(l),o(D,function(e){(e.request||e.requestError)&&u.unshift(e.request,e.requestError),(e.response||e.responseError)&&d.push(e.response,e.responseError)}),t=n(t,u),t=t.then(function(t){var n=t.headers,i=xt(t.data,wt(n),void 0,t.transformRequest);return b(i)&&o(n,function(e,t){"content-type"===xi(t)&&delete n[t]}),b(t.withCredentials)&&!b(e.withCredentials)&&(t.withCredentials=e.withCredentials),v(t,i).then(s,s)}),t=n(t,d),t=t["finally"](function(){a.$$completeOutstandingRequest(p,"$http")})}function v(n,i){function r(e){if(e){var n={};return o(e,function(e,i){n[i]=function(n){function i(){e(n)}t?d.$applyAsync(i):d.$$phase?i():d.$apply(i)}}),n}}function a(e,n,i,r,o){function a(){u(n,e,i,r,o)}p&&(200<=e&&300>e?p.put(M,[e,n,yt(i),r,o]):p.remove(M)),t?d.$applyAsync(a):(a(),d.$$phase||d.$apply())}function u(e,t,i,r,o){t=-1<=t?t:0,(200<=t&&300>t?D.resolve:D.reject)({data:e,status:t,headers:wt(i),config:n,statusText:r,xhrStatus:o})}function c(e){u(e.data,e.status,me(e.headers()),e.statusText,e.xhrStatus)}function h(){var e=g.pendingRequests.indexOf(n);-1!==e&&g.pendingRequests.splice(e,1)}var p,v,D=f.defer(),E=D.promise,A=n.headers,O="jsonp"===xi(n.method),M=n.url;return O?M=m.getTrustedResourceUrl(M):C(M)||(M=m.valueOf(M)),M=x(M,n.paramSerializer(n.params)),O&&(M=_(M,n.jsonpCallbackParam)),g.pendingRequests.push(n),E.then(h,h),!n.cache&&!e.cache||!1===n.cache||"GET"!==n.method&&"JSONP"!==n.method||(p=w(n.cache)?n.cache:w(e.cache)?e.cache:k),p&&(v=p.get(M),y(v)?v&&$(v.then)?v.then(c,c):S(v)?u(v[1],v[0],me(v[2]),v[3],v[4]):u(v,200,{},"OK","complete"):p.put(M,E)),b(v)&&((v=T(n.url)?l()[n.xsrfCookieName||e.xsrfCookieName]:void 0)&&(A[n.xsrfHeaderName||e.xsrfHeaderName]=v),s(n.method,M,i,a,A,n.timeout,n.withCredentials,n.responseType,r(n.eventHandlers),r(n.uploadEventHandlers))),E}function x(e,t){return 0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t),e}function _(e,t){var n=e.split("?");if(2<n.length)throw Pr("badjsonp",e);return n=X(n[1]),o(n,function(n,i){if("JSON_CALLBACK"===n)throw Pr("badjsonp",e);if(i===t)throw Pr("badjsonp",t,e)}),e+=(-1===e.indexOf("?")?"?":"&")+t+"=JSON_CALLBACK"}var k=u("$http");e.paramSerializer=C(e.paramSerializer)?h.get(e.paramSerializer):e.paramSerializer;var D=[];o(n,function(e){D.unshift(C(e)?h.get(e):h.invoke(e))});var T=bn(r);return g.pendingRequests=[],function(e){o(arguments,function(e){g[e]=function(t,n){return g(c({},n||{},{method:e,url:t}))}})}("get","delete","head","jsonp"),function(e){o(arguments,function(e){g[e]=function(t,n,i){return g(c({},i||{},{method:e,url:t,data:n}))}})}("post","put","patch"),g.defaults=e,g}]}function _t(){this.$get=function(){return function(){return new e.XMLHttpRequest}}}function kt(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return St(e,i,e.defer,t,n[0])}]}function St(e,t,n,i,r){function a(e,t,n){e=e.replace("JSON_CALLBACK",t);var o=r.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,a=function(e){o.removeEventListener("load",a),o.removeEventListener("error",a),r.body.removeChild(o),o=null;var s=-1,l="unknown";e&&("load"!==e.type||i.wasCalled(t)||(e={type:"error"}),l=e.type,s="error"===e.type?404:200),n&&n(s,l)},o.addEventListener("load",a),o.addEventListener("error",a),r.body.appendChild(o),a}return function(r,s,l,u,c,d,f,h,p,m){function g(e){_="timeout"===e,x&&x(),C&&C.abort()}function v(e,t,i,r,o,a){y(S)&&n.cancel(S),x=C=null,e(t,i,r,o,a)}if(s=s||e.url(),"jsonp"===xi(r))var w=i.createCallback(s),x=a(s,w,function(e,t){var n=200===e&&i.getResponse(w);v(u,e,n,"",t,"complete"),i.removeCallback(w)});else{var C=t(r,s),_=!1;if(C.open(r,s,!0),o(c,function(e,t){y(e)&&C.setRequestHeader(t,e)}),C.onload=function(){var e=C.statusText||"",t="response"in C?C.response:C.responseText,n=1223===C.status?204:C.status;0===n&&(n=t?200:"file"===vn(s).protocol?404:0),v(u,n,t,C.getAllResponseHeaders(),e,"complete")},C.onerror=function(){v(u,-1,null,null,"","error")},C.ontimeout=function(){v(u,-1,null,null,"","timeout")},C.onabort=function(){v(u,-1,null,null,"",_?"timeout":"abort")},o(p,function(e,t){C.addEventListener(t,e)}),o(m,function(e,t){C.upload.addEventListener(t,e)}),f&&(C.withCredentials=!0),h)try{C.responseType=h}catch(k){if("json"!==h)throw k}C.send(b(l)?null:l)}if(0<d)var S=n(function(){g("timeout")},d);else d&&$(d.then)&&d.then(function(){g(y(d.$$timeoutId)?"timeout":"abort")})}}function Dt(){var e="{{",t="}}";this.startSymbol=function(t){return t?(e=t,this):e},this.endSymbol=function(e){return e?(t=e,this):t},this.$get=["$parse","$exceptionHandler","$sce",function(n,i,r){function o(e){return"\\\\\\"+e}function a(n){return n.replace(f,e).replace(h,t)}function s(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function l(o,l,f,h){function p(e){try{return e=f&&!m?r.getTrusted(f,e):r.valueOf(e),h&&!y(e)?e:he(e)}catch(t){i(Ir.interr(o,t))}}var m=f===r.URL||f===r.MEDIA_URL;if(!o.length||-1===o.indexOf(e)){if(l)return;return l=a(o),m&&(l=r.getTrusted(f,l)),l=g(l),l.exp=o,l.expressions=[],l.$$watchDelegate=s,l}h=!!h;for(var v,w,x,C,_=0,k=[],S=o.length,D=[],$=[];_<S;){if(-1===(v=o.indexOf(e,_))||-1===(w=o.indexOf(t,v+u))){_!==S&&D.push(a(o.substring(_)));break}_!==v&&D.push(a(o.substring(_,v))),_=o.substring(v+u,w),k.push(_),_=w+d,$.push(D.length),D.push("")}C=1===D.length&&1===$.length;var T=m&&C?void 0:p;if(x=k.map(function(e){return n(e,T)}),!l||k.length){var E=function(e){for(var t=0,n=k.length;t<n;t++){if(h&&b(e[t]))return;D[$[t]]=e[t]}return m?r.getTrusted(f,C?D[0]:D.join("")):(f&&1<D.length&&Ir.throwNoconcat(o),D.join(""))};return c(function(e){var t=0,n=k.length,r=Array(n);try{for(;t<n;t++)r[t]=x[t](e);return E(r)}catch(a){i(Ir.interr(o,a))}},{exp:o,expressions:k,$$watchDelegate:function(e,t){var n;return e.$watchGroup(x,function(i,r){var o=E(i);t.call(this,o,i!==r?n:o,e),n=o})}})}}var u=e.length,d=t.length,f=new RegExp(e.replace(/./g,o),"g"),h=new RegExp(t.replace(/./g,o),"g");return l.startSymbol=function(){return e},l.endSymbol=function(){return t},l}]}function $t(){this.$get=["$$intervalFactory","$window",function(e,t){var n={},i=function(e){t.clearInterval(e),delete n[e]},r=e(function(e,i,r){return e=t.setInterval(e,i),n[e]=r,e},i);return r.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$intervalId"))throw Rr("badprom");if(!n.hasOwnProperty(e.$$intervalId))return!1;e=e.$$intervalId;var t=n[e],r=t.promise;return r.$$state&&(r.$$state.pur=!0),t.reject("canceled"),i(e),!0},r}]}function Tt(){this.$get=["$browser","$q","$$q","$rootScope",function(e,t,n,i){return function(r,o){return function(a,s,l,u){function c(){d?a.apply(null,f):a(h)}var d=4<arguments.length,f=d?_i.call(arguments,4):[],h=0,p=y(u)&&!u,m=(p?n:t).defer(),g=m.promise;return l=y(l)?l:0,g.$$intervalId=r(function(){p?e.defer(c):i.$evalAsync(c),m.notify(h++),0<l&&h>=l&&(m.resolve(h),o(g.$$intervalId)),p||i.$apply()},s,m,p),g}}}]}function Et(e,t){var n=vn(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=f(n.port)||Fr[n.protocol]||null}function At(e,t,n){if(jr.test(e))throw Hr("badpath",e);var i="/"!==e.charAt(0);i&&(e="/"+e),e=vn(e);for(var i=(i&&"/"===e.pathname.charAt(0)?e.pathname.substring(1):e.pathname).split("/"),r=i.length;r--;)i[r]=decodeURIComponent(i[r]),n&&(i[r]=i[r].replace(/\//g,"%2F"));n=i.join("/"),t.$$path=n,t.$$search=X(e.search),t.$$hash=decodeURIComponent(e.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Ot(e,t){return e.slice(0,t.length)===t}function Mt(e,t){if(Ot(t,e))return t.substr(e.length)}function Nt(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Pt(e,t,n){this.$$html5=!0,n=n||"",Et(e,this),this.$$parse=function(e){var n=Mt(t,e);if(!C(n))throw Hr("ipthprfx",e,t);At(n,this,!0),this.$$path||(this.$$path="/"),this.$$compose()},this.$$normalizeUrl=function(e){return t+e.substr(1)},this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return y(o=Mt(e,i))?(a=o,a=n&&y(o=Mt(n,o))?t+(Mt("/",o)||o):e+a):y(o=Mt(t,i))?a=t+o:t===i+"/"&&(a=t),a&&this.$$parse(a),!!a}}function It(e,t,n){Et(e,this),this.$$parse=function(i){var r,o=Mt(e,i)||Mt(t,i);b(o)||"#"!==o.charAt(0)?this.$$html5?r=o:(r="",b(o)&&(e=i,this.replace())):(r=Mt(n,o),b(r)&&(r=o)),At(r,this,!1),i=this.$$path;var o=e,a=/^\/[A-Z]:(\/.*)/;Ot(r,o)&&(r=r.replace(o,"")),a.exec(r)||(i=(r=a.exec(i))?r[1]:i),this.$$path=i,this.$$compose()},this.$$normalizeUrl=function(t){return e+(t?n+t:"")},this.$$parseLinkUrl=function(t,n){return Nt(e)===Nt(t)&&(this.$$parse(t),!0)}}function Rt(e,t,n){this.$$html5=!0,It.apply(this,arguments),this.$$parseLinkUrl=function(i,r){if(r&&"#"===r[0])return this.hash(r.slice(1)),!0;var o,a;return e===Nt(i)?o=i:(a=Mt(t,i))?o=e+n+a:t===i+"/"&&(o=t),o&&this.$$parse(o),!!o},this.$$normalizeUrl=function(t){return e+n+t}}function Lt(e){return function(){return this[e]}}function Bt(e,t){return function(n){return b(n)?this[e]:(this[e]=t(n),this.$$compose(),this)}}function Ft(){var e="!",t={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(t){return y(t)?(e=t,this):e},this.html5Mode=function(e){return O(e)?(t.enabled=e,this):w(e)?(O(e.enabled)&&(t.enabled=e.enabled),O(e.requireBase)&&(t.requireBase=e.requireBase),(O(e.rewriteLinks)||C(e.rewriteLinks))&&(t.rewriteLinks=e.rewriteLinks),this):t},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,i,r,o,a){function s(e,t){return e===t||vn(e).href===vn(t).href}function l(e,t,n){var r=c.url(),o=c.$$state;try{i.url(e,t,n),c.$$state=i.state()}catch(a){throw c.url(r),c.$$state=o,a}}function u(e,t){n.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}var c,d;d=i.baseHref();var f,h=i.url();if(t.enabled){if(!d&&t.requireBase)throw Hr("nobase");f=h.substring(0,h.indexOf("/",h.indexOf("//")+2))+(d||"/"),d=r.history?Pt:Rt}else f=Nt(h),d=It;var p=f.substr(0,Nt(f).lastIndexOf("/")+1);c=new d(f,p,"#"+e),c.$$parseLinkUrl(h,h),c.$$state=i.state();var m=/^\s*(javascript|mailto):/i;o.on("click",function(e){var r=t.rewriteLinks;if(r&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var a=mi(e.target);"a"!==I(a[0]);)if(a[0]===o[0]||!(a=a.parent())[0])return;if(!C(r)||!b(a.attr(r))){var r=a.prop("href"),s=a.attr("href")||a.attr("xlink:href");w(r)&&"[object SVGAnimatedString]"===r.toString()&&(r=vn(r.animVal).href),m.test(r)||!r||a.attr("target")||e.isDefaultPrevented()||!c.$$parseLinkUrl(r,s)||(e.preventDefault(),c.absUrl()!==i.url()&&n.$apply())}}}),c.absUrl()!==h&&i.url(c.absUrl(),!0);var g=!0;return i.onUrlChange(function(e,t){Ot(e,p)?(n.$evalAsync(function(){var i,r=c.absUrl(),o=c.$$state;c.$$parse(e),c.$$state=t,i=n.$broadcast("$locationChangeStart",e,r,t,o).defaultPrevented,c.absUrl()===e&&(i?(c.$$parse(r),c.$$state=o,l(r,!1,o)):(g=!1,u(r,o)))}),n.$$phase||n.$digest()):a.location.href=e}),n.$watch(function(){if(g||c.$$urlUpdatedByLocation){c.$$urlUpdatedByLocation=!1;var e=i.url(),t=c.absUrl(),o=i.state(),a=c.$$replace,d=!s(e,t)||c.$$html5&&r.history&&o!==c.$$state;(g||d)&&(g=!1,n.$evalAsync(function(){var t=c.absUrl(),i=n.$broadcast("$locationChangeStart",t,e,c.$$state,o).defaultPrevented;c.absUrl()===t&&(i?(c.$$parse(e),c.$$state=o):(d&&l(t,a,o===c.$$state?null:c.$$state),u(e,o)))}))}c.$$replace=!1}),c}]}function Ht(){var e=!0,t=this;this.debugEnabled=function(t){return y(t)?(e=t,this):e},this.$get=["$window",function(n){function i(e){return D(e)&&(e.stack&&a?e=e.message&&-1===e.stack.indexOf(e.message)?"Error: "+e.message+"\n"+e.stack:e.stack:e.sourceURL&&(e=e.message+"\n"+e.sourceURL+":"+e.line)),e}function r(e){var t=n.console||{},r=t[e]||t.log||p;return function(){var e=[];return o(arguments,function(t){e.push(i(t))}),Function.prototype.apply.call(r,t,e)}}var a=pi||/\bEdge\//.test(n.navigator&&n.navigator.userAgent);return{log:r("log"),info:r("info"),warn:r("warn"),error:r("error"),debug:function(){var n=r("debug");return function(){e&&n.apply(t,arguments)}}()}}]}function jt(e){return e+""}function Vt(e,t){return"undefined"!=typeof e?e:t}function zt(e,t){return"undefined"==typeof e?t:"undefined"==typeof t?e:e+t}function Ut(e,t){switch(e.type){case Gr.MemberExpression:if(e.computed)return!1;break;case Gr.UnaryExpression:return 1;case Gr.BinaryExpression:return"+"!==e.operator&&1;case Gr.CallExpression:return!1}return void 0===t?Kr:t}function Wt(e,t,n){var i,r,a=e.isPure=Ut(e,n);switch(e.type){case Gr.Program:i=!0,o(e.body,function(e){Wt(e.expression,t,a),i=i&&e.expression.constant}),e.constant=i;break;case Gr.Literal:e.constant=!0,e.toWatch=[];break;case Gr.UnaryExpression:Wt(e.argument,t,a),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case Gr.BinaryExpression:Wt(e.left,t,a),Wt(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case Gr.LogicalExpression:Wt(e.left,t,a),Wt(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case Gr.ConditionalExpression:Wt(e.test,t,a),Wt(e.alternate,t,a),Wt(e.consequent,t,a),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case Gr.Identifier:e.constant=!1,e.toWatch=[e];break;case Gr.MemberExpression:Wt(e.object,t,a),e.computed&&Wt(e.property,t,a),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=e.constant?[]:[e];break;
case Gr.CallExpression:i=n=!!e.filter&&!t(e.callee.name).$stateful,r=[],o(e.arguments,function(e){Wt(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=n?r:[e];break;case Gr.AssignmentExpression:Wt(e.left,t,a),Wt(e.right,t,a),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case Gr.ArrayExpression:i=!0,r=[],o(e.elements,function(e){Wt(e,t,a),i=i&&e.constant,r.push.apply(r,e.toWatch)}),e.constant=i,e.toWatch=r;break;case Gr.ObjectExpression:i=!0,r=[],o(e.properties,function(e){Wt(e.value,t,a),i=i&&e.value.constant,r.push.apply(r,e.value.toWatch),e.computed&&(Wt(e.key,t,!1),i=i&&e.key.constant,r.push.apply(r,e.key.toWatch))}),e.constant=i,e.toWatch=r;break;case Gr.ThisExpression:e.constant=!1,e.toWatch=[];break;case Gr.LocalsExpression:e.constant=!1,e.toWatch=[]}}function qt(e){if(1===e.length){e=e[0].expression;var t=e.toWatch;return 1!==t.length?t:t[0]!==e?t:void 0}}function Yt(e){return e.type===Gr.Identifier||e.type===Gr.MemberExpression}function Gt(e){if(1===e.body.length&&Yt(e.body[0].expression))return{type:Gr.AssignmentExpression,left:e.body[0].expression,right:{type:Gr.NGValueParameter},operator:"="}}function Kt(e){this.$filter=e}function Xt(e){this.$filter=e}function Jt(e,t,n){this.ast=new Gr(e,n),this.astCompiler=n.csp?new Xt(t):new Kt(t)}function Zt(e){return $(e.valueOf)?e.valueOf():Ur.call(e)}function Qt(){var e,t,n=fe(),i={"true":!0,"false":!1,"null":null,undefined:void 0};this.addLiteral=function(e,t){i[e]=t},this.setIdentifierFns=function(n,i){return e=n,t=i,this},this.$get=["$filter",function(r){function a(e,t){var i,o;switch(typeof e){case"string":return o=e=e.trim(),i=n[o],i||(i=new Yr(v),i=new Jt(i,r,v).parse(e),n[o]=f(i)),g(i,t);case"function":return g(e,t);default:return g(p,t)}}function s(e,t,n){return null==e||null==t?e===t:!("object"==typeof e&&(e=Zt(e),"object"==typeof e&&!n))&&(e===t||e!==e&&t!==t)}function l(e,t,n,i,r){var o,a=i.inputs;if(1===a.length){var l=s,a=a[0];return e.$watch(function(e){var t=a(e);return s(t,l,a.isPure)||(o=i(e,void 0,void 0,[t]),l=t&&Zt(t)),o},t,n,r)}for(var u=[],c=[],d=0,f=a.length;d<f;d++)u[d]=s,c[d]=null;return e.$watch(function(e){for(var t=!1,n=0,r=a.length;n<r;n++){var l=a[n](e);(t||(t=!s(l,u[n],a[n].isPure)))&&(c[n]=l,u[n]=l&&Zt(l))}return t&&(o=i(e,void 0,void 0,c)),o},t,n,r)}function u(e,t,n,i,r){function o(){u(l)&&s()}function a(e,t,n,i){return l=p&&i?i[0]:d(e,t,n,i),u(l)&&e.$$postDigest(o),h(l)}var s,l,u=i.literal?c:y,d=i.$$intercepted||i,h=i.$$interceptor||m,p=i.inputs&&!d.inputs;return a.literal=i.literal,a.constant=i.constant,a.inputs=i.inputs,f(a),s=e.$watch(a,t,n,r)}function c(e){var t=!0;return o(e,function(e){y(e)||(t=!1)}),t}function d(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function f(e){return e.constant?e.$$watchDelegate=d:e.oneTime?e.$$watchDelegate=u:e.inputs&&(e.$$watchDelegate=l),e}function h(e,t){function n(n){return t(e(n))}return n.$stateful=e.$stateful||t.$stateful,n.$$pure=e.$$pure&&t.$$pure,n}function g(e,t){if(!t)return e;e.$$interceptor&&(t=h(e.$$interceptor,t),e=e.$$intercepted);var n=!1,i=function(i,r,o,a){return i=n&&a?a[0]:e(i,r,o,a),t(i)};return i.$$intercepted=e,i.$$interceptor=t,i.literal=e.literal,i.oneTime=e.oneTime,i.constant=e.constant,t.$stateful||(n=!e.inputs,i.inputs=e.inputs?e.inputs:[e],t.$$pure||(i.inputs=i.inputs.map(function(e){return e.isPure===Kr?function(t){return e(t)}:e}))),f(i)}var v={csp:Ii().noUnsafeEval,literals:L(i),isIdentifierStart:$(e)&&e,isIdentifierContinue:$(t)&&t};return a.$$getAst=function(e){var t=new Yr(v);return new Jt(t,r,v).getAst(e).ast},a}]}function en(){var e=!0;this.$get=["$rootScope","$exceptionHandler",function(t,n){return nn(function(e){t.$evalAsync(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function tn(){var e=!0;this.$get=["$browser","$exceptionHandler",function(t,n){return nn(function(e){t.defer(e)},n,e)}],this.errorOnUnhandledRejections=function(t){return y(t)?(e=t,this):e}}function nn(e,t,n){function r(){return new a}function a(){var e=this.promise=new s;this.resolve=function(t){d(e,t)},this.reject=function(t){h(e,t)},this.notify=function(t){m(e,t)}}function s(){this.$$state={status:0}}function l(){for(;!_&&k.length;){var e=k.shift();if(!e.pur){e.pur=!0;var n=e.value,n="Possibly unhandled rejection: "+("function"==typeof n?n.toString().replace(/ \{[\s\S]*$/,""):b(n)?"undefined":"string"!=typeof n?ge(n,void 0):n);D(e.value)?t(e.value,n):t(n)}}}function u(i){!n||i.pending||2!==i.status||i.pur||(0===_&&0===k.length&&e(l),k.push(i)),!i.processScheduled&&i.pending&&(i.processScheduled=!0,++_,e(function(){var r,o,a;a=i.pending,i.processScheduled=!1,i.pending=void 0;try{for(var s=0,u=a.length;s<u;++s){i.pur=!0,o=a[s][0],r=a[s][i.status];try{$(r)?d(o,r(i.value)):1===i.status?d(o,i.value):h(o,i.value)}catch(c){h(o,c),c&&!0===c.$$passToExceptionHandler&&t(c)}}}finally{--_,n&&0===_&&e(l)}}))}function d(e,t){e.$$state.status||(t===e?p(e,C("qcycle",t)):f(e,t))}function f(e,t){function n(t){a||(a=!0,f(e,t))}function i(t){a||(a=!0,p(e,t))}function r(t){m(e,t)}var o,a=!1;try{(w(t)||$(t))&&(o=t.then),$(o)?(e.$$state.status=-1,o.call(t,n,i,r)):(e.$$state.value=t,e.$$state.status=1,u(e.$$state))}catch(s){i(s)}}function h(e,t){e.$$state.status||p(e,t)}function p(e,t){e.$$state.value=t,e.$$state.status=2,u(e.$$state)}function m(n,i){var r=n.$$state.pending;0>=n.$$state.status&&r&&r.length&&e(function(){for(var e,n,o=0,a=r.length;o<a;o++){n=r[o][0],e=r[o][3];try{m(n,$(e)?e(i):i)}catch(s){t(s)}}})}function g(e){var t=new s;return h(t,e),t}function v(e,t,n){var i=null;try{$(n)&&(i=n())}catch(r){return g(r)}return i&&$(i.then)?i.then(function(){return t(e)},g):t(e)}function y(e,t,n,i){var r=new s;return d(r,e),r.then(t,n,i)}function x(e){if(!$(e))throw C("norslvr",e);var t=new s;return e(function(e){d(t,e)},function(e){h(t,e)}),t}var C=i("$q",TypeError),_=0,k=[];c(s.prototype,{then:function(e,t,n){if(b(e)&&b(t)&&b(n))return this;var i=new s;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&u(this.$$state),i},"catch":function(e){return this.then(null,e)},"finally":function(e,t){return this.then(function(t){return v(t,T,e)},function(t){return v(t,g,e)},t)}});var T=y;return x.prototype=s.prototype,x.defer=r,x.reject=g,x.when=y,x.resolve=T,x.all=function(e){var t=new s,n=0,i=S(e)?[]:{};return o(e,function(e,r){n++,y(e).then(function(e){i[r]=e,--n||d(t,i)},function(e){h(t,e)})}),0===n&&d(t,i),t},x.race=function(e){var t=r();return o(e,function(e){y(e).then(t.resolve,t.reject)}),t.promise},x}function rn(){this.$get=["$window","$timeout",function(e,t){var n=e.requestAnimationFrame||e.webkitRequestAnimationFrame,i=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,r=!!n,o=r?function(e){var t=n(e);return function(){i(t)}}:function(e){var n=t(e,16.66,!1);return function(){t.cancel(n)}};return o.supported=r,o}]}function on(){function e(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=++Ai,this.$$ChildScope=null,this.$$suspended=!1}return t.prototype=e,t}var t=10,n=i("$rootScope"),a=null,s=null;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$exceptionHandler","$parse","$browser",function(i,l,u){function c(e){e.currentScope.$$destroyed=!0}function d(e){9===pi&&(e.$$childHead&&d(e.$$childHead),e.$$nextSibling&&d(e.$$nextSibling)),e.$parent=e.$$nextSibling=e.$$prevSibling=e.$$childHead=e.$$childTail=e.$root=e.$$watchers=null}function f(){this.$id=++Ai,this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$suspended=this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function h(e){if(C.$$phase)throw n("inprog",C.$$phase);C.$$phase=e}function m(e,t){do e.$$watchersCount+=t;while(e=e.$parent)}function g(e,t,n){do e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n];while(e=e.$parent)}function v(){}function y(){for(;S.length;)try{S.shift()()}catch(e){i(e)}s=null}function x(){null===s&&(s=u.defer(function(){C.$apply(y)},null,"$applyAsync"))}f.prototype={constructor:f,$new:function(t,n){var i;return n=n||this,t?(i=new f,i.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=e(this)),i=new this.$$ChildScope),i.$parent=n,i.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=i,n.$$childTail=i):n.$$childHead=n.$$childTail=i,(t||n!==this)&&i.$on("$destroy",c),i},$watch:function(e,t,n,i){var r=l(e);if(t=$(t)?t:p,r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,s=o.$$watchers,u={fn:t,last:v,get:r,exp:i||e,eq:!!n};return a=null,s||(s=o.$$watchers=[],s.$$digestWatchIndex=-1),s.unshift(u),s.$$digestWatchIndex++,m(this,1),function(){var e=R(s,u);0<=e&&(m(o,-1),e<s.$$digestWatchIndex&&s.$$digestWatchIndex--),a=null}},$watchGroup:function(e,t){function n(){l=!1;try{u?(u=!1,t(r,r,s)):t(r,i,s)}finally{for(var n=0;n<e.length;n++)i[n]=r[n]}}var i=Array(e.length),r=Array(e.length),a=[],s=this,l=!1,u=!0;if(!e.length){var c=!0;return s.$evalAsync(function(){c&&t(r,r,s)}),function(){c=!1}}return 1===e.length?this.$watch(e[0],function(e,n,o){r[0]=e,i[0]=n,t(r,e===n?r:i,o)}):(o(e,function(e,t){var i=s.$watch(e,function(e){r[t]=e,l||(l=!0,s.$evalAsync(n))});a.push(i)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(e,t){function n(e){i=e;var t,n,a,s;if(!b(i)){if(w(i))if(r(i))for(o!==f&&(o=f,m=o.length=0,c++),e=i.length,m!==e&&(c++,o.length=m=e),t=0;t<e;t++)s=o[t],a=i[t],n=s!==s&&a!==a,n||s===a||(c++,o[t]=a);else{o!==h&&(o=h={},m=0,c++),e=0;for(t in i)wi.call(i,t)&&(e++,a=i[t],s=o[t],t in o?(n=s!==s&&a!==a,n||s===a||(c++,o[t]=a)):(m++,o[t]=a,c++));if(m>e)for(t in c++,o)wi.call(i,t)||(m--,delete o[t])}else o!==i&&(o=i,c++);return c}}n.$$pure=l(e).literal,n.$stateful=!n.$$pure;var i,o,a,s=this,u=1<t.length,c=0,d=l(e,n),f=[],h={},p=!0,m=0;return this.$watch(d,function(){if(p?(p=!1,t(i,i,s)):t(i,a,s),u)if(w(i))if(r(i)){a=Array(i.length);for(var e=0;e<i.length;e++)a[e]=i[e]}else for(e in a={},i)wi.call(i,e)&&(a[e]=i[e]);else a=i})},$digest:function(){var e,r,o,l,c,d,f,p,m,g,b=t,w=_.length?C:this,x=[];h("$digest"),u.$$checkUrlChange(),this===C&&null!==s&&(u.defer.cancel(s),y()),a=null;do{for(f=!1,p=w,d=0;d<_.length;d++){try{g=_[d],(l=g.fn)(g.scope,g.locals)}catch(S){i(S)}a=null}_.length=0;e:do{if(d=!p.$$suspended&&p.$$watchers)for(d.$$digestWatchIndex=d.length;d.$$digestWatchIndex--;)try{if(e=d[d.$$digestWatchIndex])if(c=e.get,(r=c(p))===(o=e.last)||(e.eq?F(r,o):Oi(r)&&Oi(o))){if(e===a){f=!1;break e}}else f=!0,a=e,e.last=e.eq?L(r,null):r,l=e.fn,l(r,o===v?r:o,p),5>b&&(m=4-b,x[m]||(x[m]=[]),x[m].push({msg:$(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:r,oldVal:o}))}catch(T){i(T)}if(!(d=!p.$$suspended&&p.$$watchersCount&&p.$$childHead||p!==w&&p.$$nextSibling))for(;p!==w&&!(d=p.$$nextSibling);)p=p.$parent}while(p=d);if((f||_.length)&&!b--)throw C.$$phase=null,n("infdig",t,x)}while(f||_.length);for(C.$$phase=null;D<k.length;)try{k[D++]()}catch(E){i(E)}k.length=D=0,u.$$checkUrlChange()},$suspend:function(){this.$$suspended=!0},$isSuspended:function(){return this.$$suspended},$resume:function(){this.$$suspended=!1},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===C&&u.$$applicationDestroyed(),m(this,-this.$$watchersCount);for(var t in this.$$listenerCount)g(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=p,this.$on=this.$watch=this.$watchGroup=function(){return p},this.$$listeners={},this.$$nextSibling=null,d(this)}},$eval:function(e,t){return l(e)(this,t)},$evalAsync:function(e,t){C.$$phase||_.length||u.defer(function(){_.length&&C.$digest()},null,"$evalAsync"),_.push({scope:this,fn:l(e),locals:t})},$$postDigest:function(e){k.push(e)},$apply:function(e){try{h("$apply");try{return this.$eval(e)}finally{C.$$phase=null}}catch(t){i(t)}finally{try{C.$digest()}catch(n){throw i(n),n}}},$applyAsync:function(e){function t(){n.$eval(e)}var n=this;e&&S.push(t),e=l(e),x()},$on:function(e,t){var n=this.$$listeners[e];n||(this.$$listeners[e]=n=[]),n.push(t);var i=this;do i.$$listenerCount[e]||(i.$$listenerCount[e]=0),i.$$listenerCount[e]++;while(i=i.$parent);var r=this;return function(){var i=n.indexOf(t);-1!==i&&(delete n[i],g(r,1,e))}},$emit:function(e,t){var n,r,o,a=[],s=this,l=!1,u={name:e,targetScope:s,stopPropagation:function(){l=!0},preventDefault:function(){u.defaultPrevented=!0},defaultPrevented:!1},c=H([u],arguments,1);do{for(n=s.$$listeners[e]||a,u.currentScope=s,r=0,o=n.length;r<o;r++)if(n[r])try{n[r].apply(null,c)}catch(d){i(d)}else n.splice(r,1),r--,o--;if(l)break;s=s.$parent}while(s);return u.currentScope=null,u},$broadcast:function(e,t){var n=this,r=this,o={name:e,targetScope:this,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return o;for(var a,s,l=H([o],arguments,1);n=r;){for(o.currentScope=n,r=n.$$listeners[e]||[],a=0,s=r.length;a<s;a++)if(r[a])try{r[a].apply(null,l)}catch(u){i(u)}else r.splice(a,1),a--,s--;if(!(r=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(r=n.$$nextSibling);)n=n.$parent}return o.currentScope=null,o}};var C=new f,_=C.$$asyncQueue=[],k=C.$$postDigestQueue=[],S=C.$$applyAsyncQueue=[],D=0;return C}]}function an(){var e=/^\s*(https?|s?ftp|mailto|tel|file):/,t=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(t){return y(t)?(e=t,this):e},this.imgSrcSanitizationWhitelist=function(e){return y(e)?(t=e,this):t},this.$get=function(){return function(n,i){var r=i?t:e,o=vn(n&&n.trim()).href;return""===o||o.match(r)?n:"unsafe:"+o}}}function sn(e){if("self"===e)return e;if(C(e)){if(-1<e.indexOf("***"))throw Jr("iwcard",e);return e=Pi(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(T(e))return new RegExp("^"+e.source+"$");throw Jr("imatcher")}function ln(e){var t=[];return y(e)&&o(e,function(e){t.push(sn(e))}),t}function un(){this.SCE_CONTEXTS=Zr;var t=["self"],n=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=ln(e)),t},this.resourceUrlBlacklist=function(e){return arguments.length&&(n=ln(e)),n},this.$get=["$injector","$$sanitizeUri",function(i,r){function o(t,n){var i;return"self"===t?(i=yn(n,io))||(e.document.baseURI?i=e.document.baseURI:(Xr||(Xr=e.document.createElement("a"),Xr.href=".",Xr=Xr.cloneNode(!1)),i=Xr.href),i=yn(n,i)):i=!!t.exec(n.href),i}function a(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}var s=function(e){throw Jr("unsafe")};i.has("$sanitize")&&(s=i.get("$sanitize"));var l=a(),u={};return u[Zr.HTML]=a(l),u[Zr.CSS]=a(l),u[Zr.MEDIA_URL]=a(l),u[Zr.URL]=a(u[Zr.MEDIA_URL]),u[Zr.JS]=a(l),u[Zr.RESOURCE_URL]=a(u[Zr.URL]),{trustAs:function(e,t){var n=u.hasOwnProperty(e)?u[e]:null;if(!n)throw Jr("icontext",e,t);if(null===t||b(t)||""===t)return t;if("string"!=typeof t)throw Jr("itype",e);return new n(t)},getTrusted:function(e,i){if(null===i||b(i)||""===i)return i;var a=u.hasOwnProperty(e)?u[e]:null;if(a&&i instanceof a)return i.$$unwrapTrustedValue();if($(i.$$unwrapTrustedValue)&&(i=i.$$unwrapTrustedValue()),e===Zr.MEDIA_URL||e===Zr.URL)return r(i.toString(),e===Zr.MEDIA_URL);if(e===Zr.RESOURCE_URL){var l,c,a=vn(i.toString()),d=!1;for(l=0,c=t.length;l<c;l++)if(o(t[l],a)){d=!0;break}if(d)for(l=0,c=n.length;l<c;l++)if(o(n[l],a)){d=!1;break}if(d)return i;throw Jr("insecurl",i.toString())}if(e===Zr.HTML)return s(i);throw Jr("unsafe")},valueOf:function(e){return e instanceof l?e.$$unwrapTrustedValue():e}}}]}function cn(){var e=!0;this.enabled=function(t){return arguments.length&&(e=!!t),e},this.$get=["$parse","$sceDelegate",function(t,n){if(e&&8>pi)throw Jr("iequirks");var i=me(Zr);i.isEnabled=function(){return e},i.trustAs=n.trustAs,i.getTrusted=n.getTrusted,i.valueOf=n.valueOf,e||(i.trustAs=i.getTrusted=function(e,t){return t},i.valueOf=m),i.parseAs=function(e,n){var r=t(n);return r.literal&&r.constant?r:t(n,function(t){return i.getTrusted(e,t)})};var r=i.parseAs,a=i.getTrusted,s=i.trustAs;return o(Zr,function(e,t){var n=xi(t);i[("parse_as_"+n).replace(Qr,be)]=function(t){return r(e,t)},i[("get_trusted_"+n).replace(Qr,be)]=function(t){return a(e,t)},i[("trust_as_"+n).replace(Qr,be)]=function(t){return s(e,t)}}),i}]}function dn(){this.$get=["$window","$document",function(e,t){var n={},i=!((!e.nw||!e.nw.process)&&e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,r=f((/android (\d+)/.exec(xi((e.navigator||{}).userAgent))||[])[1]),o=/Boxee/i.test((e.navigator||{}).userAgent),a=t[0]||{},s=a.body&&a.body.style,l=!1,u=!1;return s&&(l=!!("transition"in s||"webkitTransition"in s),u=!!("animation"in s||"webkitAnimation"in s)),{history:!(!i||4>r||o),hasEvent:function(e){if("input"===e&&pi)return!1;if(b(n[e])){var t=a.createElement("div");n[e]="on"+e in t}return n[e]},csp:Ii(),transitions:l,animations:u,android:r}}]}function fn(){this.$get=g(function(e){return new hn(e)})}function hn(e){function t(){var e=r.pop();return e&&e.cb}function n(e){for(var t=r.length-1;0<=t;--t){var n=r[t];if(n.type===e)return r.splice(t,1),n.cb}}var i={},r=[],o=this.ALL_TASKS_TYPE="$$all$$",a=this.DEFAULT_TASK_TYPE="$$default$$";this.completeTask=function(r,s){s=s||a;try{r()}finally{var l;l=s||a,i[l]&&(i[l]--,i[o]--),l=i[s];var u=i[o];if(!u||!l)for(l=u?n:t;u=l(s);)try{u()}catch(c){e.error(c)}}},this.incTaskCount=function(e){e=e||a,i[e]=(i[e]||0)+1,i[o]=(i[o]||0)+1},this.notifyWhenNoPendingTasks=function(e,t){t=t||o,i[t]?r.push({type:t,cb:e}):e()}}function pn(){var e;this.httpOptions=function(t){return t?(e=t,this):e},this.$get=["$exceptionHandler","$templateCache","$http","$q","$sce",function(t,n,i,r,o){function a(s,l){a.totalPendingRequests++,C(s)&&!b(n.get(s))||(s=o.getTrustedResourceUrl(s));var u=i.defaults&&i.defaults.transformResponse;return S(u)?u=u.filter(function(e){return e!==bt}):u===bt&&(u=null),i.get(s,c({cache:n,transformResponse:u},e))["finally"](function(){a.totalPendingRequests--}).then(function(e){return n.put(s,e.data)},function(e){return l||(e=eo("tpload",s,e.status,e.statusText),t(e)),r.reject(e)})}return a.totalPendingRequests=0,a}]}function mn(){this.$get=["$rootScope","$browser","$location",function(e,t,n){return{findBindings:function(e,t,n){e=e.getElementsByClassName("ng-binding");var i=[];return o(e,function(e){var r=Ei.element(e).data("$binding");r&&o(r,function(r){n?new RegExp("(^|\\s)"+Pi(t)+"(\\s|\\||$)").test(r)&&i.push(e):-1!==r.indexOf(t)&&i.push(e)})}),i},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o=e.querySelectorAll("["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]');if(o.length)return o}},getLocation:function(){return n.url()},setLocation:function(t){t!==n.url()&&(n.url(t),e.$digest())},whenStable:function(e){t.notifyWhenNoOutstandingRequests(e)}}}]}function gn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(e,t,n,i,r){function o(o,s,l){$(o)||(l=s,s=o,o=p);var u,c=_i.call(arguments,3),d=y(l)&&!l,f=(d?i:n).defer(),h=f.promise;return u=t.defer(function(){try{f.resolve(o.apply(null,c))}catch(t){f.reject(t),r(t)}finally{delete a[h.$$timeoutId]}d||e.$apply()},s,"$timeout"),h.$$timeoutId=u,a[u]=f,h}var a={};return o.cancel=function(e){if(!e)return!1;if(!e.hasOwnProperty("$$timeoutId"))throw to("badprom");if(!a.hasOwnProperty(e.$$timeoutId))return!1;e=e.$$timeoutId;var n=a[e],i=n.promise;return i.$$state&&(i.$$state.pur=!0),n.reject("canceled"),delete a[e],t.defer.cancel(e)},o}]}function vn(e){return C(e)?(pi&&(no.setAttribute("href",e),e=no.href),no.setAttribute("href",e),e=no.hostname,!ro&&-1<e.indexOf(":")&&(e="["+e+"]"),{href:no.href,protocol:no.protocol?no.protocol.replace(/:$/,""):"",host:no.host,search:no.search?no.search.replace(/^\?/,""):"",hash:no.hash?no.hash.replace(/^#/,""):"",hostname:e,port:no.port,pathname:"/"===no.pathname.charAt(0)?no.pathname:"/"+no.pathname}):e}function bn(e){var t=[io].concat(e.map(vn));return function(e){return e=vn(e),t.some(yn.bind(null,e))}}function yn(e,t){return e=vn(e),t=vn(t),e.protocol===t.protocol&&e.host===t.host}function wn(){this.$get=g(e)}function xn(e){function t(e){try{return decodeURIComponent(e)}catch(t){return e}}var n=e[0]||{},i={},r="";return function(){var e,o,a,s,l;try{e=n.cookie||""}catch(u){e=""}if(e!==r)for(r=e,e=r.split("; "),i={},a=0;a<e.length;a++)o=e[a],s=o.indexOf("="),0<s&&(l=t(o.substring(0,s)),b(i[l])&&(i[l]=t(o.substring(s+1))));return i}}function Cn(){this.$get=xn}function _n(e){function t(n,i){if(w(n)){var r={};return o(n,function(e,n){r[n]=t(n,e)}),r}return e.factory(n+"Filter",i)}this.register=t,this.$get=["$injector",function(e){return function(t){return e.get(t+"Filter")}}],t("currency",Tn),t("date",Fn),t("filter",kn),t("json",Hn),t("limitTo",jn),t("lowercase",fo),t("number",En),t("orderBy",zn),t("uppercase",ho)}function kn(){return function(e,t,n,o){if(!r(e)){if(null==e)return e;throw i("filter")("notarray",e)}o=o||"$";var a;switch($n(t)){case"function":break;case"boolean":case"null":case"number":case"string":a=!0;case"object":t=Sn(t,n,o,a);break;default:return e}return Array.prototype.filter.call(e,t)}}function Sn(e,t,n,i){var r=w(e)&&n in e;return!0===t?t=F:$(t)||(t=function(e,t){return!b(e)&&(null===e||null===t?e===t:!(w(t)||w(e)&&!v(e))&&(e=xi(""+e),t=xi(""+t),-1!==e.indexOf(t)))}),function(o){return r&&!w(o)?Dn(o,e[n],t,n,!1):Dn(o,e,t,n,i)}}function Dn(e,t,n,i,r,o){var a=$n(e),s=$n(t);if("string"===s&&"!"===t.charAt(0))return!Dn(e,t.substring(1),n,i,r);if(S(e))return e.some(function(e){return Dn(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if(l.charAt&&"$"!==l.charAt(0)&&Dn(e[l],t,n,i,!0))return!0;return!o&&Dn(e,t,n,i,!1)}if("object"===s){for(l in t)if(o=t[l],!$(o)&&!b(o)&&(a=l===i,!Dn(a?e:e[l],o,n,i,a,a)))return!1;return!0}return n(e,t);case"function":return!1;default:return n(e,t)}}function $n(e){return null===e?"null":typeof e}function Tn(e){var t=e.NUMBER_FORMATS;return function(e,n,i){b(n)&&(n=t.CURRENCY_SYM),b(i)&&(i=t.PATTERNS[1].maxFrac);var r=n?/\u00A4/g:/\s*\u00A4\s*/g;return null==e?e:Mn(e,t.PATTERNS[1],t.GROUP_SEP,t.DECIMAL_SEP,i).replace(r,n)}}function En(e){var t=e.NUMBER_FORMATS;return function(e,n){return null==e?e:Mn(e,t.PATTERNS[0],t.GROUP_SEP,t.DECIMAL_SEP,n)}}function An(e){var t,n,i,r,o,a=0;for(-1<(n=e.indexOf(ao))&&(e=e.replace(ao,"")),0<(i=e.search(/e/i))?(0>n&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):0>n&&(n=e.length),i=0;e.charAt(i)===so;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===so;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return n>oo&&(t=t.splice(0,oo-1),a=n-1,n=1),{d:t,e:a,i:n}}function On(e,t,n,i){var r=e.d,o=r.length-e.i;if(t=b(t)?Math.min(Math.max(n,o),i):+t,n=t+e.i,i=r[n],0<n){r.splice(Math.max(e.i,n));for(var a=n;a<r.length;a++)r[a]=0}else for(o=Math.max(0,o),e.i=1,r.length=Math.max(1,n=t+1),r[0]=0,a=1;a<n;a++)r[a]=0;if(5<=i)if(0>n-1){for(i=0;i>n;i--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[n-1]++;for(;o<Math.max(0,t);o++)r.push(0);(t=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0))&&(r.unshift(t),e.i++)}function Mn(e,t,n,i,r){if(!C(e)&&!_(e)||isNaN(e))return"";var o=!isFinite(e),a=!1,s=Math.abs(e)+"",l="";if(o)l="";else{for(a=An(s),On(a,r,t.minFrac,t.maxFrac),l=a.d,s=a.i,r=a.e,o=[],a=l.reduce(function(e,t){return e&&!t},!0);0>s;)l.unshift(0),s++;for(0<s?o=l.splice(s,l.length):(o=l,l=[0]),s=[],l.length>=t.lgSize&&s.unshift(l.splice(-t.lgSize,l.length).join(""));l.length>t.gSize;)s.unshift(l.splice(-t.gSize,l.length).join(""));l.length&&s.unshift(l.join("")),l=s.join(n),o.length&&(l+=i+o.join("")),r&&(l+="e+"+r)}return 0>e&&!a?t.negPre+l+t.negSuf:t.posPre+l+t.posSuf}function Nn(e,t,n,i){var r="";for((0>e||i&&0>=e)&&(i?e=-e+1:(e=-e,r="-")),e=""+e;e.length<t;)e=so+e;return n&&(e=e.substr(e.length-t)),r+e}function Pn(e,t,n,i,r){return n=n||0,function(o){return o=o["get"+e](),(0<n||o>-n)&&(o+=n),0===o&&-12===n&&(o=12),Nn(o,t,i,r)}}function In(e,t,n){return function(i,r){var o=i["get"+e](),a=Ci((n?"STANDALONE":"")+(t?"SHORT":"")+e);return r[a][o]}}function Rn(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(4>=t?5:12)-t)}function Ln(e){return function(t){var n=Rn(t.getFullYear());return t=+new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))-+n,t=1+Math.round(t/6048e5),Nn(t,e)}}function Bn(e,t){return 0>=e.getFullYear()?t.ERAS[0]:t.ERAS[1]}function Fn(e){function t(e){var t;if(t=e.match(n)){e=new Date(0);var i=0,r=0,o=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(i=f(t[9]+t[10]),r=f(t[9]+t[11])),o.call(e,f(t[1]),f(t[2])-1,f(t[3])),i=f(t[4]||0)-i,r=f(t[5]||0)-r,o=f(t[6]||0),t=Math.round(1e3*parseFloat("0."+(t[7]||0))),a.call(e,i,r,o,t)}return e}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,i,r){var a,s,l="",u=[];if(i=i||"mediumDate",i=e.DATETIME_FORMATS[i]||i,C(n)&&(n=co.test(n)?f(n):t(n)),_(n)&&(n=new Date(n)),!k(n)||!isFinite(n.getTime()))return n;for(;i;)(s=uo.exec(i))?(u=H(u,s,1),i=u.pop()):(u.push(i),i=null);var c=n.getTimezoneOffset();return r&&(c=W(r,c),n=Y(n,r,!0)),o(u,function(t){a=lo[t],l+=a?a(n,e.DATETIME_FORMATS,c):"''"===t?"'":t.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Hn(){return function(e,t){return b(t)&&(t=2),z(e,t)}}function jn(){return function(e,t,n){return t=1/0===Math.abs(Number(t))?Number(t):f(t),Oi(t)?e:(_(e)&&(e=e.toString()),r(e)?(n=!n||isNaN(n)?0:f(n),n=0>n?Math.max(0,e.length+n):n,0<=t?Vn(e,n,n+t):0===n?Vn(e,t,e.length):Vn(e,Math.max(0,n+t),n)):e)}}function Vn(e,t,n){return C(e)?e.slice(t,n):_i.call(e,t,n)}function zn(e){function t(t){return t.map(function(t){var n=1,i=m;if($(t))i=t;else if(C(t)&&("+"!==t.charAt(0)&&"-"!==t.charAt(0)||(n="-"===t.charAt(0)?-1:1,t=t.substring(1)),""!==t&&(i=e(t),i.constant)))var r=i(),i=function(e){return e[r]};return{get:i,descending:n}})}function n(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function o(e,t){var n=0,i=e.type,r=t.type;if(i===r){var r=e.value,o=t.value;"string"===i?(r=r.toLowerCase(),o=o.toLowerCase()):"object"===i&&(w(r)&&(r=e.index),w(o)&&(o=t.index)),r!==o&&(n=r<o?-1:1)}else n="undefined"===i?1:"undefined"===r?-1:"null"===i?1:"null"===r?-1:i<r?-1:1;return n}return function(e,a,s,l){if(null==e)return e;if(!r(e))throw i("orderBy")("notarray",e);S(a)||(a=[a]),0===a.length&&(a=["+"]);var u=t(a),c=s?-1:1,d=$(l)?l:o;return e=Array.prototype.map.call(e,function(e,t){return{value:e,tieBreaker:{value:t,type:"number",index:t},predicateValues:u.map(function(i){var r=i.get(e);return i=typeof r,null===r?i="null":"object"===i&&($(r.valueOf)&&(r=r.valueOf(),n(r))||v(r)&&(r=r.toString(),n(r))),{value:r,type:i,index:t}})}}),e.sort(function(e,t){for(var n=0,i=u.length;n<i;n++){var r=d(e.predicateValues[n],t.predicateValues[n]);if(r)return r*u[n].descending*c}return(d(e.tieBreaker,t.tieBreaker)||o(e.tieBreaker,t.tieBreaker))*c}),e=e.map(function(e){return e.value})}}function Un(e){return $(e)&&(e={link:e}),e.restrict=e.restrict||"AC",g(e)}function Wn(e,t,n,i,r){this.$$controls=[],this.$error={},this.$$success={},this.$pending=void 0,this.$name=r(t.name||t.ngForm||"")(n),this.$dirty=!1,this.$valid=this.$pristine=!0,this.$submitted=this.$invalid=!1,this.$$parentForm=go,this.$$element=e,this.$$animate=i,qn(this)}function qn(e){e.$$classCache={},e.$$classCache[Zo]=!(e.$$classCache[Jo]=e.$$element.hasClass(Jo))}function Yn(e){function t(e,t,n){n&&!e.$$classCache[t]?(e.$$animate.addClass(e.$$element,t),e.$$classCache[t]=!0):!n&&e.$$classCache[t]&&(e.$$animate.removeClass(e.$$element,t),e.$$classCache[t]=!1)}function n(e,n,i){n=n?"-"+oe(n,"-"):"",t(e,Jo+n,!0===i),t(e,Zo+n,!1===i)}var i=e.set,r=e.unset;e.clazz.prototype.$setValidity=function(e,o,a){b(o)?(this.$pending||(this.$pending={}),i(this.$pending,e,a)):(this.$pending&&r(this.$pending,e,a),Gn(this.$pending)&&(this.$pending=void 0)),O(o)?o?(r(this.$error,e,a),i(this.$$success,e,a)):(i(this.$error,e,a),r(this.$$success,e,a)):(r(this.$error,e,a),r(this.$$success,e,a)),this.$pending?(t(this,"ng-pending",!0),this.$valid=this.$invalid=void 0,n(this,"",null)):(t(this,"ng-pending",!1),this.$valid=Gn(this.$error),this.$invalid=!this.$valid,n(this,"",this.$valid)),o=this.$pending&&this.$pending[e]?void 0:!this.$error[e]&&(!!this.$$success[e]||null),n(this,e,o),this.$$parentForm.$setValidity(e,o,this)}}function Gn(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}function Kn(e){e.$formatters.push(function(t){return e.$isEmpty(t)?t:t.toString()})}function Xn(e,t,n,i,r,o){var a=xi(t[0].type);if(!r.android){var s=!1;t.on("compositionstart",function(){s=!0}),t.on("compositionupdate",function(e){(b(e.data)||""===e.data)&&(s=!1)}),t.on("compositionend",function(){s=!1,u()})}var l,u=function(e){if(l&&(o.defer.cancel(l),l=null),!s){var r=t.val();e=e&&e.type,"password"===a||n.ngTrim&&"false"===n.ngTrim||(r=Ni(r)),(i.$viewValue!==r||""===r&&i.$$hasNativeValidators)&&i.$setViewValue(r,e)}};if(r.hasEvent("input"))t.on("input",u);else{var c=function(e,t,n){l||(l=o.defer(function(){l=null,t&&t.value===n||u(e)}))};t.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&19>t||37<=t&&40>=t||c(e,this,this.value)}),r.hasEvent("paste")&&t.on("paste cut drop",c)}t.on("change",u),Eo[a]&&i.$$hasNativeValidators&&a===n.type&&t.on("keydown wheel mousedown",function(e){if(!l){var t=this.validity,n=t.badInput,i=t.typeMismatch;l=o.defer(function(){l=null,t.badInput===n&&t.typeMismatch===i||u(e)})}}),i.$render=function(){var e=i.$isEmpty(i.$viewValue)?"":i.$viewValue;t.val()!==e&&t.val(e)}}function Jn(e,t){return function(n,i){var r,a;if(k(n))return n;if(C(n)){if('"'===n.charAt(0)&&'"'===n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),wo.test(n))return new Date(n);if(e.lastIndex=0,r=e.exec(n))return r.shift(),a=i?{yyyy:i.getFullYear(),MM:i.getMonth()+1,dd:i.getDate(),HH:i.getHours(),mm:i.getMinutes(),ss:i.getSeconds(),sss:i.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(r,function(e,n){n<t.length&&(a[t[n]]=+e)}),r=new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0),100>a.yyyy&&r.setFullYear(a.yyyy),r}return NaN}}function Zn(e,t,n,i){return function(r,o,a,s,l,u,c,d){function f(e){return e&&!(e.getTime&&e.getTime()!==e.getTime())}function h(e){return y(e)&&!k(e)?p(e)||void 0:e}function p(e,t){var i=s.$options.getOption("timezone");g&&g!==i&&(t=q(t,W(g)));var r=n(e,t);return!isNaN(r)&&i&&(r=Y(r,i)),r}Qn(r,o,a,s,e),Xn(r,o,a,s,l,u);var m,g,v="time"===e||"datetimelocal"===e;if(s.$parsers.push(function(n){return s.$isEmpty(n)?null:t.test(n)?p(n,m):void(s.$$parserName=e)}),s.$formatters.push(function(e){if(e&&!k(e))throw ta("datefmt",e);if(f(e)){m=e;var t=s.$options.getOption("timezone");t&&(g=t,m=Y(m,t,!0));var n=i;return v&&C(s.$options.getOption("timeSecondsFormat"))&&(n=i.replace("ss.sss",s.$options.getOption("timeSecondsFormat")).replace(/:$/,"")),e=c("date")(e,n,t),v&&s.$options.getOption("timeStripZeroSeconds")&&(e=e.replace(/(?::00)?(?:\.000)?$/,"")),e}return g=m=null,""}),y(a.min)||a.ngMin){var w=a.min||d(a.ngMin)(r),x=h(w);s.$validators.min=function(e){return!f(e)||b(x)||n(e)>=x},a.$observe("min",function(e){e!==w&&(x=h(e),w=e,s.$validate())})}if(y(a.max)||a.ngMax){var _=a.max||d(a.ngMax)(r),S=h(_);s.$validators.max=function(e){return!f(e)||b(S)||n(e)<=S;
},a.$observe("max",function(e){e!==_&&(S=h(e),_=e,s.$validate())})}}}function Qn(e,t,n,i,r){(i.$$hasNativeValidators=w(t[0].validity))&&i.$parsers.push(function(e){var n=t.prop("validity")||{};return n.badInput||n.typeMismatch?void(i.$$parserName=r):e})}function ei(e){e.$parsers.push(function(t){return e.$isEmpty(t)?null:_o.test(t)?parseFloat(t):void(e.$$parserName="number")}),e.$formatters.push(function(t){if(!e.$isEmpty(t)){if(!_(t))throw ta("numfmt",t);t=t.toString()}return t})}function ti(e){return y(e)&&!_(e)&&(e=parseFloat(e)),Oi(e)?void 0:e}function ni(e){var t=e.toString(),n=t.indexOf(".");return-1===n?-1<e&&1>e&&(e=/e-(\d+)$/.exec(t))?Number(e[1]):0:t.length-n-1}function ii(e,t,n){e=Number(e);var i=(0|e)!==e,r=(0|t)!==t,o=(0|n)!==n;if(i||r||o){var a=i?ni(e):0,s=r?ni(t):0,l=o?ni(n):0,a=Math.max(a,s,l),a=Math.pow(10,a);e*=a,t*=a,n*=a,i&&(e=Math.round(e)),r&&(t=Math.round(t)),o&&(n=Math.round(n))}return 0===(e-t)%n}function ri(e,t,n,i,r){if(y(i)){if(e=e(i),!e.constant)throw ta("constexpr",n,i);return e(t)}return r}function oi(e,t){function n(e,t){if(!e||!e.length)return[];if(!t||!t.length)return e;var n=[],i=0;e:for(;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function i(e){if(!e)return e;var t=e;return S(e)?t=e.map(i).join(" "):w(e)?t=Object.keys(e).filter(function(t){return e[t]}).join(" "):C(e)||(t=e+""),t}e="ngClass"+e;var r;return["$parse",function(a){return{restrict:"AC",link:function(s,l,u){function c(e,t){var n=[];return o(e,function(e){(0<t||h[e])&&(h[e]=(h[e]||0)+t,h[e]===+(0<t)&&n.push(e))}),n.join(" ")}function d(e){if(e===t){var n=f,n=c(n&&n.split(" "),1);u.$addClass(n)}else n=f,n=c(n&&n.split(" "),-1),u.$removeClass(n);p=e}var f,h=l.data("$classCounts"),p=!0;h||(h=fe(),l.data("$classCounts",h)),"ngClass"!==e&&(r||(r=a("$index",function(e){return 1&e})),s.$watch(r,d)),s.$watch(a(u[e],i),function(e){if(p===t){var i=f&&f.split(" "),r=e&&e.split(" "),o=n(i,r),i=n(r,i),o=c(o,-1),i=c(i,1);u.$addClass(i),u.$removeClass(o)}f=e})}}}]}function ai(e,t,n,i,r,o){return{restrict:"A",compile:function(a,s){var l=e(s[i]);return function(e,i){i.on(r,function(i){var r=function(){l(e,{$event:i})};if(t.$$phase)if(o)e.$evalAsync(r);else try{r()}catch(a){n(a)}else e.$apply(r)})}}}}function si(e,t,n,i,r,o,a,s,l){this.$modelValue=this.$viewValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=l(n.name||"",!1)(e),this.$$parentForm=go,this.$options=na,this.$$updateEvents="",this.$$updateEventHandler=this.$$updateEventHandler.bind(this),this.$$parsedNgModel=r(n.ngModel),this.$$parsedNgModelAssign=this.$$parsedNgModel.assign,this.$$ngModelGet=this.$$parsedNgModel,this.$$ngModelSet=this.$$parsedNgModelAssign,this.$$pendingDebounce=null,this.$$parserValid=void 0,this.$$parserName="parse",this.$$currentValidationRunId=0,this.$$scope=e,this.$$rootScope=e.$root,this.$$attr=n,this.$$element=i,this.$$animate=o,this.$$timeout=a,this.$$parse=r,this.$$q=s,this.$$exceptionHandler=t,qn(this),li(this)}function li(e){e.$$scope.$watch(function(t){return t=e.$$ngModelGet(t),t===e.$modelValue||e.$modelValue!==e.$modelValue&&t!==t||e.$$setModelValue(t),t})}function ui(e){this.$$options=e}function ci(e,t){o(t,function(t,n){y(e[n])||(e[n]=t)})}function di(e,t){e.prop("selected",t),e.attr("selected",t)}function fi(e,t,n){if(e){if(C(e)&&(e=new RegExp("^"+e+"$")),!e.test)throw i("ngPattern")("noregexp",t,e,G(n));return e}}function hi(e){return e=f(e),Oi(e)?-1:e}var pi,mi,gi,vi,bi={objectMaxDepth:5,urlErrorParamsEnabled:!0},yi=/^\/(.+)\/([a-z]*)$/,wi=Object.prototype.hasOwnProperty,xi=function(e){return C(e)?e.toLowerCase():e},Ci=function(e){return C(e)?e.toUpperCase():e},_i=[].slice,ki=[].splice,Si=[].push,Di=Object.prototype.toString,$i=Object.getPrototypeOf,Ti=i("ng"),Ei=e.angular||(e.angular={}),Ai=0;pi=e.document.documentMode;var Oi=Number.isNaN||function(e){return e!==e};p.$inject=[],m.$inject=[];var Mi=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/,Ni=function(e){return C(e)?e.trim():e},Pi=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},Ii=function(){if(!y(Ii.rules)){var t=e.document.querySelector("[ng-csp]")||e.document.querySelector("[data-ng-csp]");if(t){var n=t.getAttribute("ng-csp")||t.getAttribute("data-ng-csp");Ii.rules={noUnsafeEval:!n||-1!==n.indexOf("no-unsafe-eval"),noInlineStyle:!n||-1!==n.indexOf("no-inline-style")}}else{t=Ii;try{new Function(""),n=!1}catch(i){n=!0}t.rules={noUnsafeEval:n,noInlineStyle:!1}}}return Ii.rules},Ri=function(){if(y(Ri.name_))return Ri.name_;var t,n,i,r,o=Bi.length;for(n=0;n<o;++n)if(i=Bi[n],t=e.document.querySelector("["+i.replace(":","\\:")+"jq]")){r=t.getAttribute(i+"jq");break}return Ri.name_=r},Li=/:/g,Bi=["ng-","data-ng-","ng:","x-ng-"],Fi=function(t){var n=t.currentScript;return!n||(n instanceof e.HTMLScriptElement||n instanceof e.SVGScriptElement)&&(n=n.attributes,[n.getNamedItem("src"),n.getNamedItem("href"),n.getNamedItem("xlink:href")].every(function(e){if(!e)return!0;if(!e.value)return!1;var n=t.createElement("a");if(n.href=e.value,t.location.origin===n.origin)return!0;switch(n.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}))}(e.document),Hi=/[A-Z]/g,ji=!1,Vi=3,zi={full:"1.7.8",major:1,minor:7,dot:8,codeName:"enthusiastic-oblation"};Ce.expando="ng339";var Ui=Ce.cache={},Wi=1;Ce._data=function(e){return this.cache[e[this.expando]]||{}};var qi=/-([a-z])/g,Yi=/^-ms-/,Gi={mouseleave:"mouseout",mouseenter:"mouseover"},Ki=i("jqLite"),Xi=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ji=/<|&#?\w+;/,Zi=/<([\w:-]+)/,Qi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,er={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};er.optgroup=er.option,er.tbody=er.tfoot=er.colgroup=er.caption=er.thead,er.th=er.td;var tr=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))},nr=Ce.prototype={ready:He,toString:function(){var e=[];return o(this,function(t){e.push(""+t)}),"["+e.join(", ")+"]"},eq:function(e){return mi(0<=e?this[e]:this[this.length+e])},length:0,push:Si,sort:[].sort,splice:[].splice},ir={};o("multiple selected checked disabled readOnly required open".split(" "),function(e){ir[xi(e)]=e});var rr={};o("input select option textarea button form details".split(" "),function(e){rr[e]=!0});var or={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern",ngStep:"step"};o({data:Ae,removeData:Te,hasData:function(e){for(var t in Ui[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)Te(e[t]),$e(e[t])}},function(e,t){Ce[t]=e}),o({data:Ae,inheritedData:Re,scope:function(e){return mi.data(e,"$scope")||Re(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return mi.data(e,"$isolateScope")||mi.data(e,"$isolateScopeNoTemplate")},controller:Ie,injector:function(e){return Re(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:Oe,css:function(e,t,n){return t=ye(t.replace(Yi,"ms-")),y(n)?void(e.style[t]=n):e.style[t]},attr:function(e,t,n){var i=e.nodeType;if(i!==Vi&&2!==i&&8!==i&&e.getAttribute){var i=xi(t),r=ir[i];if(!y(n))return e=e.getAttribute(t),r&&null!==e&&(e=i),null===e?void 0:e;null===n||!1===n&&r?e.removeAttribute(t):e.setAttribute(t,r?i:n)}},prop:function(e,t,n){return y(n)?void(e[t]=n):e[t]},text:function(){function e(e,t){if(b(t)){var n=e.nodeType;return 1===n||n===Vi?e.textContent:""}e.textContent=t}return e.$dv="",e}(),val:function(e,t){if(b(t)){if(e.multiple&&"select"===I(e)){var n=[];return o(e.options,function(e){e.selected&&n.push(e.value||e.text)}),n}return e.value}e.value=t},html:function(e,t){return b(t)?e.innerHTML:(ke(e,!0),void(e.innerHTML=t))},empty:Le},function(e,t){Ce.prototype[t]=function(t,n){var i,r,o=this.length;if(e!==Le&&b(2===e.length&&e!==Oe&&e!==Ie?t:n)){if(w(t)){for(i=0;i<o;i++)if(e===Ae)e(this[i],t);else for(r in t)e(this[i],r,t[r]);return this}for(i=e.$dv,o=b(i)?Math.min(o,1):o,r=0;r<o;r++){var a=e(this[r],t,n);i=i?i+a:a}return i}for(i=0;i<o;i++)e(this[i],t,n);return this}}),o({removeData:Te,on:function(e,t,n,i){if(y(i))throw Ki("onargs");if(we(e)){i=Ee(e,!0);var r=i.events,o=i.handle;o||(o=i.handle=Ve(e,r)),i=0<=t.indexOf(" ")?t.split(" "):[t];for(var a=i.length,s=function(t,i,a){var s=r[t];s||(s=r[t]=[],s.specialHandlerWrapper=i,"$destroy"===t||a||e.addEventListener(t,o)),s.push(n)};a--;)t=i[a],Gi[t]?(s(Gi[t],Ue),s(t,void 0,!0)):s(t)}},off:$e,one:function(e,t,n){e=mi(e),e.on(t,function i(){e.off(t,n),e.off(t,i)}),e.on(t,n)},replaceWith:function(e,t){var n,i=e.parentNode;ke(e),o(new Ce(t),function(t){n?i.insertBefore(t,n.nextSibling):i.replaceChild(t,e),n=t})},children:function(e){var t=[];return o(e.childNodes,function(e){1===e.nodeType&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(1===n||11===n){t=new Ce(t);for(var n=0,i=t.length;n<i;n++)e.appendChild(t[n])}},prepend:function(e,t){if(1===e.nodeType){var n=e.firstChild;o(new Ce(t),function(t){e.insertBefore(t,n)})}},wrap:function(e,t){var n=mi(t).eq(0).clone()[0],i=e.parentNode;i&&i.replaceChild(n,e),n.appendChild(e)},remove:Be,detach:function(e){Be(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i){t=new Ce(t);for(var r=0,o=t.length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}}},addClass:Ne,removeClass:Me,toggleClass:function(e,t,n){t&&o(t.split(" "),function(t){var i=n;b(i)&&(i=!Oe(e,t)),(i?Ne:Me)(e,t)})},parent:function(e){return(e=e.parentNode)&&11!==e.nodeType?e:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:_e,triggerHandler:function(e,t,n){var i,r,a=t.type||t,s=Ee(e);(s=(s=s&&s.events)&&s[a])&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:p,type:a,target:e},t.type&&(i=c(i,t)),t=me(s),r=n?[i].concat(n):[i],o(t,function(t){i.isImmediatePropagationStopped()||t.apply(e,r)}))}},function(e,t){Ce.prototype[t]=function(t,n,i){for(var r,o=0,a=this.length;o<a;o++)b(r)?(r=e(this[o],t,n,i),y(r)&&(r=mi(r))):Pe(r,e(this[o],t,n,i));return y(r)?r:this}}),Ce.prototype.bind=Ce.prototype.on,Ce.prototype.unbind=Ce.prototype.off;var ar=Object.create(null);Ye.prototype={_idx:function(e){return e!==this._lastKey&&(this._lastKey=e,this._lastIndex=this._keys.indexOf(e)),this._lastIndex},_transformKey:function(e){return Oi(e)?ar:e},get:function(e){if(e=this._transformKey(e),e=this._idx(e),-1!==e)return this._values[e]},has:function(e){return e=this._transformKey(e),-1!==this._idx(e)},set:function(e,t){e=this._transformKey(e);var n=this._idx(e);-1===n&&(n=this._lastIndex=this._keys.length),this._keys[n]=e,this._values[n]=t},"delete":function(e){return e=this._transformKey(e),e=this._idx(e),-1!==e&&(this._keys.splice(e,1),this._values.splice(e,1),this._lastKey=NaN,this._lastIndex=-1,!0)}};var sr=Ye,lr=[function(){this.$get=[function(){return sr}]}],ur=/^([^(]+?)=>/,cr=/^[^(]*\(\s*([^)]*)\)/m,dr=/,/,fr=/^\s*(_?)(\S+?)\1\s*$/,hr=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,pr=i("$injector");Xe.$$annotate=function(e,t,n){var i;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw C(n)&&n||(n=e.name||Ke(e)),pr("strictdi",n);t=Ge(e),o(t[1].split(dr),function(e){e.replace(fr,function(e,t,n){i.push(n)})})}e.$inject=i}}else S(e)?(t=e.length-1,le(e[t],"fn"),i=e.slice(0,t)):le(e,"fn",!0);return i};var mr=i("$animate"),gr=function(){this.$get=p},vr=function(){var e=new sr,t=[];this.$get=["$$AnimateRunner","$rootScope",function(n,i){function r(e,t,n){var i=!1;return t&&(t=C(t)?t.split(" "):S(t)?t:[],o(t,function(t){t&&(i=!0,e[t]=n)})),i}function a(){o(t,function(t){var n=e.get(t);if(n){var i=Qe(t.attr("class")),r="",a="";o(n,function(e,t){e!==!!i[t]&&(e?r+=(r.length?" ":"")+t:a+=(a.length?" ":"")+t)}),o(t,function(e){r&&Ne(e,r),a&&Me(e,a)}),e["delete"](t)}}),t.length=0}return{enabled:p,on:p,off:p,pin:p,push:function(o,s,l,u){return u&&u(),l=l||{},l.from&&o.css(l.from),l.to&&o.css(l.to),(l.addClass||l.removeClass)&&(s=l.addClass,u=l.removeClass,l=e.get(o)||{},s=r(l,s,!0),u=r(l,u,!1),(s||u)&&(e.set(o,l),t.push(o),1===t.length&&i.$$postDigest(a))),o=new n,o.complete(),o}}}]},br=["$provide",function(e){var t=this,n=null,i=null;this.$$registeredAnimations=Object.create(null),this.register=function(n,i){if(n&&"."!==n.charAt(0))throw mr("notcsel",n);var r=n+"-animation";t.$$registeredAnimations[n.substr(1)]=r,e.factory(r,i)},this.customFilter=function(e){return 1===arguments.length&&(i=$(e)?e:null),i},this.classNameFilter=function(e){if(1===arguments.length&&(n=e instanceof RegExp?e:null)&&/[(\s|\/)]ng-animate[(\s|\/)]/.test(n.toString()))throw n=null,mr("nongcls","ng-animate");return n},this.$get=["$$animateQueue",function(e){function t(e,t,n){if(n){var i;e:{for(i=0;i<n.length;i++){var r=n[i];if(1===r.nodeType){i=r;break e}}i=void 0}!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:e.on,off:e.off,pin:e.pin,enabled:e.enabled,cancel:function(e){e.cancel&&e.cancel()},enter:function(n,i,r,o){return i=i&&mi(i),r=r&&mi(r),i=i||r.parent(),t(n,i,r),e.push(n,"enter",et(o))},move:function(n,i,r,o){return i=i&&mi(i),r=r&&mi(r),i=i||r.parent(),t(n,i,r),e.push(n,"move",et(o))},leave:function(t,n){return e.push(t,"leave",et(n),function(){t.remove()})},addClass:function(t,n,i){return i=et(i),i.addClass=Ze(i.addclass,n),e.push(t,"addClass",i)},removeClass:function(t,n,i){return i=et(i),i.removeClass=Ze(i.removeClass,n),e.push(t,"removeClass",i)},setClass:function(t,n,i,r){return r=et(r),r.addClass=Ze(r.addClass,n),r.removeClass=Ze(r.removeClass,i),e.push(t,"setClass",r)},animate:function(t,n,i,r,o){return o=et(o),o.from=o.from?c(o.from,n):n,o.to=o.to?c(o.to,i):i,o.tempClasses=Ze(o.tempClasses,r||"ng-inline-animate"),e.push(t,"animate",o)}}}]}],yr=function(){this.$get=["$$rAF",function(e){function t(t){n.push(t),1<n.length||e(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}var n=[];return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}]},wr=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$$isDocumentHidden","$timeout",function(e,t,n,i,r){function a(e){this.setHost(e);var t=n();this._doneCallbacks=[],this._tick=function(e){i()?r(e,0,!1):t(e)},this._state=0}return a.chain=function(e,t){function n(){i===e.length?t(!0):e[i](function(e){!1===e?t(!1):(i++,n())})}var i=0;n()},a.all=function(e,t){function n(n){r=r&&n,++i===e.length&&t(r)}var i=0,r=!0;o(e,function(e){e.done(n)})},a.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:p,getPromise:function(){if(!this.promise){var t=this;this.promise=e(function(e,n){t.done(function(t){!1===t?n():e()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},"catch":function(e){return this.getPromise()["catch"](e)},"finally":function(e){return this.getPromise()["finally"](e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(e){2!==this._state&&(o(this._doneCallbacks,function(t){t(e)}),this._doneCallbacks.length=0,this._state=2)}},a}]},xr=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(e,t,n){return function(t,i){function r(){return e(function(){o.addClass&&(t.addClass(o.addClass),o.addClass=null),o.removeClass&&(t.removeClass(o.removeClass),o.removeClass=null),o.to&&(t.css(o.to),o.to=null),a||s.complete(),a=!0}),s}var o=i||{};o.$$prepared||(o=L(o)),o.cleanupStyles&&(o.from=o.to=null),o.from&&(t.css(o.from),o.from=null);var a,s=new n;return{start:r,end:r}}}]},Cr=i("$compile"),_r=new function(){};ot.$inject=["$provide","$$sanitizeUriProvider"],at.prototype.isFirstChange=function(){return this.previousValue===_r};var kr=/^((?:x|data)[:\-_])/i,Sr=/[:\-_]+(.)/g,Dr=i("$controller"),$r=/^(\S+)(\s+as\s+([\w$]+))?$/,Tr=function(){this.$get=["$document",function(e){return function(t){return t?!t.nodeType&&t instanceof mi&&(t=t[0]):t=e[0].body,t.offsetWidth+1}}]},Er="application/json",Ar={"Content-Type":Er+";charset=utf-8"},Or=/^\[|^\{(?!\{)/,Mr={"[":/]$/,"{":/}$/},Nr=/^\)]\}',?\n/,Pr=i("$http"),Ir=Ei.$interpolateMinErr=i("$interpolate");Ir.throwNoconcat=function(e){throw Ir("noconcat",e)},Ir.interr=function(e,t){return Ir("interr",e,t.toString())};var Rr=i("$interval"),Lr=function(){this.$get=function(){function e(e){var t=function(e){t.data=e,t.called=!0};return t.id=e,t}var t=Ei.callbacks,n={};return{createCallback:function(i){i="_"+(t.$$counter++).toString(36);var r="angular.callbacks."+i,o=e(i);return n[r]=t[i]=o,r},wasCalled:function(e){return n[e].called},getResponse:function(e){return n[e].data},removeCallback:function(e){delete t[n[e].id],delete n[e]}}}},Br=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Fr={http:80,https:443,ftp:21},Hr=i("$location"),jr=/^\s*[\\/]{2,}/,Vr={$$absUrl:"",$$html5:!1,$$replace:!1,$$compose:function(){for(var e=this.$$path,t=this.$$hash,n=J(this.$$search),t=t?"#"+Z(t):"",e=e.split("/"),i=e.length;i--;)e[i]=Z(e[i].replace(/%2F/g,"/"));this.$$url=e.join("/")+(n?"?"+n:"")+t,this.$$absUrl=this.$$normalizeUrl(this.$$url),this.$$urlUpdatedByLocation=!0},absUrl:Lt("$$absUrl"),url:function(e){if(b(e))return this.$$url;var t=Br.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:Lt("$$protocol"),host:Lt("$$host"),port:Lt("$$port"),path:Bt("$$path",function(e){return e=null!==e?e.toString():"","/"===e.charAt(0)?e:"/"+e}),search:function(e,t){switch(arguments.length){case 0:return this.$$search;case 1:if(C(e)||_(e))e=e.toString(),this.$$search=X(e);else{if(!w(e))throw Hr("isrcharg");e=L(e,{}),o(e,function(t,n){null==t&&delete e[n]}),this.$$search=e}break;default:b(t)||null===t?delete this.$$search[e]:this.$$search[e]=t}return this.$$compose(),this},hash:Bt("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};o([Rt,It,Pt],function(e){e.prototype=Object.create(Vr),e.prototype.state=function(t){if(!arguments.length)return this.$$state;if(e!==Pt||!this.$$html5)throw Hr("nostate");return this.$$state=b(t)?null:t,this.$$urlUpdatedByLocation=!0,this}});var zr=i("$parse"),Ur={}.constructor.prototype.valueOf,Wr=fe();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Wr[e]=!0});var qr={n:"\n",f:"\f",r:"\r",t:"\t",v:"\x0B","'":"'",'"':'"'},Yr=function(e){this.options=e};Yr.prototype={constructor:Yr,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;)if(e=this.text.charAt(this.index),'"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var t=e+this.peek(),n=t+this.peek(2),i=Wr[t],r=Wr[n];Wr[e]||i||r?(e=r?n:i?t:e,this.tokens.push({index:this.index,text:e,operator:!0}),this.index+=e.length):this.throwError("Unexpected next character ",this.index,this.index+1)}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){return e=e||1,this.index+e<this.text.length&&this.text.charAt(this.index+e)},isNumber:function(e){return"0"<=e&&"9">=e&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\x0B"===e||""===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&"z">=e||"A"<=e&&"Z">=e||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&56319>=n&&56320<=i&&57343>=i?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){throw n=n||this.index,t=y(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n,zr("lexerr",e,t,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=xi(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index),i=i+o;if(r)"u"===o?(r=this.text.substring(this.index+1,this.index+5),r.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+r+"]"),this.index+=4,n+=String.fromCharCode(parseInt(r,16))):n+=qr[o]||o,r=!1;else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var Gr=function(e,t){this.lexer=e,this.options=t};Gr.Program="Program",Gr.ExpressionStatement="ExpressionStatement",Gr.AssignmentExpression="AssignmentExpression",Gr.ConditionalExpression="ConditionalExpression",Gr.LogicalExpression="LogicalExpression",Gr.BinaryExpression="BinaryExpression",Gr.UnaryExpression="UnaryExpression",Gr.CallExpression="CallExpression",Gr.MemberExpression="MemberExpression",Gr.Identifier="Identifier",Gr.Literal="Literal",Gr.ArrayExpression="ArrayExpression",Gr.Property="Property",Gr.ObjectExpression="ObjectExpression",Gr.ThisExpression="ThisExpression",Gr.LocalsExpression="LocalsExpression",Gr.NGValueParameter="NGValueParameter",Gr.prototype={ast:function(e){return this.text=e,this.tokens=this.lexer.lex(e),e=this.program(),0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:Gr.Program,body:e}},expressionStatement:function(){return{type:Gr.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!Yt(e))throw zr("lval");e={type:Gr.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:Gr.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:Gr.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:Gr.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:Gr.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:Gr.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:Gr.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:Gr.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:Gr.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e;this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=L(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:Gr.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());for(var t;t=this.expect("(","[",".");)"("===t.text?(e={type:Gr.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:Gr.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:Gr.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){e=[e];for(var t={type:Gr.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return t},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)do e.push(this.filterChain());while(this.expect(","));return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:Gr.Identifier,name:e.text}},constant:function(){return{type:Gr.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Gr.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:Gr.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:Gr.ObjectExpression,properties:t}},throwError:function(e,t){throw zr("syntax",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw zr("ueoe",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw zr("ueoe",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){e=this.tokens[e];var o=e.text;if(o===t||o===n||o===i||o===r||!(t||n||i||r))return e}return!1},expect:function(e,t,n,i){return!!(e=this.peek(e,t,n,i))&&(this.tokens.shift(),e)},selfReferential:{"this":{type:Gr.ThisExpression},$locals:{type:Gr.LocalsExpression}}};var Kr=2;Kt.prototype={compile:function(e){var t=this;this.state={nextId:0,filters:{},fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Wt(e,t.$filter);var n,i="";return this.stage="assign",(n=Gt(e))&&(this.state.computing="assign",i=this.nextId(),this.recurse(n,i),this.return_(i),i="fn.assign="+this.generateFunction("assign","s,v,l")),n=qt(e.body),t.stage="inputs",o(n,function(e,n){var i="fn"+n;t.state[i]={vars:[],body:[],own:{}},t.state.computing=i;var r=t.nextId();t.recurse(e,r),t.return_(r),t.state.inputs.push({name:i,isPure:e.isPure}),e.watchId=n}),this.state.computing="fn",this.stage="main",this.recurse(e),e='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+i+this.watchFns()+"return fn;",e=new Function("$filter","getStringValue","ifDefined","plus",e)(this.$filter,jt,Vt,zt),this.state=this.stage=void 0,e},USE:"use",STRICT:"strict",watchFns:function(){var e=[],t=this.state.inputs,n=this;return o(t,function(t){e.push("var "+t.name+"="+n.generateFunction(t.name,"s")),t.isPure&&e.push(t.name,".isPure="+JSON.stringify(t.isPure)+";")}),t.length&&e.push("fn.inputs=["+t.map(function(e){return e.name}).join(",")+"];"),e.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var e=[],t=this;return o(this.state.filters,function(n,i){e.push(n+"=$filter("+t.escape(i)+")")}),e.length?"var "+e.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(e,t,n,i,r,a){var s,l,u,c,d,f=this;if(i=i||p,!a&&y(e.watchId))t=t||this.nextId(),this.if_("i",this.lazyAssign(t,this.computedMember("i",e.watchId)),this.lazyRecurse(e,t,n,i,r,!0));else switch(e.type){case Gr.Program:o(e.body,function(t,n){f.recurse(t.expression,void 0,void 0,function(e){l=e}),n!==e.body.length-1?f.current().body.push(l,";"):f.return_(l)});break;case Gr.Literal:c=this.escape(e.value),this.assign(t,c),i(t||c);break;case Gr.UnaryExpression:this.recurse(e.argument,void 0,void 0,function(e){l=e}),c=e.operator+"("+this.ifDefined(l,0)+")",this.assign(t,c),i(c);break;case Gr.BinaryExpression:this.recurse(e.left,void 0,void 0,function(e){s=e}),this.recurse(e.right,void 0,void 0,function(e){l=e}),c="+"===e.operator?this.plus(s,l):"-"===e.operator?this.ifDefined(s,0)+e.operator+this.ifDefined(l,0):"("+s+")"+e.operator+"("+l+")",this.assign(t,c),i(c);break;case Gr.LogicalExpression:t=t||this.nextId(),f.recurse(e.left,t),f.if_("&&"===e.operator?t:f.not(t),f.lazyRecurse(e.right,t)),i(t);break;case Gr.ConditionalExpression:t=t||this.nextId(),f.recurse(e.test,t),f.if_(t,f.lazyRecurse(e.alternate,t),f.lazyRecurse(e.consequent,t)),i(t);break;case Gr.Identifier:t=t||this.nextId(),n&&(n.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",e.name)+"?l:s"),n.computed=!1,n.name=e.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",e.name)),function(){f.if_("inputs"===f.stage||"s",function(){r&&1!==r&&f.if_(f.isNull(f.nonComputedMember("s",e.name)),f.lazyAssign(f.nonComputedMember("s",e.name),"{}")),f.assign(t,f.nonComputedMember("s",e.name))})},t&&f.lazyAssign(t,f.nonComputedMember("l",e.name))),i(t);break;case Gr.MemberExpression:s=n&&(n.context=this.nextId())||this.nextId(),t=t||this.nextId(),f.recurse(e.object,s,void 0,function(){f.if_(f.notNull(s),function(){e.computed?(l=f.nextId(),f.recurse(e.property,l),f.getStringValue(l),
r&&1!==r&&f.if_(f.not(f.computedMember(s,l)),f.lazyAssign(f.computedMember(s,l),"{}")),c=f.computedMember(s,l),f.assign(t,c),n&&(n.computed=!0,n.name=l)):(r&&1!==r&&f.if_(f.isNull(f.nonComputedMember(s,e.property.name)),f.lazyAssign(f.nonComputedMember(s,e.property.name),"{}")),c=f.nonComputedMember(s,e.property.name),f.assign(t,c),n&&(n.computed=!1,n.name=e.property.name))},function(){f.assign(t,"undefined")}),i(t)},!!r);break;case Gr.CallExpression:t=t||this.nextId(),e.filter?(l=f.filter(e.callee.name),u=[],o(e.arguments,function(e){var t=f.nextId();f.recurse(e,t),u.push(t)}),c=l+"("+u.join(",")+")",f.assign(t,c),i(t)):(l=f.nextId(),s={},u=[],f.recurse(e.callee,l,s,function(){f.if_(f.notNull(l),function(){o(e.arguments,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){u.push(e)})}),c=s.name?f.member(s.context,s.name,s.computed)+"("+u.join(",")+")":l+"("+u.join(",")+")",f.assign(t,c)},function(){f.assign(t,"undefined")}),i(t)}));break;case Gr.AssignmentExpression:l=this.nextId(),s={},this.recurse(e.left,void 0,s,function(){f.if_(f.notNull(s.context),function(){f.recurse(e.right,l),c=f.member(s.context,s.name,s.computed)+e.operator+l,f.assign(t,c),i(t||c)})},1);break;case Gr.ArrayExpression:u=[],o(e.elements,function(t){f.recurse(t,e.constant?void 0:f.nextId(),void 0,function(e){u.push(e)})}),c="["+u.join(",")+"]",this.assign(t,c),i(t||c);break;case Gr.ObjectExpression:u=[],d=!1,o(e.properties,function(e){e.computed&&(d=!0)}),d?(t=t||this.nextId(),this.assign(t,"{}"),o(e.properties,function(e){e.computed?(s=f.nextId(),f.recurse(e.key,s)):s=e.key.type===Gr.Identifier?e.key.name:""+e.key.value,l=f.nextId(),f.recurse(e.value,l),f.assign(f.member(t,s,e.computed),l)})):(o(e.properties,function(t){f.recurse(t.value,e.constant?void 0:f.nextId(),void 0,function(e){u.push(f.escape(t.key.type===Gr.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+u.join(",")+"}",this.assign(t,c)),i(t||c);break;case Gr.ThisExpression:this.assign(t,"s"),i(t||"s");break;case Gr.LocalsExpression:this.assign(t,"l"),i(t||"l");break;case Gr.NGValueParameter:this.assign(t,"v"),i(t||"v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},isNull:function(e){return e+"==null"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){var n=/[^$_a-zA-Z0-9]/g;return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(n,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(C(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(_(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if("undefined"==typeof e)return"undefined";throw zr("esc")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Xt.prototype={compile:function(e){var t=this;Wt(e,t.$filter);var n,i;(n=Gt(e))&&(i=this.recurse(n)),n=qt(e.body);var r;n&&(r=[],o(n,function(e,n){var i=t.recurse(e);i.isPure=e.isPure,e.input=i,r.push(i),e.watchId=n}));var a=[];return o(e.body,function(e){a.push(t.recurse(e.expression))}),e=0===e.body.length?p:1===e.body.length?a[0]:function(e,t){var n;return o(a,function(i){n=i(e,t)}),n},i&&(e.assign=function(e,t,n){return i(e,n,t)}),r&&(e.inputs=r),e},recurse:function(e,t,n){var i,r,a,s=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case Gr.Literal:return this.value(e.value,t);case Gr.UnaryExpression:return r=this.recurse(e.argument),this["unary"+e.operator](r,t);case Gr.BinaryExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Gr.LogicalExpression:return i=this.recurse(e.left),r=this.recurse(e.right),this["binary"+e.operator](i,r,t);case Gr.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),t);case Gr.Identifier:return s.identifier(e.name,t,n);case Gr.MemberExpression:return i=this.recurse(e.object,!1,!!n),e.computed||(r=e.property.name),e.computed&&(r=this.recurse(e.property)),e.computed?this.computedMember(i,r,t,n):this.nonComputedMember(i,r,t,n);case Gr.CallExpression:return a=[],o(e.arguments,function(e){a.push(s.recurse(e))}),e.filter&&(r=this.$filter(e.callee.name)),e.filter||(r=this.recurse(e.callee,!0)),e.filter?function(e,n,i,o){for(var s=[],l=0;l<a.length;++l)s.push(a[l](e,n,i,o));return e=r.apply(void 0,s,o),t?{context:void 0,name:void 0,value:e}:e}:function(e,n,i,o){var s,l=r(e,n,i,o);if(null!=l.value){s=[];for(var u=0;u<a.length;++u)s.push(a[u](e,n,i,o));s=l.value.apply(l.context,s)}return t?{value:s}:s};case Gr.AssignmentExpression:return i=this.recurse(e.left,!0,1),r=this.recurse(e.right),function(e,n,o,a){var s=i(e,n,o,a);return e=r(e,n,o,a),s.context[s.name]=e,t?{value:e}:e};case Gr.ArrayExpression:return a=[],o(e.elements,function(e){a.push(s.recurse(e))}),function(e,n,i,r){for(var o=[],s=0;s<a.length;++s)o.push(a[s](e,n,i,r));return t?{value:o}:o};case Gr.ObjectExpression:return a=[],o(e.properties,function(e){e.computed?a.push({key:s.recurse(e.key),computed:!0,value:s.recurse(e.value)}):a.push({key:e.key.type===Gr.Identifier?e.key.name:""+e.key.value,computed:!1,value:s.recurse(e.value)})}),function(e,n,i,r){for(var o={},s=0;s<a.length;++s)a[s].computed?o[a[s].key(e,n,i,r)]=a[s].value(e,n,i,r):o[a[s].key]=a[s].value(e,n,i,r);return t?{value:o}:o};case Gr.ThisExpression:return function(e){return t?{value:e}:e};case Gr.LocalsExpression:return function(e,n){return t?{value:n}:n};case Gr.NGValueParameter:return function(e,n,i){return t?{value:i}:i}}},"unary+":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=y(n)?+n:0,t?{value:n}:n}},"unary-":function(e,t){return function(n,i,r,o){return n=e(n,i,r,o),n=y(n)?-n:-0,t?{value:n}:n}},"unary!":function(e,t){return function(n,i,r,o){return n=!e(n,i,r,o),t?{value:n}:n}},"binary+":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=zt(s,i),n?{value:s}:s}},"binary-":function(e,t,n){return function(i,r,o,a){var s=e(i,r,o,a);return i=t(i,r,o,a),s=(y(s)?s:0)-(y(i)?i:0),n?{value:s}:s}},"binary*":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)*t(i,r,o,a),n?{value:i}:i}},"binary/":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)/t(i,r,o,a),n?{value:i}:i}},"binary%":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)%t(i,r,o,a),n?{value:i}:i}},"binary===":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)===t(i,r,o,a),n?{value:i}:i}},"binary!==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!==t(i,r,o,a),n?{value:i}:i}},"binary==":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)==t(i,r,o,a),n?{value:i}:i}},"binary!=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)!=t(i,r,o,a),n?{value:i}:i}},"binary<":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<t(i,r,o,a),n?{value:i}:i}},"binary>":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>t(i,r,o,a),n?{value:i}:i}},"binary<=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)<=t(i,r,o,a),n?{value:i}:i}},"binary>=":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)>=t(i,r,o,a),n?{value:i}:i}},"binary&&":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)&&t(i,r,o,a),n?{value:i}:i}},"binary||":function(e,t,n){return function(i,r,o,a){return i=e(i,r,o,a)||t(i,r,o,a),n?{value:i}:i}},"ternary?:":function(e,t,n,i){return function(r,o,a,s){return r=e(r,o,a,s)?t(r,o,a,s):n(r,o,a,s),i?{value:r}:r}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(e,t,n){return function(i,r,o,a){return i=r&&e in r?r:i,n&&1!==n&&i&&null==i[e]&&(i[e]={}),r=i?i[e]:void 0,t?{context:i,name:e,value:r}:r}},computedMember:function(e,t,n,i){return function(r,o,a,s){var l,u,c=e(r,o,a,s);return null!=c&&(l=t(r,o,a,s),l+="",i&&1!==i&&c&&!c[l]&&(c[l]={}),u=c[l]),n?{context:c,name:l,value:u}:u}},nonComputedMember:function(e,t,n,i){return function(r,o,a,s){return r=e(r,o,a,s),i&&1!==i&&r&&null==r[t]&&(r[t]={}),o=null!=r?r[t]:void 0,n?{context:r,name:t,value:o}:o}},inputs:function(e,t){return function(n,i,r,o){return o?o[t]:e(n,i,r)}}},Jt.prototype={constructor:Jt,parse:function(e){e=this.getAst(e);var t=this.astCompiler.compile(e.ast),n=e.ast;return t.literal=0===n.body.length||1===n.body.length&&(n.body[0].expression.type===Gr.Literal||n.body[0].expression.type===Gr.ArrayExpression||n.body[0].expression.type===Gr.ObjectExpression),t.constant=e.ast.constant,t.oneTime=e.oneTime,t},getAst:function(e){var t=!1;return e=e.trim(),":"===e.charAt(0)&&":"===e.charAt(1)&&(t=!0,e=e.substring(2)),{ast:this.ast.ast(e),oneTime:t}}};var Xr,Jr=i("$sce"),Zr={HTML:"html",CSS:"css",MEDIA_URL:"mediaUrl",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Qr=/_([a-z])/g,eo=i("$templateRequest"),to=i("$timeout"),no=e.document.createElement("a"),io=vn(e.location.href);no.href="http://[::1]";var ro="[::1]"===no.hostname;xn.$inject=["$document"],_n.$inject=["$provide"];var oo=22,ao=".",so="0";Tn.$inject=["$locale"],En.$inject=["$locale"];var lo={yyyy:Pn("FullYear",4,0,!1,!0),yy:Pn("FullYear",2,0,!0,!0),y:Pn("FullYear",1,0,!1,!0),MMMM:In("Month"),MMM:In("Month",!0),MM:Pn("Month",2,1),M:Pn("Month",1,1),LLLL:In("Month",!1,!0),dd:Pn("Date",2),d:Pn("Date",1),HH:Pn("Hours",2),H:Pn("Hours",1),hh:Pn("Hours",2,-12),h:Pn("Hours",1,-12),mm:Pn("Minutes",2),m:Pn("Minutes",1),ss:Pn("Seconds",2),s:Pn("Seconds",1),sss:Pn("Milliseconds",3),EEEE:In("Day"),EEE:In("Day",!0),a:function(e,t){return 12>e.getHours()?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){return e=-1*n,e=(0<=e?"+":"")+(Nn(Math[0<e?"floor":"ceil"](e/60),2)+Nn(Math.abs(e%60),2))},ww:Ln(2),w:Ln(1),G:Bn,GG:Bn,GGG:Bn,GGGG:function(e,t){return 0>=e.getFullYear()?t.ERANAMES[0]:t.ERANAMES[1]}},uo=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))([\s\S]*)/,co=/^-?\d+$/;Fn.$inject=["$locale"];var fo=g(xi),ho=g(Ci);zn.$inject=["$parse"];var po=g({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Di.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),mo={};o(ir,function(e,t){function n(e,n,r){e.$watch(r[i],function(e){r.$set(t,!!e)})}if("multiple"!==e){var i=st("ng-"+t),r=n;"checked"===e&&(r=function(e,t,r){r.ngModel!==r[i]&&n(e,t,r)}),mo[i]=function(){return{restrict:"A",priority:100,link:r}}}}),o(or,function(e,t){mo[t]=function(){return{priority:100,link:function(e,n,i){return"ngPattern"===t&&"/"===i.ngPattern.charAt(0)&&(n=i.ngPattern.match(yi))?void i.$set("ngPattern",new RegExp(n[1],n[2])):void e.$watch(i[t],function(e){i.$set(t,e)})}}}}),o(["src","srcset","href"],function(e){var t=st("ng-"+e);mo[t]=["$sce",function(n){return{priority:99,link:function(i,r,o){var a=e,s=e;"href"===e&&"[object SVGAnimatedString]"===Di.call(r.prop("href"))&&(s="xlinkHref",o.$attr[s]="xlink:href",a=null),o.$set(t,n.getTrustedMediaUrl(o[t])),o.$observe(t,function(t){t?(o.$set(s,t),pi&&a&&r.prop(a,o[s])):"href"===e&&o.$set(s,null)})}}}]});var go={$addControl:p,$getControls:g([]),$$renameControl:function(e,t){e.$name=t},$removeControl:p,$setValidity:p,$setDirty:p,$setPristine:p,$setSubmitted:p,$$setSubmitted:p};Wn.$inject=["$element","$attrs","$scope","$animate","$interpolate"],Wn.prototype={$rollbackViewValue:function(){o(this.$$controls,function(e){e.$rollbackViewValue()})},$commitViewValue:function(){o(this.$$controls,function(e){e.$commitViewValue()})},$addControl:function(e){ue(e.$name,"input"),this.$$controls.push(e),e.$name&&(this[e.$name]=e),e.$$parentForm=this},$getControls:function(){return me(this.$$controls)},$$renameControl:function(e,t){var n=e.$name;this[n]===e&&delete this[n],this[t]=e,e.$name=t},$removeControl:function(e){e.$name&&this[e.$name]===e&&delete this[e.$name],o(this.$pending,function(t,n){this.$setValidity(n,null,e)},this),o(this.$error,function(t,n){this.$setValidity(n,null,e)},this),o(this.$$success,function(t,n){this.$setValidity(n,null,e)},this),R(this.$$controls,e),e.$$parentForm=go},$setDirty:function(){this.$$animate.removeClass(this.$$element,Qo),this.$$animate.addClass(this.$$element,ea),this.$dirty=!0,this.$pristine=!1,this.$$parentForm.$setDirty()},$setPristine:function(){this.$$animate.setClass(this.$$element,Qo,ea+" ng-submitted"),this.$dirty=!1,this.$pristine=!0,this.$submitted=!1,o(this.$$controls,function(e){e.$setPristine()})},$setUntouched:function(){o(this.$$controls,function(e){e.$setUntouched()})},$setSubmitted:function(){for(var e=this;e.$$parentForm&&e.$$parentForm!==go;)e=e.$$parentForm;e.$$setSubmitted()},$$setSubmitted:function(){this.$$animate.addClass(this.$$element,"ng-submitted"),this.$submitted=!0,o(this.$$controls,function(e){e.$$setSubmitted&&e.$$setSubmitted()})}},Yn({clazz:Wn,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(R(i,n),0===i.length&&delete e[t])}});var vo=function(e){return["$timeout","$parse",function(t,n){function i(e){return""===e?n('this[""]').assign:n(e).assign||p}return{name:"form",restrict:e?"EAC":"E",require:["form","^^?form"],controller:Wn,compile:function(n,r){n.addClass(Qo).addClass(Jo);var o=r.name?"name":!(!e||!r.ngForm)&&"ngForm";return{pre:function(e,n,r,a){var s=a[0];if(!("action"in r)){var l=function(t){e.$apply(function(){s.$commitViewValue(),s.$setSubmitted()}),t.preventDefault()};n[0].addEventListener("submit",l),n.on("$destroy",function(){t(function(){n[0].removeEventListener("submit",l)},0,!1)})}(a[1]||s.$$parentForm).$addControl(s);var u=o?i(s.$name):p;o&&(u(e,s),r.$observe(o,function(t){s.$name!==t&&(u(e,void 0),s.$$parentForm.$$renameControl(s,t),(u=i(s.$name))(e,s))})),n.on("$destroy",function(){s.$$parentForm.$removeControl(s),u(e,void 0),c(s,go)})}}}}}]},bo=vo(),yo=vo(!0),wo=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,xo=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Co=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,_o=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,ko=/^(\d{4,})-(\d{2})-(\d{2})$/,So=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Do=/^(\d{4,})-W(\d\d)$/,$o=/^(\d{4,})-(\d\d)$/,To=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Eo=fe();o(["date","datetime-local","month","time","week"],function(e){Eo[e]=!0});var Ao={text:function(e,t,n,i,r,o){Xn(e,t,n,i,r,o),Kn(i)},date:Zn("date",ko,Jn(ko,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":Zn("datetimelocal",So,Jn(So,"yyyy MM dd HH mm ss sss".split(" ")),"yyyy-MM-ddTHH:mm:ss.sss"),time:Zn("time",To,Jn(To,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:Zn("week",Do,function(e,t){if(k(e))return e;if(C(e)){Do.lastIndex=0;var n=Do.exec(e);if(n){var i=+n[1],r=+n[2],o=n=0,a=0,s=0,l=Rn(i),r=7*(r-1);return t&&(n=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds()),new Date(i,0,l.getDate()+r,n,o,a,s)}}return NaN},"yyyy-Www"),month:Zn("month",$o,Jn($o,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o,a,s){Qn(e,t,n,i,"number"),ei(i),Xn(e,t,n,i,r,o);var l;if(y(n.min)||n.ngMin){var u=n.min||s(n.ngMin)(e);l=ti(u),i.$validators.min=function(e,t){return i.$isEmpty(t)||b(l)||t>=l},n.$observe("min",function(e){e!==u&&(l=ti(e),u=e,i.$validate())})}if(y(n.max)||n.ngMax){var c=n.max||s(n.ngMax)(e),d=ti(c);i.$validators.max=function(e,t){return i.$isEmpty(t)||b(d)||t<=d},n.$observe("max",function(e){e!==c&&(d=ti(e),c=e,i.$validate())})}if(y(n.step)||n.ngStep){var f=n.step||s(n.ngStep)(e),h=ti(f);i.$validators.step=function(e,t){return i.$isEmpty(t)||b(h)||ii(t,l||0,h)},n.$observe("step",function(e){e!==f&&(h=ti(e),f=e,i.$validate())})}},url:function(e,t,n,i,r,o){Xn(e,t,n,i,r,o),Kn(i),i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||xo.test(n)}},email:function(e,t,n,i,r,o){Xn(e,t,n,i,r,o),Kn(i),i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Co.test(n)}},radio:function(e,t,n,i){var r=!n.ngTrim||"false"!==Ni(n.ngTrim);b(n.name)&&t.attr("name",++Ai),t.on("change",function(e){var o;t[0].checked&&(o=n.value,r&&(o=Ni(o)),i.$setViewValue(o,e&&e.type))}),i.$render=function(){var e=n.value;r&&(e=Ni(e)),t[0].checked=e===i.$viewValue},n.$observe("value",i.$render)},range:function(e,t,n,i,r,o){function a(e,i){t.attr(e,n[e]);var r=n[e];n.$observe(e,function(e){e!==r&&(r=e,i(e))})}function s(e){d=ti(e),Oi(i.$modelValue)||(c?(e=t.val(),d>e&&(e=d,t.val(e)),i.$setViewValue(e)):i.$validate())}function l(e){f=ti(e),Oi(i.$modelValue)||(c?(e=t.val(),f<e&&(t.val(f),e=f<d?d:f),i.$setViewValue(e)):i.$validate())}function u(e){h=ti(e),Oi(i.$modelValue)||(c?i.$viewValue!==t.val()&&i.$setViewValue(t.val()):i.$validate())}Qn(e,t,n,i,"range"),ei(i),Xn(e,t,n,i,r,o);var c=i.$$hasNativeValidators&&"range"===t[0].type,d=c?0:void 0,f=c?100:void 0,h=c?1:void 0,p=t[0].validity;e=y(n.min),r=y(n.max),o=y(n.step);var m=i.$render;i.$render=c&&y(p.rangeUnderflow)&&y(p.rangeOverflow)?function(){m(),i.$setViewValue(t.val())}:m,e&&(d=ti(n.min),i.$validators.min=c?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(d)||t>=d},a("min",s)),r&&(f=ti(n.max),i.$validators.max=c?function(){return!0}:function(e,t){return i.$isEmpty(t)||b(f)||t<=f},a("max",l)),o&&(h=ti(n.step),i.$validators.step=c?function(){return!p.stepMismatch}:function(e,t){return i.$isEmpty(t)||b(h)||ii(t,d||0,h)},a("step",u))},checkbox:function(e,t,n,i,r,o,a,s){var l=ri(s,e,"ngTrueValue",n.ngTrueValue,!0),u=ri(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("change",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return F(e,l)}),i.$parsers.push(function(e){return e?l:u})},hidden:p,button:p,submit:p,reset:p,file:p},Oo=["$browser","$sniffer","$filter","$parse",function(e,t,n,i){return{restrict:"E",require:["?ngModel"],link:{pre:function(r,o,a,s){s[0]&&(Ao[xi(a.type)]||Ao.text)(r,o,a,s[0],t,e,n,i)}}}}],Mo=function(){var e={configurable:!0,enumerable:!1,get:function(){return this.getAttribute("value")||""},set:function(e){this.setAttribute("value",e)}};return{restrict:"E",priority:200,compile:function(t,n){if("hidden"===xi(n.type))return{pre:function(t,n,i,r){t=n[0],t.parentNode&&t.parentNode.insertBefore(t,t.nextSibling),Object.defineProperty&&Object.defineProperty(t,"value",e)}}}}},No=/^(true|false|\d+)$/,Po=function(){function e(e,t,n){var i=y(n)?n:9===pi?"":null;e.prop("value",i),t.$set("value",n)}return{restrict:"A",priority:100,compile:function(t,n){return No.test(n.ngValue)?function(t,n,i){t=t.$eval(i.ngValue),e(n,i,t)}:function(t,n,i){t.$watch(i.ngValue,function(t){e(n,i,t)})}}}},Io=["$compile",function(e){return{restrict:"AC",compile:function(t){return e.$$addBindingClass(t),function(t,n,i){e.$$addBindingInfo(n,i.ngBind),n=n[0],t.$watch(i.ngBind,function(e){n.textContent=he(e)})}}}}],Ro=["$interpolate","$compile",function(e,t){return{compile:function(n){return t.$$addBindingClass(n),function(n,i,r){n=e(i.attr(r.$attr.ngBindTemplate)),t.$$addBindingInfo(i,n.expressions),i=i[0],r.$observe("ngBindTemplate",function(e){i.textContent=b(e)?"":e})}}}}],Lo=["$sce","$parse","$compile",function(e,t,n){return{restrict:"A",compile:function(i,r){var o=t(r.ngBindHtml),a=t(r.ngBindHtml,function(t){return e.valueOf(t)});return n.$$addBindingClass(i),function(t,i,r){n.$$addBindingInfo(i,r.ngBindHtml),t.$watch(a,function(){var n=o(t);i.html(e.getTrustedHtml(n)||"")})}}}}],Bo=g({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}}),Fo=oi("",!0),Ho=oi("Odd",0),jo=oi("Even",1),Vo=Un({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),zo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Uo={},Wo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(e){var t=st("ng-"+e);Uo[t]=["$parse","$rootScope","$exceptionHandler",function(n,i,r){return ai(n,i,r,t,e,Wo[e])}]});var qo=["$animate","$compile",function(e,t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,i,r,o,a){var s,l,u;n.$watch(r.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=t.$$createComment("end ngIf",r.ngIf),s={clone:n},e.enter(n,i.parent(),i)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=de(s.clone),e.leave(u).done(function(e){!1!==e&&(u=null)}),s=null))})}}}],Yo=["$templateRequest","$anchorScroll","$animate",function(e,t,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ei.noop,compile:function(i,r){var o=r.ngInclude||r.src,a=r.onload||"",s=r.autoscroll;return function(i,r,l,u,c){var d,f,h,p=0,m=function(){f&&(f.remove(),f=null),d&&(d.$destroy(),d=null),h&&(n.leave(h).done(function(e){!1!==e&&(f=null)}),f=h,h=null)};i.$watch(o,function(o){var l=function(e){!1===e||!y(s)||s&&!i.$eval(s)||t()},f=++p;o?(e(o,!0).then(function(e){if(!i.$$destroyed&&f===p){var t=i.$new();u.template=e,e=c(t,function(e){m(),n.enter(e,null,r).done(l)}),d=t,h=e,d.$emit("$includeContentLoaded",o),i.$eval(a)}},function(){i.$$destroyed||f!==p||(m(),i.$emit("$includeContentError",o))}),i.$emit("$includeContentRequested",o)):(m(),u.template=null)})}}}}],Go=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,i,r,o){Di.call(i[0]).match(/SVG/)?(i.empty(),t(xe(o.template,e.document).childNodes)(n,function(e){i.append(e)},{futureParentElement:i})):(i.html(o.template),t(i.contents())(n))}}}],Ko=Un({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Xo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=n.ngList||", ",a="false"!==n.ngTrim,s=a?Ni(r):r;i.$parsers.push(function(e){if(!b(e)){var t=[];return e&&o(e.split(s),function(e){e&&t.push(a?Ni(e):e)}),t}}),i.$formatters.push(function(e){if(S(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},Jo="ng-valid",Zo="ng-invalid",Qo="ng-pristine",ea="ng-dirty",ta=i("ngModel");si.$inject="$scope $exceptionHandler $attrs $element $parse $animate $timeout $q $interpolate".split(" "),si.prototype={$$initGetterSetters:function(){if(this.$options.getOption("getterSetter")){var e=this.$$parse(this.$$attr.ngModel+"()"),t=this.$$parse(this.$$attr.ngModel+"($$$p)");this.$$ngModelGet=function(t){var n=this.$$parsedNgModel(t);return $(n)&&(n=e(t)),n},this.$$ngModelSet=function(e,n){$(this.$$parsedNgModel(e))?t(e,{$$$p:n}):this.$$parsedNgModelAssign(e,n)}}else if(!this.$$parsedNgModel.assign)throw ta("nonassign",this.$$attr.ngModel,G(this.$$element))},$render:p,$isEmpty:function(e){return b(e)||""===e||null===e||e!==e},$$updateEmptyClasses:function(e){this.$isEmpty(e)?(this.$$animate.removeClass(this.$$element,"ng-not-empty"),this.$$animate.addClass(this.$$element,"ng-empty")):(this.$$animate.removeClass(this.$$element,"ng-empty"),this.$$animate.addClass(this.$$element,"ng-not-empty"))},$setPristine:function(){this.$dirty=!1,this.$pristine=!0,this.$$animate.removeClass(this.$$element,ea),this.$$animate.addClass(this.$$element,Qo)},$setDirty:function(){this.$dirty=!0,this.$pristine=!1,this.$$animate.removeClass(this.$$element,Qo),this.$$animate.addClass(this.$$element,ea),this.$$parentForm.$setDirty()},$setUntouched:function(){this.$touched=!1,this.$untouched=!0,this.$$animate.setClass(this.$$element,"ng-untouched","ng-touched")},$setTouched:function(){this.$touched=!0,this.$untouched=!1,this.$$animate.setClass(this.$$element,"ng-touched","ng-untouched")},$rollbackViewValue:function(){this.$$timeout.cancel(this.$$pendingDebounce),this.$viewValue=this.$$lastCommittedViewValue,this.$render()},$validate:function(){if(!Oi(this.$modelValue)){var e=this.$$lastCommittedViewValue,t=this.$$rawModelValue,n=this.$valid,i=this.$modelValue,r=this.$options.getOption("allowInvalid"),o=this;this.$$runValidators(t,e,function(e){r||n===e||(o.$modelValue=e?t:void 0,o.$modelValue!==i&&o.$$writeModelToScope())})}},$$runValidators:function(e,t,n){function i(){var n=!0;return o(u.$validators,function(i,r){var o=Boolean(i(e,t));n=n&&o,a(r,o)}),!!n||(o(u.$asyncValidators,function(e,t){a(t,null)}),!1)}function r(){var n=[],i=!0;o(u.$asyncValidators,function(r,o){var s=r(e,t);if(!s||!$(s.then))throw ta("nopromise",s);a(o,void 0),n.push(s.then(function(){a(o,!0)},function(){i=!1,a(o,!1)}))}),n.length?u.$$q.all(n).then(function(){s(i)},p):s(!0)}function a(e,t){l===u.$$currentValidationRunId&&u.$setValidity(e,t)}function s(e){l===u.$$currentValidationRunId&&n(e)}this.$$currentValidationRunId++;var l=this.$$currentValidationRunId,u=this;(function(){var e=u.$$parserName;return b(u.$$parserValid)?(a(e,null),!0):(u.$$parserValid||(o(u.$validators,function(e,t){a(t,null)}),o(u.$asyncValidators,function(e,t){a(t,null)})),a(e,u.$$parserValid),u.$$parserValid)})()&&i()?r():s(!1)},$commitViewValue:function(){var e=this.$viewValue;this.$$timeout.cancel(this.$$pendingDebounce),(this.$$lastCommittedViewValue!==e||""===e&&this.$$hasNativeValidators)&&(this.$$updateEmptyClasses(e),this.$$lastCommittedViewValue=e,this.$pristine&&this.$setDirty(),this.$$parseAndValidate())},$$parseAndValidate:function(){var e=this.$$lastCommittedViewValue,t=this;if(this.$$parserValid=!b(e)||void 0,this.$setValidity(this.$$parserName,null),this.$$parserName="parse",this.$$parserValid)for(var n=0;n<this.$parsers.length;n++)if(e=this.$parsers[n](e),b(e)){this.$$parserValid=!1;break}Oi(this.$modelValue)&&(this.$modelValue=this.$$ngModelGet(this.$$scope));var i=this.$modelValue,r=this.$options.getOption("allowInvalid");this.$$rawModelValue=e,r&&(this.$modelValue=e,t.$modelValue!==i&&t.$$writeModelToScope()),this.$$runValidators(e,this.$$lastCommittedViewValue,function(n){r||(t.$modelValue=n?e:void 0,t.$modelValue!==i&&t.$$writeModelToScope())})},$$writeModelToScope:function(){this.$$ngModelSet(this.$$scope,this.$modelValue),o(this.$viewChangeListeners,function(e){try{e()}catch(t){this.$$exceptionHandler(t)}},this)},$setViewValue:function(e,t){this.$viewValue=e,this.$options.getOption("updateOnDefault")&&this.$$debounceViewValueCommit(t)},$$debounceViewValueCommit:function(e){var t=this.$options.getOption("debounce");_(t[e])?t=t[e]:_(t["default"])&&-1===this.$options.getOption("updateOn").indexOf(e)?t=t["default"]:_(t["*"])&&(t=t["*"]),this.$$timeout.cancel(this.$$pendingDebounce);var n=this;0<t?this.$$pendingDebounce=this.$$timeout(function(){n.$commitViewValue()},t):this.$$rootScope.$$phase?this.$commitViewValue():this.$$scope.$apply(function(){n.$commitViewValue()})},$overrideModelOptions:function(e){this.$options=this.$options.createChild(e),this.$$setUpdateOnEvents()},$processModelValue:function(){var e=this.$$format();this.$viewValue!==e&&(this.$$updateEmptyClasses(e),this.$viewValue=this.$$lastCommittedViewValue=e,this.$render(),this.$$runValidators(this.$modelValue,this.$viewValue,p))},$$format:function(){for(var e=this.$formatters,t=e.length,n=this.$modelValue;t--;)n=e[t](n);return n},$$setModelValue:function(e){this.$modelValue=this.$$rawModelValue=e,this.$$parserValid=void 0,this.$processModelValue()},$$setUpdateOnEvents:function(){this.$$updateEvents&&this.$$element.off(this.$$updateEvents,this.$$updateEventHandler),(this.$$updateEvents=this.$options.getOption("updateOn"))&&this.$$element.on(this.$$updateEvents,this.$$updateEventHandler)},$$updateEventHandler:function(e){this.$$debounceViewValueCommit(e&&e.type)}},Yn({clazz:si,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]}});var na,ia=["$rootScope",function(e){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:si,priority:1,compile:function(t){return t.addClass(Qo).addClass("ng-untouched").addClass(Jo),{pre:function(e,t,n,i){var r=i[0];t=i[1]||r.$$parentForm,(i=i[2])&&(r.$options=i.$options),r.$$initGetterSetters(),t.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(t,n,i,r){function o(){a.$setTouched()}var a=r[0];a.$$setUpdateOnEvents(),n.on("blur",function(){a.$touched||(e.$$phase?t.$evalAsync(o):t.$apply(o))})}}}}}],ra=/(\s+|^)default(\s+|$)/;ui.prototype={getOption:function(e){return this.$$options[e]},createChild:function(e){var t=!1;return e=c({},e),o(e,function(n,i){"$inherit"===n?"*"===i?t=!0:(e[i]=this.$$options[i],"updateOn"===i&&(e.updateOnDefault=this.$$options.updateOnDefault)):"updateOn"===i&&(e.updateOnDefault=!1,e[i]=Ni(n.replace(ra,function(){return e.updateOnDefault=!0," "})))},this),t&&(delete e["*"],ci(e,this.$$options)),ci(e,na.$$options),new ui(e)}},na=new ui({updateOn:"",updateOnDefault:!0,debounce:0,getterSetter:!1,allowInvalid:!1,timezone:null});var oa=function(){function e(e,t){this.$$attrs=e,this.$$scope=t}return e.$inject=["$attrs","$scope"],e.prototype={$onInit:function(){var e=this.parentCtrl?this.parentCtrl.$options:na,t=this.$$scope.$eval(this.$$attrs.ngModelOptions);this.$options=e.createChild(t)}},{restrict:"A",priority:10,require:{parentCtrl:"?^^ngModelOptions"},bindToController:!0,controller:e}},aa=Un({terminal:!0,priority:1e3}),sa=i("ngOptions"),la=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ua=["$compile","$document","$parse",function(t,n,i){function a(e,t,n){function o(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function a(e){var t;if(!u&&r(e))t=e;else{t=[];for(var n in e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n)}return t}var s=e.match(la);if(!s)throw sa("iexp",e,G(t));var l=s[5]||s[7],u=s[6];e=/ as /.test(s[0])&&s[1];var c=s[9];t=i(s[2]?s[1]:l);var d=e&&i(e)||t,f=c&&i(c),h=c?function(e,t){return f(n,t)}:function(e){return qe(e)},p=function(e,t){return h(e,w(e,t))},m=i(s[2]||s[1]),g=i(s[3]||""),v=i(s[4]||""),b=i(s[8]),y={},w=u?function(e,t){return y[u]=t,y[l]=e,y}:function(e){return y[l]=e,y};return{trackBy:c,getTrackByValue:p,getWatchables:i(b,function(e){var t=[];e=e||[];for(var i=a(e),r=i.length,o=0;o<r;o++){var l=e===i?o:i[o],u=e[l],l=w(u,l),u=h(u,l);t.push(u),(s[2]||s[1])&&(u=m(n,l),t.push(u)),s[4]&&(l=v(n,l),t.push(l))}return t}),getOptions:function(){for(var e=[],t={},i=b(n)||[],r=a(i),s=r.length,l=0;l<s;l++){var u=i===r?l:r[l],f=w(i[u],u),y=d(n,f),u=h(y,f),x=m(n,f),C=g(n,f),f=v(n,f),y=new o(u,y,x,C,f);e.push(y),t[u]=y}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[p(e)];
},getViewValueFromOption:function(e){return c?L(e.viewValue):e.viewValue}}}}}var s=e.document.createElement("option"),l=e.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=p},post:function(e,i,r,u){function c(e){var t=(e=v.getOptionFromViewValue(e))&&e.element;return t&&!t.selected&&(t.selected=!0),e}function d(e,t){e.element=t,t.disabled=e.disabled,e.label!==t.label&&(t.label=e.label,t.textContent=e.label),t.value=e.selectValue}var f=u[0],h=u[1],p=r.multiple;u=0;for(var m=i.children(),g=m.length;u<g;u++)if(""===m[u].value){f.hasEmptyOption=!0,f.emptyOption=m.eq(u);break}i.empty(),u=!!f.emptyOption,mi(s.cloneNode(!1)).val("?");var v,b=a(r.ngOptions,i,e),w=n[0].createDocumentFragment();f.generateUnknownOptionValue=function(e){return"?"},p?(f.writeValue=function(e){if(v){var t=e&&e.map(c)||[];v.items.forEach(function(e){e.element.selected&&-1===Array.prototype.indexOf.call(t,e)&&(e.element.selected=!1)})}},f.readValue=function(){var e=i.val()||[],t=[];return o(e,function(e){(e=v.selectValueMap[e])&&!e.disabled&&t.push(v.getViewValueFromOption(e))}),t},b.trackBy&&e.$watchCollection(function(){if(S(h.$viewValue))return h.$viewValue.map(function(e){return b.getTrackByValue(e)})},function(){h.$render()})):(f.writeValue=function(e){if(v){var t=i[0].options[i[0].selectedIndex],n=v.getOptionFromViewValue(e);t&&t.removeAttribute("selected"),n?(i[0].value!==n.selectValue&&(f.removeUnknownOption(),i[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):f.selectUnknownOrEmptyOption(e)}},f.readValue=function(){var e=v.selectValueMap[i.val()];return e&&!e.disabled?(f.unselectEmptyOption(),f.removeUnknownOption(),v.getViewValueFromOption(e)):null},b.trackBy&&e.$watch(function(){return b.getTrackByValue(h.$viewValue)},function(){h.$render()})),u&&(t(f.emptyOption)(e),i.prepend(f.emptyOption),8===f.emptyOption[0].nodeType?(f.hasEmptyOption=!1,f.registerOption=function(e,t){""===t.val()&&(f.hasEmptyOption=!0,f.emptyOption=t,f.emptyOption.removeClass("ng-scope"),h.$render(),t.on("$destroy",function(){var e=f.$isEmptyOptionSelected();f.hasEmptyOption=!1,f.emptyOption=void 0,e&&h.$render()}))}):f.emptyOption.removeClass("ng-scope")),e.$watchCollection(b.getWatchables,function(){var e=v&&f.readValue();if(v)for(var t=v.items.length-1;0<=t;t--){var n=v.items[t];Be(y(n.group)?n.element.parentNode:n.element)}v=b.getOptions();var r={};v.items.forEach(function(e){var t;if(y(e.group)){t=r[e.group],t||(t=l.cloneNode(!1),w.appendChild(t),t.label=null===e.group?"null":e.group,r[e.group]=t);var n=s.cloneNode(!1);t.appendChild(n),d(e,n)}else t=s.cloneNode(!1),w.appendChild(t),d(e,t)}),i[0].appendChild(w),h.$render(),h.$isEmpty(e)||(t=f.readValue(),(b.trackBy||p?F(e,t):e===t)||(h.$setViewValue(t),h.$render()))})}}}}],ca=["$locale","$interpolate","$log",function(e,t,n){var i=/{}/g,r=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(e){s.text(e||"")}var c,d=l.count,f=l.$attr.when&&s.attr(l.$attr.when),h=l.offset||0,m=a.$eval(f)||{},g={},v=t.startSymbol(),y=t.endSymbol(),w=v+d+"-"+h+y,x=Ei.noop;o(l,function(e,t){var n=r.exec(t);n&&(n=(n[1]?"-":"")+xi(n[2]),m[n]=s.attr(l.$attr[t]))}),o(m,function(e,n){g[n]=t(e.replace(i,w))}),a.$watch(d,function(t){var i=parseFloat(t),r=Oi(i);r||i in m||(i=e.pluralCat(i-h)),i===c||r&&Oi(c)||(x(),r=g[i],b(r)?(null!=t&&n.debug("ngPluralize: no rule defined for '"+i+"' in "+f),x=p,u()):x=a.$watch(r,u),c=i)})}}}],da=i("ngRef"),fa=["$parse",function(e){return{priority:-1,restrict:"A",compile:function(t,n){var i=st(I(t)),r=e(n.ngRef),o=r.assign||function(){throw da("nonassign",n.ngRef)};return function(e,t,a){var s;if(a.hasOwnProperty("ngRefRead")){if("$element"===a.ngRefRead)s=t;else if(s=t.data("$"+a.ngRefRead+"Controller"),!s)throw da("noctrl",a.ngRefRead,n.ngRef)}else s=t.data("$"+i+"Controller");s=s||t,o(e,s),t.on("$destroy",function(){r(e)===s&&o(e,null)})}}}}],ha=["$parse","$animate","$compile",function(e,t,n){var a=i("ngRepeat"),s=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0===(1&t))},l=function(e,t,n){return qe(n)},u=function(e,t){return t};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(i,c){var d=c.ngRepeat,f=n.$$createComment("end ngRepeat",d),h=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!h)throw a("iexp",d);var p=h[1],m=h[2],g=h[3],v=h[4],h=p.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/);if(!h)throw a("iidexp",p);var b=h[3]||h[1],y=h[2];if(g&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(g)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(g)))throw a("badident",g);var w;if(v){var x={$id:qe},C=e(v);w=function(e,t,n,i){return y&&(x[y]=t),x[b]=n,x.$index=i,C(e,x)}}return function(e,n,i,c,h){var p=fe();e.$watchCollection(m,function(i){var c,m,v,C,_,k,S,D,$,T,E=n[0],A=fe();if(g&&(e[g]=i),r(i))D=i,m=w||l;else for(T in m=w||u,D=[],i)wi.call(i,T)&&"$"!==T.charAt(0)&&D.push(T);for(C=D.length,T=Array(C),c=0;c<C;c++)if(_=i===D?c:D[c],k=i[_],S=m(e,_,k,c),p[S])$=p[S],delete p[S],A[S]=$,T[c]=$;else{if(A[S])throw o(T,function(e){e&&e.scope&&(p[e.id]=e)}),a("dupes",d,S,k);T[c]={id:S,scope:void 0,clone:void 0},A[S]=!0}x&&(x[b]=void 0);for(v in p){if($=p[v],S=de($.clone),t.leave(S),S[0].parentNode)for(c=0,m=S.length;c<m;c++)S[c].$$NG_REMOVED=!0;$.scope.$destroy()}for(c=0;c<C;c++)if(_=i===D?c:D[c],k=i[_],$=T[c],$.scope){v=E;do v=v.nextSibling;while(v&&v.$$NG_REMOVED);$.clone[0]!==v&&t.move(de($.clone),null,E),E=$.clone[$.clone.length-1],s($.scope,c,b,k,y,_,C)}else h(function(e,n){$.scope=n;var i=f.cloneNode(!1);e[e.length++]=i,t.enter(e,null,E),E=i,$.clone=e,A[$.id]=$,s($.scope,c,b,k,y,_,C)});p=A})}}}}],pa=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngShow,function(t){e[t?"removeClass":"addClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ma=["$animate",function(e){return{restrict:"A",multiElement:!0,link:function(t,n,i){t.$watch(i.ngHide,function(t){e[t?"addClass":"removeClass"](n,"ng-hide",{tempClasses:"ng-hide-animate"})})}}}],ga=Un(function(e,t,n){e.$watchCollection(n.ngStyle,function(e,n){n&&e!==n&&(e||(e={}),o(n,function(t,n){null==e[n]&&(e[n]="")})),e&&t.css(e)})}),va=["$animate","$compile",function(e,t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,i,r,a){var s=[],l=[],u=[],c=[],d=function(e,t){return function(n){!1!==n&&e.splice(t,1)}};n.$watch(r.ngSwitch||r.on,function(n){for(var i,r;u.length;)e.cancel(u.pop());for(i=0,r=c.length;i<r;++i){var f=de(l[i].clone);c[i].$destroy(),(u[i]=e.leave(f)).done(d(u,i))}l.length=0,c.length=0,(s=a.cases["!"+n]||a.cases["?"])&&o(s,function(n){n.transclude(function(i,r){c.push(r);var o=n.element;i[i.length++]=t.$$createComment("end ngSwitchWhen"),l.push({clone:i}),e.enter(i,o.parent(),o)})})})}}}],ba=Un({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){e=n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),o(e,function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),ya=Un({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),wa=i("ngTransclude"),xa=["$compile",function(e){return{restrict:"EAC",compile:function(t){var n=e(t.contents());return t.empty(),function(e,t,i,r,o){function a(){n(e,function(e){t.append(e)})}if(!o)throw wa("orphan",G(t));i.ngTransclude===i.$attr.ngTransclude&&(i.ngTransclude=""),i=i.ngTransclude||i.ngTranscludeSlot,o(function(e,n){var i;if(i=e.length)e:{i=0;for(var r=e.length;i<r;i++){var o=e[i];if(o.nodeType!==Vi||o.nodeValue.trim()){i=!0;break e}}i=void 0}i?t.append(e):(a(),n.$destroy())},null,i),i&&!o.isSlotFilled(i)&&a()}}}}],Ca=["$templateCache",function(e){return{restrict:"E",terminal:!0,compile:function(t,n){"text/ng-template"===n.type&&e.put(n.id,t[0].text)}}}],_a={$setViewValue:p,$render:p},ka=["$element","$scope",function(t,n){function i(){s||(s=!0,n.$$postDigest(function(){s=!1,o.ngModelCtrl.$render()}))}function r(e){l||(l=!0,n.$$postDigest(function(){n.$$destroyed||(l=!1,o.ngModelCtrl.$setViewValue(o.readValue()),e&&o.ngModelCtrl.$render())}))}var o=this,a=new sr;o.selectValueMap={},o.ngModelCtrl=_a,o.multiple=!1,o.unknownOption=mi(e.document.createElement("option")),o.hasEmptyOption=!1,o.emptyOption=void 0,o.renderUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),t.prepend(o.unknownOption),di(o.unknownOption,!0),t.val(e)},o.updateUnknownOption=function(e){e=o.generateUnknownOptionValue(e),o.unknownOption.val(e),di(o.unknownOption,!0),t.val(e)},o.generateUnknownOptionValue=function(e){return"? "+qe(e)+" ?"},o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.selectEmptyOption=function(){o.emptyOption&&(t.val(""),di(o.emptyOption,!0))},o.unselectEmptyOption=function(){o.hasEmptyOption&&di(o.emptyOption,!1)},n.$on("$destroy",function(){o.renderUnknownOption=p}),o.readValue=function(){var e=t.val(),e=e in o.selectValueMap?o.selectValueMap[e]:e;return o.hasOption(e)?e:null},o.writeValue=function(e){var n=t[0].options[t[0].selectedIndex];n&&di(mi(n),!1),o.hasOption(e)?(o.removeUnknownOption(),n=qe(e),t.val(n in o.selectValueMap?n:e),di(mi(t[0].options[t[0].selectedIndex]),!0)):o.selectUnknownOrEmptyOption(e)},o.addOption=function(e,t){if(8!==t[0].nodeType){ue(e,'"option value"'),""===e&&(o.hasEmptyOption=!0,o.emptyOption=t);var n=a.get(e)||0;a.set(e,n+1),i()}},o.removeOption=function(e){var t=a.get(e);t&&(1===t?(a["delete"](e),""===e&&(o.hasEmptyOption=!1,o.emptyOption=void 0)):a.set(e,t-1))},o.hasOption=function(e){return!!a.get(e)},o.$hasEmptyOption=function(){return o.hasEmptyOption},o.$isUnknownOptionSelected=function(){return t[0].options[0]===o.unknownOption[0]},o.$isEmptyOptionSelected=function(){return o.hasEmptyOption&&t[0].options[t[0].selectedIndex]===o.emptyOption[0]},o.selectUnknownOrEmptyOption=function(e){null==e&&o.emptyOption?(o.removeUnknownOption(),o.selectEmptyOption()):o.unknownOption.parent().length?o.updateUnknownOption(e):o.renderUnknownOption(e)};var s=!1,l=!1;o.registerOption=function(e,t,n,a,s){if(n.$attr.ngValue){var l,u;n.$observe("value",function(e){var n,i=t.prop("selected");y(u)&&(o.removeOption(l),delete o.selectValueMap[u],n=!0),u=qe(e),l=e,o.selectValueMap[u]=e,o.addOption(e,t),t.attr("value",u),n&&i&&r()})}else a?n.$observe("value",function(e){o.readValue();var n,i=t.prop("selected");y(l)&&(o.removeOption(l),n=!0),l=e,o.addOption(e,t),n&&i&&r()}):s?e.$watch(s,function(e,i){n.$set("value",e);var a=t.prop("selected");i!==e&&o.removeOption(i),o.addOption(e,t),i&&a&&r()}):o.addOption(n.value,t);n.$observe("disabled",function(e){("true"===e||e&&t.prop("selected"))&&(o.multiple?r(!0):(o.ngModelCtrl.$setViewValue(null),o.ngModelCtrl.$render()))}),t.on("$destroy",function(){var e=o.readValue(),t=n.value;o.removeOption(t),i(),(o.multiple&&e&&-1!==e.indexOf(t)||e===t)&&r(!0)})}}],Sa=function(){return{restrict:"E",require:["select","?ngModel"],controller:ka,priority:1,link:{pre:function(e,t,n,i){var r=i[0],a=i[1];if(a){if(r.ngModelCtrl=a,t.on("change",function(){r.removeUnknownOption(),e.$apply(function(){a.$setViewValue(r.readValue())})}),n.multiple){r.multiple=!0,r.readValue=function(){var e=[];return o(t.find("option"),function(t){t.selected&&!t.disabled&&(t=t.value,e.push(t in r.selectValueMap?r.selectValueMap[t]:t))}),e},r.writeValue=function(e){o(t.find("option"),function(t){var n=!!e&&(-1!==Array.prototype.indexOf.call(e,t.value)||-1!==Array.prototype.indexOf.call(e,r.selectValueMap[t.value]));n!==t.selected&&di(mi(t),n)})};var s,l=NaN;e.$watch(function(){l!==a.$viewValue||F(s,a.$viewValue)||(s=me(a.$viewValue),a.$render()),l=a.$viewValue}),a.$isEmpty=function(e){return!e||0===e.length}}}else r.registerOption=p},post:function(e,t,n,i){var r=i[1];if(r){var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}}},Da=["$interpolate",function(e){return{restrict:"E",priority:100,compile:function(t,n){var i,r;return y(n.ngValue)||(y(n.value)?i=e(n.value,!0):(r=e(t.text(),!0))||n.$set("value",t.text())),function(e,t,n){var o=t.parent();(o=o.data("$selectController")||o.parent().data("$selectController"))&&o.registerOption(e,t,n,i,r)}}}}],$a=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.hasOwnProperty("required")||e(i.ngRequired)(t);i.ngRequired||(i.required=!0),r.$validators.required=function(e,t){return!o||!r.$isEmpty(t)},i.$observe("required",function(e){o!==e&&(o=e,r.$validate())})}}}}],Ta=["$parse",function(e){return{restrict:"A",require:"?ngModel",compile:function(t,n){var i,r;return n.ngPattern&&(i=n.ngPattern,r="/"===n.ngPattern.charAt(0)&&yi.test(n.ngPattern)?function(){return n.ngPattern}:e(n.ngPattern)),function(e,t,n,o){if(o){var a=n.pattern;n.ngPattern?a=r(e):i=n.pattern;var s=fi(a,i,t);n.$observe("pattern",function(e){var n=s;s=fi(e,i,t),(n&&n.toString())!==(s&&s.toString())&&o.$validate()}),o.$validators.pattern=function(e,t){return o.$isEmpty(t)||b(s)||s.test(t)}}}}}}],Ea=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.maxlength||e(i.ngMaxlength)(t),a=hi(o);i.$observe("maxlength",function(e){o!==e&&(a=hi(e),o=e,r.$validate())}),r.$validators.maxlength=function(e,t){return 0>a||r.$isEmpty(t)||t.length<=a}}}}}],Aa=["$parse",function(e){return{restrict:"A",require:"?ngModel",link:function(t,n,i,r){if(r){var o=i.minlength||e(i.ngMinlength)(t),a=hi(o)||-1;i.$observe("minlength",function(e){o!==e&&(a=hi(e)||-1,o=e,r.$validate())}),r.$validators.minlength=function(e,t){return r.$isEmpty(t)||t.length>=a}}}}}];e.angular.bootstrap?e.console&&console.log("WARNING: Tried to load AngularJS more than once."):(ae(),ve(Ei),Ei.module("ngLocale",[],["$provide",function(e){function t(e){e+="";var t=e.indexOf(".");return-1==t?0:e.length-t-1}e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:"January February March April May June July August September October November December".split(" "),SHORTDAY:"Sun Mon Tue Wed Thu Fri Sat".split(" "),SHORTMONTH:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONEMONTH:"January February March April May June July August September October November December".split(" "),WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a","short":"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,n){var i=0|e,r=n;return void 0===r&&(r=Math.min(t(e),3)),Math.pow(10,r),1==i&&0==r?"one":"other"}})}]),mi(function(){te(e.document,ne)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(e,t){"use strict";function n(e,t,n){if(!e)throw Y("areq",t||"?",n||"required");return e}function i(e,t){return e||t?e?t?(P(e)&&(e=e.join(" ")),P(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function r(e){var t={};return e&&(e.to||e.from)&&(t.to=e.to,t.from=e.from),t}function o(e,t,n){var i="";return e=P(e)?e:e&&F(e)&&e.length?e.split(/\s+/):[],N(e,function(e,r){e&&0<e.length&&(i+=0<r?" ":"",i+=n?t+e:e+t)}),i}function a(e){if(e instanceof j)switch(e.length){case 0:return e;case 1:if(1===e[0].nodeType)return e;break;default:return j(s(e))}if(1===e.nodeType)return j(e)}function s(e){if(!e[0])return e;for(var t=0;t<e.length;t++){var n=e[t];if(1===n.nodeType)return n}}function l(e,t,n){N(t,function(t){e.addClass(t,n)})}function u(e,t,n){N(t,function(t){e.removeClass(t,n)})}function c(e){return function(t,n){n.addClass&&(l(e,t,n.addClass),n.addClass=null),n.removeClass&&(u(e,t,n.removeClass),n.removeClass=null)}}function d(e){if(e=e||{},!e.$$prepared){var t=e.domOperation||V;e.domOperation=function(){e.$$domOperationFired=!0,t(),t=V},e.$$prepared=!0}return e}function f(e,t){h(e,t),p(e,t)}function h(e,t){t.from&&(e.css(t.from),t.from=null)}function p(e,t){t.to&&(e.css(t.to),t.to=null)}function m(e,t,n){var i=t.options||{};n=n.options||{};var r=(i.addClass||"")+" "+(n.addClass||""),o=(i.removeClass||"")+" "+(n.removeClass||"");return e=g(e.attr("class"),r,o),n.preparationClasses&&(i.preparationClasses=x(n.preparationClasses,i.preparationClasses),delete n.preparationClasses),r=i.domOperation!==V?i.domOperation:null,M(i,n),r&&(i.domOperation=r),i.addClass=e.addClass?e.addClass:null,i.removeClass=e.removeClass?e.removeClass:null,t.addClass=i.addClass,t.removeClass=i.removeClass,i}function g(e,t,n){function i(e){F(e)&&(e=e.split(" "));var t={};return N(e,function(e){e.length&&(t[e]=!0)}),t}var r={};e=i(e),t=i(t),N(t,function(e,t){r[t]=1}),n=i(n),N(n,function(e,t){r[t]=1===r[t]?null:-1});var o={addClass:"",removeClass:""};return N(r,function(t,n){var i,r;1===t?(i="addClass",r=!e[n]||e[n+"-remove"]):-1===t&&(i="removeClass",r=e[n]||e[n+"-add"]),r&&(o[i].length&&(o[i]+=" "),o[i]+=n)}),o}function v(e){return e instanceof j?e[0]:e}function b(e,t,n,i){e="",n&&(e=o(n,"ng-",!0)),i.addClass&&(e=x(e,o(i.addClass,"-add"))),i.removeClass&&(e=x(e,o(i.removeClass,"-remove"))),e.length&&(i.preparationClasses=e,t.addClass(e))}function y(e,t){var n=t?"paused":"",i=E+"PlayState";return w(e,[i,n]),[i,n]}function w(e,t){e.style[t[0]]=t[1]}function x(e,t){return e?t?e+" "+t:e:t}function C(e,t,n){var i=Object.create(null),r=e.getComputedStyle(t)||{};return N(n,function(e,t){var n=r[e];if(n){var o=n.charAt(0);("-"===o||"+"===o||0<=o)&&(n=_(n)),0===n&&(n=null),i[t]=n}}),i}function _(e){var t=0;return e=e.split(/\s*,\s*/),N(e,function(e){"s"===e.charAt(e.length-1)&&(e=e.substring(0,e.length-1)),e=parseFloat(e)||0,t=t?Math.max(e,t):e}),t}function k(e){return 0===e||null!=e}function S(e,t){var n=$,i=e+"s";return t?n+="Duration":i+=" linear all",[n,i]}function D(e,t,n){N(n,function(n){e[n]=I(e[n])?e[n]:t.style.getPropertyValue(n)})}var $,T,E,A;void 0===e.ontransitionend&&void 0!==e.onwebkittransitionend?($="WebkitTransition",T="webkitTransitionEnd transitionend"):($="transition",T="transitionend"),void 0===e.onanimationend&&void 0!==e.onwebkitanimationend?(E="WebkitAnimation",A="webkitAnimationEnd animationend"):(E="animation",A="animationend");var O,M,N,P,I,R,L,B,F,H,j,V,z=E+"Delay",U=E+"Duration",W=$+"Delay",q=$+"Duration",Y=t.$$minErr("ng"),G={blockTransitions:function(e,t){var n=t?"-"+t+"s":"";return w(e,[W,n]),[W,n]}},K={transitionDuration:q,transitionDelay:W,transitionProperty:$+"Property",animationDuration:U,animationDelay:z,animationIterationCount:E+"IterationCount"},X={transitionDuration:q,transitionDelay:W,animationDuration:U,animationDelay:z};t.module("ngAnimate",[],function(){V=t.noop,O=t.copy,M=t.extend,j=t.element,N=t.forEach,P=t.isArray,F=t.isString,B=t.isObject,H=t.isUndefined,I=t.isDefined,L=t.isFunction,R=t.isElement}).info({angularVersion:"1.8.0"}).directive("ngAnimateSwap",["$animate",function(e){return{restrict:"A",transclude:"element",terminal:!0,priority:550,link:function(t,n,i,r,o){var a,s;t.$watchCollection(i.ngAnimateSwap||i["for"],function(t){a&&e.leave(a),s&&(s.$destroy(),s=null),(t||0===t)&&o(function(t,i){a=t,s=i,e.enter(t,null,n)})})}}}]).directive("ngAnimateChildren",["$interpolate",function(e){return{link:function(t,n,i){function r(e){n.data("$$ngAnimateChildren","on"===e||"true"===e)}var o=i.ngAnimateChildren;F(o)&&0===o.length?n.data("$$ngAnimateChildren",!0):(r(e(o)(t)),i.$observe("ngAnimateChildren",r))}}}]).factory("$$rAFScheduler",["$$rAF",function(e){function t(e){i=i.concat(e),n()}function n(){if(i.length){for(var t=i.shift(),o=0;o<t.length;o++)t[o]();r||e(function(){r||n()})}}var i,r;return i=t.queue=[],t.waitUntilQuiet=function(t){r&&r(),r=e(function(){r=null,t(),n()})},t}]).provider("$$animateQueue",["$animateProvider",function(t){function i(e){return{addClass:e.addClass,removeClass:e.removeClass,from:e.from,to:e.to}}function r(e){if(!e)return null;e=e.split(" ");var t=Object.create(null);return N(e,function(e){t[e]=!0}),t}function o(e,t){if(e&&t){var n=r(t);return e.split(" ").some(function(e){return n[e]})}}function l(e,t,n){return h[e].some(function(e){return e(t,n)})}function u(e,t){var n=0<(e.addClass||"").length,i=0<(e.removeClass||"").length;return t?n&&i:n||i}var h=this.rules={skip:[],cancel:[],join:[]};h.join.push(function(e,t){return!e.structural&&u(e)}),h.skip.push(function(e,t){return!e.structural&&!u(e)}),h.skip.push(function(e,t){return"leave"===t.event&&e.structural}),h.skip.push(function(e,t){return t.structural&&2===t.state&&!e.structural}),h.cancel.push(function(e,t){return t.structural&&e.structural}),h.cancel.push(function(e,t){return 2===t.state&&e.structural}),h.cancel.push(function(e,t){if(t.structural)return!1;var n=e.addClass,i=e.removeClass,r=t.addClass,a=t.removeClass;return!(H(n)&&H(i)||H(r)&&H(a))&&(o(n,a)||o(i,r))}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$Map","$$animation","$$AnimateRunner","$templateRequest","$$jqLite","$$forceReflow","$$isDocumentHidden",function(r,o,h,p,g,y,w,x,C,_,k){function S(e){W["delete"](e.target)}function D(){var e=!1;return function(t){e?t():o.$$postDigest(function(){e=!0,t()})}}function $(e,t,n){var i=[],r=G[n];return r&&N(r,function(r){Q.call(r.node,t)?i.push(r.callback):"leave"===n&&Q.call(r.node,e)&&i.push(r.callback)}),i}function T(e,t,n){var i=s(t);return e.filter(function(e){return!(e.node===i&&(!n||e.callback===n))})}function E(e,t,n){function s(e,t,n,i){S(function(){var e=$(x,g,t);e.length?r(function(){N(e,function(e){e(p,n,i)}),"close"!==n||g.parentNode||ee.off(g)}):"close"!==n||g.parentNode||ee.off(g)}),e.progress(t,n,i)}function c(e){var t=p,n=h;n.preparationClasses&&(t.removeClass(n.preparationClasses),n.preparationClasses=null),n.activeClasses&&(t.removeClass(n.activeClasses),n.activeClasses=null),Z(p,h),f(p,h),h.domOperation(),_.complete(!e)}var h=O(n),p=a(e),g=v(p),x=g&&g.parentNode,h=d(h),_=new w,S=D();if(P(h.addClass)&&(h.addClass=h.addClass.join(" ")),h.addClass&&!F(h.addClass)&&(h.addClass=null),P(h.removeClass)&&(h.removeClass=h.removeClass.join(" ")),h.removeClass&&!F(h.removeClass)&&(h.removeClass=null),h.from&&!B(h.from)&&(h.from=null),h.to&&!B(h.to)&&(h.to=null),!(q&&g&&X(g,t,n)&&J(g,h)))return c(),_;var T=0<=["enter","move","leave"].indexOf(t),E=k(),M=E||W.get(g);n=!M&&U.get(g)||{};var I=!!n.state;if(M||I&&1===n.state||(M=!V(g,x,t)),M)return E&&s(_,t,"start",i(h)),c(),E&&s(_,t,"close",i(h)),_;if(T&&A(g),E={structural:T,element:p,event:t,addClass:h.addClass,removeClass:h.removeClass,close:c,options:h,runner:_},I){if(l("skip",E,n))return 2===n.state?(c(),_):(m(p,n,E),n.runner);if(l("cancel",E,n))if(2===n.state)n.runner.end();else{if(!n.structural)return m(p,n,E),n.runner;n.close()}else if(l("join",E,n)){if(2!==n.state)return b(C,p,T?t:null,h),t=E.event=n.event,h=m(p,n,E),n.runner;m(p,E,{})}}else m(p,E,{});if((I=E.structural)||(I="animate"===E.event&&0<Object.keys(E.options.to||{}).length||u(E)),!I)return c(),L(g),_;var R=(n.counter||0)+1;return E.counter=R,z(g,1,E),o.$$postDigest(function(){p=a(e);var n=U.get(g),r=!n,n=n||{},o=0<(p.parent()||[]).length&&("animate"===n.event||n.structural||u(n));r||n.counter!==R||!o?(r&&(Z(p,h),f(p,h)),(r||T&&n.event!==t)&&(h.domOperation(),_.end()),o||L(g)):(t=!n.structural&&u(n,!0)?"setClass":n.event,z(g,2),n=y(p,t,n.options),_.setHost(n),s(_,t,"start",i(h)),n.done(function(e){c(!e),(e=U.get(g))&&e.counter===R&&L(g),s(_,t,"close",i(h))}))}),_}function A(e){e=e.querySelectorAll("[data-ng-animate]"),N(e,function(e){var t=parseInt(e.getAttribute("data-ng-animate"),10),n=U.get(e);if(n)switch(t){case 2:n.runner.end();case 1:U["delete"](e)}})}function L(e){e.removeAttribute("data-ng-animate"),U["delete"](e)}function V(e,t,n){n=p[0].body;var i,r=v(h),o=e===n||"HTML"===e.nodeName,a=e===r,s=!1,l=W.get(e);for((e=j.data(e,"$ngAnimatePin"))&&(t=v(e));t&&(a||(a=t===r),1===t.nodeType);){if(e=U.get(t)||{},!s){var u=W.get(t);if(!0===u&&!1!==l){l=!0;break}!1===u&&(l=!1),s=e.structural}if((H(i)||!0===i)&&(e=j.data(t,"$$ngAnimateChildren"),I(e)&&(i=e)),s&&!1===i)break;if(o||(o=t===n),o&&a)break;t=a||!(e=j.data(t,"$ngAnimatePin"))?t.parentNode:v(e)}return(!s||i)&&!0!==l&&a&&o}function z(e,t,n){n=n||{},n.state=t,e.setAttribute("data-ng-animate",t),n=(t=U.get(e))?M(t,n):n,U.set(e,n)}var U=new g,W=new g,q=null,Y=o.$watch(function(){return 0===x.totalPendingRequests},function(e){e&&(Y(),o.$$postDigest(function(){o.$$postDigest(function(){null===q&&(q=!0)})}))}),G=Object.create(null);g=t.customFilter();var K=t.classNameFilter();_=function(){return!0};var X=g||_,J=K?function(e,t){var n=[e.getAttribute("class"),t.addClass,t.removeClass].join(" ");return K.test(n)}:_,Z=c(C),Q=e.Node.prototype.contains||function(e){return this===e||!!(16&this.compareDocumentPosition(e))},ee={on:function(e,t,n){var i=s(t);G[e]=G[e]||[],G[e].push({node:i,callback:n}),j(t).on("$destroy",function(){U.get(i)||ee.off(e,t,n)})},off:function(e,t,n){if(1!==arguments.length||F(arguments[0])){var i=G[e];i&&(G[e]=1===arguments.length?null:T(i,t,n))}else for(i in t=arguments[0],G)G[i]=T(G[i],t)},pin:function(e,t){n(R(e),"element","not an element"),n(R(t),"parentElement","not an element"),e.data("$ngAnimatePin",t)},push:function(e,t,n,i){return n=n||{},n.domOperation=i,E(e,t,n)},enabled:function(e,t){var n=arguments.length;if(0===n)t=!!q;else if(R(e)){var i=v(e);1===n?t=!W.get(i):(W.has(i)||j(e).on("$destroy",S),W.set(i,!t))}else t=q=!!e;return t}};return ee}]}]).provider("$$animateCache",function(){var e=0,t=Object.create(null);this.$get=[function(){return{cacheKey:function(t,n,i,r){var o=t.parentNode;return t=[o.$$ngAnimateParentKey||(o.$$ngAnimateParentKey=++e),n,t.getAttribute("class")],i&&t.push(i),r&&t.push(r),t.join(" ")},containsCachedAnimationWithoutDuration:function(e){return(e=t[e])&&!e.isValid||!1},flush:function(){t=Object.create(null)},count:function(e){return(e=t[e])?e.total:0},get:function(e){return(e=t[e])&&e.value},put:function(e,n,i){t[e]?(t[e].total++,t[e].value=n):t[e]={total:1,value:n,isValid:i}}}}]}).provider("$$animation",["$animateProvider",function(e){var t=this.drivers=[];this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$Map","$$rAFScheduler","$$animateCache",function(e,n,r,o,a,s,l){function u(e){function t(e){if(e.processed)return e;e.processed=!0;var n=e.domNode,o=n.parentNode;r.set(n,e);for(var a;o;){if(a=r.get(o)){a.processed||(a=t(a));break}o=o.parentNode}return(a||i).children.push(e),e}var n,i={children:[]},r=new a;for(n=0;n<e.length;n++){var o=e[n];r.set(o.domNode,e[n]={domNode:o.domNode,element:o.element,fn:o.fn,children:[]})}for(n=0;n<e.length;n++)t(e[n]);return function(e){var t,n=[],i=[];for(t=0;t<e.children.length;t++)i.push(e.children[t]);e=i.length;var r=0,o=[];for(t=0;t<i.length;t++){var a=i[t];0>=e&&(e=r,r=0,n.push(o),o=[]),o.push(a),a.children.forEach(function(e){r++,i.push(e)}),e--}return o.length&&n.push(o),n}(i)}var h=[],p=c(e);return function(a,c,m){function g(e){e=e.hasAttribute("ng-animate-ref")?[e]:e.querySelectorAll("[ng-animate-ref]");var t=[];return N(e,function(e){var n=e.getAttribute("ng-animate-ref");n&&n.length&&t.push(e)}),t}function b(e){var t=[],n={};N(e,function(e,i){var r=v(e.element),o=0<=["enter","move"].indexOf(e.event),r=e.structural?g(r):[];if(r.length){var a=o?"to":"from";N(r,function(e){var t=e.getAttribute("ng-animate-ref");n[t]=n[t]||{},n[t][a]={animationID:i,element:j(e)}})}else t.push(e)});var i={},r={};return N(n,function(n,o){var a=n.from,s=n.to;if(a&&s){var l=e[a.animationID],u=e[s.animationID],c=a.animationID.toString();if(!r[c]){var d=r[c]={structural:!0,beforeStart:function(){l.beforeStart(),u.beforeStart()},close:function(){l.close(),u.close()},classes:y(l.classes,u.classes),from:l,to:u,anchors:[]};d.classes.length?t.push(d):(t.push(l),t.push(u))}r[c].anchors.push({out:a.element,"in":s.element})}else a=a?a.animationID:s.animationID,s=a.toString(),i[s]||(i[s]=!0,t.push(e[a]))}),t}function y(e,t){e=e.split(" "),t=t.split(" ");for(var n=[],i=0;i<e.length;i++){var r=e[i];if("ng-"!==r.substring(0,3))for(var o=0;o<t.length;o++)if(r===t[o]){n.push(r);break}}return n.join(" ")}function w(e){for(var n=t.length-1;0<=n;n--){var i=r.get(t[n])(e);if(i)return i}}function x(e,t){function n(e){(e=e.data("$$animationRunner"))&&e.setHost(t)}e.from&&e.to?(n(e.from.element),n(e.to.element)):n(e.element)}function C(){var e=a.data("$$animationRunner");!e||"leave"===c&&m.$$domOperationFired||e.end()}function _(t){a.off("$destroy",C),a.removeData("$$animationRunner"),p(a,m),f(a,m),m.domOperation(),$&&e.removeClass(a,$),S.complete(!t)}m=d(m);var k=0<=["enter","move","leave"].indexOf(c),S=new o({end:function(){_()},cancel:function(){_(!0)}});if(!t.length)return _(),S;var D=i(a.attr("class"),i(m.addClass,m.removeClass)),$=m.tempClasses;return $&&(D+=" "+$,m.tempClasses=null),k&&a.data("$$animatePrepareClasses","ng-"+c+"-prepare"),a.data("$$animationRunner",S),h.push({element:a,classes:D,event:c,structural:k,options:m,beforeStart:function(){$=($?$+" ":"")+"ng-animate",e.addClass(a,$);var t=a.data("$$animatePrepareClasses");t&&e.removeClass(a,t)},close:_}),a.on("$destroy",C),1<h.length?S:(n.$$postDigest(function(){var t=[];N(h,function(e){e.element.data("$$animationRunner")?t.push(e):e.close()}),h.length=0;var n=b(t),i=[];N(n,function(e){var t=e.from?e.from.element:e.element,n=m.addClass,r=l.cacheKey(t[0],e.event,(n?n+" ":"")+"ng-animate",m.removeClass);i.push({element:t,domNode:v(t),fn:function(){var t,n=e.close;if(l.containsCachedAnimationWithoutDuration(r))n();else{if(e.beforeStart(),(e.anchors?e.from.element||e.to.element:e.element).data("$$animationRunner")){var i=w(e);i&&(t=i.start)}t?(t=t(),t.done(function(e){n(!e)}),x(e,t)):n()}}})});for(var n=u(i),r=0;r<n.length;r++)for(var o=n[r],a=0;a<o.length;a++){var c=o[a],d=c.element;n[r][a]=c.fn,0===r?d.removeData("$$animatePrepareClasses"):(c=d.data("$$animatePrepareClasses"))&&e.addClass(d,c)}s(n)}),S)}}]}]).provider("$animateCss",["$animateProvider",function(e){this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$$animateCache","$$forceReflow","$sniffer","$$rAFScheduler","$$animateQueue",function(e,t,n,i,a,s,l,u,m){function g(n,i,r,s){var l,u="stagger-"+r;return 0<a.count(r)&&(l=a.get(u),l||(i=o(i,"-stagger"),t.addClass(n,i),l=C(e,n,s),l.animationDuration=Math.max(l.animationDuration,0),l.transitionDuration=Math.max(l.transitionDuration,0),t.removeClass(n,i),a.put(u,l,!0))),l||{}}function b(e){M.push(e),u.waitUntilQuiet(function(){a.flush();for(var e=s(),t=0;t<M.length;t++)M[t](e);M.length=0})}function x(t,n,i,r){return n=a.get(i),n||(n=C(e,t,K),"infinite"===n.animationIterationCount&&(n.animationIterationCount=1)),a.put(i,n,r||0<n.transitionDuration||0<n.animationDuration),t=n,i=t.animationDelay,r=t.transitionDelay,t.maxDelay=i&&r?Math.max(i,r):i||r,t.maxDuration=Math.max(t.animationDuration*t.animationIterationCount,t.transitionDuration),t}var _=c(t),M=[];return function(e,s){function u(){C()}function c(){C(!0)}function C(n){if(!(j||Y&&q)){j=!0,q=!1,de&&!B.$$skipPreparationClasses&&t.removeClass(e,de),ye&&t.removeClass(e,ye),y(H,!1),G.blockTransitions(H,!1),N(ie,function(e){H.style[e[0]]=""}),_(e,B),f(e,B),Object.keys(F).length&&N(F,function(e,t){
e?H.style.setProperty(t,e):H.style.removeProperty(t)}),B.onDone&&B.onDone(),ae&&ae.length&&e.off(ae.join(" "),R);var r=e.data("$$animateCss");r&&(i.cancel(r[0].timer),e.removeData("$$animateCss")),K&&K.complete(!n)}}function M(e){be.blockTransition&&G.blockTransitions(H,e),be.blockKeyframeAnimation&&y(H,!!e)}function I(){return K=new n({end:u,cancel:c}),b(V),C(),{$$willAnimate:!1,start:function(){return K},end:u}}function R(e){e.stopPropagation();var t=e.originalEvent||e;t.target===H&&(e=t.$manualTimeStamp||Date.now(),t=parseFloat(t.elapsedTime.toFixed(3)),Math.max(e-ne,0)>=Q&&t>=ee&&(Y=!0,C()))}function L(){function n(){if(!j){if(M(!1),N(ie,function(e){H.style[e[0]]=e[1]}),_(e,B),t.addClass(e,ye),be.recalculateTimingStyles){if(fe=H.getAttribute("class")+" "+de,pe=a.cacheKey(H,se,B.addClass,B.removeClass),ge=x(H,fe,pe,!1),ve=ge.maxDelay,Z=Math.max(ve,0),ee=ge.maxDuration,0===ee)return void C();be.hasTransitions=0<ge.transitionDuration,be.hasAnimations=0<ge.animationDuration}if(be.applyAnimationDelay&&(ve="boolean"!=typeof B.delay&&k(B.delay)?parseFloat(B.delay):ve,Z=Math.max(ve,0),ge.animationDelay=ve,we=[z,ve+"s"],ie.push(we),H.style[we[0]]=we[1]),Q=1e3*Z,te=1e3*ee,B.easing){var n,o=B.easing;be.hasTransitions&&(n=$+"TimingFunction",ie.push([n,o]),H.style[n]=o),be.hasAnimations&&(n=E+"TimingFunction",ie.push([n,o]),H.style[n]=o)}ge.transitionDuration&&ae.push(T),ge.animationDuration&&ae.push(A),ne=Date.now();var s=Q+1.5*te;n=ne+s;var o=e.data("$$animateCss")||[],l=!0;if(o.length){var u=o[0];(l=n>u.expectedEndTime)?i.cancel(u.timer):o.push(C)}l&&(s=i(r,s,!1),o[0]={timer:s,expectedEndTime:n},o.push(C),e.data("$$animateCss",o)),ae.length&&e.on(ae.join(" "),R),B.to&&(B.cleanupStyles&&D(F,H,Object.keys(B.to)),p(e,B))}}function r(){var t=e.data("$$animateCss");if(t){for(var n=1;n<t.length;n++)t[n]();e.removeData("$$animateCss")}}if(!j)if(H.parentNode){var o=function(e){if(Y)q&&e&&(q=!1,C());else if(q=!e,ge.animationDuration)if(e=y(H,q),q)ie.push(e);else{var t=ie,n=t.indexOf(e);0<=e&&t.splice(n,1)}},s=0<me&&(ge.transitionDuration&&0===he.transitionDuration||ge.animationDuration&&0===he.animationDuration)&&Math.max(he.animationDelay,he.transitionDelay);s?i(n,Math.floor(s*me*1e3),!1):n(),J.resume=function(){o(!0)},J.pause=function(){o(!1)}}else C()}var B=s||{};B.$$prepared||(B=d(O(B)));var F={},H=v(e);if(!H||!H.parentNode||!m.enabled())return I();var j,q,Y,K,J,Z,Q,ee,te,ne,ie=[],re=e.attr("class"),oe=r(B),ae=[];if(0===B.duration||!l.animations&&!l.transitions)return I();var se=B.event&&P(B.event)?B.event.join(" "):B.event,le=se&&B.structural,ue="",ce="";le?ue=o(se,"ng-",!0):se&&(ue=se),B.addClass&&(ce+=o(B.addClass,"-add")),B.removeClass&&(ce.length&&(ce+=" "),ce+=o(B.removeClass,"-remove")),B.applyClassesEarly&&ce.length&&_(e,B);var de=[ue,ce].join(" ").trim(),fe=re+" "+de,re=oe.to&&0<Object.keys(oe.to).length;if(!(0<(B.keyframeStyle||"").length||re||de))return I();var he,pe=a.cacheKey(H,se,B.addClass,B.removeClass);if(a.containsCachedAnimationWithoutDuration(pe))return de=null,I();0<B.stagger?(oe=parseFloat(B.stagger),he={transitionDelay:oe,animationDelay:oe,transitionDuration:0,animationDuration:0}):he=g(H,de,pe,X),B.$$skipPreparationClasses||t.addClass(e,de),B.transitionStyle&&(oe=[$,B.transitionStyle],w(H,oe),ie.push(oe)),0<=B.duration&&(oe=0<H.style[$].length,oe=S(B.duration,oe),w(H,oe),ie.push(oe)),B.keyframeStyle&&(oe=[E,B.keyframeStyle],w(H,oe),ie.push(oe));var me=he?0<=B.staggerIndex?B.staggerIndex:a.count(pe):0;(ue=0===me)&&!B.skipBlocking&&G.blockTransitions(H,9999);var ge=x(H,fe,pe,!le),ve=ge.maxDelay;Z=Math.max(ve,0),ee=ge.maxDuration;var be={};if(be.hasTransitions=0<ge.transitionDuration,be.hasAnimations=0<ge.animationDuration,be.hasTransitionAll=be.hasTransitions&&"all"===ge.transitionProperty,be.applyTransitionDuration=re&&(be.hasTransitions&&!be.hasTransitionAll||be.hasAnimations&&!be.hasTransitions),be.applyAnimationDuration=B.duration&&be.hasAnimations,be.applyTransitionDelay=k(B.delay)&&(be.applyTransitionDuration||be.hasTransitions),be.applyAnimationDelay=k(B.delay)&&be.hasAnimations,be.recalculateTimingStyles=0<ce.length,(be.applyTransitionDuration||be.applyAnimationDuration)&&(ee=B.duration?parseFloat(B.duration):ee,be.applyTransitionDuration&&(be.hasTransitions=!0,ge.transitionDuration=ee,oe=0<H.style[$+"Property"].length,ie.push(S(ee,oe))),be.applyAnimationDuration&&(be.hasAnimations=!0,ge.animationDuration=ee,ie.push([U,ee+"s"]))),0===ee&&!be.recalculateTimingStyles)return I();var ye=o(de,"-active");if(null!=B.delay){var we;"boolean"!=typeof B.delay&&(we=parseFloat(B.delay),Z=Math.max(we,0)),be.applyTransitionDelay&&ie.push([W,we+"s"]),be.applyAnimationDelay&&ie.push([z,we+"s"])}return null==B.duration&&0<ge.transitionDuration&&(be.recalculateTimingStyles=be.recalculateTimingStyles||ue),Q=1e3*Z,te=1e3*ee,B.skipBlocking||(be.blockTransition=0<ge.transitionDuration,be.blockKeyframeAnimation=0<ge.animationDuration&&0<he.animationDelay&&0===he.animationDuration),B.from&&(B.cleanupStyles&&D(F,H,Object.keys(B.from)),h(e,B)),be.blockTransition||be.blockKeyframeAnimation?M(ee):B.skipBlocking||G.blockTransitions(H,!1),{$$willAnimate:!0,end:u,start:function(){if(!j)return J={end:u,cancel:c,resume:null,pause:null},K=new n(J),b(L),K}}}}]}]).provider("$$animateCssDriver",["$$animationProvider",function(e){e.drivers.push("$$animateCssDriver"),this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$sniffer","$$jqLite","$document",function(e,t,n,i,r,o,a){function s(e){return e.replace(/\bng-\S+\b/g,"")}function l(e,t){return F(e)&&(e=e.split(" ")),F(t)&&(t=t.split(" ")),e.filter(function(e){return-1===t.indexOf(e)}).join(" ")}function u(t,i,r){function o(e){var t={},n=v(e).getBoundingClientRect();return N(["width","height","top","left"],function(e){var i=n[e];switch(e){case"top":i+=f.scrollTop;break;case"left":i+=f.scrollLeft}t[e]=Math.floor(i)+"px"}),t}function a(){var t=s(r.attr("class")||""),n=l(t,d),t=l(d,t),n=e(c,{to:o(r),addClass:"ng-anchor-in "+n,removeClass:"ng-anchor-out "+t,delay:!0});return n.$$willAnimate?n:null}function u(){c.remove(),i.removeClass("ng-animate-shim"),r.removeClass("ng-animate-shim")}var c=j(v(i).cloneNode(!0)),d=s(c.attr("class")||"");i.addClass("ng-animate-shim"),r.addClass("ng-animate-shim"),c.addClass("ng-anchor"),h.append(c);var p;if(t=function(){var t=e(c,{addClass:"ng-anchor-out",delay:!0,from:o(i)});return t.$$willAnimate?t:null}(),!t&&(p=a(),!p))return u();var m=t||p;return{start:function(){function e(){i&&i.end()}var t,i=m.start();return i.done(function(){return i=null,!p&&(p=a())?(i=p.start(),i.done(function(){i=null,u(),t.complete()}),i):(u(),void t.complete())}),t=new n({end:e,cancel:e})}}}function c(e,t,i,r){var o=d(e,V),a=d(t,V),s=[];if(N(r,function(e){(e=u(i,e.out,e["in"]))&&s.push(e)}),o||a||0!==s.length)return{start:function(){function e(){N(t,function(e){e.end()})}var t=[];o&&t.push(o.start()),a&&t.push(a.start()),N(s,function(e){t.push(e.start())});var i=new n({end:e,cancel:e});return n.all(t,function(e){i.complete(e)}),i}}}function d(t){var n=t.element,i=t.options||{};return t.structural&&(i.event=t.event,i.structural=!0,i.applyClassesEarly=!0,"leave"===t.event&&(i.onDone=i.domOperation)),i.preparationClasses&&(i.event=x(i.event,i.preparationClasses)),t=e(n,i),t.$$willAnimate?t:null}if(!r.animations&&!r.transitions)return V;var f=a[0].body;t=v(i);var h=j(t.parentNode&&11===t.parentNode.nodeType||f.contains(t)?t:f);return function(e){return e.from&&e.to?c(e.from,e.to,e.classes,e.anchors):d(e)}}]}]).provider("$$animateJs",["$animateProvider",function(e){this.$get=["$injector","$$AnimateRunner","$$jqLite",function(t,n,i){function r(n){n=P(n)?n:n.split(" ");for(var i=[],r={},o=0;o<n.length;o++){var a=n[o],s=e.$$registeredAnimations[a];s&&!r[a]&&(i.push(t.get(s)),r[a]=!0)}return i}var o=c(i);return function(e,t,i,a){function s(){a.domOperation(),o(e,a)}function l(e,t,i,r,o){switch(i){case"animate":t=[t,r.from,r.to,o];break;case"setClass":t=[t,g,v,o];break;case"addClass":t=[t,g,o];break;case"removeClass":t=[t,v,o];break;default:t=[t,o]}if(t.push(r),e=e.apply(e,t))if(L(e.start)&&(e=e.start()),e instanceof n)e.done(o);else if(L(e))return e;return V}function u(e,t,i,r,o){var a=[];return N(r,function(r){var s=r[o];s&&a.push(function(){var r,o,a=!1,u=function(e){a||(a=!0,(o||V)(e),r.complete(!e))};return r=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,e,t,i,function(e){u(!1===e)}),r})}),a}function c(e,t,i,r,o){var a=u(e,t,i,r,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(e,"removeClass",i,r,"beforeRemoveClass"),l=u(e,"addClass",i,r,"beforeAddClass")):"setClass"===o&&(s=u(e,"removeClass",i,r,"removeClass"),l=u(e,"addClass",i,r,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(e){var t=[];return a.length&&N(a,function(e){t.push(e())}),t.length?n.all(t,e):e(),function(e){N(t,function(t){e?t.cancel():t.end()})}}}var h=!1;3===arguments.length&&B(i)&&(a=i,i=null),a=d(a),i||(i=e.attr("class")||"",a.addClass&&(i+=" "+a.addClass),a.removeClass&&(i+=" "+a.removeClass));var p,m,g=a.addClass,v=a.removeClass,b=r(i);if(b.length){var y,w;"leave"===t?(w="leave",y="afterLeave"):(w="before"+t.charAt(0).toUpperCase()+t.substr(1),y=t),"enter"!==t&&"move"!==t&&(p=c(e,t,a,b,w)),m=c(e,t,a,b,y)}if(p||m){var x;return{$$willAnimate:!0,end:function(){return x?x.end():(h=!0,s(),f(e,a),x=new n,x.complete(!0)),x},start:function(){function t(t){h=!0,s(),f(e,a),x.complete(t)}if(x)return x;x=new n;var i,r=[];return p&&r.push(function(e){i=p(e)}),r.length?r.push(function(e){s(),e(!0)}):s(),m&&r.push(function(e){i=m(e)}),x.setHost({end:function(){h||((i||V)(void 0),t(void 0))},cancel:function(){h||((i||V)(!0),t(!0))}}),n.chain(r,t),x}}}}}]}]).provider("$$animateJsDriver",["$$animationProvider",function(e){e.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(e,t){function n(t){return e(t.element,t.event,t.classes,t.options)}return function(e){if(!e.from||!e.to)return n(e);var i=n(e.from),r=n(e.to);return i||r?{start:function(){function e(){return function(){N(n,function(e){e.end()})}}var n=[];i&&n.push(i.start()),r&&n.push(r.start()),t.all(n,function(e){o.complete(e)});var o=new t({end:e(),cancel:e()});return o}}:void 0}}]}])}(window,window.angular),function(e,t){"use strict";function n(e,n){n=n||{},t.forEach(n,function(e,t){delete n[t]});for(var i in e)!e.hasOwnProperty(i)||"$"===i.charAt(0)&&"$"===i.charAt(1)||(n[i]=e[i]);return n}var i=t.$$minErr("$resource"),r=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;t.module("ngResource",["ng"]).info({angularVersion:"1.8.0"}).provider("$resource",function(){var e=/^https?:\/\/\[[^\]]*][^/]*/,o=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(a,s,l,u){function c(e,t){this.template=e,this.defaults=h({},o.defaults,t),this.urlParams={}}var d=t.noop,f=t.forEach,h=t.extend,p=t.copy,m=t.isArray,g=t.isDefined,v=t.isFunction,b=t.isNumber,y=t.$$encodeUriQuery,w=t.$$encodeUriSegment;return c.prototype={setUrlParams:function(t,n,r){var o,a,s=this,l=r||s.template,u="",c=s.urlParams=Object.create(null);f(l.split(/\W/),function(e){if("hasOwnProperty"===e)throw i("badname");!/^\d+$/.test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(l)&&(c[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(l)})}),l=l.replace(/\\:/g,":"),l=l.replace(e,function(e){return u=e,""}),n=n||{},f(s.urlParams,function(e,t){o=n.hasOwnProperty(t)?n[t]:s.defaults[t],g(o)&&null!==o?(a=e.isQueryParamValue?y(o,!0):w(o),l=l.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return a+t})):l=l.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),s.defaults.stripTrailingSlashes&&(l=l.replace(/\/+$/,"")||"/"),l=l.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u+l.replace(/\/(\\|%5C)\./,"/."),f(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},function(e,y,w,x){function C(e,n){var o={};return n=h({},y,n),f(n,function(n,a){v(n)&&(n=n(e));var s;if(n&&n.charAt&&"@"===n.charAt(0)){s=e;var l=n.substr(1);if(null==l||""===l||"hasOwnProperty"===l||!r.test("."+l))throw i("badmember",l);for(var l=l.split("."),u=0,c=l.length;u<c&&t.isDefined(s);u++){var d=l[u];s=null!==s?s[d]:void 0}}else s=n;o[a]=s}),o}function _(e){return e.resource}function k(e){n(e||{},this)}var S=new c(e,x);return w=h({},o.defaults.actions,w),k.prototype.toJSON=function(){var e=h({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},f(w,function(e,t){var r=!0===e.hasBody||!1!==e.hasBody&&/^(POST|PUT|PATCH)$/i.test(e.method),o=e.timeout,c=g(e.cancellable)?e.cancellable:S.defaults.cancellable;o&&!b(o)&&(s.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete e.timeout,o=null),k[t]=function(s,g,b,y){function w(e){H["catch"](d),null!==L&&L.resolve(e)}var x,D,$,T={};switch(arguments.length){case 4:$=y,D=b;case 3:case 2:if(!v(g)){T=s,x=g,D=b;break}if(v(s)){D=s,$=g;break}D=g,$=b;case 1:v(s)?D=s:r?x=s:T=s;break;case 0:break;default:throw i("badargs",arguments.length)}var E=this instanceof k,A=E?x:e.isArray?[]:new k(x),O={},M=e.interceptor&&e.interceptor.request||void 0,N=e.interceptor&&e.interceptor.requestError||void 0,P=e.interceptor&&e.interceptor.response||_,I=e.interceptor&&e.interceptor.responseError||l.reject,R=D?function(e){D(e,F.headers,F.status,F.statusText)}:void 0;$=$||void 0;var L,B,F;f(e,function(e,t){switch(t){default:O[t]=p(e);case"params":case"isArray":case"interceptor":case"cancellable":}}),!E&&c&&(L=l.defer(),O.timeout=L.promise,o&&(B=u(L.resolve,o))),r&&(O.data=x),S.setUrlParams(O,h({},C(x,e.params||{}),T),e.url);var H=l.resolve(O).then(M)["catch"](N).then(a),H=H.then(function(r){var o=r.data;if(o){if(m(o)!==!!e.isArray)throw i("badcfg",t,e.isArray?"array":"object",m(o)?"array":"object",O.method,O.url);if(e.isArray)A.length=0,f(o,function(e){"object"==typeof e?A.push(new k(e)):A.push(e)});else{var a=A.$promise;n(o,A),A.$promise=a}}return r.resource=A,F=r,P(r)},function(e){return e.resource=A,F=e,I(e)}),H=H["finally"](function(){A.$resolved=!0,!E&&c&&(A.$cancelRequest=d,u.cancel(B),L=B=O.timeout=null)});return H.then(R,$),E?H:(A.$promise=H,A.$resolved=!1,c&&(A.$cancelRequest=w),A)},k.prototype["$"+t]=function(e,n,i){return v(e)&&(i=n,n=e,e={}),e=k[t].call(this,e,this,n,i),e.$promise||e}}),k}}]})}(window,window.angular),function(e){"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){function r(t){var n,i,o={};e.each(t,function(e){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=e.replace(n[0],n[2].toLowerCase()),o[i]=e,"o"===n[1]&&r(t[e]))}),t._hungarianMap=o}function o(t,n,a){t._hungarianMap||r(t);var s;e.each(n,function(r){s=t._hungarianMap[r],s===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),e.extend(!0,n[s],n[r]),o(t[s],n[s],a)):n[s]=n[r])})}function a(e){var t=qe.defaults.oLanguage,n=t.sDecimal;if(n&&He(n),e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&Oe(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&Oe(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands),(e=e.sDecimal)&&n!==e&&He(e)}}function s(e){if(ct(e,"ordering","bSort"),ct(e,"orderMulti","bSortMulti"),ct(e,"orderClasses","bSortClasses"),ct(e,"orderCellsTop","bSortCellsTop"),ct(e,"order","aaSorting"),ct(e,"orderFixed","aaSortingFixed"),ct(e,"paging","bPaginate"),ct(e,"pagingType","sPaginationType"),ct(e,"pageLength","iDisplayLength"),ct(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":""),e=e.aoSearchCols)for(var t=0,n=e.length;t<n;t++)e[t]&&o(qe.models.oSearch,e[t])}function l(e){ct(e,"orderable","bSortable"),ct(e,"orderData","aDataSort"),ct(e,"orderSequence","asSorting"),ct(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"==typeof t&&!Array.isArray(t)&&(e.aDataSort=[t])}function u(n){if(!qe.__browser){var i={};qe.__browser=i;var r=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=r.children(),a=o.children();i.barWidth=o[0].offsetWidth-o[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!r[0].getBoundingClientRect().width,r.remove()}e.extend(n.oBrowser,qe.__browser),n.oScroll.iBarWidth=qe.__browser.barWidth}function c(e,t,n,r,o,a){var s,l=!1;for(n!==i&&(s=n,l=!0);r!==o;)e.hasOwnProperty(r)&&(s=l?t(s,e[r],r,e):e[r],l=!0,r+=a);return s}function d(t,i){var r=qe.defaults.column,o=t.aoColumns.length,r=e.extend({},qe.models.oColumn,r,{nTh:i?i:n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});t.aoColumns.push(r),r=t.aoPreSearchCols,r[o]=e.extend({},qe.models.oSearch,r[o]),f(t,o,e(i).data())}function f(t,n,r){var n=t.aoColumns[n],a=t.oClasses,s=e(n.nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var u=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);u&&(n.sWidthOrig=u[1])}r!==i&&null!==r&&(l(r),o(qe.defaults.column,r,!0),r.mDataProp!==i&&!r.mData&&(r.mData=r.mDataProp),r.sType&&(n._sManualType=r.sType),r.className&&!r.sClass&&(r.sClass=r.className),r.sClass&&s.addClass(r.sClass),e.extend(n,r),Oe(n,r,"sWidth","sWidthOrig"),r.iDataSort!==i&&(n.aDataSort=[r.iDataSort]),Oe(n,r,"aDataSort"));var c=n.mData,d=S(c),f=n.mRender?S(n.mRender):null,r=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};n._bAttrSrc=e.isPlainObject(c)&&(r(c.sort)||r(c.type)||r(c.filter)),n._setter=null,n.fnGetData=function(e,t,n){var r=d(e,t,i,n);return f&&t?f(r,t,e,n):r},n.fnSetData=function(e,t,n){return D(c)(e,t,n)},"number"!=typeof c&&(t._rowReadObject=!0),t.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),t=-1!==e.inArray("asc",n.asSorting),r=-1!==e.inArray("desc",n.asSorting),n.bSortable&&(t||r)?t&&!r?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!t&&r?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function h(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;me(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}t=e.oScroll,(""!==t.sY||""!==t.sX)&&he(e),Ie(e,null,"column-sizing",[e])}function p(e,t){var n=v(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function m(t,n){var i=v(t,"bVisible"),i=e.inArray(n,i);return-1!==i?i:null}function g(t){var n=0;return e.each(t.aoColumns,function(t,i){i.bVisible&&"none"!==e(i.nTh).css("display")&&n++}),n}function v(t,n){var i=[];return e.map(t.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function b(e){var t,n,r,o,a,s,l,u,c,d=e.aoColumns,f=e.aoData,h=qe.ext.type.detect;for(t=0,n=d.length;t<n;t++)if(l=d[t],c=[],!l.sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(r=0,o=h.length;r<o;r++){for(a=0,s=f.length;a<s&&(c[a]===i&&(c[a]=C(e,a,t,"type")),u=h[r](c[a],e),u||r===h.length-1)&&"html"!==u;a++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function y(t,n,r,o){var a,s,l,u,c,f,h=t.aoColumns;if(n)for(a=n.length-1;0<=a;a--){f=n[a];var p=f.targets!==i?f.targets:f.aTargets;for(Array.isArray(p)||(p=[p]),s=0,l=p.length;s<l;s++)if("number"==typeof p[s]&&0<=p[s]){for(;h.length<=p[s];)d(t);o(p[s],f)}else if("number"==typeof p[s]&&0>p[s])o(h.length+p[s],f);else if("string"==typeof p[s])for(u=0,c=h.length;u<c;u++)("_all"==p[s]||e(h[u].nTh).hasClass(p[s]))&&o(u,f)}if(r)for(a=0,t=r.length;a<t;a++)o(a,r[a])}function w(t,n,r,o){var a=t.aoData.length,s=e.extend(!0,{},qe.models.oRow,{src:r?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,u=0,c=l.length;u<c;u++)l[u].sType=null;return t.aiDisplayMaster.push(a),n=t.rowIdFn(n),n!==i&&(t.aIds[n]=s),(r||!t.oFeatures.bDeferRender)&&M(t,a,r,o),a}function x(t,n){var i;return n instanceof e||(n=e(n)),n.map(function(e,n){return i=O(t,n),w(t,i.data,n,i.cells)})}function C(e,t,n,r){var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,u=a.fnGetData(s,r,{settings:e,row:t,col:n});if(u===i)return e.iDrawError!=o&&null===l&&(Ae(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(u!==s&&null!==u||null===l||r===i){if("function"==typeof u)return u.call(s)}else u=l;return null===u&&"display"==r?"":u}function _(e,t,n,i){e.aoColumns[n].fnSetData(e.aoData[t]._aData,i,{settings:e,row:t,col:n})}function k(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function S(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=S(t))}),function(e,t,r,o){var a=n[t]||n._;return a!==i?a(e,t,r,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,i,r){return t(e,n,i,r)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var r=function(e,t,n){var o,a;if(""!==n){a=k(n);for(var s=0,l=a.length;s<l;s++){if(n=a[s].match(dt),o=a[s].match(ft),n){if(a[s]=a[s].replace(dt,""),""!==a[s]&&(e=e[a[s]]),o=[],a.splice(0,s+1),a=a.join("."),Array.isArray(e))for(s=0,l=e.length;s<l;s++)o.push(r(e[s],t,a));e=n[0].substring(1,n[0].length-1),e=""===e?o:o.join(e);break}if(o)a[s]=a[s].replace(ft,""),e=e[a[s]]();else{if(null===e||e[a[s]]===i)return i;e=e[a[s]]}}}return e};return function(e,n){return r(e,n,t)}}return function(e){return e[t]}}function D(t){if(e.isPlainObject(t))return D(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,i){t(e,"set",n,i)};if("string"==typeof t&&(-1!==t.indexOf(".")||-1!==t.indexOf("[")||-1!==t.indexOf("("))){var n=function(e,t,r){var o,r=k(r);o=r[r.length-1];for(var a,s,l=0,u=r.length-1;l<u;l++){if("__proto__"===r[l]||"constructor"===r[l])throw Error("Cannot set prototype values");if(a=r[l].match(dt),s=r[l].match(ft),a){if(r[l]=r[l].replace(dt,""),e[r[l]]=[],o=r.slice(),o.splice(0,l+1),a=o.join("."),Array.isArray(t))for(s=0,u=t.length;s<u;s++)o={},n(o,t[s],a),e[r[l]].push(o);else e[r[l]]=t;return}s&&(r[l]=r[l].replace(ft,""),e=e[r[l]](t)),null!==e[r[l]]&&e[r[l]]!==i||(e[r[l]]={}),e=e[r[l]]}o.match(ft)?e[o.replace(ft,"")](t):e[o.replace(dt,"")]=t};return function(e,i){return n(e,i,t)}}return function(e,n){e[t]=n}}function $(e){return rt(e.aoData,"_aData")}function T(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function E(e,t,n){for(var r=-1,o=0,a=e.length;o<a;o++)e[o]==t?r=o:e[o]>t&&e[o]--;-1!=r&&n===i&&e.splice(r,1)}function A(e,t,n,r){var o,a=e.aoData[t],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=C(e,t,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(r!==i)s(l[r],r);else for(n=0,o=l.length;n<o;n++)s(l[n],n)}else a._aData=O(e,a,r,r===i?i:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=e.aoColumns,r!==i)s[r].sType=null;else{for(n=0,o=s.length;n<o;n++)s[n].sType=null;N(e,a)}}function O(e,t,n,r){var o,a,s,l=[],u=t.firstChild,c=0,d=e.aoColumns,f=e._rowReadObject,r=r!==i?r:f?{}:[],h=function(e,t){if("string"==typeof e){var n=e.indexOf("@");-1!==n&&(n=e.substring(n+1),D(e)(r,t.getAttribute(n)))}},p=function(e){n!==i&&n!==c||(a=d[c],s=e.innerHTML.trim(),a&&a._bAttrSrc?(D(a.mData._)(r,s),h(a.mData.sort,e),h(a.mData.type,e),h(a.mData.filter,e)):f?(a._setter||(a._setter=D(a.mData)),a._setter(r,s)):r[c]=s),c++};if(u)for(;u;)o=u.nodeName.toUpperCase(),"TD"!=o&&"TH"!=o||(p(u),l.push(u)),u=u.nextSibling;else for(l=t.anCells,u=0,o=l.length;u<o;u++)p(l[u]);return(t=t.firstChild?t:t.nTr)&&(t=t.getAttribute("id"))&&D(e.rowId)(r,t),{data:r,cells:l}}function M(t,i,r,o){var a,s,l,u,c,d=t.aoData[i],f=d._aData,h=[];if(null===d.nTr){for(a=r||n.createElement("tr"),d.nTr=a,d.anCells=h,a._DT_RowIndex=i,N(t,d),l=0,u=t.aoColumns.length;l<u;l++)s=t.aoColumns[l],d=(c=!r)?n.createElement(s.sCellType):o[l],d._DT_CellIndex={row:i,column:l},h.push(d),!c&&(!s.mRender&&s.mData===l||e.isPlainObject(s.mData)&&s.mData._===l+".display")||(d.innerHTML=C(t,i,l,"display")),s.sClass&&(d.className+=" "+s.sClass),s.bVisible&&!r?a.appendChild(d):!s.bVisible&&r&&d.parentNode.removeChild(d),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,d,C(t,i,l),f,i,l);Ie(t,"aoRowCreatedCallback",null,[a,f,i,h])}}function N(t,n){var i=n.nTr,r=n._aData;if(i){var o=t.rowIdFn(r);o&&(i.id=o),r.DT_RowClass&&(o=r.DT_RowClass.split(" "),n.__rowc=n.__rowc?lt(n.__rowc.concat(o)):o,e(i).removeClass(n.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&e(i).attr(r.DT_RowAttr),r.DT_RowData&&e(i).data(r.DT_RowData)}}function P(t){var n,i,r,o,a,s=t.nTHead,l=t.nTFoot,u=0===e("th, td",s).length,c=t.oClasses,d=t.aoColumns;for(u&&(o=e("<tr/>").appendTo(s)),n=0,i=d.length;n<i;n++)a=d[n],r=e(a.nTh).addClass(a.sClass),u&&r.appendTo(o),t.oFeatures.bSort&&(r.addClass(a.sSortingClass),!1!==a.bSortable&&(r.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),ke(t,a.nTh,n))),a.sTitle!=r[0].innerHTML&&r.html(a.sTitle),Le(t,"header")(t,r,a,c);if(u&&F(t.aoHeader,s),e(s).children("tr").attr("role","row"),e(s).children("tr").children("th, td").addClass(c.sHeaderTH),e(l).children("tr").children("th, td").addClass(c.sFooterTH),null!==l)for(t=t.aoFooter[0],n=0,i=t.length;n<i;n++)a=d[n],a.nTf=t[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}function I(t,n,r){var o,a,s,l,u=[],c=[],d=t.aoColumns.length;if(n){for(r===i&&(r=!1),o=0,a=n.length;o<a;o++){for(u[o]=n[o].slice(),u[o].nTr=n[o].nTr,s=d-1;0<=s;s--)!t.aoColumns[s].bVisible&&!r&&u[o].splice(s,1);c.push([])}for(o=0,a=u.length;o<a;o++){if(t=u[o].nTr)for(;s=t.firstChild;)t.removeChild(s);for(s=0,n=u[o].length;s<n;s++)if(l=d=1,c[o][s]===i){for(t.appendChild(u[o][s].cell),c[o][s]=1;u[o+d]!==i&&u[o][s].cell==u[o+d][s].cell;)c[o+d][s]=1,d++;for(;u[o][s+l]!==i&&u[o][s].cell==u[o][s+l].cell;){for(r=0;r<d;r++)c[o+r][s+l]=1;l++}e(u[o][s].cell).attr("rowspan",d).attr("colspan",l)}}}}function R(t){var n=Ie(t,"aoPreDrawCallback","preDraw",[t]);if(-1!==e.inArray(!1,n))de(t,!1);else{var n=[],r=0,o=t.asStripeClasses,a=o.length,s=t.oLanguage,l=t.iInitDisplayStart,u="ssp"==Be(t),c=t.aiDisplay;t.bDrawing=!0,l!==i&&-1!==l&&(t._iDisplayStart=u?l:l>=t.fnRecordsDisplay()?0:l,t.iInitDisplayStart=-1);var l=t._iDisplayStart,d=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,de(t,!1);else if(u){if(!t.bDestroying&&!V(t))return}else t.iDraw++;if(0!==c.length)for(s=u?t.aoData.length:d,u=u?0:l;u<s;u++){var f=c[u],h=t.aoData[f];null===h.nTr&&M(t,f);var p=h.nTr;if(0!==a){var m=o[r%a];h._sRowStripe!=m&&(e(p).removeClass(h._sRowStripe).addClass(m),h._sRowStripe=m)}Ie(t,"aoRowCallback",null,[p,h._aData,r,u,f]),n.push(p),r++}else r=s.sZeroRecords,1==t.iDraw&&"ajax"==Be(t)?r=s.sLoadingRecords:s.sEmptyTable&&0===t.fnRecordsTotal()&&(r=s.sEmptyTable),n[0]=e("<tr/>",{"class":a?o[0]:""}).append(e("<td />",{valign:"top",colSpan:g(t),"class":t.oClasses.sRowEmpty}).html(r))[0];Ie(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],$(t),l,d,c]),Ie(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],$(t),l,d,c]),o=e(t.nTBody),o.children().detach(),o.append(e(n)),Ie(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}}function L(e,t){var n=e.oFeatures,i=n.bFilter;n.bSort&&xe(e),i?Y(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,R(e),e._drawHold=!1}function B(t){var n=t.oClasses,i=e(t.nTable),i=e("<div/>").insertBefore(i),r=t.oFeatures,o=e("<div/>",{id:t.sTableId+"_wrapper","class":n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=o[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var a,s,l,u,c,d,f=t.sDom.split(""),h=0;h<f.length;h++){if(a=null,s=f[h],"<"==s){if(l=e("<div/>")[0],u=f[h+1],"'"==u||'"'==u){for(c="",d=2;f[h+d]!=u;)c+=f[h+d],d++;"H"==c?c=n.sJUIHeader:"F"==c&&(c=n.sJUIFooter),-1!=c.indexOf(".")?(u=c.split("."),l.id=u[0].substr(1,u[0].length-1),l.className=u[1]):"#"==c.charAt(0)?l.id=c.substr(1,c.length-1):l.className=c,h+=d}o.append(l),o=e(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=se(t);else if("f"==s&&r.bFilter)a=q(t);else if("r"==s&&r.bProcessing)a=ce(t);else if("t"==s)a=fe(t);else if("i"==s&&r.bInfo)a=te(t);else if("p"==s&&r.bPaginate)a=le(t);else if(0!==qe.ext.feature.length)for(l=qe.ext.feature,d=0,u=l.length;d<u;d++)if(s==l[d].cFeature){a=l[d].fnInit(t);break}a&&(l=t.aanFeatures,l[s]||(l[s]=[]),l[s].push(a),o.append(a))}i.replaceWith(o),t.nHolding=null}function F(t,n){var i,r,o,a,s,l,u,c,d,f,h=e(n).children("tr");for(t.splice(0,t.length),o=0,l=h.length;o<l;o++)t.push([]);for(o=0,l=h.length;o<l;o++)for(i=h[o],r=i.firstChild;r;){if("TD"==r.nodeName.toUpperCase()||"TH"==r.nodeName.toUpperCase()){for(c=1*r.getAttribute("colspan"),d=1*r.getAttribute("rowspan"),c=c&&0!==c&&1!==c?c:1,d=d&&0!==d&&1!==d?d:1,a=0,s=t[o];s[a];)a++;for(u=a,f=1===c,s=0;s<c;s++)for(a=0;a<d;a++)t[o+a][u+s]={cell:r,unique:f},t[o+a].nTr=i}r=r.nextSibling}}function H(e,t,n){var i=[];n||(n=e.aoHeader,t&&(n=[],F(n,t)));for(var t=0,r=n.length;t<r;t++)for(var o=0,a=n[t].length;o<a;o++)!n[t][o].unique||i[o]&&e.bSortCellsTop||(i[o]=n[t][o].cell);return i}function j(t,n,i){if(Ie(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var r={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);n?(n=n[0],r[n]||(r[n]=[]),r[n].push(t.value)):r[t.name]=t.value}),n=r}var a,s=t.ajax,l=t.oInstance,u=function(e){Ie(t,null,"xhr",[t,e,t.jqXHR]),i(e)};if(e.isPlainObject(s)&&s.data){a=s.data;var c="function"==typeof a?a(n,t):a,n="function"==typeof a&&c?c:e.extend(!0,n,c);delete s.data}c={data:n,success:function(e){var n=e.error||e.sError;n&&Ae(t,0,n),t.json=e,u(e)},dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,i){var r=Ie(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,r)&&("parsererror"==i?Ae(t,0,"Invalid JSON response",1):4===n.readyState&&Ae(t,0,"Ajax error",7)),de(t,!1)}},t.oAjaxData=n,Ie(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),u,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(c,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(l,n,u,t):(t.jqXHR=e.ajax(e.extend(c,s)),s.data=a)}function V(e){return!e.bAjaxDataGet||(e.iDraw++,de(e,!0),j(e,z(e),function(t){U(e,t)}),!1)}function z(t){var n,i,r,o,a=t.aoColumns,s=a.length,l=t.oFeatures,u=t.oPreviousSearch,c=t.aoPreSearchCols,d=[],f=we(t);n=t._iDisplayStart,i=!1!==l.bPaginate?t._iDisplayLength:-1;var h=function(e,t){d.push({name:e,value:t})};h("sEcho",t.iDraw),h("iColumns",s),h("sColumns",rt(a,"sName").join(",")),h("iDisplayStart",n),h("iDisplayLength",i);var p={draw:t.iDraw,columns:[],order:[],start:n,length:i,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)r=a[n],o=c[n],i="function"==typeof r.mData?"function":r.mData,p.columns.push({data:i,name:r.sName,searchable:r.bSearchable,orderable:r.bSortable,search:{value:o.sSearch,regex:o.bRegex}}),h("mDataProp_"+n,i),l.bFilter&&(h("sSearch_"+n,o.sSearch),h("bRegex_"+n,o.bRegex),h("bSearchable_"+n,r.bSearchable)),l.bSort&&h("bSortable_"+n,r.bSortable);return l.bFilter&&(h("sSearch",u.sSearch),h("bRegex",u.bRegex)),
l.bSort&&(e.each(f,function(e,t){p.order.push({column:t.col,dir:t.dir}),h("iSortCol_"+e,t.col),h("sSortDir_"+e,t.dir)}),h("iSortingCols",f.length)),a=qe.ext.legacy.ajax,null===a?t.sAjaxSource?d:p:a?d:p}function U(e,t){var n=W(e,t),r=t.sEcho!==i?t.sEcho:t.draw,o=t.iTotalRecords!==i?t.iTotalRecords:t.recordsTotal,a=t.iTotalDisplayRecords!==i?t.iTotalDisplayRecords:t.recordsFiltered;if(r!==i){if(1*r<e.iDraw)return;e.iDraw=1*r}for(T(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(a,10),r=0,o=n.length;r<o;r++)w(e,n[r]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,R(e),e._bInitComplete||oe(e,t),e.bAjaxDataGet=!0,de(e,!1)}function W(t,n){var r=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==i?t.ajax.dataSrc:t.sAjaxDataProp;return"data"===r?n.aaData||n[r]:""!==r?S(r)(n):n}function q(t){var i=t.oClasses,r=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,l='<input type="search" class="'+i.sFilterInput+'"/>',u=o.sSearch,u=u.match(/_INPUT_/)?u.replace("_INPUT_",l):u+l,i=e("<div/>",{id:s.f?null:r+"_filter","class":i.sFilter}).append(e("<label/>").append(u)),c=function(){var e=this.value?this.value:"";e!=a.sSearch&&(Y(t,{sSearch:e,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive}),t._iDisplayStart=0,R(t))},s=null!==t.searchDelay?t.searchDelay:"ssp"===Be(t)?400:0,d=e("input",i).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",s?vt(c,s):c).on("mouseup",function(){setTimeout(function(){c.call(d[0])},10)}).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",r);return e(t.nTable).on("search.dt.DT",function(e,i){if(t===i)try{d[0]!==n.activeElement&&d.val(a.sSearch)}catch(r){}}),i[0]}function Y(e,t,n){var r=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){r.sSearch=e.sSearch,r.bRegex=e.bRegex,r.bSmart=e.bSmart,r.bCaseInsensitive=e.bCaseInsensitive};if(b(e),"ssp"!=Be(e)){for(X(e,t.sSearch,n,t.bEscapeRegex!==i?!t.bEscapeRegex:t.bRegex,t.bSmart,t.bCaseInsensitive),a(t),t=0;t<o.length;t++)K(e,o[t].sSearch,t,o[t].bEscapeRegex!==i?!o[t].bEscapeRegex:o[t].bRegex,o[t].bSmart,o[t].bCaseInsensitive);G(e)}else a(t);e.bFiltered=!0,Ie(e,null,"search",[e])}function G(t){for(var n,i,r=qe.ext.search,o=t.aiDisplay,a=0,s=r.length;a<s;a++){for(var l=[],u=0,c=o.length;u<c;u++)i=o[u],n=t.aoData[i],r[a](t,n._aFilterData,i,n._aData,u)&&l.push(i);o.length=0,e.merge(o,l)}}function K(e,t,n,i,r,o){if(""!==t){for(var a=[],s=e.aiDisplay,i=J(t,i,r,o),r=0;r<s.length;r++)t=e.aoData[s[r]]._aFilterData[n],i.test(t)&&a.push(s[r]);e.aiDisplay=a}}function X(e,t,n,i,r,o){var a,r=J(t,i,r,o),s=e.oPreviousSearch.sSearch,l=e.aiDisplayMaster,o=[];if(0!==qe.ext.search.length&&(n=!0),a=Z(e),0>=t.length)e.aiDisplay=l.slice();else{for((a||n||i||s.length>t.length||0!==t.indexOf(s)||e.bSorted)&&(e.aiDisplay=l.slice()),t=e.aiDisplay,n=0;n<t.length;n++)r.test(e.aoData[t[n]]._sFilterRow)&&o.push(t[n]);e.aiDisplay=o}}function J(t,n,i,r){return t=n?t:ht(t),i&&(t="^(?=.*?"+e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0))var t=e.match(/^"(.*)"$/),e=t?t[1]:e;return e.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(t,r?"i":"")}function Z(e){var t,n,i,r,o,a,s,l,u=e.aoColumns,c=qe.ext.type.search;for(t=!1,n=0,r=e.aoData.length;n<r;n++)if(l=e.aoData[n],!l._aFilterData){for(a=[],i=0,o=u.length;i<o;i++)t=u[i],t.bSearchable?(s=C(e,n,i,"filter"),c[t.sType]&&(s=c[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(pt.innerHTML=s,s=mt?pt.textContent:pt.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),t=!0}return t}function Q(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ee(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function te(t){var n=t.sTableId,i=t.aanFeatures.i,r=e("<div/>",{"class":t.oClasses.sInfo,id:i?null:n+"_info"});return i||(t.aoDrawCallback.push({fn:ne,sName:"information"}),r.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),r[0]}function ne(t){var n=t.aanFeatures.i;if(0!==n.length){var i=t.oLanguage,r=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l+=i.sInfoPostFix,l=ie(t,l),i=i.fnInfoCallback,null!==i&&(l=i.call(t.oInstance,t,r,o,a,s,l)),e(n).html(l)}}function ie(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function re(e){var t,n,i,r=e.iInitDisplayStart,o=e.aoColumns;n=e.oFeatures;var a=e.bDeferLoading;if(e.bInitialised){for(B(e),P(e),I(e,e.aoHeader),I(e,e.aoFooter),de(e,!0),n.bAutoWidth&&me(e),t=0,n=o.length;t<n;t++)i=o[t],i.sWidth&&(i.nTh.style.width=ye(i.sWidth));Ie(e,null,"preInit",[e]),L(e),o=Be(e),("ssp"!=o||a)&&("ajax"==o?j(e,[],function(n){var i=W(e,n);for(t=0;t<i.length;t++)w(e,i[t]);e.iInitDisplayStart=r,L(e),de(e,!1),oe(e,n)},e):(de(e,!1),oe(e)))}else setTimeout(function(){re(e)},200)}function oe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&h(e),Ie(e,null,"plugin-init",[e,t]),Ie(e,"aoInitComplete","init",[e,t])}function ae(e,t){var n=parseInt(t,10);e._iDisplayLength=n,Re(e),Ie(e,null,"length",[e,n])}function se(t){for(var n=t.oClasses,i=t.sTableId,r=t.aLengthMenu,o=Array.isArray(r[0]),a=o?r[0]:r,r=o?r[1]:r,o=e("<select/>",{name:i+"_length","aria-controls":i,"class":n.sLengthSelect}),s=0,l=a.length;s<l;s++)o[0][s]=new Option("number"==typeof r[s]?t.fnFormatNumber(r[s]):r[s],a[s]);var u=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(u[0].id=i+"_length"),u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",o[0].outerHTML)),e("select",u).val(t._iDisplayLength).on("change.DT",function(){ae(t,e(this).val()),R(t)}),e(t.nTable).on("length.dt.DT",function(n,i,r){t===i&&e("select",u).val(r)}),u[0]}function le(t){var n=t.sPaginationType,i=qe.ext.pager[n],r="function"==typeof i,o=function(e){R(e)},n=e("<div/>").addClass(t.oClasses.sPaging+n)[0],a=t.aanFeatures;return r||i.fnInit(t,n,o),a.p||(n.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(r){var t,n=e._iDisplayStart,s=e._iDisplayLength,l=e.fnRecordsDisplay(),u=-1===s,n=u?0:Math.ceil(n/s),s=u?1:Math.ceil(l/s),l=i(n,s),u=0;for(t=a.p.length;u<t;u++)Le(e,"pageButton")(e,a.p[u],u,l,n,s)}else i.fnUpdate(e,o)},sName:"pagination"})),n}function ue(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();return 0===o||-1===r?i=0:"number"==typeof t?(i=t*r,i>o&&(i=0)):"first"==t?i=0:"previous"==t?(i=0<=r?i-r:0,0>i&&(i=0)):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:Ae(e,0,"Unknown paging action: "+t,5),t=e._iDisplayStart!==i,e._iDisplayStart=i,t&&(Ie(e,null,"page",[e]),n&&R(e)),t}function ce(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function de(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),Ie(t,null,"processing",[t,n])}function fe(t){var n=e(t.nTable);n.attr("role","grid");var i=t.oScroll;if(""===i.sX&&""===i.sY)return t.nTable;var r=i.sX,o=i.sY,a=t.oClasses,s=n.children("caption"),l=s.length?s[0]._captionSide:null,u=e(n[0].cloneNode(!1)),c=e(n[0].cloneNode(!1)),d=n.children("tfoot");d.length||(d=null),u=e("<div/>",{"class":a.sScrollWrapper}).append(e("<div/>",{"class":a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{"class":a.sScrollHeadInner}).css({"box-sizing":"content-box",width:i.sXInner||"100%"}).append(u.removeAttr("id").css("margin-left",0).append("top"===l?s:null).append(n.children("thead"))))).append(e("<div/>",{"class":a.sScrollBody}).css({position:"relative",overflow:"auto",width:r?ye(r):null}).append(n)),d&&u.append(e("<div/>",{"class":a.sScrollFoot}).css({overflow:"hidden",border:0,width:r?r?ye(r):null:"100%"}).append(e("<div/>",{"class":a.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===l?s:null).append(n.children("tfoot")))));var n=u.children(),f=n[0],a=n[1],h=d?n[2]:null;return r&&e(a).on("scroll.DT",function(){var e=this.scrollLeft;f.scrollLeft=e,d&&(h.scrollLeft=e)}),e(a).css("max-height",o),i.bCollapse||e(a).css("height",o),t.nScrollHead=f,t.nScrollBody=a,t.nScrollFoot=h,t.aoDrawCallback.push({fn:he,sName:"scrolling"}),u[0]}function he(t){var n,r,o,a,s,l=t.oScroll,u=l.sX,c=l.sXInner,d=l.sY,l=l.iBarWidth,f=e(t.nScrollHead),m=f[0].style,g=f.children("div"),v=g[0].style,b=g.children("table"),g=t.nScrollBody,y=e(g),w=g.style,x=e(t.nScrollFoot).children("div"),C=x.children("table"),_=e(t.nTHead),k=e(t.nTable),S=k[0],D=S.style,$=t.nTFoot?e(t.nTFoot):null,T=t.oBrowser,E=T.bScrollOversize,A=rt(t.aoColumns,"nTh"),O=[],M=[],N=[],P=[],I=function(e){e=e.style,e.paddingTop="0",e.paddingBottom="0",e.borderTopWidth="0",e.borderBottomWidth="0",e.height=0};r=g.scrollHeight>g.clientHeight,t.scrollBarVis!==r&&t.scrollBarVis!==i?(t.scrollBarVis=r,h(t)):(t.scrollBarVis=r,k.children("thead, tfoot").remove(),$&&(o=$.clone().prependTo(k),n=$.find("tr"),o=o.find("tr")),a=_.clone().prependTo(k),_=_.find("tr"),r=a.find("tr"),a.find("th, td").removeAttr("tabindex"),u||(w.width="100%",f[0].style.width="100%"),e.each(H(t,a),function(e,n){s=p(t,e),n.style.width=t.aoColumns[s].sWidth}),$&&pe(function(e){e.style.width=""},o),f=k.outerWidth(),""===u?(D.width="100%",E&&(k.find("tbody").height()>g.offsetHeight||"scroll"==y.css("overflow-y"))&&(D.width=ye(k.outerWidth()-l)),f=k.outerWidth()):""!==c&&(D.width=ye(c),f=k.outerWidth()),pe(I,r),pe(function(t){N.push(t.innerHTML),O.push(ye(e(t).css("width")))},r),pe(function(t,n){e.inArray(t,A)!==-1&&(t.style.width=O[n])},_),e(r).height(0),$&&(pe(I,o),pe(function(t){P.push(t.innerHTML),M.push(ye(e(t).css("width")))},o),pe(function(e,t){e.style.width=M[t]},n),e(o).height(0)),pe(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+N[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=O[t]},r),$&&pe(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+P[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=M[t]},o),k.outerWidth()<f?(n=g.scrollHeight>g.offsetHeight||"scroll"==y.css("overflow-y")?f+l:f,E&&(g.scrollHeight>g.offsetHeight||"scroll"==y.css("overflow-y"))&&(D.width=ye(n-l)),(""===u||""!==c)&&Ae(t,1,"Possible column misalignment",6)):n="100%",w.width=ye(n),m.width=ye(n),$&&(t.nScrollFoot.style.width=ye(n)),!d&&E&&(w.height=ye(S.offsetHeight+l)),u=k.outerWidth(),b[0].style.width=ye(u),v.width=ye(u),c=k.height()>g.clientHeight||"scroll"==y.css("overflow-y"),d="padding"+(T.bScrollbarLeft?"Left":"Right"),v[d]=c?l+"px":"0px",$&&(C[0].style.width=ye(u),x[0].style.width=ye(u),x[0].style[d]=c?l+"px":"0px"),k.children("colgroup").insertBefore(k.children("thead")),y.trigger("scroll"),!t.bSorted&&!t.bFiltered||t._drawHold||(g.scrollTop=0))}function pe(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}function me(n){var i,r,o=n.nTable,a=n.aoColumns,s=n.oScroll,l=s.sY,u=s.sX,c=s.sXInner,d=a.length,f=v(n,"bVisible"),m=e("th",n.nTHead),b=o.getAttribute("width"),y=o.parentNode,w=!1,x=n.oBrowser,s=x.bScrollOversize;for((i=o.style.width)&&-1!==i.indexOf("%")&&(b=i),i=0;i<f.length;i++)r=a[f[i]],null!==r.sWidth&&(r.sWidth=ge(r.sWidthOrig,y),w=!0);if(s||!w&&!u&&!l&&d==g(n)&&d==m.length)for(i=0;i<d;i++)f=p(n,i),null!==f&&(a[f].sWidth=ye(m.eq(i).width()));else{d=e(o).clone().css("visibility","hidden").removeAttr("id"),d.find("tbody tr").remove();var C=e("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),m=H(n,d.find("thead")[0]),i=0;i<f.length;i++)r=a[f[i]],m[i].style.width=null!==r.sWidthOrig&&""!==r.sWidthOrig?ye(r.sWidthOrig):"",r.sWidthOrig&&u&&e(m[i]).append(e("<div/>").css({width:r.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<f.length;i++)w=f[i],r=a[w],e(ve(n,w)).clone(!1).append(r.sContentPadding).appendTo(C);for(e("[name]",d).removeAttr("name"),r=e("<div/>").css(u||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(y),u&&c?d.width(c):u?(d.css("width","auto"),d.removeAttr("width"),d.width()<y.clientWidth&&b&&d.width(y.clientWidth)):l?d.width(y.clientWidth):b&&d.width(b),i=l=0;i<f.length;i++)y=e(m[i]),c=y.outerWidth()-y.width(),y=x.bBounding?Math.ceil(m[i].getBoundingClientRect().width):y.outerWidth(),l+=y,a[f[i]].sWidth=ye(y-c);o.style.width=ye(l),r.remove()}b&&(o.style.width=ye(b)),!b&&!u||n._reszEvt||(o=function(){e(t).on("resize.DT-"+n.sInstance,vt(function(){h(n)}))},s?setTimeout(o,1e3):o(),n._reszEvt=!0)}function ge(t,i){if(!t)return 0;var r=e("<div/>").css("width",ye(t)).appendTo(i||n.body),o=r[0].offsetWidth;return r.remove(),o}function ve(t,n){var i=be(t,n);if(0>i)return null;var r=t.aoData[i];return r.nTr?r.anCells[n]:e("<td/>").html(C(t,i,n,"display"))[0]}function be(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)n=C(e,o,t,"display")+"",n=n.replace(gt,""),n=n.replace(/&nbsp;/g," "),n.length>i&&(i=n.length,r=o);return r}function ye(e){return null===e?"0px":"number"==typeof e?0>e?"0px":e+"px":e.match(/\d$/)?e+"px":e}function we(t){var n,r,o,a,s,l,u=[],c=t.aoColumns;n=t.aaSortingFixed,r=e.isPlainObject(n);var d=[];for(o=function(t){t.length&&!Array.isArray(t[0])?d.push(t):e.merge(d,t)},Array.isArray(n)&&o(n),r&&n.pre&&o(n.pre),o(t.aaSorting),r&&n.post&&o(n.post),t=0;t<d.length;t++)for(l=d[t][0],o=c[l].aDataSort,n=0,r=o.length;n<r;n++)a=o[n],s=c[a].sType||"string",d[t]._idx===i&&(d[t]._idx=e.inArray(d[t][1],c[a].asSorting)),u.push({src:l,col:a,dir:d[t][1],index:d[t]._idx,type:s,formatter:qe.ext.type.order[s+"-pre"]});return u}function xe(e){var t,n,i,r,o=[],a=qe.ext.type.order,s=e.aoData,l=0,u=e.aiDisplayMaster;for(b(e),r=we(e),t=0,n=r.length;t<n;t++)i=r[t],i.formatter&&l++,De(e,i.col);if("ssp"!=Be(e)&&0!==r.length){for(t=0,n=u.length;t<n;t++)o[u[t]]=t;l===r.length?u.sort(function(e,t){var n,i,a,l,u=r.length,c=s[e]._aSortData,d=s[t]._aSortData;for(a=0;a<u;a++)if(l=r[a],n=c[l.col],i=d[l.col],n=n<i?-1:n>i?1:0,0!==n)return"asc"===l.dir?n:-n;return n=o[e],i=o[t],n<i?-1:n>i?1:0}):u.sort(function(e,t){var n,i,l,u,c=r.length,d=s[e]._aSortData,f=s[t]._aSortData;for(l=0;l<c;l++)if(u=r[l],n=d[u.col],i=f[u.col],u=a[u.type+"-"+u.dir]||a["string-"+u.dir],n=u(n,i),0!==n)return n;return n=o[e],i=o[t],n<i?-1:n>i?1:0})}e.bSorted=!0}function Ce(e){for(var t,n,i=e.aoColumns,r=we(e),e=e.oLanguage.oAria,o=0,a=i.length;o<a;o++){n=i[o];var s=n.asSorting;t=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<r.length&&r[0].col==o?(l.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=s[r[0].index+1]||s[0]):n=s[0],t+="asc"===n?e.sSortAscending:e.sSortDescending),l.setAttribute("aria-label",t)}}function _e(t,n,r,o){var a=t.aaSorting,s=t.aoColumns[n].asSorting,l=function(t,n){var r=t._idx;return r===i&&(r=e.inArray(t[1],s)),r+1<s.length?r+1:n?null:0};"number"==typeof a[0]&&(a=t.aaSorting=[a]),r&&t.oFeatures.bSortMulti?(r=e.inArray(n,rt(a,"0")),-1!==r?(n=l(a[r],!0),null===n&&1===a.length&&(n=0),null===n?a.splice(r,1):(a[r][1]=s[n],a[r]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0)):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),L(t),"function"==typeof o&&o(t)}function ke(e,t,n,i){var r=e.aoColumns[n];Ne(t,{},function(t){!1!==r.bSortable&&(e.oFeatures.bProcessing?(de(e,!0),setTimeout(function(){_e(e,n,t.shiftKey,i),"ssp"!==Be(e)&&de(e,!1)},0)):_e(e,n,t.shiftKey,i))})}function Se(t){var n,i,r=t.aLastSort,o=t.oClasses.sSortColumn,a=we(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(s=0,n=r.length;s<n;s++)i=r[s].src,e(rt(t.aoData,"anCells",i)).removeClass(o+(2>s?s+1:3));for(s=0,n=a.length;s<n;s++)i=a[s].src,e(rt(t.aoData,"anCells",i)).addClass(o+(2>s?s+1:3))}t.aLastSort=a}function De(e,t){var n,i=e.aoColumns[t],r=qe.ext.order[i.sSortDataType];r&&(n=r.call(e.oInstance,e,t,m(e,t)));for(var o,a=qe.ext.type.order[i.sType+"-pre"],s=0,l=e.aoData.length;s<l;s++)i=e.aoData[s],i._aSortData||(i._aSortData=[]),(!i._aSortData[t]||r)&&(o=r?n[s]:C(e,s,t,"sort"),i._aSortData[t]=a?a(o):o)}function $e(t){if(t.oFeatures.bStateSave&&!t.bDestroying){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:Q(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:Q(t.aoPreSearchCols[n])}})};Ie(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oSavedState=n,t.fnStateSaveCallback.call(t.oInstance,t,n)}}function Te(t,n,r){var o,a,s=t.aoColumns,n=function(n){if(n&&n.time){var l=Ie(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1===e.inArray(!1,l)&&(l=t.iStateDuration,!(0<l&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length))){if(t.oLoadedState=e.extend(!0,{},n),n.start!==i&&(t._iDisplayStart=n.start,t.iInitDisplayStart=n.start),n.length!==i&&(t._iDisplayLength=n.length),n.order!==i&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&e.extend(t.oPreviousSearch,ee(n.search)),n.columns)for(o=0,a=n.columns.length;o<a;o++)l=n.columns[o],l.visible!==i&&(s[o].bVisible=l.visible),l.search!==i&&e.extend(t.aoPreSearchCols[o],ee(l.search));Ie(t,"aoStateLoaded","stateLoaded",[t,n])}}r()};if(t.oFeatures.bStateSave){var l=t.fnStateLoadCallback.call(t.oInstance,t,n);l!==i&&n(l)}else r()}function Ee(t){var n=qe.settings,t=e.inArray(t,rt(n,"nTable"));return-1!==t?n[t]:null}function Ae(e,n,i,r){if(i="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+i,r&&(i+=". For more information about this error, please see http://datatables.net/tn/"+r),n)t.console&&console.log&&console.log(i);else if(n=qe.ext,n=n.sErrMode||n.errMode,e&&Ie(e,null,"error",[e,r,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(e,r,i)}}function Oe(t,n,r,o){Array.isArray(r)?e.each(r,function(e,i){Array.isArray(i)?Oe(t,n,i[0],i[1]):Oe(t,n,i)}):(o===i&&(o=r),n[r]!==i&&(t[o]=n[r]))}function Me(t,n,i){var r,o;for(o in n)n.hasOwnProperty(o)&&(r=n[o],e.isPlainObject(r)?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],r)):t[o]=i&&"data"!==o&&"aaData"!==o&&Array.isArray(r)?r.slice():r);return t}function Ne(t,n,i){e(t).on("click.DT",n,function(n){e(t).trigger("blur"),i(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),i(e))}).on("selectstart.DT",function(){return!1})}function Pe(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function Ie(t,n,i,r){var o=[];return n&&(o=e.map(t[n].slice().reverse(),function(e){return e.fn.apply(t.oInstance,r)})),null!==i&&(n=e.Event(i+".dt"),e(t.nTable).trigger(n,r),o.push(n.result)),o}function Re(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;t>=n&&(t=n-i),t-=t%i,(-1===i||0>t)&&(t=0),e._iDisplayStart=t}function Le(t,n){var i=t.renderer,r=qe.ext.renderer[n];return e.isPlainObject(i)&&i[n]?r[i[n]]||r._:"string"==typeof i?r[i]||r._:r._}function Be(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}function Fe(e,t){var n=[],n=Ot.numbers_length,i=Math.floor(n/2);return t<=n?n=at(0,t):e<=i?(n=at(0,n-2),n.push("ellipsis"),n.push(t-1)):(e>=t-1-i?n=at(t-(n-2),t):(n=at(e-i+2,e+i-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function He(t){e.each({num:function(e){return Mt(e,t)},"num-fmt":function(e){return Mt(e,t,Ze)},"html-num":function(e){return Mt(e,t,Ke)},"html-num-fmt":function(e){return Mt(e,t,Ke,Ze)}},function(e,n){Ve.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(Ve.type.search[e+t]=Ve.type.search.html)})}function je(e){return function(){var t=[Ee(this[qe.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return qe.ext.internal[e].apply(this,t)}}var Ve,ze,Ue,We,qe=function(t){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new ze(e?Ee(this[Ve.iApiIndex]):this)},this.fnAddData=function(t,n){var r=this.api(!0),o=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?r.rows.add(t):r.row.add(t);return(n===i||n)&&r.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],r=n.oScroll;e===i||e?t.draw(!1):(""!==r.sX||""!==r.sY)&&he(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===i||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var r=this.api(!0),e=r.rows(e),o=e.settings()[0],a=o.aoData[e[0][0]];return e.remove(),t&&t.call(this,o,a),(n===i||n)&&r.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,r,o,a){o=this.api(!0),null===t||t===i?o.search(e,n,r,a):o.column(t).search(e,n,r,a),o.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==i){var r=e.nodeName?e.nodeName.toLowerCase():"";return t!==i||"td"==r||"th"==r?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==i?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();return"TR"==n?t.row(e).index():"TD"==n||"TH"==n?(e=t.cell(e).index(),[e.row,e.columnVisible,e.column]):null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===i||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){e=this.api(!0).column(e).visible(t),(n===i||n)&&e.columns.adjust().draw()},this.fnSettings=function(){return Ee(this[Ve.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,r,o){var a=this.api(!0);return n===i||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===i||o)&&a.columns.adjust(),(r===i||r)&&a.draw(),0},this.fnVersionCheck=Ve.fnVersionCheck;var n=this,r=t===i,c=this.length;r&&(t={}),this.oApi=this.internal=Ve.internal;for(var h in qe.ext.internal)h&&(this[h]=je(h));return this.each(function(){var h,p={},m=1<c?Me(p,t,!0):t,g=0,p=this.getAttribute("id"),v=!1,b=qe.defaults,C=e(this);if("table"!=this.nodeName.toLowerCase())Ae(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(b),l(b.column),o(b,b,!0),o(b.column,b.column,!0),o(b,e.extend(m,C.data()),!0);var _=qe.settings,g=0;for(h=_.length;g<h;g++){var k=_[g];if(k.nTable==this||k.nTHead&&k.nTHead.parentNode==this||k.nTFoot&&k.nTFoot.parentNode==this){var D=m.bRetrieve!==i?m.bRetrieve:b.bRetrieve;if(r||D)return k.oInstance;if(m.bDestroy!==i?m.bDestroy:b.bDestroy){k.oInstance.fnDestroy();break}return void Ae(k,0,"Cannot reinitialise DataTable",3)}if(k.sTableId==this.id){_.splice(g,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+qe.ext._unique++);var $=e.extend(!0,{},qe.models.oSettings,{sDestroyWidth:C[0].style.width,sInstance:p,sTableId:p});$.nTable=this,$.oApi=n.internal,$.oInit=m,_.push($),$.oInstance=1===n.length?n:C.dataTable(),s(m),a(m.oLanguage),m.aLengthMenu&&!m.iDisplayLength&&(m.iDisplayLength=Array.isArray(m.aLengthMenu[0])?m.aLengthMenu[0][0]:m.aLengthMenu[0]),m=Me(e.extend(!0,{},b),m),Oe($.oFeatures,m,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Oe($,m,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Oe($.oScroll,m,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Oe($.oLanguage,m,"fnInfoCallback"),Pe($,"aoDrawCallback",m.fnDrawCallback,"user"),Pe($,"aoServerParams",m.fnServerParams,"user"),Pe($,"aoStateSaveParams",m.fnStateSaveParams,"user"),Pe($,"aoStateLoadParams",m.fnStateLoadParams,"user"),Pe($,"aoStateLoaded",m.fnStateLoaded,"user"),Pe($,"aoRowCallback",m.fnRowCallback,"user"),Pe($,"aoRowCreatedCallback",m.fnCreatedRow,"user"),Pe($,"aoHeaderCallback",m.fnHeaderCallback,"user"),Pe($,"aoFooterCallback",m.fnFooterCallback,"user"),Pe($,"aoInitComplete",m.fnInitComplete,"user"),Pe($,"aoPreDrawCallback",m.fnPreDrawCallback,"user"),$.rowIdFn=S(m.rowId),u($);var T=$.oClasses;e.extend(T,qe.ext.classes,m.oClasses),C.addClass(T.sTable),$.iInitDisplayStart===i&&($.iInitDisplayStart=m.iDisplayStart,$._iDisplayStart=m.iDisplayStart),null!==m.iDeferLoading&&($.bDeferLoading=!0,p=Array.isArray(m.iDeferLoading),$._iRecordsDisplay=p?m.iDeferLoading[0]:m.iDeferLoading,$._iRecordsTotal=p?m.iDeferLoading[1]:m.iDeferLoading);var E=$.oLanguage;e.extend(!0,E,m.oLanguage),E.sUrl?(e.ajax({dataType:"json",url:E.sUrl,success:function(t){a(t),o(b.oLanguage,t),e.extend(!0,E,t),Ie($,null,"i18n",[$]),re($)},error:function(){re($)}}),v=!0):Ie($,null,"i18n",[$]),null===m.asStripeClasses&&($.asStripeClasses=[T.sStripeOdd,T.sStripeEven]);var p=$.asStripeClasses,A=C.children("tbody").find("tr").eq(0);if(-1!==e.inArray(!0,e.map(p,function(e){return A.hasClass(e)}))&&(e("tbody tr",this).removeClass(p.join(" ")),$.asDestroyStripes=p.slice()),p=[],_=this.getElementsByTagName("thead"),0!==_.length&&(F($.aoHeader,_[0]),p=H($)),null===m.aoColumns)for(_=[],g=0,h=p.length;g<h;g++)_.push(null);else _=m.aoColumns;for(g=0,h=_.length;g<h;g++)d($,p?p[g]:null);if(y($,m.aoColumnDefs,_,function(e,t){f($,e,t)}),A.length){var O=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(A[0]).children("th, td").each(function(e,t){var n=$.aoColumns[e];if(n.mData===e){var r=O(t,"sort")||O(t,"order"),o=O(t,"filter")||O(t,"search");null===r&&null===o||(n.mData={_:e+".display",sort:null!==r?e+".@data-"+r:i,type:null!==r?e+".@data-"+r:i,filter:null!==o?e+".@data-"+o:i},f($,e))}})}var M=$.oFeatures,p=function(){if(m.aaSorting===i){var t=$.aaSorting;for(g=0,h=t.length;g<h;g++)t[g][1]=$.aoColumns[g].asSorting[0]}Se($),M.bSort&&Pe($,"aoDrawCallback",function(){if($.bSorted){var t=we($),n={};e.each(t,function(e,t){n[t.src]=t.dir}),Ie($,null,"order",[$,t,n]),Ce($)}}),Pe($,"aoDrawCallback",function(){($.bSorted||"ssp"===Be($)||M.bDeferRender)&&Se($)},"sc");var t=C.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),n=C.children("thead");if(0===n.length&&(n=e("<thead/>").appendTo(C)),$.nTHead=n[0],n=C.children("tbody"),0===n.length&&(n=e("<tbody/>").appendTo(C)),$.nTBody=n[0],n=C.children("tfoot"),0===n.length&&t.length>0&&(""!==$.oScroll.sX||""!==$.oScroll.sY)&&(n=e("<tfoot/>").appendTo(C)),0===n.length||0===n.children().length?C.addClass(T.sNoFooter):n.length>0&&($.nTFoot=n[0],F($.aoFooter,$.nTFoot)),m.aaData)for(g=0;g<m.aaData.length;g++)w($,m.aaData[g]);else($.bDeferLoading||"dom"==Be($))&&x($,e($.nTBody).children("tr"));$.aiDisplay=$.aiDisplayMaster.slice(),$.bInitialised=!0,v===!1&&re($)};m.bStateSave?(M.bStateSave=!0,Pe($,"aoDrawCallback",$e,"state_save"),Te($,m,p)):p()}}),n=null,this},Ye={},Ge=/[\r\n\u2028]/g,Ke=/<.*?>/g,Xe=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Je=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Ze=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,Qe=function(e){return!e||!0===e||"-"===e},et=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},tt=function(e,t){return Ye[t]||(Ye[t]=RegExp(ht(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(Ye[t],"."):e},nt=function(e,t,n){var i="string"==typeof e;return!!Qe(e)||(t&&i&&(e=tt(e,t)),n&&i&&(e=e.replace(Ze,"")),!isNaN(parseFloat(e))&&isFinite(e))},it=function(e,t,n){return!!Qe(e)||(Qe(e)||"string"==typeof e?!!nt(e.replace(Ke,""),t,n)||null:null)},rt=function(e,t,n){var r=[],o=0,a=e.length;if(n!==i)for(;o<a;o++)e[o]&&e[o][t]&&r.push(e[o][t][n]);else for(;o<a;o++)e[o]&&r.push(e[o][t]);return r},ot=function(e,t,n,r){var o=[],a=0,s=t.length;if(r!==i)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][r]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},at=function(e,t){var n,r=[];t===i?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)r.push(o);return r},st=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},lt=function(e){var t;e:{if(!(2>e.length)){t=e.slice().sort();for(var n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n){t=!1;break e}n=t[i]}}t=!0}if(t)return e.slice();t=[];var o,r=e.length,a=0,i=0;e:for(;i<r;i++){for(n=e[i],o=0;o<a;o++)if(t[o]===n)continue e;t.push(n),a++}return t},ut=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)ut(e,t[n]);else e.push(t);return e};Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),qe.util={throttle:function(e,t){var n,r,o=t!==i?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(r),r=setTimeout(function(){n=i,e.apply(t,s)},o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(Je,"\\$1")}};var ct=function(e,t,n){e[t]!==i&&(e[n]=e[t])},dt=/\[.*?\]$/,ft=/\(\)$/,ht=qe.util.escapeRegex,pt=e("<div>")[0],mt=pt.textContent!==i,gt=/<.*?>/g,vt=qe.util.throttle,bt=[],yt=Array.prototype,wt=function(t){var n,i,r=qe.settings,o=e.map(r,function(e){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?(n=e.inArray(t,o),n!==-1?[r[n]]:null):t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=e(t):t instanceof e&&(i=t),i?i.map(function(){return n=e.inArray(this,o),n!==-1?r[n]:null}).toArray():void 0):[]};ze=function(t,n){if(!(this instanceof ze))return new ze(t,n);var i=[],r=function(e){(e=wt(e))&&i.push.apply(i,e)};if(Array.isArray(t))for(var o=0,a=t.length;o<a;o++)r(t[o]);else r(t);this.context=lt(i),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},ze.extend(this,this,bt)},qe.Api=ze,e.extend(ze.prototype,{any:function(){return 0!==this.count()},concat:yt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new ze(t[e],this[e]):null},filter:function(e){var t=[];if(yt.filter)t=yt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new ze(this.context,t)},flatten:function(){var e=[];return new ze(this.context,e.concat.apply(e,this.toArray()))},join:yt.join,indexOf:yt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,r){var o,a,s,l,u,c,d,f=[],h=this.context,p=this.selector;for("string"==typeof e&&(r=n,n=t,t=e,e=!1),a=0,s=h.length;a<s;a++){var m=new ze(h[a]);if("table"===t)o=n.call(m,h[a],a),o!==i&&f.push(o);else if("columns"===t||"rows"===t)o=n.call(m,h[a],this[a],a),o!==i&&f.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(d=this[a],"column-rows"===t&&(c=Dt(h[a],p.opts)),l=0,u=d.length;l<u;l++)o=d[l],
o="cell"===t?n.call(m,h[a],o.row,o.column,a,l):n.call(m,h[a],o,a,l,c),o!==i&&f.push(o)}return f.length||r?(e=new ze(h,e?f.concat.apply([],f):f),t=e.selector,t.rows=p.rows,t.cols=p.cols,t.opts=p.opts,e):this},lastIndexOf:yt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(yt.map)t=yt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new ze(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:yt.pop,push:yt.push,reduce:yt.reduce||function(e,t){return c(this,e,t,0,this.length,1)},reduceRight:yt.reduceRight||function(e,t){return c(this,e,t,this.length-1,-1,-1)},reverse:yt.reverse,selector:null,shift:yt.shift,slice:function(){return new ze(this.context,this)},sort:yt.sort,splice:yt.splice,toArray:function(){return yt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new ze(this.context,lt(this))},unshift:yt.unshift}),ze.extend=function(e,t,n){if(n.length&&t&&(t instanceof ze||t.__dt_wrapper)){var i,r,o,a=function(e,t,n){return function(){var i=t.apply(e,arguments);return ze.extend(i,i,n.methodExt),i}};for(i=0,r=n.length;i<r;i++)o=n[i],t[o.name]="function"===o.type?a(e,o.val,o):"object"===o.type?{}:o.val,t[o.name].__dt_wrapper=!0,ze.extend(e,t[o.name],o.propExt)}},ze.register=Ue=function(t,n){if(Array.isArray(t))for(var i=0,r=t.length;i<r;i++)ze.register(t[i],n);else for(var o,a,s=t.split("."),l=bt,i=0,r=s.length;i<r;i++){o=(a=s[i].indexOf("()")!==-1)?s[i].replace("()",""):s[i];var u;e:{u=0;for(var c=l.length;u<c;u++)if(l[u].name===o){u=l[u];break e}u=null}u||(u={name:o,val:{},methodExt:[],propExt:[],type:"object"},l.push(u)),i===r-1?(u.val=n,u.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):l=a?u.methodExt:u.propExt}},ze.registerPlural=We=function(e,t,n){ze.register(e,n),ze.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof ze?e.length?Array.isArray(e[0])?new ze(e.context,e[0]):e[0]:i:e})};var xt=function(t,n){if(Array.isArray(t))return e.map(t,function(e){return xt(e,n)});if("number"==typeof t)return[n[t]];var i=e.map(n,function(e){return e.nTable});return e(i).filter(t).map(function(){var t=e.inArray(this,i);return n[t]}).toArray()};Ue("tables()",function(e){return e!==i&&null!==e?new ze(xt(e,this.context)):this}),Ue("table()",function(e){var e=this.tables(e),t=e.context;return t.length?new ze(t[0]):e}),We("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),We("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),We("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),We("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),We("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),Ue("draw()",function(e){return this.iterator("table",function(t){"page"===e?R(t):("string"==typeof e&&(e="full-hold"!==e),L(t,e===!1))})}),Ue("page()",function(e){return e===i?this.page.info().page:this.iterator("table",function(t){ue(t,e)})}),Ue("page.info()",function(){if(0===this.context.length)return i;var e=this.context[0],t=e._iDisplayStart,n=e.oFeatures.bPaginate?e._iDisplayLength:-1,r=e.fnRecordsDisplay(),o=n===-1;return{page:o?0:Math.floor(t/n),pages:o?1:Math.ceil(r/n),start:t,end:e.fnDisplayEnd(),length:n,recordsTotal:e.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===Be(e)}}),Ue("page.len()",function(e){return e===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(t){ae(t,e)})});var Ct=function(e,t,n){if(n){var i=new ze(e);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Be(e))L(e,t);else{de(e,!0);var r=e.jqXHR;r&&4!==r.readyState&&r.abort(),j(e,[],function(n){T(e);for(var n=W(e,n),i=0,r=n.length;i<r;i++)w(e,n[i]);L(e,t),de(e,!1)})}};Ue("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),Ue("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),Ue("ajax.reload()",function(e,t){return this.iterator("table",function(n){Ct(n,t===!1,e)})}),Ue("ajax.url()",function(t){var n=this.context;return t===i?0===n.length?i:(n=n[0],n.ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource):this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),Ue("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Ct(n,t===!1,e)})});var _t=function(e,t,n,r,o){var a,s,l,u,c,d,f=[];for(l=typeof t,t&&"string"!==l&&"function"!==l&&t.length!==i||(t=[t]),l=0,u=t.length;l<u;l++)for(s=t[l]&&t[l].split&&!t[l].match(/[\[\(:]/)?t[l].split(","):[t[l]],c=0,d=s.length;c<d;c++)(a=n("string"==typeof s[c]?s[c].trim():s[c]))&&a.length&&(f=f.concat(a));if(e=Ve.selector[e],e.length)for(l=0,u=e.length;l<u;l++)f=e[l](r,o,f);return lt(f)},kt=function(t){return t||(t={}),t.filter&&t.search===i&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},St=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Dt=function(t,n){var i,r,o,a=[],s=t.aiDisplay;o=t.aiDisplayMaster;var l=n.search;if(i=n.order,r=n.page,"ssp"==Be(t))return"removed"===l?[]:at(0,o.length);if("current"==r)for(i=t._iDisplayStart,r=t.fnDisplayEnd();i<r;i++)a.push(s[i]);else if("current"==i||"applied"==i){if("none"==l)a=o.slice();else if("applied"==l)a=s.slice();else if("removed"==l){var u={};for(i=0,r=s.length;i<r;i++)u[s[i]]=null;a=e.map(o,function(e){return u.hasOwnProperty(e)?null:e})}}else if("index"==i||"original"==i)for(i=0,r=t.aoData.length;i<r;i++)"none"==l?a.push(i):(o=e.inArray(i,s),(o===-1&&"removed"==l||o>=0&&"applied"==l)&&a.push(i));return a};Ue("rows()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");var n=kt(n),r=this.iterator("table",function(r){var o,a=n;return _t("row",t,function(t){var n=et(t),s=r.aoData;if(null!==n&&!a)return[n];if(o||(o=Dt(r,a)),null!==n&&e.inArray(n,o)!==-1)return[n];if(null===t||t===i||""===t)return o;if("function"==typeof t)return e.map(o,function(e){var n=s[e];return t(e,n._aData,n.nTr)?e:null});if(t.nodeName){var n=t._DT_RowIndex,l=t._DT_CellIndex;return n!==i?s[n]&&s[n].nTr===t?[n]:[]:l?s[l.row]&&s[l.row].nTr===t.parentNode?[l.row]:[]:(n=e(t).closest("*[data-dt-row]"),n.length?[n.data("dt-row")]:[])}return"string"==typeof t&&"#"===t.charAt(0)&&(n=r.aIds[t.replace(/^#/,"")],n!==i)?[n.idx]:(n=st(ot(r.aoData,o,"nTr")),e(n).filter(t).map(function(){return this._DT_RowIndex}).toArray())},r,a)},1);return r.selector.rows=t,r.selector.opts=n,r}),Ue("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||i},1)}),Ue("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return ot(e.aoData,t,"_aData")},1)}),We("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var i=t.aoData[n];return"search"===e?i._aFilterData:i._aSortData},1)}),We("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){A(t,n,e)})}),We("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),We("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((e===!0?"#":"")+s)}return new ze(n,t)}),We("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,r){var o,a,s,l,u,c=t.aoData,d=c[n];for(c.splice(n,1),o=0,a=c.length;o<a;o++)if(s=c[o],u=s.anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=o),null!==u)for(s=0,l=u.length;s<l;s++)u[s]._DT_CellIndex.row=o;E(t.aiDisplayMaster,n),E(t.aiDisplay,n),E(e[r],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,Re(t),n=t.rowIdFn(d._aData),n!==i&&delete t.aIds[n]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),Ue("rows.add()",function(t){var n=this.iterator("table",function(e){var n,i,r,o=[];for(i=0,r=t.length;i<r;i++)n=t[i],n.nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(x(e,n)[0]):o.push(w(e,n));return o},1),i=this.rows(-1);return i.pop(),e.merge(i,n),i}),Ue("row()",function(e,t){return St(this.rows(e,t))}),Ue("row().data()",function(e){var t=this.context;if(e===i)return t.length&&this.length?t[0].aoData[this[0]]._aData:i;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&D(t[0].rowId)(e,n.nTr.id),A(t[0],this[0],"data"),this}),Ue("row().node()",function(){var e=this.context;return e.length&&this.length?e[0].aoData[this[0]].nTr||null:null}),Ue("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?x(e,t)[0]:w(e,t)});return this.row(n[0])});var $t=function(e,t){var n=e.context;n.length&&(n=n[0].aoData[t!==i?t:e[0]])&&n._details&&(n._details.remove(),n._detailsShow=i,n._details=i)},Tt=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];if(i._details){(i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach();var r=n[0],o=new ze(r),a=r.aoData;o.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),rt(a,"_details").length>0&&(o.on("draw.dt.DT_details",function(e,t){r===t&&o.rows({page:"current"}).eq(0).each(function(e){e=a[e],e._detailsShow&&e._details.insertAfter(e.nTr)})}),o.on("column-visibility.dt.DT_details",function(e,t){if(r===t)for(var n,i=g(t),o=0,s=a.length;o<s;o++)n=a[o],n._details&&n._details.children("td[colspan]").attr("colspan",i)}),o.on("destroy.dt.DT_details",function(e,t){if(r===t)for(var n=0,i=a.length;n<i;n++)a[n]._details&&$t(o,n)}))}}};Ue("row().child()",function(t,n){var r=this.context;if(t===i)return r.length&&this.length?r[0].aoData[this[0]]._details:i;if(t===!0)this.child.show();else if(t===!1)$t(this);else if(r.length&&this.length){var o=r[0],r=r[0].aoData[this[0]],a=[],s=function(t,n){if(Array.isArray(t)||t instanceof e)for(var i=0,r=t.length;i<r;i++)s(t[i],n);else t.nodeName&&"tr"===t.nodeName.toLowerCase()?a.push(t):(i=e("<tr><td></td></tr>").addClass(n),e("td",i).addClass(n).html(t)[0].colSpan=g(o),a.push(i[0]))};s(t,n),r._details&&r._details.detach(),r._details=e(a),r._detailsShow&&r._details.insertAfter(r.nTr)}return this}),Ue(["row().child.show()","row().child().show()"],function(){return Tt(this,!0),this}),Ue(["row().child.hide()","row().child().hide()"],function(){return Tt(this,!1),this}),Ue(["row().child.remove()","row().child().remove()"],function(){return $t(this),this}),Ue("row().child.isShown()",function(){var e=this.context;return!(!e.length||!this.length)&&(e[0].aoData[this[0]]._detailsShow||!1)});var Et=/^([^:]+):(name|visIdx|visible)$/,At=function(e,t,n,i,r){for(var n=[],i=0,o=r.length;i<o;i++)n.push(C(e,r[i],t));return n};Ue("columns()",function(t,n){t===i?t="":e.isPlainObject(t)&&(n=t,t="");var n=kt(n),r=this.iterator("table",function(i){var r=t,o=n,a=i.aoColumns,s=rt(a,"sName"),l=rt(a,"nTh");return _t("column",r,function(t){var n=et(t);if(""===t)return at(a.length);if(null!==n)return[n>=0?n:a.length+n];if("function"==typeof t){var r=Dt(i,o);return e.map(a,function(e,n){return t(n,At(i,n,0,0,r),l[n])?n:null})}var u="string"==typeof t?t.match(Et):"";if(u)switch(u[2]){case"visIdx":case"visible":if(n=parseInt(u[1],10),n<0){var c=e.map(a,function(e,t){return e.bVisible?t:null});return[c[c.length+n]]}return[p(i,n)];case"name":return e.map(s,function(e,t){return e===u[1]?t:null});default:return[]}return t.nodeName&&t._DT_CellIndex?[t._DT_CellIndex.column]:(n=e(l).filter(t).map(function(){return e.inArray(this,l)}).toArray(),n.length||!t.nodeName?n:(n=e(t).closest("*[data-dt-column]"),n.length?[n.data("dt-column")]:[]))},i,o)},1);return r.selector.cols=t,r.selector.opts=n,r}),We("columns().header()","column().header()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),We("columns().footer()","column().footer()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),We("columns().data()","column().data()",function(){return this.iterator("column-rows",At,1)}),We("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),We("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,i,r,o){return ot(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),We("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return ot(e.aoData,r,"anCells",t)},1)}),We("columns().visible()","column().visible()",function(t,n){var r=this,o=this.iterator("column",function(n,r){if(t===i)return n.aoColumns[r].bVisible;var o,a,s,l=n.aoColumns,u=l[r],c=n.aoData;if(t!==i&&u.bVisible!==t){if(t){var d=e.inArray(!0,rt(l,"bVisible"),r+1);for(o=0,a=c.length;o<a;o++)s=c[o].nTr,l=c[o].anCells,s&&s.insertBefore(l[r],l[d]||null)}else e(rt(n.aoData,"anCells",r)).detach();u.bVisible=t}});return t!==i&&this.iterator("table",function(o){I(o,o.aoHeader),I(o,o.aoFooter),o.aiDisplay.length||e(o.nTBody).find("td[colspan]").attr("colspan",g(o)),$e(o),r.iterator("column",function(e,i){Ie(e,null,"column-visibility",[e,i,t,n])}),(n===i||n)&&r.columns.adjust()}),o}),We("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?m(t,n):n},1)}),Ue("columns.adjust()",function(){return this.iterator("table",function(e){h(e)},1)}),Ue("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return p(n,t);if("fromData"===e||"toVisible"===e)return m(n,t)}}),Ue("column()",function(e,t){return St(this.columns(e,t))}),Ue("cells()",function(t,n,r){if(e.isPlainObject(t)&&(t.row===i?(r=t,t=null):(r=n,n=null)),e.isPlainObject(n)&&(r=n,n=null),null===n||n===i)return this.iterator("table",function(n){var o,a,s,l,u,c,d,f=t,h=kt(r),p=n.aoData,m=Dt(n,h),g=st(ot(p,m,"anCells")),v=e(ut([],g)),b=n.aoColumns.length;return _t("cell",f,function(t){var r="function"==typeof t;if(null===t||t===i||r){for(a=[],s=0,l=m.length;s<l;s++)for(o=m[s],u=0;u<b;u++)c={row:o,column:u},r?(d=p[o],t(c,C(n,o,u),d.anCells?d.anCells[u]:null)&&a.push(c)):a.push(c);return a}return e.isPlainObject(t)?t.column!==i&&t.row!==i&&e.inArray(t.row,m)!==-1?[t]:[]:(r=v.filter(t).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),r.length||!t.nodeName?r:(d=e(t).closest("*[data-dt-row]"),d.length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]))},n,h)});var o,a,s,l,u=r?{page:r.page,order:r.order,search:r.search}:{},c=this.columns(n,u),d=this.rows(t,u),u=this.iterator("table",function(e,t){var n=[];for(o=0,a=d[t].length;o<a;o++)for(s=0,l=c[t].length;s<l;s++)n.push({row:d[t][o],column:c[t][s]});return n},1),u=r&&r.selected?this.cells(u,r):u;return e.extend(u.selector,{cols:n,rows:t,opts:r}),u}),We("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){return(e=e.aoData[t])&&e.anCells?e.anCells[n]:i},1)}),Ue("cells().data()",function(){return this.iterator("cell",function(e,t,n){return C(e,t,n)},1)}),We("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,i){return t.aoData[n][e][i]},1)}),We("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,i){return C(t,n,i,e)},1)}),We("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:m(e,n)}},1)}),We("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,i){A(t,n,e,i)})}),Ue("cell()",function(e,t,n){return St(this.cells(e,t,n))}),Ue("cell().data()",function(e){var t=this.context,n=this[0];return e===i?t.length&&n.length?C(t[0],n[0].row,n[0].column):i:(_(t[0],n[0].row,n[0].column,e),A(t[0],n[0].row,"data",n[0].column),this)}),Ue("order()",function(e,t){var n=this.context;return e===i?0!==n.length?n[0].aaSorting:i:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Ue("order.listener()",function(e,t,n){return this.iterator("table",function(i){ke(i,e,t,n)})}),Ue("order.fixed()",function(t){if(!t){var n=this.context,n=n.length?n[0].aaSortingFixed:i;return Array.isArray(n)?{pre:n}:n}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),Ue(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(i,r){var o=[];e.each(n[r],function(e,n){o.push([n,t])}),i.aaSorting=o})}),Ue("search()",function(t,n,r,o){var a=this.context;return t===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&Y(i,e.extend({},i.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),1)})}),We("columns().search()","column().search()",function(t,n,r,o){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;return t===i?l[s].sSearch:void(a.oFeatures.bFilter&&(e.extend(l[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===r||r,bCaseInsensitive:null===o||o}),Y(a,a.oPreviousSearch,1)))})}),Ue("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Ue("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),Ue("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Ue("state.save()",function(){return this.iterator("table",function(e){$e(e)})}),qe.versionCheck=qe.fnVersionCheck=function(e){for(var t,n,i=qe.version.split("."),e=e.split("."),r=0,o=e.length;r<o;r++)if(t=parseInt(i[r],10)||0,n=parseInt(e[r],10)||0,t!==n)return t>n;return!0},qe.isDataTable=qe.fnIsDataTable=function(t){var n=e(t).get(0),i=!1;return t instanceof qe.Api||(e.each(qe.settings,function(t,r){var o=r.nScrollHead?e("table",r.nScrollHead)[0]:null,a=r.nScrollFoot?e("table",r.nScrollFoot)[0]:null;r.nTable!==n&&o!==n&&a!==n||(i=!0)}),i)},qe.tables=qe.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var i=e.map(qe.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new ze(i):i},qe.camelToHungarian=o,Ue("$()",function(t,n){var i=this.rows(n).nodes(),i=e(i);return e([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){Ue(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var i=e(this.tables().nodes());return i[n].apply(i,t),this})}),Ue("clear()",function(){return this.iterator("table",function(e){T(e)})}),Ue("settings()",function(){return new ze(this.context,this.context)}),Ue("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),Ue("data()",function(){return this.iterator("table",function(e){return rt(e.aoData,"_aData")}).flatten()}),Ue("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var r,o=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,u=i.nTHead,c=i.nTFoot,d=e(s),l=e(l),f=e(i.nTableWrapper),h=e.map(i.aoData,function(e){return e.nTr});i.bDestroying=!0,Ie(i,"aoDestroyCallback","destroy",[i]),n||new ze(i).columns().visible(!0),f.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+i.sInstance),s!=u.parentNode&&(d.children("thead").detach(),d.append(u)),c&&s!=c.parentNode&&(d.children("tfoot").detach(),d.append(c)),i.aaSorting=[],i.aaSortingFixed=[],Se(i),e(h).removeClass(i.asStripeClasses.join(" ")),e("th, td",u).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),l.children().detach(),l.append(h),u=n?"remove":"detach",d[u](),f[u](),!n&&o&&(o.insertBefore(s,i.nTableReinsertBefore),d.css("width",i.sDestroyWidth).removeClass(a.sTable),(r=i.asDestroyStripes.length)&&l.children().each(function(t){e(this).addClass(i.asDestroyStripes[t%r])})),o=e.inArray(i,qe.settings),o!==-1&&qe.settings.splice(o,1)})}),e.each(["column","row","cell"],function(e,t){Ue(t+"s().every()",function(e){var n=this.selector.opts,r=this;return this.iterator(t,function(o,a,s,l,u){e.call(r[t](a,"cell"===t?s:n,"cell"===t?n:i),a,s,l,u)})})}),Ue("i18n()",function(t,n,r){var o=this.context[0],t=S(t)(o.oLanguage);return t===i&&(t=n),r!==i&&e.isPlainObject(t)&&(t=t[r]!==i?t[r]:t._),t.replace("%d",r)}),qe.version="1.10.24",qe.settings=[],qe.models={},qe.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},qe.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},qe.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},qe.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((e.iStateDuration===-1?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(e.iStateDuration===-1?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},qe.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},r(qe.defaults),qe.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},r(qe.defaults.column),qe.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Be(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Be(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?o===!1||e===-1?t+i:Math.min(t+e,this._iRecordsDisplay):!o||n>i||e===-1?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},qe.ext=Ve={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:qe.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:qe.version},e.extend(Ve,{afnFiltering:Ve.search,aTypes:Ve.type.detect,ofnSearch:Ve.type.search,oSort:Ve.type.order,afnSortData:Ve.order,aoFeatures:Ve.feature,oApi:Ve.internal,oStdClasses:Ve.classes,oPagination:Ve.pager}),e.extend(qe.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ot=qe.ext.pager;e.extend(Ot,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(e,t){return[Fe(e,t)]},simple_numbers:function(e,t){return["previous",Fe(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Fe(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Fe(e,t),"last"]},_numbers:Fe,numbers_length:7}),e.extend(!0,qe.ext.renderer,{pageButton:{_:function(t,r,o,a,s,l){var u,c,d,f=t.oClasses,h=t.oLanguage.oPaginate,p=t.oLanguage.oAria.paginate||{},m=0,g=function(n,i){var r,a,d,v,b=f.sPageButtonDisabled,y=function(e){ue(t,e.data.action,!0)};for(r=0,a=i.length;r<a;r++)if(v=i[r],Array.isArray(v))d=e("<"+(v.DT_el||"div")+"/>").appendTo(n),g(d,v);else{switch(u=null,c=v,d=t.iTabIndex,v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":u=h.sFirst,0===s&&(d=-1,c+=" "+b);break;case"previous":u=h.sPrevious,0===s&&(d=-1,c+=" "+b);break;case"next":u=h.sNext,0!==l&&s!==l-1||(d=-1,c+=" "+b);break;case"last":u=h.sLast,0!==l&&s!==l-1||(d=-1,c+=" "+b);break;default:u=t.fnFormatNumber(v+1),c=s===v?f.sPageButtonActive:""}null!==u&&(d=e("<a>",{"class":f.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":p[v],"data-dt-idx":m,tabindex:d,id:0===o&&"string"==typeof v?t.sTableId+"_"+v:null}).html(u).appendTo(n),Ne(d,{action:v},y),m++)}};try{d=e(r).find(n.activeElement).data("dt-idx")}catch(v){}g(e(r).empty(),a),d!==i&&e(r).find("[data-dt-idx="+d+"]").trigger("focus")}}}),e.extend(qe.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n)?"num"+n:null},function(e){if(e&&!(e instanceof Date)&&!Xe.test(e))return null;var t=Date.parse(e);return null!==t&&!isNaN(t)||Qe(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return nt(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return it(e,n,!0)?"html-num-fmt"+n:null},function(e){return Qe(e)||"string"==typeof e&&e.indexOf("<")!==-1?"html":null}]),e.extend(qe.ext.type.search,{html:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Ge," ").replace(Ke,""):""},string:function(e){return Qe(e)?e:"string"==typeof e?e.replace(Ge," "):e}});var Mt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=tt(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-(1/0)};e.extend(Ve.type.order,{"date-pre":function(e){return e=Date.parse(e),isNaN(e)?-(1/0):e},"html-pre":function(e){return Qe(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return Qe(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),He(""),e.extend(!0,qe.ext.renderer,{header:{_:function(t,n,i,r){e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass))})},jqueryui:function(t,n,i,r){e("<div/>").addClass(r.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(r.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,a,s){t===o&&(e=i.idx,n.removeClass(r.sSortAsc+" "+r.sSortDesc).addClass("asc"==s[e]?r.sSortAsc:"desc"==s[e]?r.sSortDesc:i.sSortingClass),n.find("span."+r.sSortIcon).removeClass(r.sSortJUIAsc+" "+r.sSortJUIDesc+" "+r.sSortJUI+" "+r.sSortJUIAscAllowed+" "+r.sSortJUIDescAllowed).addClass("asc"==s[e]?r.sSortJUIAsc:"desc"==s[e]?r.sSortJUIDesc:i.sSortingClassJUI))})}}});var Nt=function(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};return qe.render={number:function(e,t,n,i,r){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);return isNaN(s)?Nt(o):(s=s.toFixed(n),o=Math.abs(s),s=parseInt(o,10),o=n?t+(o-s).toFixed(n).substring(2):"",a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+o+(r||""))}}},text:function(){return{display:Nt,filter:Nt}}},e.extend(qe.ext.internal,{_fnExternApiFunc:je,_fnBuildAjax:j,_fnAjaxUpdate:V,_fnAjaxParameters:z,_fnAjaxUpdateDraw:U,_fnAjaxDataSrc:W,_fnAddColumn:d,_fnColumnOptions:f,_fnAdjustColumnSizing:h,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:m,_fnVisbleColumns:g,_fnGetColumns:v,_fnColumnTypes:b,_fnApplyColumnDefs:y,_fnHungarianMap:r,_fnCamelToHungarian:o,_fnLanguageCompat:a,_fnBrowserDetect:u,
_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==i?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,i){return e.inArray(i,t.aoData[n].anCells)},_fnGetCellData:C,_fnSetCellData:_,_fnSplitObjNotation:k,_fnGetObjectDataFn:S,_fnSetObjectDataFn:D,_fnGetDataMaster:$,_fnClearTable:T,_fnDeleteIndex:E,_fnInvalidate:A,_fnGetRowElements:O,_fnCreateTr:M,_fnBuildHead:P,_fnDrawHead:I,_fnDraw:R,_fnReDraw:L,_fnAddOptionsHtml:B,_fnDetectHeader:F,_fnGetUniqueThs:H,_fnFeatureHtmlFilter:q,_fnFilterComplete:Y,_fnFilterCustom:G,_fnFilterColumn:K,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:ht,_fnFilterData:Z,_fnFeatureHtmlInfo:te,_fnUpdateInfo:ne,_fnInfoMacros:ie,_fnInitialise:re,_fnInitComplete:oe,_fnLengthChange:ae,_fnFeatureHtmlLength:se,_fnFeatureHtmlPaginate:le,_fnPageChange:ue,_fnFeatureHtmlProcessing:ce,_fnProcessingDisplay:de,_fnFeatureHtmlTable:fe,_fnScrollDraw:he,_fnApplyToChildren:pe,_fnCalculateColumnWidths:me,_fnThrottle:vt,_fnConvertToWidth:ge,_fnGetWidestNode:ve,_fnGetMaxLenString:be,_fnStringToCss:ye,_fnSortFlatten:we,_fnSort:xe,_fnSortAria:Ce,_fnSortListener:_e,_fnSortAttachListener:ke,_fnSortingClasses:Se,_fnSortData:De,_fnSaveState:$e,_fnLoadState:Te,_fnSettingsFromNode:Ee,_fnLog:Ae,_fnMap:Oe,_fnBindAction:Ne,_fnCallbackReg:Pe,_fnCallbackFire:Ie,_fnLengthOverflow:Re,_fnRenderer:Le,_fnDataSource:Be,_fnRowAttributes:N,_fnExtend:Me,_fnCalculateEnd:function(){}}),e.fn.dataTable=qe,qe.$=e,e.fn.dataTableSettings=qe.settings,e.fn.dataTableExt=qe.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(qe,function(t,n){e.fn.DataTable[t]=n}),e.fn.dataTable}),function(e){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n&&n.fn.dataTable||(n=require("datatables.net")(t,n).$),e(n,t,t.document)}:e(jQuery,window,document)}(function(e,t,n,i){var r=e.fn.dataTable;return e.extend(!0,r.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),e.extend(r.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),r.ext.renderer.pageButton.bootstrap=function(t,o,a,s,l,u){var c,d,f,h=new r.Api(t),p=t.oClasses,m=t.oLanguage.oPaginate,g=t.oLanguage.oAria.paginate||{},v=0,b=function(n,i){var r,o,s,f,y=function(t){t.preventDefault(),!e(t.currentTarget).hasClass("disabled")&&h.page()!=t.data.action&&h.page(t.data.action).draw("page")};for(r=0,o=i.length;r<o;r++)if(f=i[r],Array.isArray(f))b(n,f);else{switch(d=c="",f){case"ellipsis":c="&#x2026;",d="disabled";break;case"first":c=m.sFirst,d=f+(0<l?"":" disabled");break;case"previous":c=m.sPrevious,d=f+(0<l?"":" disabled");break;case"next":c=m.sNext,d=f+(l<u-1?"":" disabled");break;case"last":c=m.sLast,d=f+(l<u-1?"":" disabled");break;default:c=f+1,d=l===f?"active":""}c&&(s=e("<li>",{"class":p.sPageButton+" "+d,id:0===a&&"string"==typeof f?t.sTableId+"_"+f:null}).append(e("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":g[f],"data-dt-idx":v,tabindex:t.iTabIndex}).html(c)).appendTo(n),t.oApi._fnBindAction(s,{action:f},y),v++)}};try{f=e(o).find(n.activeElement).data("dt-idx")}catch(y){}b(e(o).empty().html('<ul class="pagination"/>').children("ul"),s),f!==i&&e(o).find("[data-dt-idx="+f+"]").trigger("focus")},r}),function(e,t){"use strict";function n(e){var t=[];return f(t,u).chars(e),t.join("")}var i,r,o,a,s,l,u,c,d,f,h=t.$$minErr("$sanitize");t.module("ngSanitize",[]).provider("$sanitize",function(){function n(e,t){return p(e.split(","),t)}function p(e,t){var n,i={};for(n=0;n<e.length;n++)i[t?l(e[n]):e[n]]=!0;return i}function m(e,t){t&&t.length&&r(e,p(t))}function g(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function v(e){return e.replace(/&/g,"&amp;").replace(C,function(e){var t=e.charCodeAt(0);return e=e.charCodeAt(1),"&#"+(1024*(t-55296)+(e-56320)+65536)+";"}).replace(_,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function b(t){for(;t;){if(t.nodeType===e.Node.ELEMENT_NODE)for(var n=t.attributes,i=0,r=n.length;i<r;i++){var o=n[i],a=o.name.toLowerCase();"xmlns:ns1"!==a&&0!==a.lastIndexOf("ns1:",0)||(t.removeAttributeNode(o),i--,r--)}(n=t.firstChild)&&b(n),t=y("nextSibling",t)}}function y(e,t){var n=t[e];if(n&&c.call(t,n))throw h("elclob",t.outerHTML||t.outerText);return n}var w=!1,x=!1;this.$get=["$$sanitizeUri",function(e){return w=!0,x&&r(A,T),function(t){var n=[];return d(t,f(n,function(t,n){return!/^unsafe:/.test(e(t,n))})),n.join("")}}],this.enableSvg=function(e){return s(e)?(x=e,this):x},this.addValidElements=function(e){return w||(a(e)&&(e={htmlElements:e}),m(T,e.svgElements),m(k,e.htmlVoidElements),m(A,e.htmlVoidElements),m(A,e.htmlElements)),this},this.addValidAttrs=function(e){return w||r(M,p(e,!0)),this},i=t.bind,r=t.extend,o=t.forEach,a=t.isArray,s=t.isDefined,l=t.$$lowercase,u=t.noop,d=function(e,t){null===e||void 0===e?e="":"string"!=typeof e&&(e=""+e);var n=N(e);if(!n)return"";var i=5;do{if(0===i)throw h("uinput");i--,e=n.innerHTML,n=N(e)}while(e!==n.innerHTML);for(i=n.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),g(i.attributes));break;case 3:t.chars(i.textContent)}var r;if(!(r=i.firstChild)&&(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),r=y("nextSibling",i),!r))for(;null==r&&(i=y("parentNode",i),i!==n);)r=y("nextSibling",i),1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=r}for(;i=n.firstChild;)n.removeChild(i)},f=function(e,t){var n=!1,r=i(e,e.push);return{start:function(e,i){e=l(e),!n&&E[e]&&(n=e),n||!0!==A[e]||(r("<"),r(e),o(i,function(n,i){var o=l(i),a="img"===e&&"src"===o||"background"===o;!0!==M[o]||!0===O[o]&&!t(n,a)||(r(" "),r(i),r('="'),r(v(n)),r('"'))}),r(">"))},end:function(e){e=l(e),n||!0!==A[e]||!0===k[e]||(r("</"),r(e),r(">")),e==n&&(n=!1)},chars:function(e){n||r(v(e))}}},c=e.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};var C=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,_=/([^#-~ |!])/g,k=n("area,br,col,hr,img,wbr"),S=n("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),D=n("rp,rt"),$=r({},D,S),S=r({},S,n("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),D=r({},D,n("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),T=n("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),E=n("script,style"),A=r({},k,S,D,$),O=n("background,cite,href,longdesc,src,xlink:href,xml:base"),$=n("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),D=n("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),M=r({},O,D,$),N=function(e,t){function n(t){t="<remove></remove>"+t;try{var n=(new e.DOMParser).parseFromString(t,"text/html").body;return n.firstChild.remove(),n}catch(i){}}function i(e){return o.innerHTML=e,t.documentMode&&b(o),o}var r;if(!t||!t.implementation)throw h("noinert");r=t.implementation.createHTMLDocument("inert");var o=(r.documentElement||r.getDocumentElement()).querySelector("body");return o.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',o.querySelector("svg")?(o.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',o.querySelector("svg img")?n:i):function(t){t="<remove></remove>"+t;try{t=encodeURI(t)}catch(n){return}var i=new e.XMLHttpRequest;return i.responseType="document",i.open("GET","data:text/html;charset=utf-8,"+t,!1),i.send(null),t=i.response.body,t.firstChild.remove(),t}}(e,e.document)}).info({angularVersion:"1.8.0"}),t.module("ngSanitize").filter("linky",["$sanitize",function(e){var i=/((s?ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,r=/^mailto:/i,o=t.$$minErr("linky"),a=t.isDefined,s=t.isFunction,l=t.isObject,u=t.isString;return function(t,c,d){function f(e){e&&b.push(n(e))}function h(e,t){var n,i=g(e);b.push("<a ");for(n in i)b.push(n+'="'+i[n]+'" ');!a(c)||"target"in i||b.push('target="',c,'" '),b.push('href="',e.replace(/"/g,"&quot;"),'">'),f(t),b.push("</a>")}if(null==t||""===t)return t;if(!u(t))throw o("notstring",t);for(var p,m,g=s(d)?d:l(d)?function(){return d}:function(){return{}},v=t,b=[];t=v.match(i);)p=t[0],t[2]||t[4]||(p=(t[3]?"http://":"mailto:")+p),m=t.index,f(v.substr(0,m)),h(p,t[0].replace(r,"")),v=v.substring(m+t[0].length);return f(v),e(b.join(""))}}])}(window,window.angular),angular.module("ui.bootstrap",["ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(){v=!!("horizontal"in a),v?(b={width:""},y={width:"0"}):(b={height:""},y={height:"0"}),i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(h(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start()["finally"](c):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(c)},angular.noop)}function c(){o.removeClass("collapsing").addClass("collapse").css(b),p(i)}function d(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(m(i)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:y}).start()["finally"](f):e.removeClass(o,"in",{to:y}).then(f)},angular.noop):f()}function f(){o.css(y),o.removeClass("collapsing").addClass("collapse"),g(i)}var h=n(a.expanding),p=n(a.expanded),m=n(a.collapsing),g=n(a.collapsed),v=!1,b={},y={};s(),i.$watch(a.uibCollapse,function(e){e?d():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,i,r){t.$watch(function(){return r[i.uibAccordionTransclude]},function(t){if(t){var i=angular.element(n[0].querySelector(e()));i.html(""),i.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;o&&r(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function a(n,i,a){if(!b){if(angular.extend(n,{direction:a}),angular.extend(m[v].slide||{},{direction:a}),r.enabled(t)&&!e.$currentTransition&&m[i].element&&p.slides.length>1){m[i].element.data(g,n.direction);var s=p.getCurrentIndex();angular.isNumber(s)&&m[s].element&&m[s].element.data(g,n.direction),e.$currentTransition=!0,r.on("addClass",m[i].element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})}e.active=n.index,v=n.index,o(i),c()}}function s(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function l(){f&&(n.cancel(f),f=null)}function u(t){t.length||(e.$currentTransition=null)}function c(){l();var t=+e.interval;!isNaN(t)&&t>0&&(f=n(d,t))}function d(){var t=+e.interval;h&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var f,h,p=this,m=p.slides=e.slides=[],g="uib-slideDirection",v=e.active,b=!1;t.addClass("carousel"),p.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,o(v),p.select(m[s(t)]),1===m.length&&e.play())},p.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===v)return e},p.next=e.next=function(){var t=(p.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():p.select(m[t],"next")},p.prev=e.prev=function(){var t=p.getCurrentIndex()-1<0?m.length-1:p.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():p.select(m[t],"prev")},p.removeSlide=function(t){var n=s(t);m.splice(n,1),m.length>0&&v===n?n>=m.length?(v=m.length-1,e.active=v,o(v),p.select(m[m.length-1])):(v=n,e.active=v,o(v),p.select(m[n])):v>n&&(v--,e.active=v),0===m.length&&(v=null,e.active=null)},p.select=e.select=function(t,n){var i=s(t.slide);void 0===n&&(n=i>p.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||a(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===m.length-1&&e.noWrap()},e.pause=function(){e.noPause||(h=!1,l())},e.play=function(){h||(h=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){b=!0,l()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}var n=m[e];n&&(o(e),p.select(m[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=t.bind(this,i,l+" "+s,o);return i.addClass(s),e(i,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=t.bind(this,i,l,o);return e(i,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,i,r){function o(e){return r(b,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var o=!1;e=e.split("");for(var a=r;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(b,function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var o=r+1,a=r+i.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function s(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(l(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=u(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=u(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),i=0;i<b.length;i++)if(new RegExp("^"+b[i].key).test(n)){var r=b[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function d(e){return parseInt(e,10)}function f(e,t){return e&&t?g(e,t):e}function h(e,t){return e&&t?g(e,t,!0):e}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function m(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=p(t,i);return m(e,n*(r-i))}var v,b,y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},b=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=d(n+i),this.minutes+=d(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&b.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var i=this.formatters[n];return i.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(y,"\\$&"),t.id!==v&&this.init(),this.parsers[i]||(this.parsers[i]=a(i,"apply"));var o=this.parsers[i],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var f,h;angular.isDate(r)&&!isNaN(r.getTime())?f={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,m=u.length;p<m;p++){var g=l[p-1];"Z"===g.matcher&&(d=!0),g.apply&&g.apply.call(f,u[p])}var b=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(f.year,f.month,f.date)&&(!angular.isDate(r)||isNaN(r.getTime())||d?(h=new Date(0),b.call(h,f.year,f.month,f.date),w.call(h,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(h=new Date(r),b.call(h,f.year,f.month,f.date),w.call(h,f.hours,f.minutes,f.seconds,f.milliseconds))),h}},this.toTimezone=f,this.fromTimezone=h,this.timezoneToOffset=p,this.addDateMinutes=m,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(e,t,n){l.push(e),u.push({scope:e,element:t}),p.forEach(function(t,n){a(t,e)}),e.$on("$destroy",s)}function a(t,i){var r=t.match(n),o=i.$eval(r[1]),a=r[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){var i=e.scope.$eval(f);if(i===t)return n=e,!0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:a,watcher:i.$watch(a,l)}}s.watchFn(i.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else c={}}var l=[],u=[],c={},d=r.uibIsClass.match(t),f=d[2],h=d[1],p=h.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,u,c,d){function f(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function h(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var i=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:i})}return n}var p=this,m={$setViewValue:angular.noop},g={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;
break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),g.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),g.getOption("timezone")):null,p.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])}):p[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){m=t,g=h(m),e.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(m.$isEmpty(m.$modelValue)||m.$invalid)&&(p.activeDate=d.fromTimezone(e,g.getOption("timezone")),p.refreshView())})):p.activeDate=new Date;var n=m.$modelValue?new Date(m.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(n,g.getOption("timezone")),m.$render=function(){p.render()}},this.render=function(){if(m.$viewValue){var e=new Date(m.$viewValue),t=!isNaN(e);t?this.activeDate=d.fromTimezone(e,g.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=m.$viewValue?new Date(m.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),m.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=m.$viewValue?new Date(m.$viewValue):null;i=d.fromTimezone(i,g.getOption("timezone"));var r=new Date;r=d.fromTimezone(r,g.getOption("timezone"));var o=this.compare(t,r),a={date:t,label:d.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=m.$viewValue?d.fromTimezone(new Date(m.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,g.getOption("timezone")),m.$setViewValue(n),m.$render()}else p.activeDate=t,f(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&t===-1||(f(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var b=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",b),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,h=e.rows.length,p=0;p<h;p++)e.weekNumbers.push(r(e.rows[p][f].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var r,o;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,o=this.yearRows*r,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,s=i(this.activeDate.getFullYear());a<o;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||e[0].documentElement;r&&r!==e[0].documentElement&&i(r);)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(n),f={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&f.height>c.top&&f.height<=c.bottom?"bottom":"bottom"===i[0]&&f.height>c.bottom&&f.height<=c.top?"top":"left"===i[0]&&f.width>c.left&&f.width<=c.right?"right":"right"===i[0]&&f.width>c.right&&f.width<=c.left?"left":i[0],i[1]="top"===i[1]&&f.height-l.height>c.bottom&&f.height-l.height<=c.top?"bottom":"bottom"===i[1]&&f.height-l.height>c.top&&f.height-l.height<=c.bottom?"top":"left"===i[1]&&f.width-l.width>c.right&&f.width-l.width<=c.left?"right":"right"===i[1]&&f.width-l.width>c.left&&f.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var h=l.width/2-a/2;c.left+h<0&&f.width-l.width<=c.right?i[1]="left":c.right+h<0&&f.width-l.width<=c.left&&(i[1]="right")}else{var p=l.height/2-f.height/2;c.top+p<0&&f.height-l.height<=c.bottom?i[1]="top":c.bottom+p<0&&f.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(e,t,n,i){if(e.indexOf("top")!==-1&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(r?i:e)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,u,c,d,f,h,p,m){function g(t){var n=d.parse(t,_,e.date);if(isNaN(n))for(var i=0;i<I.length;i++)if(n=d.parse(t,I[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return d.toTimezone(t,N.getOption("timezone"))}return N.getOption("allowInvalid")?e:void 0}function b(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(g(i))))}function y(n){if(e.isOpen||!e.disabled){var i=P[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(P[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:f.placement,o=u.positionElements(t,i,r,S);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function C(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var _,k,S,D,$,T,E,A,O,M,N,P,I,R=!1,L=[];this.init=function(r){if(M=r,N=C(M),k=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):f.closeOnDateSelection,S=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):f.appendToBody,D=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):f.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,T=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:f.datepickerTemplateUrl,I=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):f.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):f.showButtonBar,f.html5Types[n.type]?(_=f.html5Types[n.type],R=!0):(_=n.uibDatepickerPopup||f.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||f.datepickerPopup;if(n!==_&&(_=n,M.$modelValue=null,!_))throw new Error("uibDatepickerPopup must have a date format specified.")})),!_)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");E=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),E.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),A=angular.element(E.children()[0]),A.attr("template-url",T),e.datepickerOptions||(e.datepickerOptions={}),R&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),R?M.$formatters.push(function(t){return e.date=d.fromTimezone(t,N.getOption("timezone")),t}):(M.$$parserName="date",M.$validators.date=b,M.$parsers.unshift(v),M.$formatters.push(function(t){return M.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,N.getOption("timezone")),d.filter(e.date,_))})),M.$viewChangeListeners.push(function(){e.date=g(M.$viewValue)}),t.on("keydown",w),P=i(E)(e),E.remove(),S?s.find("body").append(P):t.after(P),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),P.remove(),t.off("keydown",w),s.off("click",y),O&&O.off("scroll",x),angular.element(a).off("resize",x);L.length;)L.shift()()})},e.getText=function(t){return e[t+"Text"]||f[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,N.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?d.filter(e.date,_):null;t.val(i),M.$setViewValue(i),k&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(t=d.fromTimezone(i,N.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&L.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){x(),D&&e.$broadcast("uib:datepicker.focus"),s.on("click",y);var i=n.popupPlacement?n.popupPlacement:f.placement;S||u.parsePlacement(i)[2]?(O=O||angular.element(u.scrollParent(t)),O&&O.on("scroll",x)):O=null,angular.element(a).on("resize",x)},0,!1):(s.off("click",y),O&&O.off("scroll",x),angular.element(a).off("resize",x))}),e.$on("uib:datepicker.mode",function(){h(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);r!==-1&&i.splice(r,1),i.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n){var i=n.reduce(function(t,n){return n.scope===e?n:t},{});if(i)return 1===n.length}return!1},this.open=function(t,n,a){if(i||e.on("click",o),i&&i!==t&&(i.isOpen=!1),i=t,a){var s=r.get(a);if(s){var l=s.map(function(e){return e.scope});l.indexOf(t)===-1&&r.put(a,{scope:t})}else r.put(a,{scope:t})}},this.close=function(t,n,a){if(i===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),i=null),a){var s=r.get(a);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&r.remove(a,l)}}};var o=function(e){if(i&&i.isOpen&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),o()):i.isKeynavEnabled()&&[38,40].indexOf(e.which)!==-1&&i.isOpen&&(r||a)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){function d(){t.append(p.dropdownMenu)}var f,h,p=this,m=e.$new(),g=r.appendToOpenClass,v=r.openClass,b=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,w=!1,x=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=i(n.isOpen),b=h.assign,e.$watch(h,function(e){m.isOpen=!!e})),w=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen,angular.isFunction(b)&&b(m,m.isOpen),m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return p.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return w},m.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},m.getDropdownElement=function(){return p.dropdownMenu},m.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},m.$watch("isOpen",function(r,h){var w=null,C=!1;if(angular.isDefined(n.dropdownAppendTo)){var _=i(n.dropdownAppendTo)(m);_&&(w=angular.element(_))}if(angular.isDefined(n.dropdownAppendToBody)){var k=i(n.dropdownAppendToBody)(m);k!==!1&&(C=!0)}if(C&&!w&&(w=x),w&&p.dropdownMenu&&(r?(w.append(p.dropdownMenu),t.on("$destroy",d)):(t.off("$destroy",d),d())),w&&p.dropdownMenu){var S,D,$,T=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),E=0;if(S={top:T.top+"px",display:r?"block":"none"},D=p.dropdownMenu.hasClass("dropdown-menu-right"),D?(S.left="auto",$=s.scrollbarPadding(w),$.heightOverflow&&$.scrollbarWidth&&(E=$.scrollbarWidth),S.right=window.innerWidth-E-(T.left+t.prop("offsetWidth"))+"px"):(S.left=T.left+"px",S.right="auto"),!C){var A=s.offset(w);S.top=T.top-A.top+"px",D?S.right=window.innerWidth-(T.left-A.left+t.prop("offsetWidth"))+"px":S.left=T.left-A.left+"px"}p.dropdownMenu.css(S)}var O=w?w:t,M=w?g:v,N=O.hasClass(M),P=o.isOnlyOpen(e,w);if(N===!r){var I;I=w?P?"removeClass":"addClass":r?"addClass":"removeClass",a[I](O,M).then(function(){angular.isDefined(r)&&r!==h&&y(e,{open:!!r})})}if(r)p.dropdownMenuTemplateUrl?c(p.dropdownMenuTemplateUrl).then(function(e){f=m.$new(),u(e.trim())(f,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),m.focusToggleElement(),o.open(m,t,w);else{if(o.close(m,t,w),p.dropdownMenuTemplateUrl){f&&f.$destroy();var R=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(R),p.dropdownMenu=R}p.selectedOption=null}angular.isFunction(b)&&b(e,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus();
}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){function u(e){var t="-";return e.replace(A,function(e,n){return(n?t:"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=_.keys(),n=0;n<t.length;n++)_.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<D&&(e=D),e}function f(e,t){var n=_.get(e).value,i=n.appendTo;_.remove(e),$=_.top(),$&&(D=parseInt($.value.modalDomEl.attr("index"),10)),m(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||C;k.remove(t,e);var r=k.hasKey(t);i.toggleClass(t,r),!r&&x&&x.heightOverflow&&x.scrollbarWidth&&(x.originalRight?i.css({paddingRight:x.originalRight+"px"}):i.css({paddingRight:""}),x=null),h(!0)},n.closedDeferred),p(),t&&t.focus?t.focus():i.focus&&i.focus()}function h(e){var t;_.length()>0&&(t=_.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function p(){if(y&&d()===-1){var e=w;m(y,w,function(){e=null}),y=void 0,w=void 0}}function m(t,n,i,r){function a(){a.done||(a.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function g(e){if(e.isDefaultPrevented())return e;var t=_.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){S.dismiss(t.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(t),i=!1;e.shiftKey?(S.isFocusInFirstItem(e,n)||S.isModalFocused(e,t))&&(i=S.focusLastFocusableElement(n)):S.isFocusInLastItem(e,n)&&(i=S.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function b(){Array.prototype.forEach.call(document.querySelectorAll("["+T+"]"),function(e){var t=parseInt(e.getAttribute(T),10),n=t-1;e.setAttribute(T,n),n||(e.removeAttribute(T),e.removeAttribute("aria-hidden"))})}var y,w,x,C="modal-open",_=s.createNew(),k=a.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},D=0,$=null,T="data-bootstrap-modal-aria-hidden-count",E="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",A=/[A-Z]/g;return r.$watch(d,function(e){w&&(w.index=e)}),n.on("keydown",g),r.$on("$destroy",function(){n.off("keydown",g)}),S.open=function(t,o){function a(e){function t(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}if(e&&"BODY"!==e[0].tagName)return t(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(T),10);n||(n=t?1:0),e.setAttribute(T,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,c=o.openedClass||C;h(!1),$=_.top(),_.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),k.put(c,t);var f=o.appendTo,p=d();p>=0&&!y&&(w=r.$new(!0),w.modalOptions=o,w.index=p,y=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),y.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&y.addClass(o.backdropClass),o.animation&&y.attr("modal-animation","true"),i(y)(w),e.enter(y,f),l.isScrollable(f)&&(x=l.scrollbarPadding(f),x.heightOverflow&&x.scrollbarWidth&&f.css({paddingRight:x.right+"px"})));var m;o.component?(m=document.createElement(u(o.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,D=$?parseInt($.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:D,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),f.addClass(c),o.scope&&(o.scope.$$topModalIndex=D),e.enter(i(g)(o.scope),f),_.top().value.modalDomEl=g,_.top().value.modalOpener=s,a(g)},S.close=function(e,t){var n=_.get(e);return b(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),f(e,n.value.modalOpener),!0):!n},S.dismiss=function(e,t){var n=_.get(e);return b(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),f(e,n.value.modalOpener),!0):!n},S.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},S.getTop=function(){return _.top()},S.modalRendered=function(e){var t=_.get(e);t&&t.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},S.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},S.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},S.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},S.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(E);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},S}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){function l(e){return e.template?n.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return g}var d=n.defer(),f=n.defer(),h=n.defer(),p=n.defer(),m={result:d.promise,opened:f.promise,closed:h.promise,rendered:p.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=r.component?n.when(a.resolve(r.resolve,{},null,null)):n.all([l(r),a.resolve(r.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(e){function n(t,n,i,r){t.$scope=a,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=m:t.$uibModalInstance=m;var o=n?e[1]:e;angular.forEach(o,function(e,n){r&&(t[n]=e),t.$scope.$resolve[n]=e})}var i=r.scope||t,a=i.$new();a.$close=m.close,a.$dismiss=m.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:p,closedDeferred:h,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},g={},v={};r.component?(n(g,!1,!0,!1),g.name=r.component,c.component=g):r.controller&&(n(v,!0,!1,!0),u=o(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},i)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=e[0]),s.open(m,c),f.resolve(!0)},function(e){f.reject(e),d.reject(e)})["finally"](function(){c===v&&(c=null)}),m},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],i=1,r=t,a=angular.isDefined(l)&&l<t;a&&(u?(i=Math.max(e-Math.floor(l/2),1),r=i+l-1,r>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;s<=r;s++){var h=o(s,f(s),s===e);n.push(h)}if(a&&l>0&&(!u||c||d)){if(i>1){if(!d||i>3){var p=o(i-1,"...",!1);n.unshift(p)}if(d){if(3===i){var m=o(2,"2",!1);n.unshift(m)}var g=o(1,"1",!1);n.unshift(g)}}if(r<t){if(!d||r<t-2){var v=o(r+1,"...",!1);n.push(v)}if(d){if(r===t-2){var b=o(t-1,t-1,!1);n.push(b)}var y=o(t,t,!1);n.push(y)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,f=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,t.$set("role","menu"),i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,l,u,c,d,f){function h(e){if(27===e.which){var t=p.top();t&&(t.value.close(),t=null)}}var p=f.createNew();return s.on("keyup",h),c.$on("$destroy",function(){s.off("keyup",h)}),function(r,c,f,h){function m(e){var t=(e||h.trigger||f).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}h=angular.extend({},t,i,h);var g=e(r),v=u.startSymbol(),b=u.endSymbol(),y="<div "+g+'-popup uib-title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o(y);return function(e,t,i,o){function u(){j.isOpen?g():f()}function f(){H&&!e.$eval(i[c+"Enable"])||(w(),_(),j.popupDelay?N||(N=a(v,j.popupDelay,!1)):v())}function g(){b(),j.popupCloseDelay?P||(P=a(y,j.popupCloseDelay,!1)):y()}function v(){return b(),w(),j.content?(x(),void j.$evalAsync(function(){j.isOpen=!0,k(!0),q()})):angular.noop}function b(){N&&(a.cancel(N),N=null),I&&(a.cancel(I),I=null)}function y(){j&&j.$evalAsync(function(){j&&(j.isOpen=!1,k(!1),j.animation?M||(M=a(C,150,!1)):C())})}function w(){P&&(a.cancel(P),P=null),M&&(a.cancel(M),M=null)}function x(){A||(O=j.$new(),A=n(O,function(e){B?s.find("body").append(e):t.after(e)}),p.add(j,{close:y}),S())}function C(){b(),w(),D(),A&&(A.remove(),A=null,R&&a.cancel(R)),p.remove(j),O&&(O.$destroy(),O=null)}function _(){j.title=i[c+"Title"],U?j.content=U(e):j.content=i[r],j.popupClass=i[c+"Class"],j.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:h.placement;var t=l.parsePlacement(j.placement);L=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);j.popupDelay=isNaN(n)?h.popupDelay:n,j.popupCloseDelay=isNaN(o)?h.popupCloseDelay:o}function k(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function S(){W.length=0,U?(W.push(e.$watch(U,function(e){j.content=e,!e&&j.isOpen&&y()})),W.push(O.$watch(function(){V||(V=!0,O.$$postDigest(function(){V=!1,j&&j.isOpen&&q()}))}))):W.push(i.$observe(r,function(e){j.content=e,!e&&j.isOpen?y():q()})),W.push(i.$observe(c+"Title",function(e){j.title=e,j.isOpen&&q()})),W.push(i.$observe(c+"Placement",function(e){j.placement=e?e:h.placement,j.isOpen&&q()}))}function D(){W.length&&(angular.forEach(W,function(e){e()}),W.length=0)}function $(e){j&&j.isOpen&&A&&(t[0].contains(e.target)||A[0].contains(e.target)||g())}function T(e){27===e.which&&g()}function E(){var n=[],r=[],o=e.$eval(i[c+"Trigger"]);Y(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),r.push(o[e])}),F={show:n,hide:r}):F=m(o),"none"!==F.show&&F.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),s.on("click",$)):e===F.hide[n]?t.on(e,u):e&&(t.on(e,f),t.on(F.hide[n],g)),t.on("keypress",T)})}var A,O,M,N,P,I,R,L,B=!!angular.isDefined(h.appendToBody)&&h.appendToBody,F=m(void 0),H=angular.isDefined(i[c+"Enable"]),j=e.$new(!0),V=!1,z=!!angular.isDefined(i[c+"IsOpen"])&&d(i[c+"IsOpen"]),U=!!h.useContentExp&&d(i[r]),W=[],q=function(){A&&A.html()&&(I||(I=a(function(){var e=l.positionElements(t,A,j.placement,B),n=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),i=B?l.offset(t):l.position(t);A.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");A.hasClass(r[0])||(A.removeClass(L.split("-")[0]),A.addClass(r[0])),A.hasClass(h.placementClassPrefix+e.placement)||(A.removeClass(h.placementClassPrefix+L),A.addClass(h.placementClassPrefix+e.placement)),R=a(function(){var e=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),t=l.adjustTop(r,i,n,e);t&&A.css(t),R=null},0,!1),A.hasClass("uib-position-measure")?(l.positionArrow(A,e.placement),A.removeClass("uib-position-measure")):L!==e.placement&&l.positionArrow(A,e.placement),L=e.placement,I=null},0,!1)))};j.origScope=e,j.isOpen=!1,j.contentExp=function(){return j.content},i.$observe("disabled",function(e){e&&b(),e&&j.isOpen&&y()}),z&&e.$watch(z,function(e){j&&!e===j.isOpen&&u()});var Y=function(){F.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,f),t.off(e,u)),t.off("keypress",T)}),F.hide.forEach(function(e){"outsideClick"===e?s.off("click",$):t.off(e,g)})};E();var G=e.$eval(i[c+"Animation"]);j.animation=angular.isDefined(G)?!!G:h.animation;var K,X=c+"AppendToBody";K=X in i&&void 0===i[X]||e.$eval(i[X]),B=angular.isDefined(K)?K:B,e.$on("$destroy",function(){Y(),C(),j=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,f=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),l=i,h=n(l)(r,function(t){f(),e.enter(t,o)});s=r,u=h,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(f(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):f()}),r.$on("$destroy",f)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var r=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,o){if(!r){var a=t(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){function s(){var t=+e.hours,n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===k[1]&&(t+=12)),t}function l(){var t=+e.minutes,n=t>=0&&t<60;if(n&&""!==e.minutes)return t}function u(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){f(),_.$setViewValue(new Date(x)),h(e)}function f(){b&&b.$setValidity("hours",!0),y&&y.$setValidity("minutes",!0),w&&w.$setValidity("seconds",!0),_.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(_.$modelValue){var n=x.getHours(),i=x.getMinutes(),r=x.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!S),"m"!==t&&(e.minutes=c(i)),e.meridian=x.getHours()<12?k[0]:k[1],"s"!==t&&(e.seconds=c(r)),e.meridian=x.getHours()<12?k[0]:k[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=k[0]}function p(e){x=g(x,e),d()}function m(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var b,y,w,x=new Date,C=[],_={$setViewValue:angular.noop},k=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,S=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){_=t,_.$render=this.render,_.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);b=r.controller("ngModel"),y=o.controller("ngModel"),w=s.controller("ngModel");var l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(r,o,s);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;u&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var D=a.hourStep;n.hourStep&&C.push(e.$parent.$watch(i(n.hourStep),function(e){D=+e}));var $=a.minuteStep;n.minuteStep&&C.push(e.$parent.$watch(i(n.minuteStep),function(e){$=+e}));var T;C.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);T=isNaN(t)?void 0:t}));var E;C.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);E=isNaN(t)?void 0:t}));var A=!1;n.ngDisabled&&C.push(e.$parent.$watch(i(n.ngDisabled),function(e){A=e})),e.noIncrementHours=function(){var e=m(x,60*D);return A||e>E||e<x&&e<T},e.noDecrementHours=function(){var e=m(x,60*-D);return A||e<T||e>x&&e>E},e.noIncrementMinutes=function(){var e=m(x,$);return A||e>E||e<x&&e<T},e.noDecrementMinutes=function(){var e=m(x,-$);return A||e<T||e>x&&e>E},e.noIncrementSeconds=function(){var e=g(x,O);return A||e>E||e<x&&e<T},e.noDecrementSeconds=function(){var e=g(x,-O);return A||e<T||e>x&&e>E},e.noToggleMeridian=function(){return x.getHours()<12?A||m(x,720)>E:A||m(x,-720)<T};var O=a.secondStep;n.secondStep&&C.push(e.$parent.$watch(i(n.secondStep),function(e){O=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&C.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&C.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,_.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(x.setHours(n),d())}else h()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){
A||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){_.$setViewValue(null),_.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,b&&b.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,y&&y.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,w&&w.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();_.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(e),x.setMinutes(t),x<T||x>E?r(!0):d("h")):r(!0)},t.on("blur",function(t){_.$setTouched(),v()?f():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!S)})}),e.updateMinutes=function(){var e=l(),t=s();_.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(t),x.setMinutes(e),x<T||x>E?r(void 0,!0):d("m")):r(void 0,!0)},n.on("blur",function(t){_.$setTouched(),v()?f():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();_.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),d("s")):r(void 0,void 0,!0)},i.on("blur",function(t){v()?f():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=_.$viewValue;isNaN(t)?(_.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<T||x>E?(_.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):f(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||p(60*D*60)},e.decrementHours=function(){e.noDecrementHours()||p(60*-D*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||p(60*$)},e.decrementMinutes=function(){e.noDecrementMinutes()||p(60*-$)},e.incrementSeconds=function(){e.noIncrementSeconds()||p(O)},e.decrementSeconds=function(){e.noDecrementSeconds()||p(-O)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?p(720*(x.getHours()<12?60:-60)):e.meridian=e.meridian===k[0]?k[1]:k[0])},e.blur=function(){_.$setTouched()},e.$on("$destroy",function(){for(;C.length;)C.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,d,f){function h(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),Z()}function p(){j.position=O?d.offset(t):d.position(t),j.position.top+=t.prop("offsetHeight")}function m(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,v,b=[9,13,27,38,40],y=200,w=e.$eval(n.typeaheadMinLength);w||0===w||(w=1),e.$watch(n.typeaheadMinLength,function(e){w=e||0===e?e:1});var x=e.$eval(n.typeaheadWaitMs)||0,C=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){C=e!==!1});var _,k,S=r(n.typeaheadLoading).assign||angular.noop,D=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},$=r(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),E=r(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,O=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),M=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,N=e.$eval(n.typeaheadFocusFirst)!==!1,P=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),I=r(n.typeaheadIsOpen).assign||angular.noop,R=e.$eval(n.typeaheadShowHint)||!1,L=r(n.ngModel),B=r(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(L(e))&&v.getOption("getterSetter")?B(t,{$$$p:n}):L.assign(t,n)},H=f.parse(n.uibTypeahead),j=e.$new(),V=e.$on("$destroy",function(){j.$destroy()});j.$on("$destroy",V);var z="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var U,W;R&&(U=angular.element("<div></div>"),U.css("position","relative"),t.after(U),W=t.clone(),W.attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),W.attr("id")&&W.removeAttr("id"),U.append(W),W.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var Y=function(){R&&W.val("")},G=function(){j.matches=[],j.activeIdx=-1,t.attr("aria-expanded",!1),Y()},K=function(e){return z+"-option-"+e};j.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",K(e))});var X=function(e,t){return!!(j.matches.length>t&&e)&&e.toUpperCase()===j.matches[t].label.toUpperCase()},J=function(n,i){var r={$viewValue:n};S(e,!0),E(e,!1),o.when(H.source(e,r)).then(function(o){var a=n===g.$viewValue;if(a&&_)if(o&&o.length>0){j.activeIdx=N?0:-1,E(e,!1),j.matches.length=0;for(var s=0;s<o.length;s++)r[H.itemName]=o[s],j.matches.push({id:K(s),label:H.viewMapper(j,r),model:o[s]});if(j.query=n,p(),t.attr("aria-expanded",!0),P&&1===j.matches.length&&X(n,0)&&(angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(0,i)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(0,i)),R){var l=j.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+l.slice(n.length)):W.val("")}}else G(),E(e,!0);a&&S(e,!1)},function(){G(),S(e,!1),E(e,!0)})};O&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var Z=c(function(){j.matches.length&&p(),j.moveInProgress=!1},y);j.moveInProgress=!1,j.query=void 0;var Q,ee=function(e){Q=a(function(){J(e)},x)},te=function(){Q&&a.cancel(Q)};G(),j.assignIsOpen=function(t){I(e,t)},j.select=function(i,r){var o,s,l={};k=!0,l[H.itemName]=s=j.matches[i].model,o=H.modelMapper(e,l),F(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),$(e,{$item:s,$model:o,$label:H.viewMapper(e,l),$event:r}),G(),j.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==j.matches.length&&b.indexOf(t.which)!==-1){var n=D(e,{$event:t});if(j.activeIdx===-1&&n||9===t.which&&t.shiftKey)return G(),void j.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&j.$apply(function(){angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(j.activeIdx,t)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(j.activeIdx,t)})}}}),t.on("focus",function(e){_=!0,0!==w||g.$viewValue||a(function(){J(g.$viewValue,e)},0)}),t.on("blur",function(e){T&&j.matches.length&&j.activeIdx!==-1&&!k&&(k=!0,j.$apply(function(){angular.isObject(j.debounceUpdate)&&angular.isNumber(j.debounceUpdate.blur)?c(function(){j.select(j.activeIdx,e)},j.debounceUpdate.blur):j.select(j.activeIdx,e)})),!C&&g.$error.editable&&(g.$setViewValue(),j.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),_=!1,k=!1});var ne=function(n){t[0]!==n.target&&3!==n.which&&0!==j.matches.length&&(G(),u.$$phase||e.$digest())};s.on("click",ne),e.$on("$destroy",function(){s.off("click",ne),(O||M)&&ie.remove(),O&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),q.remove(),R&&U.remove()});var ie=i(q)(j);O?s.find("body").append(ie):M?angular.element(M).eq(0).append(ie):t.after(ie),this.init=function(t){g=t,v=m(g),j.debounceUpdate=r(v.getOption("debounce"))(e),g.$parsers.unshift(function(t){return _=!0,0===w||t&&t.length>=w?x>0?(te(),ee(t)):J(t):(S(e,!1),te(),G()),C?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,i,r={};return C||g.$setValidity("editable",!0),A?(r.$model=t,A(e,r)):(r[H.itemName]=t,n=H.viewMapper(e,r),r[H.itemName]=void 0,i=H.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.tabindex","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.isClass","ui.bootstrap.datepicker","ui.bootstrap.position","ui.bootstrap.datepickerPopup","ui.bootstrap.debounce","ui.bootstrap.multiMap","ui.bootstrap.dropdown","ui.bootstrap.stackedMap","ui.bootstrap.modal","ui.bootstrap.paging","ui.bootstrap.pager","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["uib/template/accordion/accordion-group.html","uib/template/accordion/accordion.html","uib/template/alert/alert.html","uib/template/carousel/carousel.html","uib/template/carousel/slide.html","uib/template/datepicker/datepicker.html","uib/template/datepicker/day.html","uib/template/datepicker/month.html","uib/template/datepicker/year.html","uib/template/datepickerPopup/popup.html","uib/template/modal/window.html","uib/template/pager/pager.html","uib/template/pagination/pagination.html","uib/template/tooltip/tooltip-html-popup.html","uib/template/tooltip/tooltip-popup.html","uib/template/tooltip/tooltip-template-popup.html","uib/template/popover/popover-html.html","uib/template/popover/popover-template.html","uib/template/popover/popover.html","uib/template/progressbar/bar.html","uib/template/progressbar/progress.html","uib/template/progressbar/progressbar.html","uib/template/rating/rating.html","uib/template/tabs/tab.html","uib/template/tabs/tabset.html","uib/template/timepicker/timepicker.html","uib/template/typeahead/typeahead-match.html","uib/template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(e,t,n,i){var r=i.has("$animateCss")?i.get("$animateCss"):null;return{link:function(i,o,a){function s(){v=!!("horizontal"in a),v?(b={width:""},y={width:"0"}):(b={height:""},y={height:"0"}),i.$eval(a.uibCollapse)||o.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css(b)}function l(e){return v?{width:e.scrollWidth+"px"}:{height:e.scrollHeight+"px"}}function u(){o.hasClass("collapse")&&o.hasClass("in")||t.resolve(h(i)).then(function(){o.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),r?r(o,{addClass:"in",easing:"ease",css:{overflow:"hidden"},to:l(o[0])}).start()["finally"](c):e.addClass(o,"in",{css:{overflow:"hidden"},to:l(o[0])}).then(c)},angular.noop)}function c(){o.removeClass("collapsing").addClass("collapse").css(b),p(i)}function d(){return o.hasClass("collapse")||o.hasClass("in")?void t.resolve(m(i)).then(function(){o.css(l(o[0])).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),r?r(o,{removeClass:"in",to:y}).start()["finally"](f):e.removeClass(o,"in",{to:y}).then(f)},angular.noop):f()}function f(){o.css(y),o.removeClass("collapsing").addClass("collapse"),g(i)}var h=n(a.expanding),p=n(a.expanded),m=n(a.collapsing),g=n(a.collapsed),v=!1,b={},y={};s(),i.$watch(a.uibCollapse,function(e){e?d():u()})}}}]),angular.module("ui.bootstrap.tabindex",[]).directive("uibTabindexToggle",function(){return{restrict:"A",link:function(e,t,n){n.$observe("disabled",function(e){n.$set("tabindex",e?-1:null)})}}}),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse","ui.bootstrap.tabindex"]).constant("uibAccordionConfig",{closeOthers:!0}).controller("UibAccordionController",["$scope","$attrs","uibAccordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(i){var r=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;r&&angular.forEach(this.groups,function(e){e!==i&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(n){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);t!==-1&&this.groups.splice(t,1)}}]).directive("uibAccordion",function(){return{controller:"UibAccordionController",controllerAs:"accordion",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion.html"}}}).directive("uibAccordionGroup",function(){return{require:"^uibAccordion",transclude:!0,restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/accordion/accordion-group.html"},scope:{heading:"@",panelClass:"@?",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,i){t.addClass("panel"),i.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass||"panel-default",e.$watch("isOpen",function(n){t.toggleClass(e.openClass,!!n),n&&i.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)};var r="accordiongroup-"+e.$id+"-"+Math.floor(1e4*Math.random());e.headingId=r+"-tab",e.panelId=r+"-panel"}}}).directive("uibAccordionHeading",function(){return{transclude:!0,template:"",replace:!0,require:"^uibAccordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("uibAccordionTransclude",function(){function e(){return"uib-accordion-header,data-uib-accordion-header,x-uib-accordion-header,uib\\:accordion-header,[uib-accordion-header],[data-uib-accordion-header],[x-uib-accordion-header]"}return{require:"^uibAccordionGroup",link:function(t,n,i,r){t.$watch(function(){return r[i.uibAccordionTransclude]},function(t){if(t){var i=angular.element(n[0].querySelector(e()));i.html(""),i.append(t)}})}}}),angular.module("ui.bootstrap.alert",[]).controller("UibAlertController",["$scope","$element","$attrs","$interpolate","$timeout",function(e,t,n,i,r){e.closeable=!!n.close,t.addClass("alert"),n.$set("role","alert"),e.closeable&&t.addClass("alert-dismissible");var o=angular.isDefined(n.dismissOnTimeout)?i(n.dismissOnTimeout)(e.$parent):null;o&&r(function(){e.close()},parseInt(o,10))}]).directive("uibAlert",function(){return{controller:"UibAlertController",controllerAs:"alert",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/alert/alert.html"},transclude:!0,scope:{close:"&"}}}),angular.module("ui.bootstrap.buttons",[]).constant("uibButtonConfig",{activeClass:"active",toggleEvent:"click"}).controller("UibButtonsController",["uibButtonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("uibBtnRadio",["$parse",function(e){return{require:["uibBtnRadio","ngModel"],controller:"UibButtonsController",controllerAs:"buttons",link:function(t,n,i,r){var o=r[0],a=r[1],s=e(i.uibUncheckable);n.find("input").css({display:"none"}),a.$render=function(){n.toggleClass(o.activeClass,angular.equals(a.$modelValue,t.$eval(i.uibBtnRadio)))},n.on(o.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(o.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){a.$setViewValue(e?null:t.$eval(i.uibBtnRadio)),a.$render()})}}),i.uibUncheckable&&t.$watch(s,function(e){i.$set("uncheckable",e?"":void 0)})}}}]).directive("uibBtnCheckbox",function(){return{require:["uibBtnCheckbox","ngModel"],controller:"UibButtonsController",controllerAs:"button",link:function(e,t,n,i){function r(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(t,n){return angular.isDefined(t)?e.$eval(t):n}var s=i[0],l=i[1];t.find("input").css({display:"none"}),l.$render=function(){t.toggleClass(s.activeClass,angular.equals(l.$modelValue,r()))},t.on(s.toggleEvent,function(){n.disabled||e.$apply(function(){l.$setViewValue(t.hasClass(s.activeClass)?o():r()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",[]).controller("UibCarouselController",["$scope","$element","$interval","$timeout","$animate",function(e,t,n,i,r){function o(e){for(var t=0;t<m.length;t++)m[t].slide.active=t===e}function a(n,i,a){if(!b){if(angular.extend(n,{direction:a}),angular.extend(m[v].slide||{},{direction:a}),r.enabled(t)&&!e.$currentTransition&&m[i].element&&p.slides.length>1){m[i].element.data(g,n.direction);var s=p.getCurrentIndex();angular.isNumber(s)&&m[s].element&&m[s].element.data(g,n.direction),e.$currentTransition=!0,r.on("addClass",m[i].element,function(t,n){"close"===n&&(e.$currentTransition=null,r.off("addClass",t))})}e.active=n.index,v=n.index,o(i),c()}}function s(e){for(var t=0;t<m.length;t++)if(m[t].slide===e)return t}function l(){f&&(n.cancel(f),f=null)}function u(t){t.length||(e.$currentTransition=null)}function c(){l();var t=+e.interval;!isNaN(t)&&t>0&&(f=n(d,t))}function d(){var t=+e.interval;h&&!isNaN(t)&&t>0&&m.length?e.next():e.pause()}var f,h,p=this,m=p.slides=e.slides=[],g="uib-slideDirection",v=e.active,b=!1;t.addClass("carousel"),p.addSlide=function(t,n){m.push({slide:t,element:n}),m.sort(function(e,t){return+e.slide.index-+t.slide.index}),(t.index===e.active||1===m.length&&!angular.isNumber(e.active))&&(e.$currentTransition&&(e.$currentTransition=null),v=t.index,e.active=t.index,o(v),p.select(m[s(t)]),1===m.length&&e.play())},p.getCurrentIndex=function(){for(var e=0;e<m.length;e++)if(m[e].slide.index===v)return e},p.next=e.next=function(){var t=(p.getCurrentIndex()+1)%m.length;return 0===t&&e.noWrap()?void e.pause():p.select(m[t],"next")},p.prev=e.prev=function(){var t=p.getCurrentIndex()-1<0?m.length-1:p.getCurrentIndex()-1;return e.noWrap()&&t===m.length-1?void e.pause():p.select(m[t],"prev")},p.removeSlide=function(t){var n=s(t);m.splice(n,1),m.length>0&&v===n?n>=m.length?(v=m.length-1,e.active=v,o(v),p.select(m[m.length-1])):(v=n,e.active=v,o(v),p.select(m[n])):v>n&&(v--,e.active=v),0===m.length&&(v=null,e.active=null)},p.select=e.select=function(t,n){var i=s(t.slide);void 0===n&&(n=i>p.getCurrentIndex()?"next":"prev"),t.slide.index===v||e.$currentTransition||a(t.slide,i,n)},e.indexOfSlide=function(e){return+e.slide.index},e.isActive=function(t){return e.active===t.slide.index},e.isPrevDisabled=function(){return 0===e.active&&e.noWrap()},e.isNextDisabled=function(){return e.active===m.length-1&&e.noWrap()},e.pause=function(){e.noPause||(h=!1,l())},e.play=function(){h||(h=!0,c())},t.on("mouseenter",e.pause),t.on("mouseleave",e.play),e.$on("$destroy",function(){b=!0,l()}),e.$watch("noTransition",function(e){r.enabled(t,!e)}),e.$watch("interval",c),e.$watchCollection("slides",u),e.$watch("active",function(e){if(angular.isNumber(e)&&v!==e){for(var t=0;t<m.length;t++)if(m[t].slide.index===e){e=t;break}var n=m[e];n&&(o(e),p.select(m[e]),v=e)}})}]).directive("uibCarousel",function(){return{transclude:!0,controller:"UibCarouselController",controllerAs:"carousel",restrict:"A",templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/carousel.html"},scope:{active:"=",interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}).directive("uibSlide",["$animate",function(e){return{require:"^uibCarousel",restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/carousel/slide.html"},scope:{actual:"=?",index:"=?"},link:function(t,n,i,r){n.addClass("item"),r.addSlide(t,n),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(t){e[t?"addClass":"removeClass"](n,"active")})}}}]).animation(".item",["$animateCss",function(e){function t(e,t,n){e.removeClass(t),n&&n()}var n="uib-slideDirection";return{beforeAddClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=t.bind(this,i,l+" "+s,o);return i.addClass(s),e(i,{addClass:l}).start().done(u),function(){a=!0}}o()},beforeRemoveClass:function(i,r,o){if("active"===r){var a=!1,s=i.data(n),l="next"===s?"left":"right",u=t.bind(this,i,l,o);return e(i,{addClass:l}).start().done(u),function(){a=!0}}o()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("uibDateParser",["$log","$locale","dateFilter","orderByFilter","filterFilter",function(e,t,n,i,r){function o(e){return r(b,{key:e},!0)[0]}function a(e){var t=[],n=e.split(""),r=e.indexOf("'");if(r>-1){var o=!1;e=e.split("");for(var a=r;a<e.length;a++)o?("'"===e[a]&&(a+1<e.length&&"'"===e[a+1]?(e[a+1]="$",n[a+1]=""):(n[a]="",o=!1)),e[a]="$"):"'"===e[a]&&(e[a]="$",n[a]="",o=!0);e=e.join("")}return angular.forEach(b,function(i){var r=e.indexOf(i.key);if(r>-1){e=e.split(""),n[r]="("+i.regex+")",e[r]="$";for(var o=r+1,a=r+i.key.length;o<a;o++)n[o]="",e[o]="$";e=e.join(""),t.push({index:r,key:i.key,apply:i.apply,matcher:i.regex})}}),{regex:new RegExp("^"+n.join("")+"$"),map:i(t,"index")}}function s(e){for(var t,n,i=[],r=0;r<e.length;)if(angular.isNumber(n)){if("'"===e.charAt(r))(r+1>=e.length||"'"!==e.charAt(r+1))&&(i.push(l(e,n,r)),n=null);else if(r===e.length)for(;n<e.length;)t=u(e,n),i.push(t),n=t.endIdx;r++}else"'"!==e.charAt(r)?(t=u(e,r),i.push(t.parser),r=t.endIdx):(n=r,r++);return i}function l(e,t,n){return function(){return e.substr(t+1,n-t-1)}}function u(e,t){for(var n=e.substr(t),i=0;i<b.length;i++)if(new RegExp("^"+b[i].key).test(n)){var r=b[i];return{endIdx:t+r.key.length,parser:r.formatter}}return{endIdx:t+1,parser:function(){return n.charAt(0)}}}function c(e,t,n){return!(n<1)&&(1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3!==t&&5!==t&&8!==t&&10!==t||n<31)}function d(e){return parseInt(e,10)}function f(e,t){return e&&t?g(e,t):e}function h(e,t){return e&&t?g(e,t,!0):e}function p(e,t){e=e.replace(/:/g,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function m(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function g(e,t,n){n=n?-1:1;var i=e.getTimezoneOffset(),r=p(t,i);return m(e,n*(r-i))}var v,b,y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.init=function(){v=t.id,this.parsers={},this.formatters={},b=[{key:"yyyy",regex:"\\d{4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yyyy")}},{key:"yy",regex:"\\d{2}",apply:function(e){e=+e,this.year=e<69?e+2e3:e+1900},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"yy")}},{key:"y",regex:"\\d{1,4}",apply:function(e){this.year=+e},formatter:function(e){var t=new Date;return t.setFullYear(Math.abs(e.getFullYear())),n(t,"y")}},{key:"M!",regex:"0?[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){var t=e.getMonth();return/^[0-9]$/.test(t)?n(e,"MM"):n(e,"M")}},{key:"MMMM",regex:t.DATETIME_FORMATS.MONTH.join("|"),
apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)},formatter:function(e){return n(e,"MMMM")}},{key:"MMM",regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)},formatter:function(e){return n(e,"MMM")}},{key:"MM",regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"MM")}},{key:"M",regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1},formatter:function(e){return n(e,"M")}},{key:"d!",regex:"[0-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){var t=e.getDate();return/^[1-9]$/.test(t)?n(e,"dd"):n(e,"d")}},{key:"dd",regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"dd")}},{key:"d",regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e},formatter:function(e){return n(e,"d")}},{key:"EEEE",regex:t.DATETIME_FORMATS.DAY.join("|"),formatter:function(e){return n(e,"EEEE")}},{key:"EEE",regex:t.DATETIME_FORMATS.SHORTDAY.join("|"),formatter:function(e){return n(e,"EEE")}},{key:"HH",regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"HH")}},{key:"hh",regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"hh")}},{key:"H",regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"H")}},{key:"h",regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e},formatter:function(e){return n(e,"h")}},{key:"mm",regex:"[0-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"mm")}},{key:"m",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e},formatter:function(e){return n(e,"m")}},{key:"sss",regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e},formatter:function(e){return n(e,"sss")}},{key:"ss",regex:"[0-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"ss")}},{key:"s",regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e},formatter:function(e){return n(e,"s")}},{key:"a",regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)},formatter:function(e){return n(e,"a")}},{key:"Z",regex:"[+-]\\d{4}",apply:function(e){var t=e.match(/([+-])(\d{2})(\d{2})/),n=t[1],i=t[2],r=t[3];this.hours+=d(n+i),this.minutes+=d(n+r)},formatter:function(e){return n(e,"Z")}},{key:"ww",regex:"[0-4][0-9]|5[0-3]",formatter:function(e){return n(e,"ww")}},{key:"w",regex:"[0-9]|[1-4][0-9]|5[0-3]",formatter:function(e){return n(e,"w")}},{key:"GGGG",regex:t.DATETIME_FORMATS.ERANAMES.join("|").replace(/\s/g,"\\s"),formatter:function(e){return n(e,"GGGG")}},{key:"GGG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GGG")}},{key:"GG",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"GG")}},{key:"G",regex:t.DATETIME_FORMATS.ERAS.join("|"),formatter:function(e){return n(e,"G")}}],angular.version.major>=1&&angular.version.minor>4&&b.push({key:"LLLL",regex:t.DATETIME_FORMATS.STANDALONEMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.STANDALONEMONTH.indexOf(e)},formatter:function(e){return n(e,"LLLL")}})},this.init(),this.getParser=function(e){var t=o(e);return t&&t.apply||null},this.overrideParser=function(e,t){var n=o(e);n&&angular.isFunction(t)&&(this.parsers={},n.apply=t)}.bind(this),this.filter=function(e,n){if(!angular.isDate(e)||isNaN(e)||!n)return"";n=t.DATETIME_FORMATS[n]||n,t.id!==v&&this.init(),this.formatters[n]||(this.formatters[n]=s(n));var i=this.formatters[n];return i.reduce(function(t,n){return t+n(e)},"")},this.parse=function(n,i,r){if(!angular.isString(n)||!i)return n;i=t.DATETIME_FORMATS[i]||i,i=i.replace(y,"\\$&"),t.id!==v&&this.init(),this.parsers[i]||(this.parsers[i]=a(i,"apply"));var o=this.parsers[i],s=o.regex,l=o.map,u=n.match(s),d=!1;if(u&&u.length){var f,h;angular.isDate(r)&&!isNaN(r.getTime())?f={year:r.getFullYear(),month:r.getMonth(),date:r.getDate(),hours:r.getHours(),minutes:r.getMinutes(),seconds:r.getSeconds(),milliseconds:r.getMilliseconds()}:(r&&e.warn("dateparser:","baseDate is not a valid date"),f={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var p=1,m=u.length;p<m;p++){var g=l[p-1];"Z"===g.matcher&&(d=!0),g.apply&&g.apply.call(f,u[p])}var b=d?Date.prototype.setUTCFullYear:Date.prototype.setFullYear,w=d?Date.prototype.setUTCHours:Date.prototype.setHours;return c(f.year,f.month,f.date)&&(!angular.isDate(r)||isNaN(r.getTime())||d?(h=new Date(0),b.call(h,f.year,f.month,f.date),w.call(h,f.hours||0,f.minutes||0,f.seconds||0,f.milliseconds||0)):(h=new Date(r),b.call(h,f.year,f.month,f.date),w.call(h,f.hours,f.minutes,f.seconds,f.milliseconds))),h}},this.toTimezone=f,this.fromTimezone=h,this.timezoneToOffset=p,this.addDateMinutes=m,this.convertTimezoneToLocal=g}]),angular.module("ui.bootstrap.isClass",[]).directive("uibIsClass",["$animate",function(e){var t=/^\s*([\s\S]+?)\s+on\s+([\s\S]+?)\s*$/,n=/^\s*([\s\S]+?)\s+for\s+([\s\S]+?)\s*$/;return{restrict:"A",compile:function(i,r){function o(e,t,n){l.push(e),u.push({scope:e,element:t}),p.forEach(function(t,n){a(t,e)}),e.$on("$destroy",s)}function a(t,i){var r=t.match(n),o=i.$eval(r[1]),a=r[2],s=c[t];if(!s){var l=function(t){var n=null;u.some(function(e){var i=e.scope.$eval(f);if(i===t)return n=e,!0}),s.lastActivated!==n&&(s.lastActivated&&e.removeClass(s.lastActivated.element,o),n&&e.addClass(n.element,o),s.lastActivated=n)};c[t]=s={lastActivated:null,scope:i,watchFn:l,compareWithExp:a,watcher:i.$watch(a,l)}}s.watchFn(i.$eval(a))}function s(e){var t=e.targetScope,n=l.indexOf(t);if(l.splice(n,1),u.splice(n,1),l.length){var i=l[0];angular.forEach(c,function(e){e.scope===t&&(e.watcher=i.$watch(e.compareWithExp,e.watchFn),e.scope=i)})}else c={}}var l=[],u=[],c={},d=r.uibIsClass.match(t),f=d[2],h=d[1],p=h.split(",");return o}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.isClass"]).value("$datepickerSuppressError",!1).value("$datepickerLiteralWarning",!0).constant("uibDatepickerConfig",{datepickerMode:"day",formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",maxDate:null,maxMode:"year",minDate:null,minMode:"day",monthColumns:3,ngModelOptions:{},shortcutPropagation:!1,showWeeks:!0,yearColumns:5,yearRows:4}).controller("UibDatepickerController",["$scope","$element","$attrs","$parse","$interpolate","$locale","$log","dateFilter","uibDatepickerConfig","$datepickerLiteralWarning","$datepickerSuppressError","uibDateParser",function(e,t,n,i,r,o,a,s,l,u,c,d){function f(t){e.datepickerMode=t,e.datepickerOptions.datepickerMode=t}function h(t){var n;if(angular.version.minor<6)n=t.$options||e.datepickerOptions.ngModelOptions||l.ngModelOptions||{},n.getOption=function(e){return n[e]};else{var i=t.$options.getOption("timezone")||(e.datepickerOptions.ngModelOptions?e.datepickerOptions.ngModelOptions.timezone:null)||(l.ngModelOptions?l.ngModelOptions.timezone:null);n=t.$options.createChild(l.ngModelOptions).createChild(e.datepickerOptions.ngModelOptions).createChild(t.$options).createChild({timezone:i})}return n}var p=this,m={$setViewValue:angular.noop},g={},v=[];t.addClass("uib-datepicker"),n.$set("role","application"),e.datepickerOptions||(e.datepickerOptions={}),this.modes=["day","month","year"],["customClass","dateDisabled","datepickerMode","formatDay","formatDayHeader","formatDayTitle","formatMonth","formatMonthTitle","formatYear","maxDate","maxMode","minDate","minMode","monthColumns","showWeeks","shortcutPropagation","startingDay","yearColumns","yearRows"].forEach(function(t){switch(t){case"customClass":case"dateDisabled":e[t]=e.datepickerOptions[t]||angular.noop;break;case"datepickerMode":e.datepickerMode=angular.isDefined(e.datepickerOptions.datepickerMode)?e.datepickerOptions.datepickerMode:l.datepickerMode;break;case"formatDay":case"formatDayHeader":case"formatDayTitle":case"formatMonth":case"formatMonthTitle":case"formatYear":p[t]=angular.isDefined(e.datepickerOptions[t])?r(e.datepickerOptions[t])(e.$parent):l[t];break;case"monthColumns":case"showWeeks":case"shortcutPropagation":case"yearColumns":case"yearRows":p[t]=angular.isDefined(e.datepickerOptions[t])?e.datepickerOptions[t]:l[t];break;case"startingDay":angular.isDefined(e.datepickerOptions.startingDay)?p.startingDay=e.datepickerOptions.startingDay:angular.isNumber(l.startingDay)?p.startingDay=l.startingDay:p.startingDay=(o.DATETIME_FORMATS.FIRSTDAYOFWEEK+8)%7;break;case"maxDate":case"minDate":e.$watch("datepickerOptions."+t,function(e){e?angular.isDate(e)?p[t]=d.fromTimezone(new Date(e),g.getOption("timezone")):(u&&a.warn("Literal date support has been deprecated, please switch to date object usage"),p[t]=new Date(s(e,"medium"))):p[t]=l[t]?d.fromTimezone(new Date(l[t]),g.getOption("timezone")):null,p.refreshView()});break;case"maxMode":case"minMode":e.datepickerOptions[t]?e.$watch(function(){return e.datepickerOptions[t]},function(n){p[t]=e[t]=angular.isDefined(n)?n:e.datepickerOptions[t],("minMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)<p.modes.indexOf(p[t])||"maxMode"===t&&p.modes.indexOf(e.datepickerOptions.datepickerMode)>p.modes.indexOf(p[t]))&&(e.datepickerMode=p[t],e.datepickerOptions.datepickerMode=p[t])}):p[t]=e[t]=l[t]||null}}),e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),e.disabled=angular.isDefined(n.disabled)||!1,angular.isDefined(n.ngDisabled)&&v.push(e.$parent.$watch(n.ngDisabled,function(t){e.disabled=t,p.refreshView()})),e.isActive=function(t){return 0===p.compare(t.date,p.activeDate)&&(e.activeDateId=t.uid,!0)},this.init=function(t){m=t,g=h(m),e.datepickerOptions.initDate?(p.activeDate=d.fromTimezone(e.datepickerOptions.initDate,g.getOption("timezone"))||new Date,e.$watch("datepickerOptions.initDate",function(e){e&&(m.$isEmpty(m.$modelValue)||m.$invalid)&&(p.activeDate=d.fromTimezone(e,g.getOption("timezone")),p.refreshView())})):p.activeDate=new Date;var n=m.$modelValue?new Date(m.$modelValue):new Date;this.activeDate=isNaN(n)?d.fromTimezone(new Date,g.getOption("timezone")):d.fromTimezone(n,g.getOption("timezone")),m.$render=function(){p.render()}},this.render=function(){if(m.$viewValue){var e=new Date(m.$viewValue),t=!isNaN(e);t?this.activeDate=d.fromTimezone(e,g.getOption("timezone")):c||a.error('Datepicker directive: "ng-model" value must be a Date object')}this.refreshView()},this.refreshView=function(){if(this.element){e.selectedDt=null,this._refreshView(),e.activeDt&&(e.activeDateId=e.activeDt.uid);var t=m.$viewValue?new Date(m.$viewValue):null;t=d.fromTimezone(t,g.getOption("timezone")),m.$setValidity("dateDisabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,n){var i=m.$viewValue?new Date(m.$viewValue):null;i=d.fromTimezone(i,g.getOption("timezone"));var r=new Date;r=d.fromTimezone(r,g.getOption("timezone"));var o=this.compare(t,r),a={date:t,label:d.filter(t,n),selected:i&&0===this.compare(t,i),disabled:this.isDisabled(t),past:o<0,current:0===o,future:o>0,customClass:this.customClass(t)||null};return i&&0===this.compare(t,i)&&(e.selectedDt=a),p.activeDate&&0===this.compare(a.date,p.activeDate)&&(e.activeDt=a),a},this.isDisabled=function(t){return e.disabled||this.minDate&&this.compare(t,this.minDate)<0||this.maxDate&&this.compare(t,this.maxDate)>0||e.dateDisabled&&e.dateDisabled({date:t,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},e.select=function(t){if(e.datepickerMode===p.minMode){var n=m.$viewValue?d.fromTimezone(new Date(m.$viewValue),g.getOption("timezone")):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),n=d.toTimezone(n,g.getOption("timezone")),m.$setViewValue(n),m.$render()}else p.activeDate=t,f(p.modes[p.modes.indexOf(e.datepickerMode)-1]),e.$emit("uib:datepicker.mode");e.$broadcast("uib:datepicker.focus")},e.move=function(e){var t=p.activeDate.getFullYear()+e*(p.step.years||0),n=p.activeDate.getMonth()+e*(p.step.months||0);p.activeDate.setFullYear(t,n,1),p.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===p.maxMode&&1===t||e.datepickerMode===p.minMode&&t===-1||(f(p.modes[p.modes.indexOf(e.datepickerMode)+t]),e.$emit("uib:datepicker.mode"))},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var b=function(){p.element[0].focus()};e.$on("uib:datepicker.focus",b),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey&&!e.disabled)if(t.preventDefault(),p.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(p.isDisabled(p.activeDate))return;e.select(p.activeDate)}else!t.ctrlKey||"up"!==n&&"down"!==n?(p.handleKeyDown(n,t),p.refreshView()):e.toggleMode("up"===n?1:-1)},t.on("keydown",function(t){e.$apply(function(){e.keydown(t)})}),e.$on("$destroy",function(){for(;v.length;)v.shift()()})}]).controller("UibDaypickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?o[t]:29}function r(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}var o=[31,28,31,30,31,30,31,31,30,31,30,31];this.step={months:1},this.element=t,this.init=function(t){angular.extend(t,this),e.showWeeks=t.showWeeks,t.refreshView()},this.getDates=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),i[o++]=n,r.setDate(r.getDate()+1);return i},this._refreshView=function(){var t=this.activeDate.getFullYear(),i=this.activeDate.getMonth(),o=new Date(this.activeDate);o.setFullYear(t,i,1);var a=this.startingDay-o.getDay(),s=a>0?7-a:-a,l=new Date(o);s>0&&l.setDate(-s+1);for(var u=this.getDates(l,42),c=0;c<42;c++)u[c]=angular.extend(this.createDateObject(u[c],this.formatDay),{secondary:u[c].getMonth()!==i,uid:e.uniqueId+"-"+c});e.labels=new Array(7);for(var d=0;d<7;d++)e.labels[d]={abbr:n(u[d].date,this.formatDayHeader),full:n(u[d].date,"EEEE")};if(e.title=n(this.activeDate,this.formatDayTitle),e.rows=this.split(u,7),e.showWeeks){e.weekNumbers=[];for(var f=(11-this.startingDay)%7,h=e.rows.length,p=0;p<h;p++)e.weekNumbers.push(r(e.rows[p][f].date))}},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(t.getFullYear(),t.getMonth(),t.getDate());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var r=this.activeDate.getMonth()+("pageup"===e?-1:1);this.activeDate.setMonth(r,1),n=Math.min(i(this.activeDate.getFullYear(),this.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=i(this.activeDate.getFullYear(),this.activeDate.getMonth()));this.activeDate.setDate(n)}}]).controller("UibMonthpickerController",["$scope","$element","dateFilter",function(e,t,n){this.step={years:1},this.element=t,this.init=function(e){angular.extend(e,this),e.refreshView()},this._refreshView=function(){for(var t,i=new Array(12),r=this.activeDate.getFullYear(),o=0;o<12;o++)t=new Date(this.activeDate),t.setFullYear(r,o,1),i[o]=angular.extend(this.createDateObject(t,this.formatMonth),{uid:e.uniqueId+"-"+o});e.title=n(this.activeDate,this.formatMonthTitle),e.rows=this.split(i,this.monthColumns),e.yearHeaderColspan=this.monthColumns>3?this.monthColumns-2:1},this.compare=function(e,t){var n=new Date(e.getFullYear(),e.getMonth()),i=new Date(t.getFullYear(),t.getMonth());return n.setFullYear(e.getFullYear()),i.setFullYear(t.getFullYear()),n-i},this.handleKeyDown=function(e,t){var n=this.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=this.monthColumns;else if("right"===e)n+=1;else if("down"===e)n+=this.monthColumns;else if("pageup"===e||"pagedown"===e){var i=this.activeDate.getFullYear()+("pageup"===e?-1:1);this.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);this.activeDate.setMonth(n)}}]).controller("UibYearpickerController",["$scope","$element","dateFilter",function(e,t,n){function i(e){return parseInt((e-1)/o,10)*o+1}var r,o;this.element=t,this.yearpickerInit=function(){r=this.yearColumns,o=this.yearRows*r,this.step={years:o}},this._refreshView=function(){for(var t,n=new Array(o),a=0,s=i(this.activeDate.getFullYear());a<o;a++)t=new Date(this.activeDate),t.setFullYear(s+a,0,1),n[a]=angular.extend(this.createDateObject(t,this.formatYear),{uid:e.uniqueId+"-"+a});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=this.split(n,r),e.columns=r},this.compare=function(e,t){return e.getFullYear()-t.getFullYear()},this.handleKeyDown=function(e,t){var n=this.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=r:"right"===e?n+=1:"down"===e?n+=r:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o:"home"===e?n=i(this.activeDate.getFullYear()):"end"===e&&(n=i(this.activeDate.getFullYear())+o-1),this.activeDate.setFullYear(n)}}]).directive("uibDatepicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/datepicker.html"},scope:{datepickerOptions:"=?"},require:["uibDatepicker","^ngModel"],restrict:"A",controller:"UibDatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("uibDaypicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/day.html"},require:["^uibDatepicker","uibDaypicker"],restrict:"A",controller:"UibDaypickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibMonthpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/month.html"},require:["^uibDatepicker","uibMonthpicker"],restrict:"A",controller:"UibMonthpickerController",link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibYearpicker",function(){return{templateUrl:function(e,t){return t.templateUrl||"uib/template/datepicker/year.html"},require:["^uibDatepicker","uibYearpicker"],restrict:"A",controller:"UibYearpickerController",link:function(e,t,n,i){var r=i[0];angular.extend(r,i[1]),r.yearpickerInit(),r.refreshView()}}}),angular.module("ui.bootstrap.position",[]).factory("$uibPosition",["$document","$window",function(e,t){var n,i,r={normal:/(auto|scroll)/,hidden:/(auto|scroll|hidden)/},o={auto:/\s?auto?\s?/i,primary:/^(top|bottom|left|right)$/,secondary:/^(top|bottom|left|right|center)$/,vertical:/^(top|bottom)$/},a=/(HTML|BODY)/;return{getRawNode:function(e){return e.nodeName?e:e[0]||e},parseStyle:function(e){return e=parseFloat(e),isFinite(e)?e:0},offsetParent:function(n){function i(e){return"static"===(t.getComputedStyle(e).position||"static")}n=this.getRawNode(n);for(var r=n.offsetParent||e[0].documentElement;r&&r!==e[0].documentElement&&i(r);)r=r.offsetParent;return r||e[0].documentElement},scrollbarWidth:function(r){if(r){if(angular.isUndefined(i)){var o=e.find("body");o.addClass("uib-position-body-scrollbar-measure"),i=t.innerWidth-o[0].clientWidth,i=isFinite(i)?i:0,o.removeClass("uib-position-body-scrollbar-measure")}return i}if(angular.isUndefined(n)){var a=angular.element('<div class="uib-position-scrollbar-measure"></div>');e.find("body").append(a),n=a[0].offsetWidth-a[0].clientWidth,n=isFinite(n)?n:0,a.remove()}return n},scrollbarPadding:function(e){e=this.getRawNode(e);var n=t.getComputedStyle(e),i=this.parseStyle(n.paddingRight),r=this.parseStyle(n.paddingBottom),o=this.scrollParent(e,!1,!0),s=this.scrollbarWidth(a.test(o.tagName));return{scrollbarWidth:s,widthOverflow:o.scrollWidth>o.clientWidth,right:i+s,originalRight:i,heightOverflow:o.scrollHeight>o.clientHeight,bottom:r+s,originalBottom:r}},isScrollable:function(e,n){e=this.getRawNode(e);var i=n?r.hidden:r.normal,o=t.getComputedStyle(e);return i.test(o.overflow+o.overflowY+o.overflowX)},scrollParent:function(n,i,o){n=this.getRawNode(n);var a=i?r.hidden:r.normal,s=e[0].documentElement,l=t.getComputedStyle(n);if(o&&a.test(l.overflow+l.overflowY+l.overflowX))return n;var u="absolute"===l.position,c=n.parentElement||s;if(c===s||"fixed"===l.position)return s;for(;c.parentElement&&c!==s;){var d=t.getComputedStyle(c);if(u&&"static"!==d.position&&(u=!1),!u&&a.test(d.overflow+d.overflowY+d.overflowX))break;c=c.parentElement}return c},position:function(n,i){n=this.getRawNode(n);var r=this.offset(n);if(i){var o=t.getComputedStyle(n);r.top-=this.parseStyle(o.marginTop),r.left-=this.parseStyle(o.marginLeft)}var a=this.offsetParent(n),s={top:0,left:0};return a!==e[0].documentElement&&(s=this.offset(a),s.top+=a.clientTop-a.scrollTop,s.left+=a.clientLeft-a.scrollLeft),{width:Math.round(angular.isNumber(r.width)?r.width:n.offsetWidth),height:Math.round(angular.isNumber(r.height)?r.height:n.offsetHeight),top:Math.round(r.top-s.top),left:Math.round(r.left-s.left)}},offset:function(n){n=this.getRawNode(n);var i=n.getBoundingClientRect();return{width:Math.round(angular.isNumber(i.width)?i.width:n.offsetWidth),height:Math.round(angular.isNumber(i.height)?i.height:n.offsetHeight),top:Math.round(i.top+(t.pageYOffset||e[0].documentElement.scrollTop)),left:Math.round(i.left+(t.pageXOffset||e[0].documentElement.scrollLeft))}},viewportOffset:function(n,i,r){n=this.getRawNode(n),r=r!==!1;var o=n.getBoundingClientRect(),a={top:0,left:0,bottom:0,right:0},s=i?e[0].documentElement:this.scrollParent(n),l=s.getBoundingClientRect();if(a.top=l.top+s.clientTop,a.left=l.left+s.clientLeft,s===e[0].documentElement&&(a.top+=t.pageYOffset,a.left+=t.pageXOffset),a.bottom=a.top+s.clientHeight,a.right=a.left+s.clientWidth,r){var u=t.getComputedStyle(s);a.top+=this.parseStyle(u.paddingTop),a.bottom-=this.parseStyle(u.paddingBottom),a.left+=this.parseStyle(u.paddingLeft),a.right-=this.parseStyle(u.paddingRight)}return{top:Math.round(o.top-a.top),bottom:Math.round(a.bottom-o.bottom),left:Math.round(o.left-a.left),right:Math.round(a.right-o.right)}},parsePlacement:function(e){var t=o.auto.test(e);return t&&(e=e.replace(o.auto,"")),e=e.split("-"),e[0]=e[0]||"top",o.primary.test(e[0])||(e[0]="top"),e[1]=e[1]||"center",o.secondary.test(e[1])||(e[1]="center"),t?e[2]=!0:e[2]=!1,e},positionElements:function(e,n,i,r){e=this.getRawNode(e),n=this.getRawNode(n);var a=angular.isDefined(n.offsetWidth)?n.offsetWidth:n.prop("offsetWidth"),s=angular.isDefined(n.offsetHeight)?n.offsetHeight:n.prop("offsetHeight");i=this.parsePlacement(i);var l=r?this.offset(e):this.position(e),u={top:0,left:0,placement:""};if(i[2]){var c=this.viewportOffset(e,r),d=t.getComputedStyle(n),f={width:a+Math.round(Math.abs(this.parseStyle(d.marginLeft)+this.parseStyle(d.marginRight))),height:s+Math.round(Math.abs(this.parseStyle(d.marginTop)+this.parseStyle(d.marginBottom)))};if(i[0]="top"===i[0]&&f.height>c.top&&f.height<=c.bottom?"bottom":"bottom"===i[0]&&f.height>c.bottom&&f.height<=c.top?"top":"left"===i[0]&&f.width>c.left&&f.width<=c.right?"right":"right"===i[0]&&f.width>c.right&&f.width<=c.left?"left":i[0],i[1]="top"===i[1]&&f.height-l.height>c.bottom&&f.height-l.height<=c.top?"bottom":"bottom"===i[1]&&f.height-l.height>c.top&&f.height-l.height<=c.bottom?"top":"left"===i[1]&&f.width-l.width>c.right&&f.width-l.width<=c.left?"right":"right"===i[1]&&f.width-l.width>c.left&&f.width-l.width<=c.right?"left":i[1],"center"===i[1])if(o.vertical.test(i[0])){var h=l.width/2-a/2;c.left+h<0&&f.width-l.width<=c.right?i[1]="left":c.right+h<0&&f.width-l.width<=c.left&&(i[1]="right")}else{var p=l.height/2-f.height/2;c.top+p<0&&f.height-l.height<=c.bottom?i[1]="top":c.bottom+p<0&&f.height-l.height<=c.top&&(i[1]="bottom")}}switch(i[0]){case"top":u.top=l.top-s;break;case"bottom":u.top=l.top+l.height;break;case"left":u.left=l.left-a;break;case"right":u.left=l.left+l.width}switch(i[1]){case"top":u.top=l.top;break;case"bottom":u.top=l.top+l.height-s;break;case"left":u.left=l.left;break;case"right":u.left=l.left+l.width-a;break;case"center":o.vertical.test(i[0])?u.left=l.left+l.width/2-a/2:u.top=l.top+l.height/2-s/2}return u.top=Math.round(u.top),u.left=Math.round(u.left),u.placement="center"===i[1]?i[0]:i[0]+"-"+i[1],u},adjustTop:function(e,t,n,i){if(e.indexOf("top")!==-1&&n!==i)return{top:t.top-i+"px"}},positionArrow:function(e,n){e=this.getRawNode(e);var i=e.querySelector(".tooltip-inner, .popover-inner");if(i){var r=angular.element(i).hasClass("tooltip-inner"),a=r?e.querySelector(".tooltip-arrow"):e.querySelector(".arrow");if(a){var s={top:"",bottom:"",left:"",right:""};if(n=this.parsePlacement(n),"center"===n[1])return void angular.element(a).css(s);var l="border-"+n[0]+"-width",u=t.getComputedStyle(a)[l],c="border-";c+=o.vertical.test(n[0])?n[0]+"-"+n[1]:n[1]+"-"+n[0],c+="-radius";var d=t.getComputedStyle(r?i:e)[c];switch(n[0]){case"top":s.bottom=r?"0":"-"+u;break;case"bottom":s.top=r?"0":"-"+u;break;case"left":s.right=r?"0":"-"+u;break;case"right":s.left=r?"0":"-"+u}s[n[1]]=d,angular.element(a).css(s)}}}}}]),angular.module("ui.bootstrap.datepickerPopup",["ui.bootstrap.datepicker","ui.bootstrap.position"]).value("$datepickerPopupLiteralWarning",!0).constant("uibDatepickerPopupConfig",{altInputFormats:[],appendToBody:!1,clearText:"Clear",closeOnDateSelection:!0,closeText:"Done",currentText:"Today",datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"uib/template/datepickerPopup/popup.html",datepickerTemplateUrl:"uib/template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},onOpenFocus:!0,showButtonBar:!0,placement:"auto bottom-left"}).controller("UibDatepickerPopupController",["$scope","$element","$attrs","$compile","$log","$parse","$window","$document","$rootScope","$uibPosition","dateFilter","uibDateParser","uibDatepickerPopupConfig","$timeout","uibDatepickerConfig","$datepickerPopupLiteralWarning",function(e,t,n,i,r,o,a,s,l,u,c,d,f,h,p,m){function g(t){var n=d.parse(t,_,e.date);if(isNaN(n))for(var i=0;i<I.length;i++)if(n=d.parse(t,I[i],e.date),!isNaN(n))return n;return n}function v(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=g(e);if(!isNaN(t))return d.toTimezone(t,N.getOption("timezone"))}return N.getOption("allowInvalid")?e:void 0}function b(e,t){var i=e||t;return!n.ngRequired&&!i||(angular.isNumber(i)&&(i=new Date(i)),!i||(!(!angular.isDate(i)||isNaN(i))||!!angular.isString(i)&&!isNaN(g(i))))}function y(n){if(e.isOpen||!e.disabled){var i=P[0],r=t[0].contains(n.target),o=void 0!==i.contains&&i.contains(n.target);!e.isOpen||r||o||e.$apply(function(){e.isOpen=!1})}}function w(n){27===n.which&&e.isOpen?(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!1}),t[0].focus()):40!==n.which||e.isOpen||(n.preventDefault(),n.stopPropagation(),e.$apply(function(){e.isOpen=!0}))}function x(){if(e.isOpen){var i=angular.element(P[0].querySelector(".uib-datepicker-popup")),r=n.popupPlacement?n.popupPlacement:f.placement,o=u.positionElements(t,i,r,S);i.css({top:o.top+"px",left:o.left+"px"}),i.hasClass("uib-position-measure")&&i.removeClass("uib-position-measure")}}function C(e){var t;return angular.version.minor<6?(t=angular.isObject(e.$options)?e.$options:{timezone:null},t.getOption=function(e){return t[e]}):t=e.$options,t}var _,k,S,D,$,T,E,A,O,M,N,P,I,R=!1,L=[];this.init=function(r){if(M=r,N=C(M),k=angular.isDefined(n.closeOnDateSelection)?e.$parent.$eval(n.closeOnDateSelection):f.closeOnDateSelection,S=angular.isDefined(n.datepickerAppendToBody)?e.$parent.$eval(n.datepickerAppendToBody):f.appendToBody,D=angular.isDefined(n.onOpenFocus)?e.$parent.$eval(n.onOpenFocus):f.onOpenFocus,$=angular.isDefined(n.datepickerPopupTemplateUrl)?n.datepickerPopupTemplateUrl:f.datepickerPopupTemplateUrl,T=angular.isDefined(n.datepickerTemplateUrl)?n.datepickerTemplateUrl:f.datepickerTemplateUrl,I=angular.isDefined(n.altInputFormats)?e.$parent.$eval(n.altInputFormats):f.altInputFormats,e.showButtonBar=angular.isDefined(n.showButtonBar)?e.$parent.$eval(n.showButtonBar):f.showButtonBar,f.html5Types[n.type]?(_=f.html5Types[n.type],R=!0):(_=n.uibDatepickerPopup||f.datepickerPopup,n.$observe("uibDatepickerPopup",function(e,t){var n=e||f.datepickerPopup;if(n!==_&&(_=n,M.$modelValue=null,!_))throw new Error("uibDatepickerPopup must have a date format specified.")})),!_)throw new Error("uibDatepickerPopup must have a date format specified.");if(R&&n.uibDatepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");E=angular.element("<div uib-datepicker-popup-wrap><div uib-datepicker></div></div>"),E.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$}),A=angular.element(E.children()[0]),A.attr("template-url",T),e.datepickerOptions||(e.datepickerOptions={}),R&&"month"===n.type&&(e.datepickerOptions.datepickerMode="month",e.datepickerOptions.minMode="month"),A.attr("datepicker-options","datepickerOptions"),R?M.$formatters.push(function(t){return e.date=d.fromTimezone(t,N.getOption("timezone")),t}):(M.$$parserName="date",M.$validators.date=b,M.$parsers.unshift(v),M.$formatters.push(function(t){return M.$isEmpty(t)?(e.date=t,t):(angular.isNumber(t)&&(t=new Date(t)),e.date=d.fromTimezone(t,N.getOption("timezone")),d.filter(e.date,_))})),M.$viewChangeListeners.push(function(){e.date=g(M.$viewValue)}),t.on("keydown",w),P=i(E)(e),E.remove(),S?s.find("body").append(P):t.after(P),e.$on("$destroy",function(){for(e.isOpen===!0&&(l.$$phase||e.$apply(function(){e.isOpen=!1})),P.remove(),t.off("keydown",w),s.off("click",y),O&&O.off("scroll",x),angular.element(a).off("resize",x);L.length;)L.shift()()})},e.getText=function(t){return e[t+"Text"]||f[t+"Text"]},e.isDisabled=function(t){"today"===t&&(t=d.fromTimezone(new Date,N.getOption("timezone")));var n={};return angular.forEach(["minDate","maxDate"],function(t){e.datepickerOptions[t]?angular.isDate(e.datepickerOptions[t])?n[t]=new Date(e.datepickerOptions[t]):(m&&r.warn("Literal date support has been deprecated, please switch to date object usage"),n[t]=new Date(c(e.datepickerOptions[t],"medium"))):n[t]=null}),e.datepickerOptions&&n.minDate&&e.compare(t,n.minDate)<0||n.maxDate&&e.compare(t,n.maxDate)>0},e.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},e.dateSelection=function(n){e.date=n;var i=e.date?d.filter(e.date,_):null;t.val(i),M.$setViewValue(i),k&&(e.isOpen=!1,t[0].focus())},e.keydown=function(n){27===n.which&&(n.stopPropagation(),e.isOpen=!1,t[0].focus())},e.select=function(t,n){if(n.stopPropagation(),"today"===t){var i=new Date;angular.isDate(e.date)?(t=new Date(e.date),t.setFullYear(i.getFullYear(),i.getMonth(),i.getDate())):(t=d.fromTimezone(i,N.getOption("timezone")),t.setHours(0,0,0,0))}e.dateSelection(t)},e.close=function(n){n.stopPropagation(),e.isOpen=!1,t[0].focus()},e.disabled=angular.isDefined(n.disabled)||!1,n.ngDisabled&&L.push(e.$parent.$watch(o(n.ngDisabled),function(t){e.disabled=t})),e.$watch("isOpen",function(i){i?e.disabled?e.isOpen=!1:h(function(){x(),D&&e.$broadcast("uib:datepicker.focus"),s.on("click",y);var i=n.popupPlacement?n.popupPlacement:f.placement;S||u.parsePlacement(i)[2]?(O=O||angular.element(u.scrollParent(t)),O&&O.on("scroll",x)):O=null,angular.element(a).on("resize",x)},0,!1):(s.off("click",y),O&&O.off("scroll",x),angular.element(a).off("resize",x))}),e.$on("uib:datepicker.mode",function(){h(x,0,!1)})}]).directive("uibDatepickerPopup",function(){return{require:["ngModel","uibDatepickerPopup"],controller:"UibDatepickerPopupController",scope:{datepickerOptions:"=?",isOpen:"=?",currentText:"@",clearText:"@",closeText:"@"},link:function(e,t,n,i){var r=i[0],o=i[1];o.init(r)}}}).directive("uibDatepickerPopupWrap",function(){return{restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/datepickerPopup/popup.html"}}}),angular.module("ui.bootstrap.debounce",[]).factory("$$debounce",["$timeout",function(e){
return function(t,n){var i;return function(){var r=this,o=Array.prototype.slice.call(arguments);i&&e.cancel(i),i=e(function(){t.apply(r,o)},n)}}}]),angular.module("ui.bootstrap.multiMap",[]).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var i=e[t];if(i){var r=i.indexOf(n);r!==-1&&i.splice(r,1),i.length||delete e[t]}}}}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.multiMap","ui.bootstrap.position"]).constant("uibDropdownConfig",{appendToOpenClass:"uib-dropdown-open",openClass:"open"}).service("uibDropdownService",["$document","$rootScope","$$multiMap",function(e,t,n){var i=null,r=n.createNew();this.isOnlyOpen=function(e,t){var n=r.get(t);if(n){var i=n.reduce(function(t,n){return n.scope===e?n:t},{});if(i)return 1===n.length}return!1},this.open=function(t,n,a){if(i||e.on("click",o),i&&i!==t&&(i.isOpen=!1),i=t,a){var s=r.get(a);if(s){var l=s.map(function(e){return e.scope});l.indexOf(t)===-1&&r.put(a,{scope:t})}else r.put(a,{scope:t})}},this.close=function(t,n,a){if(i===t&&(e.off("click",o),e.off("keydown",this.keybindFilter),i=null),a){var s=r.get(a);if(s){var l=s.reduce(function(e,n){return n.scope===t?n:e},{});l&&r.remove(a,l)}}};var o=function(e){if(i&&i.isOpen&&!(e&&"disabled"===i.getAutoClose()||e&&3===e.which)){var n=i.getToggleElement();if(!(e&&n&&n[0].contains(e.target))){var r=i.getDropdownElement();e&&"outsideClick"===i.getAutoClose()&&r&&r[0].contains(e.target)||(i.focusToggleElement(),i.isOpen=!1,t.$$phase||i.$apply())}}};this.keybindFilter=function(e){if(i){var t=i.getDropdownElement(),n=i.getToggleElement(),r=t&&t[0].contains(e.target),a=n&&n[0].contains(e.target);27===e.which?(e.stopPropagation(),i.focusToggleElement(),o()):i.isKeynavEnabled()&&[38,40].indexOf(e.which)!==-1&&i.isOpen&&(r||a)&&(e.preventDefault(),e.stopPropagation(),i.focusDropdownEntry(e.which))}}}]).controller("UibDropdownController",["$scope","$element","$attrs","$parse","uibDropdownConfig","uibDropdownService","$animate","$uibPosition","$document","$compile","$templateRequest",function(e,t,n,i,r,o,a,s,l,u,c){function d(){t.append(p.dropdownMenu)}var f,h,p=this,m=e.$new(),g=r.appendToOpenClass,v=r.openClass,b=angular.noop,y=n.onToggle?i(n.onToggle):angular.noop,w=!1,x=l.find("body");t.addClass("dropdown"),this.init=function(){n.isOpen&&(h=i(n.isOpen),b=h.assign,e.$watch(h,function(e){m.isOpen=!!e})),w=angular.isDefined(n.keyboardNav)},this.toggle=function(e){return m.isOpen=arguments.length?!!e:!m.isOpen,angular.isFunction(b)&&b(m,m.isOpen),m.isOpen},this.isOpen=function(){return m.isOpen},m.getToggleElement=function(){return p.toggleElement},m.getAutoClose=function(){return n.autoClose||"always"},m.getElement=function(){return t},m.isKeynavEnabled=function(){return w},m.focusDropdownEntry=function(e){var n=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):t.find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===n.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=n.length-1}n[p.selectedOption].focus()},m.getDropdownElement=function(){return p.dropdownMenu},m.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},m.$watch("isOpen",function(r,h){var w=null,C=!1;if(angular.isDefined(n.dropdownAppendTo)){var _=i(n.dropdownAppendTo)(m);_&&(w=angular.element(_))}if(angular.isDefined(n.dropdownAppendToBody)){var k=i(n.dropdownAppendToBody)(m);k!==!1&&(C=!0)}if(C&&!w&&(w=x),w&&p.dropdownMenu&&(r?(w.append(p.dropdownMenu),t.on("$destroy",d)):(t.off("$destroy",d),d())),w&&p.dropdownMenu){var S,D,$,T=s.positionElements(t,p.dropdownMenu,"bottom-left",!0),E=0;if(S={top:T.top+"px",display:r?"block":"none"},D=p.dropdownMenu.hasClass("dropdown-menu-right"),D?(S.left="auto",$=s.scrollbarPadding(w),$.heightOverflow&&$.scrollbarWidth&&(E=$.scrollbarWidth),S.right=window.innerWidth-E-(T.left+t.prop("offsetWidth"))+"px"):(S.left=T.left+"px",S.right="auto"),!C){var A=s.offset(w);S.top=T.top-A.top+"px",D?S.right=window.innerWidth-(T.left-A.left+t.prop("offsetWidth"))+"px":S.left=T.left-A.left+"px"}p.dropdownMenu.css(S)}var O=w?w:t,M=w?g:v,N=O.hasClass(M),P=o.isOnlyOpen(e,w);if(N===!r){var I;I=w?P?"removeClass":"addClass":r?"addClass":"removeClass",a[I](O,M).then(function(){angular.isDefined(r)&&r!==h&&y(e,{open:!!r})})}if(r)p.dropdownMenuTemplateUrl?c(p.dropdownMenuTemplateUrl).then(function(e){f=m.$new(),u(e.trim())(f,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t,l.on("keydown",o.keybindFilter)})}):l.on("keydown",o.keybindFilter),m.focusToggleElement(),o.open(m,t,w);else{if(o.close(m,t,w),p.dropdownMenuTemplateUrl){f&&f.$destroy();var R=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(R),p.dropdownMenu=R}p.selectedOption=null}angular.isFunction(b)&&b(e,r)})}]).directive("uibDropdown",function(){return{controller:"UibDropdownController",link:function(e,t,n,i){i.init()}}}).directive("uibDropdownMenu",function(){return{restrict:"A",require:"?^uibDropdown",link:function(e,t,n,i){if(i&&!angular.isDefined(n.dropdownNested)){t.addClass("dropdown-menu");var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("uibDropdownToggle",function(){return{require:"?^uibDropdown",link:function(e,t,n,i){if(i){t.addClass("dropdown-toggle"),i.toggleElement=t;var r=function(r){r.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){i.toggle()})};t.on("click",r),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(i.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.off("click",r)})}}}}),angular.module("ui.bootstrap.stackedMap",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t===e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,i=0;i<e.length;i++)if(t===e[i].key){n=i;break}return e.splice(n,1)[0]},removeTop:function(){return e.pop()},length:function(){return e.length}}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.multiMap","ui.bootstrap.stackedMap","ui.bootstrap.position"]).provider("$uibResolve",function(){var e=this;this.resolver=null,this.setResolver=function(e){this.resolver=e},this.$get=["$injector","$q",function(t,n){var i=e.resolver?t.get(e.resolver):null;return{resolve:function(e,r,o,a){if(i)return i.resolve(e,r,o,a);var s=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?s.push(n.resolve(t.invoke(e))):angular.isString(e)?s.push(n.resolve(t.get(e))):s.push(n.resolve(e))}),n.all(s).then(function(t){var n={},i=0;return angular.forEach(e,function(e,r){n[r]=t[i++]}),n})}}}]}).directive("uibModalBackdrop",["$animate","$injector","$uibModalStack",function(e,t,n){function i(t,i,r){r.modalInClass&&(e.addClass(i,r.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(n,o){var a=o();t.modalOptions.animation?e.removeClass(i,r.modalInClass).then(a):a()}))}return{restrict:"A",compile:function(e,t){return e.addClass(t.backdropClass),i}}}]).directive("uibModalWindow",["$uibModalStack","$q","$animateCss","$document",function(e,t,n,i){return{scope:{index:"@"},restrict:"A",transclude:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/modal/window.html"},link:function(r,o,a){o.addClass(a.windowTopClass||""),r.size=a.size,r.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},o.on("click",r.close),r.$isRendered=!0;var s=t.defer();r.$$postDigest(function(){s.resolve()}),s.promise.then(function(){var s=null;a.modalInClass&&(s=n(o,{addClass:a.modalInClass}).start(),r.$on(e.NOW_CLOSING_EVENT,function(e,t){var i=t();n(o,{removeClass:a.modalInClass}).start().then(i)})),t.when(s).then(function(){var t=e.getTop();if(t&&e.modalRendered(t.key),!i[0].activeElement||!o[0].contains(i[0].activeElement)){var n=o[0].querySelector("[autofocus]");n?n.focus():o[0].focus()}})})}}}]).directive("uibModalAnimationClass",function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.uibModalAnimationClass)}}}).directive("uibModalTransclude",["$animate",function(e){return{link:function(t,n,i,r,o){o(t.$parent,function(t){n.empty(),e.enter(t,n)})}}}]).factory("$uibModalStack",["$animate","$animateCss","$document","$compile","$rootScope","$q","$$multiMap","$$stackedMap","$uibPosition",function(e,t,n,i,r,o,a,s,l){function u(e){var t="-";return e.replace(A,function(e,n){return(n?t:"")+e.toLowerCase()})}function c(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)}function d(){for(var e=-1,t=_.keys(),n=0;n<t.length;n++)_.get(t[n]).value.backdrop&&(e=n);return e>-1&&e<D&&(e=D),e}function f(e,t){var n=_.get(e).value,i=n.appendTo;_.remove(e),$=_.top(),$&&(D=parseInt($.value.modalDomEl.attr("index"),10)),m(n.modalDomEl,n.modalScope,function(){var t=n.openedClass||C;k.remove(t,e);var r=k.hasKey(t);i.toggleClass(t,r),!r&&x&&x.heightOverflow&&x.scrollbarWidth&&(x.originalRight?i.css({paddingRight:x.originalRight+"px"}):i.css({paddingRight:""}),x=null),h(!0)},n.closedDeferred),p(),t&&t.focus?t.focus():i.focus&&i.focus()}function h(e){var t;_.length()>0&&(t=_.top().value,t.modalDomEl.toggleClass(t.windowTopClass||"",e))}function p(){if(y&&d()===-1){var e=w;m(y,w,function(){e=null}),y=void 0,w=void 0}}function m(t,n,i,r){function a(){a.done||(a.done=!0,e.leave(t).then(function(){i&&i(),t.remove(),r&&r.resolve()}),n.$destroy())}var s,l=null,u=function(){return s||(s=o.defer(),l=s.promise),function(){s.resolve()}};return n.$broadcast(S.NOW_CLOSING_EVENT,u),o.when(l).then(a)}function g(e){if(e.isDefaultPrevented())return e;var t=_.top();if(t)switch(e.which){case 27:t.value.keyboard&&(e.preventDefault(),r.$apply(function(){S.dismiss(t.key,"escape key press")}));break;case 9:var n=S.loadFocusElementList(t),i=!1;e.shiftKey?(S.isFocusInFirstItem(e,n)||S.isModalFocused(e,t))&&(i=S.focusLastFocusableElement(n)):S.isFocusInLastItem(e,n)&&(i=S.focusFirstFocusableElement(n)),i&&(e.preventDefault(),e.stopPropagation())}}function v(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}function b(){Array.prototype.forEach.call(document.querySelectorAll("["+T+"]"),function(e){var t=parseInt(e.getAttribute(T),10),n=t-1;e.setAttribute(T,n),n||(e.removeAttribute(T),e.removeAttribute("aria-hidden"))})}var y,w,x,C="modal-open",_=s.createNew(),k=a.createNew(),S={NOW_CLOSING_EVENT:"modal.stack.now-closing"},D=0,$=null,T="data-bootstrap-modal-aria-hidden-count",E="a[href], area[href], input:not([disabled]):not([tabindex='-1']), button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']), textarea:not([disabled]):not([tabindex='-1']), iframe, object, embed, *[tabindex]:not([tabindex='-1']), *[contenteditable=true]",A=/[A-Z]/g;return r.$watch(d,function(e){w&&(w.index=e)}),n.on("keydown",g),r.$on("$destroy",function(){n.off("keydown",g)}),S.open=function(t,o){function a(e){function t(e){var t=e.parent()?e.parent().children():[];return Array.prototype.filter.call(t,function(t){return t!==e[0]})}if(e&&"BODY"!==e[0].tagName)return t(e).forEach(function(e){var t="true"===e.getAttribute("aria-hidden"),n=parseInt(e.getAttribute(T),10);n||(n=t?1:0),e.setAttribute(T,n+1),e.setAttribute("aria-hidden","true")}),a(e.parent())}var s=n[0].activeElement,c=o.openedClass||C;h(!1),$=_.top(),_.add(t,{deferred:o.deferred,renderDeferred:o.renderDeferred,closedDeferred:o.closedDeferred,modalScope:o.scope,backdrop:o.backdrop,keyboard:o.keyboard,openedClass:o.openedClass,windowTopClass:o.windowTopClass,animation:o.animation,appendTo:o.appendTo}),k.put(c,t);var f=o.appendTo,p=d();p>=0&&!y&&(w=r.$new(!0),w.modalOptions=o,w.index=p,y=angular.element('<div uib-modal-backdrop="modal-backdrop"></div>'),y.attr({"class":"modal-backdrop","ng-style":"{'z-index': 1040 + (index && 1 || 0) + index*10}","uib-modal-animation-class":"fade","modal-in-class":"in"}),o.backdropClass&&y.addClass(o.backdropClass),o.animation&&y.attr("modal-animation","true"),i(y)(w),e.enter(y,f),l.isScrollable(f)&&(x=l.scrollbarPadding(f),x.heightOverflow&&x.scrollbarWidth&&f.css({paddingRight:x.right+"px"})));var m;o.component?(m=document.createElement(u(o.component.name)),m=angular.element(m),m.attr({resolve:"$resolve","modal-instance":"$uibModalInstance",close:"$close($value)",dismiss:"$dismiss($value)"})):m=o.content,D=$?parseInt($.value.modalDomEl.attr("index"),10)+1:0;var g=angular.element('<div uib-modal-window="modal-window"></div>');g.attr({"class":"modal","template-url":o.windowTemplateUrl,"window-top-class":o.windowTopClass,role:"dialog","aria-labelledby":o.ariaLabelledBy,"aria-describedby":o.ariaDescribedBy,size:o.size,index:D,animate:"animate","ng-style":"{'z-index': 1050 + $$topModalIndex*10, display: 'block'}",tabindex:-1,"uib-modal-animation-class":"fade","modal-in-class":"in"}).append(m),o.windowClass&&g.addClass(o.windowClass),o.animation&&g.attr("modal-animation","true"),f.addClass(c),o.scope&&(o.scope.$$topModalIndex=D),e.enter(i(g)(o.scope),f),_.top().value.modalDomEl=g,_.top().value.modalOpener=s,a(g)},S.close=function(e,t){var n=_.get(e);return b(),n&&v(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),f(e,n.value.modalOpener),!0):!n},S.dismiss=function(e,t){var n=_.get(e);return b(),n&&v(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),f(e,n.value.modalOpener),!0):!n},S.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},S.getTop=function(){return _.top()},S.modalRendered=function(e){var t=_.get(e);t&&t.value.renderDeferred.resolve()},S.focusFirstFocusableElement=function(e){return e.length>0&&(e[0].focus(),!0)},S.focusLastFocusableElement=function(e){return e.length>0&&(e[e.length-1].focus(),!0)},S.isModalFocused=function(e,t){if(e&&t){var n=t.value.modalDomEl;if(n&&n.length)return(e.target||e.srcElement)===n[0]}return!1},S.isFocusInFirstItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[0]},S.isFocusInLastItem=function(e,t){return t.length>0&&(e.target||e.srcElement)===t[t.length-1]},S.loadFocusElementList=function(e){if(e){var t=e.value.modalDomEl;if(t&&t.length){var n=t[0].querySelectorAll(E);return n?Array.prototype.filter.call(n,function(e){return c(e)}):n}}},S}]).provider("$uibModal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$rootScope","$q","$document","$templateRequest","$controller","$uibResolve","$uibModalStack",function(t,n,i,r,o,a,s){function l(e){return e.template?n.when(e.template):r(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}var u={},c=null;return u.getPromiseChain=function(){return c},u.open=function(r){function u(){return g}var d=n.defer(),f=n.defer(),h=n.defer(),p=n.defer(),m={result:d.promise,opened:f.promise,closed:h.promise,rendered:p.promise,close:function(e){return s.close(m,e)},dismiss:function(e){return s.dismiss(m,e)}};if(r=angular.extend({},e.options,r),r.resolve=r.resolve||{},r.appendTo=r.appendTo||i.find("body").eq(0),!r.appendTo.length)throw new Error("appendTo element not found. Make sure that the element passed is in DOM.");if(!r.component&&!r.template&&!r.templateUrl)throw new Error("One of component or template or templateUrl options is required.");var g;g=r.component?n.when(a.resolve(r.resolve,{},null,null)):n.all([l(r),a.resolve(r.resolve,{},null,null)]);var v;return v=c=n.all([c]).then(u,u).then(function(e){function n(t,n,i,r){t.$scope=a,t.$scope.$resolve={},i?t.$scope.$uibModalInstance=m:t.$uibModalInstance=m;var o=n?e[1]:e;angular.forEach(o,function(e,n){r&&(t[n]=e),t.$scope.$resolve[n]=e})}var i=r.scope||t,a=i.$new();a.$close=m.close,a.$dismiss=m.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var l,u,c={scope:a,deferred:d,renderDeferred:p,closedDeferred:h,animation:r.animation,backdrop:r.backdrop,keyboard:r.keyboard,backdropClass:r.backdropClass,windowTopClass:r.windowTopClass,windowClass:r.windowClass,windowTemplateUrl:r.windowTemplateUrl,ariaLabelledBy:r.ariaLabelledBy,ariaDescribedBy:r.ariaDescribedBy,size:r.size,openedClass:r.openedClass,appendTo:r.appendTo},g={},v={};r.component?(n(g,!1,!0,!1),g.name=r.component,c.component=g):r.controller&&(n(v,!0,!1,!0),u=o(r.controller,v,!0,r.controllerAs),r.controllerAs&&r.bindToController&&(l=u.instance,l.$close=a.$close,l.$dismiss=a.$dismiss,angular.extend(l,{$resolve:v.$scope.$resolve},i)),l=u(),angular.isFunction(l.$onInit)&&l.$onInit()),r.component||(c.content=e[0]),s.open(m,c),f.resolve(!0)},function(e){f.reject(e),d.reject(e)})["finally"](function(){c===v&&(c=null)}),m},u}]};return e}),angular.module("ui.bootstrap.paging",[]).factory("uibPaging",["$parse",function(e){return{create:function(t,n,i){t.setNumPages=i.numPages?e(i.numPages).assign:angular.noop,t.ngModelCtrl={$setViewValue:angular.noop},t._watchers=[],t.init=function(e,r){t.ngModelCtrl=e,t.config=r,e.$render=function(){t.render()},i.itemsPerPage?t._watchers.push(n.$parent.$watch(i.itemsPerPage,function(e){t.itemsPerPage=parseInt(e,10),n.totalPages=t.calculateTotalPages(),t.updatePage()})):t.itemsPerPage=r.itemsPerPage,n.$watch("totalItems",function(e,i){(angular.isDefined(e)||e!==i)&&(n.totalPages=t.calculateTotalPages(),t.updatePage())})},t.calculateTotalPages=function(){var e=t.itemsPerPage<1?1:Math.ceil(n.totalItems/t.itemsPerPage);return Math.max(e||0,1)},t.render=function(){n.page=parseInt(t.ngModelCtrl.$viewValue,10)||1},n.selectPage=function(e,i){i&&i.preventDefault();var r=!n.ngDisabled||!i;r&&n.page!==e&&e>0&&e<=n.totalPages&&(i&&i.target&&i.target.blur(),t.ngModelCtrl.$setViewValue(e),t.ngModelCtrl.$render())},n.getText=function(e){return n[e+"Text"]||t.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages},t.updatePage=function(){t.setNumPages(n.$parent,n.totalPages),n.page>n.totalPages?n.selectPage(n.totalPages):t.ngModelCtrl.$render()},n.$on("$destroy",function(){for(;t._watchers.length;)t._watchers.shift()()})}}}]),angular.module("ui.bootstrap.pager",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPagerController",["$scope","$attrs","uibPaging","uibPagerConfig",function(e,t,n,i){e.align=angular.isDefined(t.align)?e.$parent.$eval(t.align):i.align,n.create(this,e,t)}]).constant("uibPagerConfig",{itemsPerPage:10,previousText:" Previous",nextText:"Next ",align:!0}).directive("uibPager",["uibPagerConfig",function(e){return{scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["uibPager","?ngModel"],restrict:"A",controller:"UibPagerController",controllerAs:"pager",templateUrl:function(e,t){return t.templateUrl||"uib/template/pager/pager.html"},link:function(t,n,i,r){n.addClass("pager");var o=r[0],a=r[1];a&&o.init(a,e)}}}]),angular.module("ui.bootstrap.pagination",["ui.bootstrap.paging","ui.bootstrap.tabindex"]).controller("UibPaginationController",["$scope","$attrs","$parse","uibPaging","uibPaginationConfig",function(e,t,n,i,r){function o(e,t,n){return{number:e,text:t,active:n}}function a(e,t){var n=[],i=1,r=t,a=angular.isDefined(l)&&l<t;a&&(u?(i=Math.max(e-Math.floor(l/2),1),r=i+l-1,r>t&&(r=t,i=r-l+1)):(i=(Math.ceil(e/l)-1)*l+1,r=Math.min(i+l-1,t)));for(var s=i;s<=r;s++){var h=o(s,f(s),s===e);n.push(h)}if(a&&l>0&&(!u||c||d)){if(i>1){if(!d||i>3){var p=o(i-1,"...",!1);n.unshift(p)}if(d){if(3===i){var m=o(2,"2",!1);n.unshift(m)}var g=o(1,"1",!1);n.unshift(g)}}if(r<t){if(!d||r<t-2){var v=o(r+1,"...",!1);n.push(v)}if(d){if(r===t-2){var b=o(t-1,t-1,!1);n.push(b)}var y=o(t,t,!1);n.push(y)}}}return n}var s=this,l=angular.isDefined(t.maxSize)?e.$parent.$eval(t.maxSize):r.maxSize,u=angular.isDefined(t.rotate)?e.$parent.$eval(t.rotate):r.rotate,c=angular.isDefined(t.forceEllipses)?e.$parent.$eval(t.forceEllipses):r.forceEllipses,d=angular.isDefined(t.boundaryLinkNumbers)?e.$parent.$eval(t.boundaryLinkNumbers):r.boundaryLinkNumbers,f=angular.isDefined(t.pageLabel)?function(n){return e.$parent.$eval(t.pageLabel,{$page:n})}:angular.identity;e.boundaryLinks=angular.isDefined(t.boundaryLinks)?e.$parent.$eval(t.boundaryLinks):r.boundaryLinks,e.directionLinks=angular.isDefined(t.directionLinks)?e.$parent.$eval(t.directionLinks):r.directionLinks,t.$set("role","menu"),i.create(this,e,t),t.maxSize&&s._watchers.push(e.$parent.$watch(n(t.maxSize),function(e){l=parseInt(e,10),s.render()}));var h=this.render;this.render=function(){h(),e.page>0&&e.page<=e.totalPages&&(e.pages=a(e.page,e.totalPages))}}]).constant("uibPaginationConfig",{itemsPerPage:10,boundaryLinks:!1,boundaryLinkNumbers:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,forceEllipses:!1}).directive("uibPagination",["$parse","uibPaginationConfig",function(e,t){return{scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["uibPagination","?ngModel"],restrict:"A",controller:"UibPaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"uib/template/pagination/pagination.html"},link:function(e,n,i,r){n.addClass("pagination");var o=r[0],a=r[1];a&&o.init(a,t)}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.stackedMap"]).provider("$uibTooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",placementClassPrefix:"",animation:!0,popupDelay:0,popupCloseDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",outsideClick:"outsideClick",focus:"blur",none:""},i={};this.options=function(e){angular.extend(i,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$uibPosition","$interpolate","$rootScope","$parse","$$stackedMap",function(r,o,a,s,l,u,c,d,f){function h(e){if(27===e.which){var t=p.top();t&&(t.value.close(),t=null)}}var p=f.createNew();return s.on("keyup",h),c.$on("$destroy",function(){s.off("keyup",h)}),function(r,c,f,h){function m(e){var t=(e||h.trigger||f).split(" "),i=t.map(function(e){return n[e]||e});return{show:t,hide:i}}h=angular.extend({},t,i,h);var g=e(r),v=u.startSymbol(),b=u.endSymbol(),y="<div "+g+'-popup uib-title="'+v+"title"+b+'" '+(h.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'origin-scope="origScope" class="uib-position-measure '+c+'" tooltip-animation-class="fade"uib-tooltip-classes ng-class="{ in: isOpen }" ></div>';return{compile:function(e,t){var n=o(y);return function(e,t,i,o){function u(){j.isOpen?g():f()}function f(){H&&!e.$eval(i[c+"Enable"])||(w(),_(),j.popupDelay?N||(N=a(v,j.popupDelay,!1)):v())}function g(){b(),j.popupCloseDelay?P||(P=a(y,j.popupCloseDelay,!1)):y()}function v(){return b(),w(),j.content?(x(),void j.$evalAsync(function(){j.isOpen=!0,k(!0),q()})):angular.noop}function b(){N&&(a.cancel(N),N=null),I&&(a.cancel(I),I=null)}function y(){j&&j.$evalAsync(function(){j&&(j.isOpen=!1,k(!1),j.animation?M||(M=a(C,150,!1)):C())})}function w(){P&&(a.cancel(P),P=null),M&&(a.cancel(M),M=null)}function x(){A||(O=j.$new(),A=n(O,function(e){B?s.find("body").append(e):t.after(e)}),p.add(j,{close:y}),S())}function C(){b(),w(),D(),A&&(A.remove(),A=null,R&&a.cancel(R)),p.remove(j),O&&(O.$destroy(),O=null)}function _(){j.title=i[c+"Title"],U?j.content=U(e):j.content=i[r],j.popupClass=i[c+"Class"],j.placement=angular.isDefined(i[c+"Placement"])?i[c+"Placement"]:h.placement;var t=l.parsePlacement(j.placement);L=t[1]?t[0]+"-"+t[1]:t[0];var n=parseInt(i[c+"PopupDelay"],10),o=parseInt(i[c+"PopupCloseDelay"],10);j.popupDelay=isNaN(n)?h.popupDelay:n,j.popupCloseDelay=isNaN(o)?h.popupCloseDelay:o}function k(t){z&&angular.isFunction(z.assign)&&z.assign(e,t)}function S(){W.length=0,U?(W.push(e.$watch(U,function(e){j.content=e,!e&&j.isOpen&&y()})),W.push(O.$watch(function(){V||(V=!0,O.$$postDigest(function(){V=!1,j&&j.isOpen&&q()}))}))):W.push(i.$observe(r,function(e){j.content=e,!e&&j.isOpen?y():q()})),W.push(i.$observe(c+"Title",function(e){j.title=e,j.isOpen&&q()})),W.push(i.$observe(c+"Placement",function(e){j.placement=e?e:h.placement,j.isOpen&&q()}))}function D(){W.length&&(angular.forEach(W,function(e){e()}),W.length=0)}function $(e){j&&j.isOpen&&A&&(t[0].contains(e.target)||A[0].contains(e.target)||g())}function T(e){27===e.which&&g()}function E(){var n=[],r=[],o=e.$eval(i[c+"Trigger"]);Y(),angular.isObject(o)?(Object.keys(o).forEach(function(e){n.push(e),r.push(o[e])}),F={show:n,hide:r}):F=m(o),"none"!==F.show&&F.show.forEach(function(e,n){"outsideClick"===e?(t.on("click",u),s.on("click",$)):e===F.hide[n]?t.on(e,u):e&&(t.on(e,f),t.on(F.hide[n],g)),t.on("keypress",T)})}var A,O,M,N,P,I,R,L,B=!!angular.isDefined(h.appendToBody)&&h.appendToBody,F=m(void 0),H=angular.isDefined(i[c+"Enable"]),j=e.$new(!0),V=!1,z=!!angular.isDefined(i[c+"IsOpen"])&&d(i[c+"IsOpen"]),U=!!h.useContentExp&&d(i[r]),W=[],q=function(){A&&A.html()&&(I||(I=a(function(){var e=l.positionElements(t,A,j.placement,B),n=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),i=B?l.offset(t):l.position(t);A.css({top:e.top+"px",left:e.left+"px"});var r=e.placement.split("-");A.hasClass(r[0])||(A.removeClass(L.split("-")[0]),A.addClass(r[0])),A.hasClass(h.placementClassPrefix+e.placement)||(A.removeClass(h.placementClassPrefix+L),A.addClass(h.placementClassPrefix+e.placement)),R=a(function(){var e=angular.isDefined(A.offsetHeight)?A.offsetHeight:A.prop("offsetHeight"),t=l.adjustTop(r,i,n,e);t&&A.css(t),R=null},0,!1),A.hasClass("uib-position-measure")?(l.positionArrow(A,e.placement),A.removeClass("uib-position-measure")):L!==e.placement&&l.positionArrow(A,e.placement),L=e.placement,I=null},0,!1)))};j.origScope=e,j.isOpen=!1,j.contentExp=function(){return j.content},i.$observe("disabled",function(e){e&&b(),e&&j.isOpen&&y()}),z&&e.$watch(z,function(e){j&&!e===j.isOpen&&u()});var Y=function(){F.show.forEach(function(e){"outsideClick"===e?t.off("click",u):(t.off(e,f),t.off(e,u)),t.off("keypress",T)}),F.hide.forEach(function(e){"outsideClick"===e?s.off("click",$):t.off(e,g)})};E();var G=e.$eval(i[c+"Animation"]);j.animation=angular.isDefined(G)?!!G:h.animation;var K,X=c+"AppendToBody";K=X in i&&void 0===i[X]||e.$eval(i[X]),B=angular.isDefined(K)?K:B,e.$on("$destroy",function(){Y(),C(),j=null})}}}}}]}).directive("uibTooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,i){return{link:function(r,o,a){var s,l,u,c=r.$eval(a.tooltipTemplateTranscludeScope),d=0,f=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),u&&(e.leave(u).then(function(){l=null}),l=u,u=null)};r.$watch(t.parseAsResourceUrl(a.uibTooltipTemplateTransclude),function(t){var a=++d;t?(i(t,!0).then(function(i){if(a===d){var r=c.$new(),l=i,h=n(l)(r,function(t){f(),e.enter(t,o)});s=r,u=h,s.$emit("$includeContentLoaded",t)}},function(){a===d&&(f(),r.$emit("$includeContentError",t))}),r.$emit("$includeContentRequested",t)):f()}),r.$on("$destroy",f)}}}]).directive("uibTooltipClasses",["$uibPosition",function(e){return{restrict:"A",link:function(t,n,i){if(t.placement){var r=e.parsePlacement(t.placement);n.addClass(r[0])}t.popupClass&&n.addClass(t.popupClass),t.animation&&n.addClass(i.tooltipAnimationClass)}}}]).directive("uibTooltipPopup",function(){return{restrict:"A",scope:{content:"@"},templateUrl:"uib/template/tooltip/tooltip-popup.html"}}).directive("uibTooltip",["$uibTooltip",function(e){return e("uibTooltip","tooltip","mouseenter")}]).directive("uibTooltipTemplatePopup",function(){return{restrict:"A",scope:{contentExp:"&",originScope:"&"},templateUrl:"uib/template/tooltip/tooltip-template-popup.html"}}).directive("uibTooltipTemplate",["$uibTooltip",function(e){return e("uibTooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("uibTooltipHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&"},templateUrl:"uib/template/tooltip/tooltip-html-popup.html"}}).directive("uibTooltipHtml",["$uibTooltip",function(e){return e("uibTooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("uibPopoverTemplatePopup",function(){return{restrict:"A",scope:{uibTitle:"@",contentExp:"&",originScope:"&"},templateUrl:"uib/template/popover/popover-template.html"}}).directive("uibPopoverTemplate",["$uibTooltip",function(e){return e("uibPopoverTemplate","popover","click",{useContentExp:!0})}]).directive("uibPopoverHtmlPopup",function(){return{restrict:"A",scope:{contentExp:"&",uibTitle:"@"},templateUrl:"uib/template/popover/popover-html.html"}}).directive("uibPopoverHtml",["$uibTooltip",function(e){return e("uibPopoverHtml","popover","click",{useContentExp:!0})}]).directive("uibPopoverPopup",function(){return{restrict:"A",scope:{uibTitle:"@",content:"@"},templateUrl:"uib/template/popover/popover.html"}}).directive("uibPopover",["$uibTooltip",function(e){return e("uibPopover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("uibProgressConfig",{animate:!0,max:100}).controller("UibProgressController",["$scope","$attrs","uibProgressConfig",function(e,t,n){function i(){return angular.isDefined(e.maxParam)?e.maxParam:n.max}var r=this,o=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=i(),this.addBar=function(e,t,n){o||t.css({transition:"none"}),this.bars.push(e),e.max=i(),e.title=n&&angular.isDefined(n.title)?n.title:"progressbar",e.$watch("value",function(t){e.recalculatePercentage()}),e.recalculatePercentage=function(){var t=r.bars.reduce(function(e,t){return t.percent=+(100*t.value/t.max).toFixed(2),e+t.percent},0);t>100&&(e.percent-=t-100)},e.$on("$destroy",function(){t=null,r.removeBar(e)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1),this.bars.forEach(function(e){e.recalculatePercentage()})},e.$watch("maxParam",function(e){r.bars.forEach(function(e){e.max=i(),e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",require:"uibProgress",scope:{maxParam:"=?max"},templateUrl:"uib/template/progressbar/progress.html"}}).directive("uibBar",function(){return{replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"uib/template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t,n)}}}).directive("uibProgressbar",function(){return{replace:!0,transclude:!0,controller:"UibProgressController",scope:{value:"=",maxParam:"=?max",type:"@"},templateUrl:"uib/template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]),{title:n.title})}}}),angular.module("ui.bootstrap.rating",[]).constant("uibRatingConfig",{max:5,stateOn:null,stateOff:null,enableReset:!0,titles:["one","two","three","four","five"]}).controller("UibRatingController",["$scope","$attrs","uibRatingConfig",function(e,t,n){var i={$setViewValue:angular.noop},r=this;this.init=function(r){i=r,i.$render=this.render,i.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff,this.enableReset=angular.isDefined(t.enableReset)?e.$parent.$eval(t.enableReset):n.enableReset;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var a=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);
e.range=this.buildTemplateObjects(a)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){if(!e.readonly&&t>=0&&t<=e.range.length){var n=r.enableReset&&i.$viewValue===t?0:t;i.$setViewValue(n),i.$render()}},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=i.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=i.$viewValue,e.title=r.getTitle(e.value-1)}}]).directive("uibRating",function(){return{require:["uibRating","ngModel"],restrict:"A",scope:{readonly:"=?readOnly",onHover:"&",onLeave:"&"},controller:"UibRatingController",templateUrl:"uib/template/rating/rating.html",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("UibTabsetController",["$scope",function(e){function t(e){for(var t=0;t<i.tabs.length;t++)if(i.tabs[t].index===e)return t}var n,i=this;i.tabs=[],i.select=function(e,o){if(!r){var a=t(n),s=i.tabs[a];if(s){if(s.tab.onDeselect({$event:o,$selectedIndex:e}),o&&o.isDefaultPrevented())return;s.tab.active=!1}var l=i.tabs[e];l?(l.tab.onSelect({$event:o}),l.tab.active=!0,i.active=l.index,n=l.index):!l&&angular.isDefined(n)&&(i.active=null,n=null)}},i.addTab=function(e){if(i.tabs.push({tab:e,index:e.index}),i.tabs.sort(function(e,t){return e.index>t.index?1:e.index<t.index?-1:0}),e.index===i.active||!angular.isDefined(i.active)&&1===i.tabs.length){var n=t(e.index);i.select(n)}},i.removeTab=function(e){for(var t,n=0;n<i.tabs.length;n++)if(i.tabs[n].tab===e){t=n;break}if(i.tabs[t].index===i.active){var r=t===i.tabs.length-1?t-1:t+1%i.tabs.length;i.select(r)}i.tabs.splice(t,1)},e.$watch("tabset.active",function(e){angular.isDefined(e)&&e!==n&&i.select(t(e))});var r;e.$on("$destroy",function(){r=!0})}]).directive("uibTabset",function(){return{transclude:!0,replace:!0,scope:{},bindToController:{active:"=?",type:"@"},controller:"UibTabsetController",controllerAs:"tabset",templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tabset.html"},link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("uibTab",["$parse",function(e){return{require:"^uibTabset",replace:!0,templateUrl:function(e,t){return t.templateUrl||"uib/template/tabs/tab.html"},transclude:!0,scope:{heading:"@",index:"=?",classes:"@?",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},controllerAs:"tab",link:function(t,n,i,r,o){t.disabled=!1,i.disable&&t.$parent.$watch(e(i.disable),function(e){t.disabled=!!e}),angular.isUndefined(i.index)&&(r.tabs&&r.tabs.length?t.index=Math.max.apply(null,r.tabs.map(function(e){return e.index}))+1:t.index=0),angular.isUndefined(i.classes)&&(t.classes=""),t.select=function(e){if(!t.disabled){for(var n,i=0;i<r.tabs.length;i++)if(r.tabs[i].tab===t){n=i;break}r.select(n,e)}},r.addTab(t),t.$on("$destroy",function(){r.removeTab(t)}),t.$transcludeFn=o}}}]).directive("uibTabHeadingTransclude",function(){return{restrict:"A",require:"^uibTab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("uibTabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("uib-tab-heading")||e.hasAttribute("data-uib-tab-heading")||e.hasAttribute("x-uib-tab-heading")||"uib-tab-heading"===e.tagName.toLowerCase()||"data-uib-tab-heading"===e.tagName.toLowerCase()||"x-uib-tab-heading"===e.tagName.toLowerCase()||"uib:tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^uibTabset",link:function(t,n,i){var r=t.$eval(i.uibTabContentTransclude).tab;r.$transcludeFn(r.$parent,function(t){angular.forEach(t,function(t){e(t)?r.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("uibTimepickerConfig",{hourStep:1,minuteStep:1,secondStep:1,showMeridian:!0,showSeconds:!1,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0,templateUrl:"uib/template/timepicker/timepicker.html"}).controller("UibTimepickerController",["$scope","$element","$attrs","$parse","$log","$locale","uibTimepickerConfig",function(e,t,n,i,r,o,a){function s(){var t=+e.hours,n=e.showMeridian?t>0&&t<13:t>=0&&t<24;if(n&&""!==e.hours)return e.showMeridian&&(12===t&&(t=0),e.meridian===k[1]&&(t+=12)),t}function l(){var t=+e.minutes,n=t>=0&&t<60;if(n&&""!==e.minutes)return t}function u(){var t=+e.seconds;return t>=0&&t<60?t:void 0}function c(e,t){return null===e?"":angular.isDefined(e)&&e.toString().length<2&&!t?"0"+e:e.toString()}function d(e){f(),_.$setViewValue(new Date(x)),h(e)}function f(){b&&b.$setValidity("hours",!0),y&&y.$setValidity("minutes",!0),w&&w.$setValidity("seconds",!0),_.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1,e.invalidSeconds=!1}function h(t){if(_.$modelValue){var n=x.getHours(),i=x.getMinutes(),r=x.getSeconds();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:c(n,!S),"m"!==t&&(e.minutes=c(i)),e.meridian=x.getHours()<12?k[0]:k[1],"s"!==t&&(e.seconds=c(r)),e.meridian=x.getHours()<12?k[0]:k[1]}else e.hours=null,e.minutes=null,e.seconds=null,e.meridian=k[0]}function p(e){x=g(x,e),d()}function m(e,t){return g(e,60*t)}function g(e,t){var n=new Date(e.getTime()+1e3*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes(),n.getSeconds()),i}function v(){return(null===e.hours||""===e.hours)&&(null===e.minutes||""===e.minutes)&&(!e.showSeconds||e.showSeconds&&(null===e.seconds||""===e.seconds))}var b,y,w,x=new Date,C=[],_={$setViewValue:angular.noop},k=angular.isDefined(n.meridians)?e.$parent.$eval(n.meridians):a.meridians||o.DATETIME_FORMATS.AMPMS,S=!angular.isDefined(n.padHours)||e.$parent.$eval(n.padHours);e.tabindex=angular.isDefined(n.tabindex)?n.tabindex:0,t.removeAttr("tabindex"),this.init=function(t,i){_=t,_.$render=this.render,_.$formatters.unshift(function(e){return e?new Date(e):null});var r=i.eq(0),o=i.eq(1),s=i.eq(2);b=r.controller("ngModel"),y=o.controller("ngModel"),w=s.controller("ngModel");var l=angular.isDefined(n.mousewheel)?e.$parent.$eval(n.mousewheel):a.mousewheel;l&&this.setupMousewheelEvents(r,o,s);var u=angular.isDefined(n.arrowkeys)?e.$parent.$eval(n.arrowkeys):a.arrowkeys;u&&this.setupArrowkeyEvents(r,o,s),e.readonlyInput=angular.isDefined(n.readonlyInput)?e.$parent.$eval(n.readonlyInput):a.readonlyInput,this.setupInputEvents(r,o,s)};var D=a.hourStep;n.hourStep&&C.push(e.$parent.$watch(i(n.hourStep),function(e){D=+e}));var $=a.minuteStep;n.minuteStep&&C.push(e.$parent.$watch(i(n.minuteStep),function(e){$=+e}));var T;C.push(e.$parent.$watch(i(n.min),function(e){var t=new Date(e);T=isNaN(t)?void 0:t}));var E;C.push(e.$parent.$watch(i(n.max),function(e){var t=new Date(e);E=isNaN(t)?void 0:t}));var A=!1;n.ngDisabled&&C.push(e.$parent.$watch(i(n.ngDisabled),function(e){A=e})),e.noIncrementHours=function(){var e=m(x,60*D);return A||e>E||e<x&&e<T},e.noDecrementHours=function(){var e=m(x,60*-D);return A||e<T||e>x&&e>E},e.noIncrementMinutes=function(){var e=m(x,$);return A||e>E||e<x&&e<T},e.noDecrementMinutes=function(){var e=m(x,-$);return A||e<T||e>x&&e>E},e.noIncrementSeconds=function(){var e=g(x,O);return A||e>E||e<x&&e<T},e.noDecrementSeconds=function(){var e=g(x,-O);return A||e<T||e>x&&e>E},e.noToggleMeridian=function(){return x.getHours()<12?A||m(x,720)>E:A||m(x,-720)<T};var O=a.secondStep;n.secondStep&&C.push(e.$parent.$watch(i(n.secondStep),function(e){O=+e})),e.showSeconds=a.showSeconds,n.showSeconds&&C.push(e.$parent.$watch(i(n.showSeconds),function(t){e.showSeconds=!!t})),e.showMeridian=a.showMeridian,n.showMeridian&&C.push(e.$parent.$watch(i(n.showMeridian),function(t){if(e.showMeridian=!!t,_.$error.time){var n=s(),i=l();angular.isDefined(n)&&angular.isDefined(i)&&(x.setHours(n),d())}else h()})),this.setupMousewheelEvents=function(t,n,i){var r=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()}),i.on("mousewheel wheel",function(t){A||e.$apply(r(t)?e.incrementSeconds():e.decrementSeconds()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n,i){t.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply()))}),n.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply()))}),i.on("keydown",function(t){A||(38===t.which?(t.preventDefault(),e.incrementSeconds(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementSeconds(),e.$apply()))})},this.setupInputEvents=function(t,n,i){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void(e.updateSeconds=angular.noop);var r=function(t,n,i){_.$setViewValue(null),_.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t,b&&b.$setValidity("hours",!1)),angular.isDefined(n)&&(e.invalidMinutes=n,y&&y.$setValidity("minutes",!1)),angular.isDefined(i)&&(e.invalidSeconds=i,w&&w.$setValidity("seconds",!1))};e.updateHours=function(){var e=s(),t=l();_.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(e),x.setMinutes(t),x<T||x>E?r(!0):d("h")):r(!0)},t.on("blur",function(t){_.$setTouched(),v()?f():null===e.hours||""===e.hours?r(!0):!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=c(e.hours,!S)})}),e.updateMinutes=function(){var e=l(),t=s();_.$setDirty(),angular.isDefined(e)&&angular.isDefined(t)?(x.setHours(t),x.setMinutes(e),x<T||x>E?r(void 0,!0):d("m")):r(void 0,!0)},n.on("blur",function(t){_.$setTouched(),v()?f():null===e.minutes?r(void 0,!0):!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=c(e.minutes)})}),e.updateSeconds=function(){var e=u();_.$setDirty(),angular.isDefined(e)?(x.setSeconds(e),d("s")):r(void 0,void 0,!0)},i.on("blur",function(t){v()?f():!e.invalidSeconds&&e.seconds<10&&e.$apply(function(){e.seconds=c(e.seconds)})})},this.render=function(){var t=_.$viewValue;isNaN(t)?(_.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(x=t),x<T||x>E?(_.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):f(),h())},e.showSpinners=angular.isDefined(n.showSpinners)?e.$parent.$eval(n.showSpinners):a.showSpinners,e.incrementHours=function(){e.noIncrementHours()||p(60*D*60)},e.decrementHours=function(){e.noDecrementHours()||p(60*-D*60)},e.incrementMinutes=function(){e.noIncrementMinutes()||p(60*$)},e.decrementMinutes=function(){e.noDecrementMinutes()||p(60*-$)},e.incrementSeconds=function(){e.noIncrementSeconds()||p(O)},e.decrementSeconds=function(){e.noDecrementSeconds()||p(-O)},e.toggleMeridian=function(){var t=l(),n=s();e.noToggleMeridian()||(angular.isDefined(t)&&angular.isDefined(n)?p(720*(x.getHours()<12?60:-60)):e.meridian=e.meridian===k[0]?k[1]:k[0])},e.blur=function(){_.$setTouched()},e.$on("$destroy",function(){for(;C.length;)C.shift()()})}]).directive("uibTimepicker",["uibTimepickerConfig",function(e){return{require:["uibTimepicker","?^ngModel"],restrict:"A",controller:"UibTimepickerController",controllerAs:"timepicker",scope:{},templateUrl:function(t,n){return n.templateUrl||e.templateUrl},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.debounce","ui.bootstrap.position"]).factory("uibTypeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var i=n.match(t);if(!i)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:i[3],source:e(i[4]),viewMapper:e(i[2]||i[1]),modelMapper:e(i[1])}}}}]).controller("UibTypeaheadController",["$scope","$element","$attrs","$compile","$parse","$q","$timeout","$document","$window","$rootScope","$$debounce","$uibPosition","uibTypeaheadParser",function(e,t,n,i,r,o,a,s,l,u,c,d,f){function h(){j.moveInProgress||(j.moveInProgress=!0,j.$digest()),Z()}function p(){j.position=O?d.offset(t):d.position(t),j.position.top+=t.prop("offsetHeight")}function m(e){var t;return angular.version.minor<6?(t=e.$options||{},t.getOption=function(e){return t[e]}):t=e.$options,t}var g,v,b=[9,13,27,38,40],y=200,w=e.$eval(n.typeaheadMinLength);w||0===w||(w=1),e.$watch(n.typeaheadMinLength,function(e){w=e||0===e?e:1});var x=e.$eval(n.typeaheadWaitMs)||0,C=e.$eval(n.typeaheadEditable)!==!1;e.$watch(n.typeaheadEditable,function(e){C=e!==!1});var _,k,S=r(n.typeaheadLoading).assign||angular.noop,D=n.typeaheadShouldSelect?r(n.typeaheadShouldSelect):function(e,t){var n=t.$event;return 13===n.which||9===n.which},$=r(n.typeaheadOnSelect),T=!!angular.isDefined(n.typeaheadSelectOnBlur)&&e.$eval(n.typeaheadSelectOnBlur),E=r(n.typeaheadNoResults).assign||angular.noop,A=n.typeaheadInputFormatter?r(n.typeaheadInputFormatter):void 0,O=!!n.typeaheadAppendToBody&&e.$eval(n.typeaheadAppendToBody),M=n.typeaheadAppendTo?e.$eval(n.typeaheadAppendTo):null,N=e.$eval(n.typeaheadFocusFirst)!==!1,P=!!n.typeaheadSelectOnExact&&e.$eval(n.typeaheadSelectOnExact),I=r(n.typeaheadIsOpen).assign||angular.noop,R=e.$eval(n.typeaheadShowHint)||!1,L=r(n.ngModel),B=r(n.ngModel+"($$$p)"),F=function(t,n){return angular.isFunction(L(e))&&v.getOption("getterSetter")?B(t,{$$$p:n}):L.assign(t,n)},H=f.parse(n.uibTypeahead),j=e.$new(),V=e.$on("$destroy",function(){j.$destroy()});j.$on("$destroy",V);var z="typeahead-"+j.$id+"-"+Math.floor(1e4*Math.random());t.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":z});var U,W;R&&(U=angular.element("<div></div>"),U.css("position","relative"),t.after(U),W=t.clone(),W.attr("placeholder",""),W.attr("tabindex","-1"),W.val(""),W.css({position:"absolute",top:"0px",left:"0px","border-color":"transparent","box-shadow":"none",opacity:1,background:"none 0% 0% / auto repeat scroll padding-box border-box rgb(255, 255, 255)",color:"#999"}),t.css({position:"relative","vertical-align":"top","background-color":"transparent"}),W.attr("id")&&W.removeAttr("id"),U.append(W),W.after(t));var q=angular.element("<div uib-typeahead-popup></div>");q.attr({id:z,matches:"matches",active:"activeIdx",select:"select(activeIdx, evt)","move-in-progress":"moveInProgress",query:"query",position:"position","assign-is-open":"assignIsOpen(isOpen)",debounce:"debounceUpdate"}),angular.isDefined(n.typeaheadTemplateUrl)&&q.attr("template-url",n.typeaheadTemplateUrl),angular.isDefined(n.typeaheadPopupTemplateUrl)&&q.attr("popup-template-url",n.typeaheadPopupTemplateUrl);var Y=function(){R&&W.val("")},G=function(){j.matches=[],j.activeIdx=-1,t.attr("aria-expanded",!1),Y()},K=function(e){return z+"-option-"+e};j.$watch("activeIdx",function(e){e<0?t.removeAttr("aria-activedescendant"):t.attr("aria-activedescendant",K(e))});var X=function(e,t){return!!(j.matches.length>t&&e)&&e.toUpperCase()===j.matches[t].label.toUpperCase()},J=function(n,i){var r={$viewValue:n};S(e,!0),E(e,!1),o.when(H.source(e,r)).then(function(o){var a=n===g.$viewValue;if(a&&_)if(o&&o.length>0){j.activeIdx=N?0:-1,E(e,!1),j.matches.length=0;for(var s=0;s<o.length;s++)r[H.itemName]=o[s],j.matches.push({id:K(s),label:H.viewMapper(j,r),model:o[s]});if(j.query=n,p(),t.attr("aria-expanded",!0),P&&1===j.matches.length&&X(n,0)&&(angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(0,i)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(0,i)),R){var l=j.matches[0].label;angular.isString(n)&&n.length>0&&l.slice(0,n.length).toUpperCase()===n.toUpperCase()?W.val(n+l.slice(n.length)):W.val("")}}else G(),E(e,!0);a&&S(e,!1)},function(){G(),S(e,!1),E(e,!0)})};O&&(angular.element(l).on("resize",h),s.find("body").on("scroll",h));var Z=c(function(){j.matches.length&&p(),j.moveInProgress=!1},y);j.moveInProgress=!1,j.query=void 0;var Q,ee=function(e){Q=a(function(){J(e)},x)},te=function(){Q&&a.cancel(Q)};G(),j.assignIsOpen=function(t){I(e,t)},j.select=function(i,r){var o,s,l={};k=!0,l[H.itemName]=s=j.matches[i].model,o=H.modelMapper(e,l),F(e,o),g.$setValidity("editable",!0),g.$setValidity("parse",!0),$(e,{$item:s,$model:o,$label:H.viewMapper(e,l),$event:r}),G(),j.$eval(n.typeaheadFocusOnSelect)!==!1&&a(function(){t[0].focus()},0,!1)},t.on("keydown",function(t){if(0!==j.matches.length&&b.indexOf(t.which)!==-1){var n=D(e,{$event:t});if(j.activeIdx===-1&&n||9===t.which&&t.shiftKey)return G(),void j.$digest();t.preventDefault();var i;switch(t.which){case 27:t.stopPropagation(),G(),e.$digest();break;case 38:j.activeIdx=(j.activeIdx>0?j.activeIdx:j.matches.length)-1,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;case 40:j.activeIdx=(j.activeIdx+1)%j.matches.length,j.$digest(),i=q[0].querySelectorAll(".uib-typeahead-match")[j.activeIdx],i.parentNode.scrollTop=i.offsetTop;break;default:n&&j.$apply(function(){angular.isNumber(j.debounceUpdate)||angular.isObject(j.debounceUpdate)?c(function(){j.select(j.activeIdx,t)},angular.isNumber(j.debounceUpdate)?j.debounceUpdate:j.debounceUpdate["default"]):j.select(j.activeIdx,t)})}}}),t.on("focus",function(e){_=!0,0!==w||g.$viewValue||a(function(){J(g.$viewValue,e)},0)}),t.on("blur",function(e){T&&j.matches.length&&j.activeIdx!==-1&&!k&&(k=!0,j.$apply(function(){angular.isObject(j.debounceUpdate)&&angular.isNumber(j.debounceUpdate.blur)?c(function(){j.select(j.activeIdx,e)},j.debounceUpdate.blur):j.select(j.activeIdx,e)})),!C&&g.$error.editable&&(g.$setViewValue(),j.$apply(function(){g.$setValidity("editable",!0),g.$setValidity("parse",!0)}),t.val("")),_=!1,k=!1});var ne=function(n){t[0]!==n.target&&3!==n.which&&0!==j.matches.length&&(G(),u.$$phase||e.$digest())};s.on("click",ne),e.$on("$destroy",function(){s.off("click",ne),(O||M)&&ie.remove(),O&&(angular.element(l).off("resize",h),s.find("body").off("scroll",h)),q.remove(),R&&U.remove()});var ie=i(q)(j);O?s.find("body").append(ie):M?angular.element(M).eq(0).append(ie):t.after(ie),this.init=function(t){g=t,v=m(g),j.debounceUpdate=r(v.getOption("debounce"))(e),g.$parsers.unshift(function(t){return _=!0,0===w||t&&t.length>=w?x>0?(te(),ee(t)):J(t):(S(e,!1),te(),G()),C?t:t?void g.$setValidity("editable",!1):(g.$setValidity("editable",!0),null)}),g.$formatters.push(function(t){var n,i,r={};return C||g.$setValidity("editable",!0),A?(r.$model=t,A(e,r)):(r[H.itemName]=t,n=H.viewMapper(e,r),r[H.itemName]=void 0,i=H.viewMapper(e,r),n!==i?n:t)})}}]).directive("uibTypeahead",function(){return{controller:"UibTypeaheadController",require:["ngModel","uibTypeahead"],link:function(e,t,n,i){i[1].init(i[0])}}}).directive("uibTypeaheadPopup",["$$debounce",function(e){return{scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&",assignIsOpen:"&",debounce:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"uib/template/typeahead/typeahead-popup.html"},link:function(t,n,i){t.templateUrl=i.templateUrl,t.isOpen=function(){var e=t.matches.length>0;return t.assignIsOpen({isOpen:e}),e},t.isActive=function(e){return t.active===e},t.selectActive=function(e){t.active=e},t.selectMatch=function(n,i){var r=t.debounce();angular.isNumber(r)||angular.isObject(r)?e(function(){t.select({activeIdx:n,evt:i})},angular.isNumber(r)?r:r["default"]):t.select({activeIdx:n,evt:i})}}}}]).directive("uibTypeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{scope:{index:"=",match:"=",query:"="},link:function(i,r,o){var a=n(o.templateUrl)(i.$parent)||"uib/template/typeahead/typeahead-match.html";e(a).then(function(e){var n=angular.element(e.trim());r.replaceWith(n),t(n)(i)})}}}]).filter("uibTypeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function i(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function r(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,a){return!o&&r(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=a?(""+t).replace(new RegExp(i(a),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("uib/template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion-group.html",'<div role="tab" id="{{::headingId}}" aria-selected="{{isOpen}}" class="panel-heading" ng-keypress="toggleOpen($event)">\n  <h4 class="panel-title">\n    <a role="button" data-toggle="collapse" href aria-expanded="{{isOpen}}" aria-controls="{{::panelId}}" tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" uib-accordion-transclude="heading" ng-disabled="isDisabled" uib-tabindex-toggle><span uib-accordion-header ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n  </h4>\n</div>\n<div id="{{::panelId}}" aria-labelledby="{{::headingId}}" aria-hidden="{{!isOpen}}" role="tabpanel" class="panel-collapse collapse" uib-collapse="!isOpen">\n  <div class="panel-body" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("uib/template/accordion/accordion.html",'<div role="tablist" class="panel-group" ng-transclude></div>')}]),angular.module("uib/template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("uib/template/alert/alert.html",'<button ng-show="closeable" type="button" class="close" ng-click="close({$event: $event})">\n  <span aria-hidden="true">&times;</span>\n  <span class="sr-only">Close</span>\n</button>\n<div ng-transclude></div>\n')}]),angular.module("uib/template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/carousel.html",'<div class="carousel-inner" ng-transclude></div>\n<a role="button" href class="left carousel-control" ng-click="prev()" ng-class="{ disabled: isPrevDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-left"></span>\n  <span class="sr-only">previous</span>\n</a>\n<a role="button" href class="right carousel-control" ng-click="next()" ng-class="{ disabled: isNextDisabled() }" ng-show="slides.length > 1">\n  <span aria-hidden="true" class="glyphicon glyphicon-chevron-right"></span>\n  <span class="sr-only">next</span>\n</a>\n<ol class="carousel-indicators" ng-show="slides.length > 1">\n  <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{ active: isActive(slide) }" ng-click="select(slide)">\n    <span class="sr-only">slide {{ $index + 1 }} of {{ slides.length }}<span ng-if="isActive(slide)">, currently active</span></span>\n  </li>\n</ol>\n')}]),angular.module("uib/template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("uib/template/carousel/slide.html",'<div class="text-center" ng-transclude></div>\n')}]),angular.module("uib/template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/datepicker.html",'<div ng-switch="datepickerMode">\n  <div uib-daypicker ng-switch-when="day" tabindex="0" class="uib-daypicker"></div>\n  <div uib-monthpicker ng-switch-when="month" tabindex="0" class="uib-monthpicker"></div>\n  <div uib-yearpicker ng-switch-when="year" tabindex="0" class="uib-yearpicker"></div>\n</div>\n')}]),angular.module("uib/template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-weeks" ng-repeat="row in rows track by $index" role="row">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row" class="uib-day text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default btn-sm"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::yearHeaderColspan}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-months" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-month text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/popup.html",'<div>\n  <ul class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n    <li ng-transclude></li>\n    <li ng-if="showButtonBar" class="uib-button-bar">\n      <span class="btn-group pull-left">\n        <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n        <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n      </span>\n      <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n    </li>\n  </ul>\n</div>\n')}]),angular.module("uib/template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left uib-left" ng-click="move(-1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-left"></i><span class="sr-only">previous</span></button></th>\n      <th colspan="{{::columns - 2}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm uib-title" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right uib-right" ng-click="move(1)" tabindex="-1"><i aria-hidden="true" class="glyphicon glyphicon-chevron-right"></i><span class="sr-only">next</span></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr class="uib-years" ng-repeat="row in rows track by $index" role="row">\n      <td ng-repeat="dt in row" class="uib-year text-center" role="gridcell"\n        id="{{::dt.uid}}"\n        ng-class="::dt.customClass">\n        <button type="button" class="btn btn-default"\n          uib-is-class="\n            \'btn-info\' for selectedDt,\n            \'active\' for activeDt\n            on dt"\n          ng-click="select(dt.date)"\n          ng-disabled="::dt.disabled"\n          tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/datepickerPopup/popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/datepickerPopup/popup.html",'<ul role="presentation" class="uib-datepicker-popup dropdown-menu uib-position-measure" dropdown-nested ng-if="isOpen" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n  <li ng-transclude></li>\n  <li ng-if="showButtonBar" class="uib-button-bar">\n    <span class="btn-group pull-left">\n      <button type="button" class="btn btn-sm btn-info uib-datepicker-current" ng-click="select(\'today\', $event)" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n      <button type="button" class="btn btn-sm btn-danger uib-clear" ng-click="select(null, $event)">{{ getText(\'clear\') }}</button>\n    </span>\n    <button type="button" class="btn btn-sm btn-success pull-right uib-close" ng-click="close($event)">{{ getText(\'close\') }}</button>\n  </li>\n</ul>\n')}]),angular.module("uib/template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/backdrop.html",'<div class="modal-backdrop"\n     uib-modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("uib/template/modal/window.html",[]).run(["$templateCache",function(e){e.put("uib/template/modal/window.html","<div class=\"modal-dialog {{size ? 'modal-' + size : ''}}\"><div class=\"modal-content\" uib-modal-transclude></div></div>\n")}]),angular.module("uib/template/pager/pager.html",[]).run(["$templateCache",function(e){e.put("uib/template/pager/pager.html",'<li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n');
}]),angular.module("uib/template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("uib/template/pagination/pagination.html",'<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'first\')}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)" ng-disabled="noPrevious()||ngDisabled" uib-tabindex-toggle>{{::getText(\'previous\')}}</a></li>\n<li role="menuitem" ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)" ng-disabled="ngDisabled&&!page.active" uib-tabindex-toggle>{{page.text}}</a></li>\n<li role="menuitem" ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'next\')}}</a></li>\n<li role="menuitem" ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)" ng-disabled="noNext()||ngDisabled" uib-tabindex-toggle>{{::getText(\'last\')}}</a></li>\n')}]),angular.module("uib/template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-html-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner" ng-bind="content"></div>\n')}]),angular.module("uib/template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/tooltip/tooltip-template-popup.html",'<div class="tooltip-arrow"></div>\n<div class="tooltip-inner"\n  uib-tooltip-template-transclude="contentExp()"\n  tooltip-template-transclude-scope="originScope()"></div>\n')}]),angular.module("uib/template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-html.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover-template.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content"\n      uib-tooltip-template-transclude="contentExp()"\n      tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("uib/template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("uib/template/popover/popover.html",'<div class="arrow"></div>\n\n<div class="popover-inner">\n    <h3 class="popover-title" ng-bind="uibTitle" ng-if="uibTitle"></h3>\n    <div class="popover-content" ng-bind="content"></div>\n</div>\n')}]),angular.module("uib/template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n')}]),angular.module("uib/template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progress.html",'<div class="progress" ng-transclude aria-labelledby="{{::title}}"></div>')}]),angular.module("uib/template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("uib/template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" aria-labelledby="{{::title}}" ng-transclude></div>\n</div>\n')}]),angular.module("uib/template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("uib/template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}" aria-valuetext="{{title}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}"></i>\n</span>\n')}]),angular.module("uib/template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tab.html",'<li ng-class="[{active: active, disabled: disabled}, classes]" class="uib-tab nav-item">\n  <a href ng-click="select($event)" class="nav-link" uib-tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("uib/template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("uib/template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{tabset.type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane"\n         ng-repeat="tab in tabset.tabs"\n         ng-class="{active: tabset.active === tab.index}"\n         uib-tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("uib/template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("uib/template/timepicker/timepicker.html",'<table class="uib-timepicker">\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-increment hours"><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link" ng-disabled="noIncrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-increment minutes"><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link" ng-disabled="noIncrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-increment seconds"><a ng-click="incrementSeconds()" ng-class="{disabled: noIncrementSeconds()}" class="btn btn-link" ng-disabled="noIncrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group uib-time hours" ng-class="{\'has-error\': invalidHours}">\n        <input type="text" placeholder="HH" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementHours()" ng-blur="blur()">\n      </td>\n      <td class="uib-separator">:</td>\n      <td class="form-group uib-time minutes" ng-class="{\'has-error\': invalidMinutes}">\n        <input type="text" placeholder="MM" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementMinutes()" ng-blur="blur()">\n      </td>\n      <td ng-show="showSeconds" class="uib-separator">:</td>\n      <td class="form-group uib-time seconds" ng-class="{\'has-error\': invalidSeconds}" ng-show="showSeconds">\n        <input type="text" placeholder="SS" ng-model="seconds" ng-change="updateSeconds()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2" tabindex="{{::tabindex}}" ng-disabled="noIncrementSeconds()" ng-blur="blur()">\n      </td>\n      <td ng-show="showMeridian" class="uib-time am-pm"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()" ng-disabled="noToggleMeridian()" tabindex="{{::tabindex}}">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td class="uib-decrement hours"><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link" ng-disabled="noDecrementHours()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td class="uib-decrement minutes"><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link" ng-disabled="noDecrementMinutes()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showSeconds">&nbsp;</td>\n      <td ng-show="showSeconds" class="uib-decrement seconds"><a ng-click="decrementSeconds()" ng-class="{disabled: noDecrementSeconds()}" class="btn btn-link" ng-disabled="noDecrementSeconds()" tabindex="-1"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("uib/template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-match.html",'<a href\n   tabindex="-1"\n   ng-bind-html="match.label | uibTypeaheadHighlight:query"\n   ng-attr-title="{{match.label}}"></a>\n')}]),angular.module("uib/template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("uib/template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li class="uib-typeahead-match" ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index, $event)" role="option" id="{{::match.id}}">\n        <div uib-typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),angular.module("ui.bootstrap.carousel").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibCarouselCss&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),angular.$$uibCarouselCss=!0}),angular.module("ui.bootstrap.datepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker .uib-title{width:100%;}.uib-day button,.uib-month button,.uib-year button{min-width:100%;}.uib-left,.uib-right{width:100%}</style>'),angular.$$uibDatepickerCss=!0}),angular.module("ui.bootstrap.position").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibPositionCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-position-measure{display:block !important;visibility:hidden !important;position:absolute !important;top:-9999px !important;left:-9999px !important;}.uib-position-scrollbar-measure{position:absolute !important;top:-9999px !important;width:50px !important;height:50px !important;overflow:scroll !important;}.uib-position-body-scrollbar-measure{overflow:scroll !important;}</style>'),angular.$$uibPositionCss=!0}),angular.module("ui.bootstrap.datepickerPopup").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibDatepickerpopupCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-datepicker-popup.dropdown-menu{display:block;float:none;margin:0;}.uib-button-bar{padding:10px 9px 2px;}</style>'),angular.$$uibDatepickerpopupCss=!0}),angular.module("ui.bootstrap.tooltip").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTooltipCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-tooltip-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-html-popup].tooltip.right-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.top-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-left > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.bottom-right > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.left-bottom > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-top > .tooltip-arrow,[uib-tooltip-template-popup].tooltip.right-bottom > .tooltip-arrow,[uib-popover-popup].popover.top-left > .arrow,[uib-popover-popup].popover.top-right > .arrow,[uib-popover-popup].popover.bottom-left > .arrow,[uib-popover-popup].popover.bottom-right > .arrow,[uib-popover-popup].popover.left-top > .arrow,[uib-popover-popup].popover.left-bottom > .arrow,[uib-popover-popup].popover.right-top > .arrow,[uib-popover-popup].popover.right-bottom > .arrow,[uib-popover-html-popup].popover.top-left > .arrow,[uib-popover-html-popup].popover.top-right > .arrow,[uib-popover-html-popup].popover.bottom-left > .arrow,[uib-popover-html-popup].popover.bottom-right > .arrow,[uib-popover-html-popup].popover.left-top > .arrow,[uib-popover-html-popup].popover.left-bottom > .arrow,[uib-popover-html-popup].popover.right-top > .arrow,[uib-popover-html-popup].popover.right-bottom > .arrow,[uib-popover-template-popup].popover.top-left > .arrow,[uib-popover-template-popup].popover.top-right > .arrow,[uib-popover-template-popup].popover.bottom-left > .arrow,[uib-popover-template-popup].popover.bottom-right > .arrow,[uib-popover-template-popup].popover.left-top > .arrow,[uib-popover-template-popup].popover.left-bottom > .arrow,[uib-popover-template-popup].popover.right-top > .arrow,[uib-popover-template-popup].popover.right-bottom > .arrow{top:auto;bottom:auto;left:auto;right:auto;margin:0;}[uib-popover-popup].popover,[uib-popover-html-popup].popover,[uib-popover-template-popup].popover{display:block !important;}</style>'),angular.$$uibTooltipCss=!0}),angular.module("ui.bootstrap.timepicker").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTimepickerCss&&angular.element(document).find("head").prepend('<style type="text/css">.uib-time input{width:50px;}</style>'),angular.$$uibTimepickerCss=!0}),angular.module("ui.bootstrap.typeahead").run(function(){!angular.$$csp().noInlineStyle&&!angular.$$uibTypeaheadCss&&angular.element(document).find("head").prepend('<style type="text/css">[uib-typeahead-popup].dropdown-menu{display:block;}</style>'),angular.$$uibTypeaheadCss=!0}),!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];var r=t.concat(n);return e.apply(null,r)}}function n(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}function i(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),r=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,r++)i[r]=o[a];return i}function r(e,t){var n=function(n){var i=t(n);if(i<=0||null===i){var r=Ea(n,e);return parseFloat(r)||0}return i},i=function(e,t){return Me(t,function(t,n){var i=Ea(e,n),r=void 0===i?0:parseInt(i,10);return isNaN(r)?t:t+r},0)};return{set:function(t,n){if(!ve(n)&&!n.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+n);var i=t.dom();pa(i)&&(i.style[e]=n+"px")},get:n,getOuter:n,aggregate:i,max:function(e,t,n){var r=i(e,n);return r<t?t-r:0}}}function o(e,t,n,i,r){return e(n,i)?se.some(n):ge(r)&&r(n)?se.none():t(n,i,r)}function a(e,t,n){var i=t.backstage;return{open:function(e,r){var o=!e.closeButton&&e.timeout&&(0<e.timeout||e.timeout<0),a=function(){r(),_m.hide(l)},s=qa(jm.sketch({text:e.text,level:_e(["success","error","warning","warn","info"],e.type)?e.type:void 0,progress:!0===e.progressBar,icon:se.from(e.icon),closeButton:!o,onAction:a,iconProvider:i.shared.providers.icons,translationProvider:i.shared.providers.translate})),l=qa(_m.sketch(ie({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:t.backstage.shared.getSink,fireDismissalEventInstead:{}},i.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return n.add(l),0<e.timeout&&Im.setTimeout(function(){a()},e.timeout),{close:a,moveTo:function(e,t){_m.showAt(l,{anchor:"makeshift",x:e,y:t},Ya(s))},moveRel:function(e,n){if("banner"!==n){var i=function(e){switch(e){case"bc-bc":return Pm;case"tc-tc":return Nm;case"tc-bc":return vl;case"bc-tc":default:return bl}}(n),r={anchor:"node",root:Ca(),node:se.some(Jn.fromDom(e)),layouts:{onRtl:function(){return[i]},onLtr:function(){return[i]}}};_m.showAt(l,r,Ya(s))}else _m.showAt(l,t.backstage.shared.anchors.banner(),Ya(s))},text:function(e){jm.updateText(s,e)},settings:e,getEl:function(){return s.element().dom()},progressBar:{value:function(e){jm.updateProgress(s,e)}}}},close:function(e){e.close()},reposition:function(e){var t;Te(e,function(e){return e.moveTo(0,0)}),0<(t=e).length&&(je(t).each(function(e){return e.moveRel(null,"banner")}),Te(t,function(e,n){0<n&&e.moveRel(t[n-1].getEl(),"bc-tc")}))},getArgs:function(e){return e.settings}}}function s(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},schedule:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i=e.setTimeout(function(){t.apply(null,r),i=null},n)}}}function l(){var e={};return{registerId:function(t,n,i){ft(i,function(i,r){var o=void 0!==e[r]?e[r]:{};o[n]=Xo(i,t),e[r]=o})},unregisterId:function(t){ft(e,function(e,n){e.hasOwnProperty(t)&&delete e[t]})},filterByType:function(t){return yt(e,t).map(function(e){return gt(e,function(e,t){return Ay(t,e)})}).getOr([])},find:function(t,n,i){var r=yt(e,n);return Ni(i,function(e){return t=r,Ro(n=e).fold(function(){return se.none()},function(e){return t.bind(function(t){return yt(t,e)}).map(function(e){return Ey(n,e)})});var t,n},t)}}}function u(){var e=l(),t={},n=function(e){var t=e.element();return Ro(t).fold(function(){return t="uid-",n=e.element(),i=Ao(No+t),Io(n,i),i;var t,n,i},function(e){return e})},i=function(n){Ro(n.element()).each(function(n){delete t[n],e.unregisterId(n)})};return{find:function(t,n,i){return e.find(t,n,i)},filter:function(t){return e.filterByType(t)},register:function(r){var o=n(r);xt(t,o)&&function(e,n){var r=t[n];if(r!==e)throw new Error('The tagId "'+n+'" is already used by: '+Do(r.element())+"\nCannot use it for: "+Do(e.element())+"\nThe conflicting element is"+(xa(r.element())?" ":" not ")+"already in the DOM");i(e)}(r,o);var a=[r];e.registerId(a,o,r.events()),t[o]=r},unregister:i,getById:function(e){return yt(t,e)}}}function c(t,n){return h(e.document.createElement("canvas"),t,n)}function d(e){var t=c(e.width,e.height);return f(t).drawImage(e,0,0),t}function f(e){return e.getContext("2d")}function h(e,t,n){return e.width=t,e.height=n,e}function p(e){return e.naturalWidth||e.width}function m(e){return e.naturalHeight||e.height}function g(e,t){return function(){return e.apply(t,arguments)}}function v(e){var t=this;null!==this._state?Aw(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(r){return void e.reject(r)}e.resolve(i)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function b(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if("function"==typeof t)return void C(g(t,e),g(b,this),g(y,this))}this._state=!0,this._value=e,w.call(this)}catch(n){y.call(this,n)}}function y(e){this._state=!1,this._value=e,w.call(this)}function w(){for(var e=0,t=this._deferreds;e<t.length;e++){var n=t[e];v.call(this,n)}this._deferreds=[]}function x(e,t,n,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=i}function C(e,t,n){var i=!1;try{e(function(e){i||(i=!0,t(e))},function(e){i||(i=!0,n(e))})}catch(r){if(i)return;i=!0,n(r)}}function _(t){return new b_(function(n,i){(function(t){var n=t.split(","),i=/data:([^;]+)/.exec(n[0]);if(!i)return se.none();for(var r=i[1],o=n[1],a=e.atob(o),s=a.length,l=Math.ceil(s/1024),u=new Array(l),c=0;c<l;++c){for(var d=1024*c,f=Math.min(1024+d,s),h=new Array(f-d),p=d,m=0;p<f;++m,++p)h[m]=a[p].charCodeAt(0);u[c]=new Uint8Array(h)}return se.some(new e.Blob(u,{type:r}))})(t).fold(function(){i("uri is not base64: "+t)},n)})}function k(t,n,i){return n=n||"image/png",e.HTMLCanvasElement.prototype.toBlob?new b_(function(e,r){t.toBlob(function(t){t?e(t):r()},n,i)}):_(t.toDataURL(n,i))}function S(t){return function(t){return new b_(function(n,i){function r(){l(),n(s)}function o(){l(),i("Unable to load data of type "+t.type+": "+a)}var a=e.URL.createObjectURL(t),s=new e.Image,l=function(){s.removeEventListener("load",r),s.removeEventListener("error",o)};s.addEventListener("load",r),s.addEventListener("error",o),s.src=a,s.complete&&r()})}(t).then(function(t){!function(t){e.URL.revokeObjectURL(t.src)}(t);var n=c(p(t),m(t));return f(n).drawImage(t,0,0),n})}function D(e,t,n){function i(t,n){return e.then(function(e){return function(e,t,n){return t=t||"image/png",e.toDataURL(t,n)}(e,t,n)})}var r=t.type;return{getType:X(r),toBlob:function(){return b_.resolve(t)},toDataURL:X(n),toBase64:function(){return n.split(",")[1]},toAdjustedBlob:function(t,n){return e.then(function(e){return k(e,t,n)})},toAdjustedDataURL:i,toAdjustedBase64:function(e,t){return i(e,t).then(function(e){return e.split(",")[1]})},toCanvas:function(){return e.then(d)}}}function $(t){return function(t){return new b_(function(n){var i=new e.FileReader;i.onloadend=function(){n(i.result)},i.readAsDataURL(t)})}(t).then(function(e){return D(S(t),t,e)})}function T(e,t){return k(e,t).then(function(t){return D(b_.resolve(e),t,e.toDataURL())})}function E(e,t,n){var i="string"==typeof e?parseFloat(e):e;return n<i?i=n:i<t&&(i=t),i}function A(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]}function O(e,t){for(var n,i=[],r=new Array(25),o=0;o<5;o++){for(var a=0;a<5;a++)i[a]=t[a+5*o];for(a=0;a<5;a++){for(var s=n=0;s<5;s++)n+=e[a+5*s]*i[s];r[a+5*o]=n}}return r}function M(e,t){return e.toCanvas().then(function(n){return function(e,t,n){var i=f(e),r=function(e,t){for(var n,i,r,o,a=e.data,s=t[0],l=t[1],u=t[2],c=t[3],d=t[4],f=t[5],h=t[6],p=t[7],m=t[8],g=t[9],v=t[10],b=t[11],y=t[12],w=t[13],x=t[14],C=t[15],_=t[16],k=t[17],S=t[18],D=t[19],$=0;$<a.length;$+=4)n=a[$],i=a[$+1],r=a[$+2],o=a[$+3],a[$]=n*s+i*l+r*u+o*c+d,a[$+1]=n*f+i*h+r*p+o*m+g,a[$+2]=n*v+i*b+r*y+o*w+x,a[$+3]=n*C+i*_+r*k+o*S+D;return e}(i.getImageData(0,0,e.width,e.height),n);return i.putImageData(r,0,0),T(e,t)}(n,e.getType(),t)})}function N(e,t){return e.toCanvas().then(function(n){return function(e,t,n){var i=f(e),r=i.getImageData(0,0,e.width,e.height),o=i.getImageData(0,0,e.width,e.height);return o=function(e,t,n){function i(e,t,n){return n<e?e=n:e<t&&(e=t),e}for(var r=Math.round(Math.sqrt(n.length)),o=Math.floor(r/2),a=e.data,s=t.data,l=e.width,u=e.height,c=0;c<u;c++)for(var d=0;d<l;d++){for(var f=0,h=0,p=0,m=0;m<r;m++)for(var g=0;g<r;g++){var v=i(d+g-o,0,l-1),b=4*(i(c+m-o,0,u-1)*l+v),y=n[m*r+g];f+=a[b]*y,h+=a[1+b]*y,p+=a[2+b]*y}var w=4*(c*l+d);s[w]=i(f,0,255),s[1+w]=i(h,0,255),s[2+w]=i(p,0,255)}return t}(r,o,n),i.putImageData(o,0,0),T(e,t)}(n,e.getType(),t)})}function P(e){return function(t,n){return M(t,e(A(),n))}}function I(e,t,n){var i=p(e),r=m(e),o=t/i,a=n/r,s=!1;(o<.5||2<o)&&(o=o<.5?.5:2,s=!0),(a<.5||2<a)&&(a=a<.5?.5:2,s=!0);var l=function(e,t,n){return new b_(function(i){var r=p(e),o=m(e),a=Math.floor(r*t),s=Math.floor(o*n),l=c(a,s);f(l).drawImage(e,0,0,r,o,0,0,a,s),i(l)})}(e,o,a);return s?l.then(function(e){return I(e,t,n)}):l}function R(e,t){return e.toCanvas().then(function(n){return function(e,t,n){var i=c(e.width,e.height),r=f(i),o=0,a=0;return 90!==(n=n<0?360+n:n)&&270!==n||h(i,i.height,i.width),90!==n&&180!==n||(o=i.width),270!==n&&180!==n||(a=i.height),r.translate(o,a),r.rotate(n*Math.PI/180),r.drawImage(e,0,0),T(i,t)}(n,e.getType(),t)})}function L(e,t){return e.toCanvas().then(function(n){return function(e,t,n){var i=c(e.width,e.height),r=f(i);return"v"===n?(r.scale(1,-1),r.drawImage(e,0,-i.height)):(r.scale(-1,1),r.drawImage(e,-i.width,0)),T(i,t)}(n,e.getType(),t)})}function B(e,t,n,i,r){return e.toCanvas().then(function(o){return function(e,t,n,i,r,o){var a=c(r,o);return f(a).drawImage(e,-n,-i),T(a,t)}(o,e.getType(),t,n,i,r)})}function F(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function H(t,n){var i,r,o,a,s=n.document||e.document;n=n||{};var l=s.getElementById(n.handle||t),u=function(e){return F(e),e.button!==r?c(e):(e.deltaX=e.screenX-o,e.deltaY=e.screenY-a,e.preventDefault(),n.drag(e),void 0)},c=function(e){F(e),xk(s).off("mousemove touchmove",u).off("mouseup touchend",c),i.remove(),n.stop&&n.stop(e)};this.destroy=function(){xk(l).off()},xk(l).on("mousedown touchstart",function(t){var d,f=function(e){var t=Math.max,n=e.documentElement,i=e.body,r=t(n.scrollWidth,i.scrollWidth),o=t(n.clientWidth,i.clientWidth),a=t(n.offsetWidth,i.offsetWidth),s=t(n.scrollHeight,i.scrollHeight),l=t(n.clientHeight,i.clientHeight);return{width:r<a?o:r,height:s<t(n.offsetHeight,i.offsetHeight)?l:s}}(s);F(t),t.preventDefault(),r=t.button;var h=l;o=t.screenX,a=t.screenY,d=e.window.getComputedStyle?e.window.getComputedStyle(h,null).getPropertyValue("cursor"):h.runtimeStyle.cursor,i=xk("<div></div>").css({position:"absolute",top:0,left:0,width:f.width,height:f.height,zIndex:2147483647,opacity:1e-4,cursor:d}).appendTo(s.body),xk(s).on("mousemove touchmove",u).on("mouseup touchend",c),n.start(t)})}function j(){function e(){return 0<i}function t(){return-1!==i&&i<n.length-1}var n=[],i=-1;return{data:n,add:function(e){var t=n.splice(++i);return n.push(e),{state:e,removed:t}},undo:function(){if(e())return n[--i]},redo:function(){if(t())return n[++i]},canUndo:e,canRedo:t}}var V,z,U,W,q,Y,G=function(){},K=function(e,t){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e(t.apply(null,n))}},X=function(e){return function(){return e}},J=function(e){return e},Z=function(e){return function(t){return!e(t)}},Q=function(e){return function(){throw new Error(e)}},ee=X(!1),te=X(!0),ne=tinymce.util.Tools.resolve("tinymce.ThemeManager"),ie=function(){return(ie=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},re=function(){return oe},oe=(V=function(e){return e.isNone()},{fold:function(e,t){return e()},is:ee,isSome:ee,isNone:te,getOr:U=function(e){return e},getOrThunk:z=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:U,orThunk:z,map:re,each:G,bind:re,exists:ee,forall:te,filter:re,equals:V,equals_:V,toArray:function(){return[]},toString:X("none()")}),ae=function(e){var t=X(e),n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:te,isNone:ee,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ae(t(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?r:oe},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ee,function(t){return n(e,t)})}};return r},se={some:ae,none:re,from:function(e){return null===e||void 0===e?oe:ae(e)}},le=function(e){return function(t){return i=typeof(n=t),(null===n?"null":"object"==i&&(Array.prototype.isPrototypeOf(n)||n.constructor&&"Array"===n.constructor.name)?"array":"object"==i&&(String.prototype.isPrototypeOf(n)||n.constructor&&"String"===n.constructor.name)?"string":i)===e;var n,i}},ue=function(e){return function(t){return typeof t===e}},ce=le("string"),de=le("object"),fe=le("array"),he=ue("boolean"),pe=(W=void 0,function(e){return W===e}),me=function(e){return!(null===(t=e)||void 0===t);var t},ge=ue("function"),ve=ue("number"),be=function(e,t){if(fe(e)){for(var n=0,i=e.length;n<i;++n)if(!t(e[n]))return!1;return!0}return!1},ye=Array.prototype.slice,we=Array.prototype.indexOf,xe=Array.prototype.push,Ce=function(e,t){return we.call(e,t)},_e=function(e,t){return-1<Ce(e,t)},ke=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return!0;return!1},Se=function(e,t){for(var n=[],i=0;i<e;i++)n.push(t(i));return n},De=function(e,t){for(var n=[],i=0;i<e.length;i+=t){var r=ye.call(e,i,i+t);n.push(r)}return n},$e=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},Te=function(e,t){for(var n=0,i=e.length;n<i;n++)t(e[n],n)},Ee=function(e,t){for(var n=[],i=[],r=0,o=e.length;r<o;r++){var a=e[r];(t(a,r)?n:i).push(a)}return{pass:n,fail:i}},Ae=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},Oe=function(e,t,n){return function(e,t){for(var n=e.length-1;0<=n;n--)t(e[n],n)}(e,function(e){n=t(n,e)}),n},Me=function(e,t,n){return Te(e,function(e){n=t(n,e)}),n},Ne=function(e,t){return function(e,t,n){for(var i=0,r=e.length;i<r;i++){var o=e[i];if(t(o,i))return se.some(o);if(n(o,i))break}return se.none()}(e,t,ee)},Pe=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n],n))return se.some(n);return se.none()},Ie=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!fe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);xe.apply(t,e[n])}return t},Re=function(e,t){return Ie($e(e,t))},Le=function(e,t){for(var n=0,i=e.length;n<i;++n)if(!0!==t(e[n],n))return!1;return!0},Be=function(e){var t=ye.call(e,0);return t.reverse(),t},Fe=function(e,t){return Ae(e,function(e){return!_e(t,e)})},He=function(e,t){var n=ye.call(e,0);return n.sort(t),n},je=function(e){return 0===e.length?se.none():se.some(e[0])},Ve=function(e){return 0===e.length?se.none():se.some(e[e.length-1])},ze=ge(Array.from)?Array.from:function(e){return ye.call(e)},Ue=function(e,t){for(var n=0;n<e.length;n++){var i=t(e[n],n);if(i.isSome())return i}return se.none()},We=function(e){return{is:function(t){return e===t},isValue:te,isError:ee,getOr:X(e),getOrThunk:X(e),getOrDie:X(e),
or:function(t){return We(e)},orThunk:function(t){return We(e)},fold:function(t,n){return n(e)},map:function(t){return We(t(e))},mapError:function(t){return We(e)},each:function(t){t(e)},bind:function(t){return t(e)},exists:function(t){return t(e)},forall:function(t){return t(e)},toOption:function(){return se.some(e)}}},qe=function(e){return{is:ee,isValue:ee,isError:te,getOr:J,getOrThunk:function(e){return e()},getOrDie:function(){return Q(String(e))()},or:function(e){return e},orThunk:function(e){return e()},fold:function(t,n){return t(e)},map:function(t){return qe(e)},mapError:function(t){return qe(t(e))},each:G,bind:function(t){return qe(e)},exists:ee,forall:te,toOption:se.none}},Ye={value:We,error:qe,fromOption:function(e,t){return e.fold(function(){return qe(t)},We)}};(Y=q=q||{})[Y.Error=0]="Error",Y[Y.Value=1]="Value";var Ge,Ke,Xe,Je,Ze=function(e,t,n){return e.stype===q.Error?t(e.serror):n(e.svalue)},Qe=function(e){return{stype:q.Value,svalue:e}},et=function(e){return{stype:q.Error,serror:e}},tt=function(e){return e.fold(et,Qe)},nt=function(e){return Ze(e,Ye.error,Ye.value)},it=Qe,rt=function(e){var t=[],n=[];return Te(e,function(e){Ze(e,function(e){return n.push(e)},function(e){return t.push(e)})}),{values:t,errors:n}},ot=et,at=function(e,t){return e.stype===q.Value?t(e.svalue):e},st=function(e,t){return e.stype===q.Error?t(e.serror):e},lt=function(e,t){return e.stype===q.Value?{stype:q.Value,svalue:t(e.svalue)}:e},ut=function(e,t){return e.stype===q.Error?{stype:q.Error,serror:t(e.serror)}:e},ct=Object.keys,dt=Object.hasOwnProperty,ft=function(e,t){for(var n=ct(e),i=0,r=n.length;i<r;i++){var o=n[i];t(e[o],o)}},ht=function(e,t){return pt(e,function(e,n){return{k:n,v:t(e,n)}})},pt=function(e,t){var n={};return ft(e,function(e,i){var r=t(e,i);n[r.k]=r.v}),n},mt=function(e,t){var n,i,r,o,a={};return n=t,o=a,i=function(e,t){o[t]=e},r=G,ft(e,function(e,t){(n(e,t)?i:r)(e,t)}),a},gt=function(e,t){var n=[];return ft(e,function(e,i){n.push(t(e,i))}),n},vt=function(e,t){for(var n=ct(e),i=0,r=n.length;i<r;i++){var o=n[i],a=e[o];if(t(a,o,e))return se.some(a)}return se.none()},bt=function(e){return gt(e,function(e){return e})},yt=function(e,t){return wt(e,t)?se.from(e[t]):se.none()},wt=function(e,t){return dt.call(e,t)},xt=function(e,t){return wt(e,t)&&void 0!==e[t]&&null!==e[t]},Ct=function(t){if(!fe(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],i={};return Te(t,function(r,o){var a=ct(r);if(1!==a.length)throw new Error("one and only one name per case");var s=a[0],l=r[s];if(void 0!==i[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!fe(l))throw new Error("case arguments must be an array");n.push(s),i[s]=function(){var i=arguments.length;if(i!==l.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+l.length+" ("+l+"), got "+i);for(var r=new Array(i),a=0;a<r.length;a++)r[a]=arguments[a];return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);return arguments[o].apply(null,r)},match:function(e){var t=ct(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));if(!Le(n,function(e){return _e(t,e)}))throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[s].apply(null,r)},log:function(t){e.console.log(t,{constructors:n,constructor:s,params:r})}}}}),i},_t=Object.prototype.hasOwnProperty,kt=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<t.length;r++){var o=t[r];for(var a in o)_t.call(o,a)&&(i[a]=e(i[a],o[a]))}return i}},St=kt(function(e,t){return de(e)&&de(t)?St(e,t):t}),Dt=kt(function(e,t){return t}),$t=function(e){var t,n=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n||(n=!0,t=e.apply(null,i)),t}},Tt=Ct([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Et=function(e){return Tt.defaultedThunk(X(e))},At=Tt.strict,Ot=Tt.asOption,Mt=Tt.defaultedThunk,Nt=(Tt.asDefaultedOptionThunk,Tt.mergeWithThunk),Pt=function(e,t){var n;return(n={})[e]=t,n},It=(Ct([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(e,t){return n=t,i={},ft(e,function(e,t){_e(n,t)||(i[t]=e)}),i;var n,i}),Rt=function(e,t){return Pt(e,t)},Lt=function(e){return t={},Te(e,function(e){t[e.key]=e.value}),t;var t},Bt=function(e,t){var n,i,r,o,a,s=(n=[],i=[],Te(e,function(e){e.fold(function(e){n.push(e)},function(e){i.push(e)})}),{errors:n,values:i});return 0<s.errors.length?(a=s.errors,Ye.error(Ie(a))):(o=t,0===(r=s.values).length?Ye.value(o):Ye.value(St(o,Dt.apply(void 0,r))))},Ft=function(e){return K(ot,Ie)(e)},Ht=function(e,t){var n,i,r=rt(e);return 0<r.errors.length?Ft(r.errors):(n=r.values,i=t,it(0<n.length?St(i,Dt.apply(void 0,n)):i))},jt=function(e){var t=rt(e);return 0<t.errors.length?Ft(t.errors):it(t.values)},Vt=function(e){return de(e)&&100<ct(e).length?" removed due to size":JSON.stringify(e,null,2)},zt=function(e,t){return ot([{path:e,getErrorInfo:t}])},Ut=Ct([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),Wt=function(e,t,n){return yt(t,n).fold(function(){return i=n,r=t,zt(e,function(){return'Could not find valid *strict* value for "'+i+'" in '+Vt(r)});var i,r},it)},qt=function(e,t,n){var i=yt(e,t).fold(function(){return n(e)},J);return it(i)},Yt=function(e,t,n,i){return n.fold(function(n,r,o,a){var s=function(t){var o=a.extract(e.concat([n]),i,t);return lt(o,function(e){return Pt(r,i(e))})},l=function(t){return t.fold(function(){var e=Pt(r,i(se.none()));return it(e)},function(t){var o=a.extract(e.concat([n]),i,t);return lt(o,function(e){return Pt(r,i(se.some(e)))})})};return o.fold(function(){return at(Wt(e,t,n),s)},function(e){return at(qt(t,n,e),s)},function(){return at(it(yt(t,n)),l)},function(e){return at((r=e,o=yt(i=t,n).map(function(e){return!0===e?r(i):e}),it(o)),l);var i,r,o},function(e){var i=e(t),r=lt(qt(t,n,X({})),function(e){return St(i,e)});return at(r,s)})},function(e,n){var r=n(t);return it(Pt(e,i(r)))})},Gt=function(e){return{extract:function(t,n,i){return st(e(i,n),function(e){return n=e,zt(t,function(){return n});var n})},toString:function(){return"val"}}},Kt=function(e){var t=Xt(e),n=Oe(e,function(e,t){return t.fold(function(t){return St(e,Rt(t,!0))},X(e))},{});return{extract:function(e,i,r){var o,a=he(r)?[]:ct(mt(r,function(e){return void 0!==e&&null!==e})),s=Ae(a,function(e){return!xt(n,e)});return 0===s.length?t.extract(e,i,r):(o=s,zt(e,function(){return"There are unsupported fields: ["+o.join(", ")+"] specified"}))},toString:t.toString}},Xt=function(e){return{extract:function(t,n,i){return r=t,o=i,a=n,s=$e(e,function(e){return Yt(r,o,e,a)}),Ht(s,{});var r,o,a,s},toString:function(){return"obj{\n"+$e(e,function(e){return e.fold(function(e,t,n,i){return e+" -> "+i.toString()},function(e,t){return"state("+e+")"})}).join("\n")+"}"}}},Jt=function(e){return{extract:function(t,n,i){var r=$e(i,function(i,r){return e.extract(t.concat(["["+r+"]"]),n,i)});return jt(r)},toString:function(){return"array("+e.toString()+")"}}},Zt=function(e,t){return{extract:function(n,i,r){var o,a,s=ct(r),l=(o=n,a=s,Jt(Gt(e)).extract(o,J,a));return at(l,function(e){var o=$e(e,function(e){return Ut.field(e,e,At(),t)});return Xt(o).extract(n,i,r)})},toString:function(){return"setOf("+t.toString()+")"}}},Qt=X(Gt(it)),en=K(Jt,Xt),tn=Ut.state,nn=Ut.field,rn=function(e,t,n,i,r){return yt(i,r).fold(function(){return t=i,n=r,zt(e,function(){return'The chosen schema: "'+n+'" did not exist in branches: '+Vt(t)});var t,n},function(i){return i.extract(e.concat(["branch: "+r]),t,n)})},on=function(e,t){return{extract:function(n,i,r){return yt(r,e).fold(function(){return t=e,zt(n,function(){return'Choice schema did not contain choice key: "'+t+'"'});var t},function(e){return rn(n,i,r,t,e)})},toString:function(){return"chooseOn("+e+"). Possible values: "+ct(t)}}},an=Gt(it),sn=function(e){return en(e)},ln=function(e){return{extract:function(t,n,i){return e().extract(t,n,i)},toString:function(){return e().toString()}}},un=function(e){return Gt(function(t){return e(t).fold(ot,it)})},cn=function(e,t){return Zt(function(t){return tt(e(t))},t)},dn=function(e,t,n){return nt((i=e,r=J,o=n,a=t.extract([i],r,o),ut(a,function(e){return{input:o,errors:e}})));var i,r,o,a},fn=function(e){return e.fold(function(e){throw new Error(pn(e))},J)},hn=function(e,t,n){return fn(dn(e,t,n))},pn=function(e){return"Errors: \n"+(t=e.errors,n=10<t.length?t.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):t,$e(n,function(e){return"Failed path: ("+e.path.join(" > ")+")\n"+e.getErrorInfo()}).join("\n"))+"\n\nInput object: "+Vt(e.input);var t,n},mn=function(e,t){return on(e,t)},gn=function(e,t){return on(e,ht(t,Xt))},vn=X(an),bn=function(e,t){return Gt(function(n){var i=typeof n;return e(n)?it(n):ot("Expected type: "+t+" but got: "+i)})},yn=bn(ve,"number"),wn=bn(ce,"string"),xn=bn(he,"boolean"),Cn=bn(ge,"function"),_n=function(e){var t=function(e,t){for(var n=e.next();!n.done;){if(!t(n.value))return!1;n=e.next()}return!0};if(Object(e)!==e)return!0;switch({}.toString.call(e).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(e).every(function(t){return _n(e[t])});case"Map":return t(e.keys(),_n)&&t(e.values(),_n);case"Set":return t(e.keys(),_n);default:return!1}},kn=Gt(function(e){return _n(e)?it(e):ot("Expected value to be acceptable for sending via postMessage")}),Sn=function(e){return un(function(t){return _e(e,t)?Ye.value(t):Ye.error('Unsupported value: "'+t+'", choose one of "'+e.join(", ")+'".')})},Dn=function(e){return nn(e,e,At(),Qt())},$n=function(e,t){return nn(e,e,At(),t)},Tn=function(e){return $n(e,wn)},En=function(e,t){return nn(e,e,At(),Sn(t))},An=function(e){return $n(e,Cn)},On=function(e,t){return nn(e,e,At(),Xt(t))},Mn=function(e,t){return nn(e,e,At(),en(t))},Nn=function(e,t){return nn(e,e,At(),Jt(t))},Pn=function(e){return nn(e,e,Ot(),Qt())},In=function(e,t){return nn(e,e,Ot(),t)},Rn=function(e){return In(e,yn)},Ln=function(e){return In(e,wn)},Bn=function(e){return In(e,Cn)},Fn=function(e,t){return In(e,Xt(t))},Hn=function(e,t){return nn(e,e,Et(t),Qt())},jn=function(e,t,n){return nn(e,e,Et(t),n)},Vn=function(e,t){return jn(e,t,yn)},zn=function(e,t){return jn(e,t,wn)},Un=function(e,t,n){return jn(e,t,Sn(n))},Wn=function(e,t){return jn(e,t,xn)},qn=function(e,t){return jn(e,t,Cn)},Yn=function(e,t,n){return jn(e,t,Xt(n))},Gn=function(e,t){return tn(e,t)},Kn=function(e){var t=e;return{get:function(){return t},set:function(e){t=e}}},Xn=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:X(e)}},Jn={fromHtml:function(t,n){var i=(n||e.document).createElement("div");if(i.innerHTML=t,!i.hasChildNodes()||1<i.childNodes.length)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Xn(i.childNodes[0])},fromTag:function(t,n){var i=(n||e.document).createElement(t);return Xn(i)},fromText:function(t,n){var i=(n||e.document).createTextNode(t);return Xn(i)},fromDom:Xn,fromPoint:function(e,t,n){var i=e.dom();return se.from(i.elementFromPoint(t,n)).map(Xn)}},Zn=function(e,t){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}}(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return ei(i(1),i(2))},Qn=function(){return ei(0,0)},ei=function(e,t){return{major:e,minor:t}},ti={nu:ei,detect:function(e,t){var n=String(t).toLowerCase();return 0===e.length?Qn():Zn(e,n)},unknown:Qn},ni="Firefox",ii=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isEdge:i("Edge"),isChrome:i("Chrome"),isIE:i("IE"),isOpera:i("Opera"),isFirefox:i(ni),isSafari:i("Safari")}},ri={unknown:function(){return ii({current:void 0,version:ti.unknown()})},nu:ii,edge:X("Edge"),chrome:X("Chrome"),ie:X("IE"),opera:X("Opera"),firefox:X(ni),safari:X("Safari")},oi="Windows",ai="Android",si="Solaris",li="FreeBSD",ui="ChromeOS",ci=function(e){var t=e.current,n=e.version,i=function(e){return function(){return t===e}};return{current:t,version:n,isWindows:i(oi),isiOS:i("iOS"),isAndroid:i(ai),isOSX:i("OSX"),isLinux:i("Linux"),isSolaris:i(si),isFreeBSD:i(li),isChromeOS:i(ui)}},di={unknown:function(){return ci({current:void 0,version:ti.unknown()})},nu:ci,windows:X(oi),ios:X("iOS"),android:X(ai),linux:X("Linux"),osx:X("OSX"),solaris:X(si),freebsd:X(li),chromeos:X(ui)},fi=function(e,t){var n=String(t).toLowerCase();return Ne(e,function(e){return e.search(n)})},hi=function(e,t){return fi(e,t).map(function(e){var n=ti.detect(e.versionRegexes,t);return{current:e.name,version:n}})},pi=function(e,t){return fi(e,t).map(function(e){var n=ti.detect(e.versionRegexes,t);return{current:e.name,version:n}})},mi=function(e,t){return-1!==e.indexOf(t)},gi=(Ge=/^\s+|\s+$/g,function(e){return e.replace(Ge,"")}),vi=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bi=function(e){return function(t){return mi(t,e)}},yi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return mi(e,"edge/")&&mi(e,"chrome")&&mi(e,"safari")&&mi(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,vi],search:function(e){return mi(e,"chrome")&&!mi(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return mi(e,"msie")||mi(e,"trident")}},{name:"Opera",versionRegexes:[vi,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bi("firefox")},{name:"Safari",versionRegexes:[vi,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(mi(e,"safari")||mi(e,"mobile/"))&&mi(e,"applewebkit")}}],wi=[{name:"Windows",search:bi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return mi(e,"iphone")||mi(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:bi("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bi("linux"),versionRegexes:[]},{name:"Solaris",search:bi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bi("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bi("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],xi={browsers:X(yi),oses:X(wi)},Ci=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p=xi.browsers(),m=xi.oses(),g=hi(p,e).fold(ri.unknown,ri.nu),v=pi(m,e).fold(di.unknown,di.nu);return{browser:g,os:v,deviceType:(i=g,r=e,o=t,a=(n=v).isiOS()&&!0===/ipad/i.test(r),s=n.isiOS()&&!a,l=n.isiOS()||n.isAndroid(),u=l||o("(pointer:coarse)"),c=a||!s&&l&&o("(min-device-width:768px)"),d=s||l&&!c,f=i.isSafari()&&n.isiOS()&&!1===/safari/i.test(r),h=!d&&!c&&!f,{isiPad:X(a),isiPhone:X(s),isTablet:X(c),isPhone:X(d),isTouch:X(u),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:X(f),isDesktop:X(h)})}},_i=function(t){return e.window.matchMedia(t).matches},ki=$t(function(){return Ci(e.navigator.userAgent,_i)}),Si=function(){return ki()},Di=function(e,t){var n=e.dom();if(1!==n.nodeType)return!1;var i=n;if(void 0!==i.matches)return i.matches(t);if(void 0!==i.msMatchesSelector)return i.msMatchesSelector(t);if(void 0!==i.webkitMatchesSelector)return i.webkitMatchesSelector(t);if(void 0!==i.mozMatchesSelector)return i.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},$i=function(e){return 1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType||0===e.childElementCount},Ti=function(e,t){return e.dom()===t.dom()},Ei=function(t,n){return i=t.dom(),r=n.dom(),o=i,a=r,s=e.Node.DOCUMENT_POSITION_CONTAINED_BY,0!=(o.compareDocumentPosition(a)&s);var i,r,o,a,s},Ai=function(e,t){return Si().browser.isIE()?Ei(e,t):(n=t,i=e.dom(),r=n.dom(),i!==r&&i.contains(r));var n,i,r},Oi=function(e){return ge(e)?e:X(!1)},Mi=function(e,t,n){for(var i=e.dom(),r=Oi(n);i.parentNode;){i=i.parentNode;var o=Jn.fromDom(i),a=t(o);if(a.isSome())return a;if(r(o))break}return se.none()},Ni=function(e,t,n){var i=t(e),r=Oi(n);return i.orThunk(function(){return r(e)?se.none():Mi(e,t,r)})},Pi=function(e,t){return Ti(e.element(),t.event().target())},Ii=function(e){if(!xt(e,"can")&&!xt(e,"abort")&&!xt(e,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(e,null,2)+" does not have can, abort, or run!");return hn("Extracting event.handler",Kt([Hn("can",X(!0)),Hn("abort",X(!1)),Hn("run",G)]),e)},Ri=function(e){var t,n,i,r,o=(n=function(e){return e.can},function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];return Me(t,function(t,i){return t&&n(i).apply(void 0,e)},!0)}),a=(i=t=e,r=function(e){return e.abort},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Me(i,function(t,n){return t||r(n).apply(void 0,e)},!1)});return Ii({can:o,abort:a,run:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Te(e,function(e){e.run.apply(void 0,t)})}})},Li=X("touchstart"),Bi=X("touchmove"),Fi=X("touchend"),Hi=X("touchcancel"),ji=X("mousedown"),Vi=X("mousemove"),zi=X("mouseout"),Ui=X("mouseup"),Wi=X("mouseover"),qi=X("focusin"),Yi=X("focusout"),Gi=X("keydown"),Ki=X("keyup"),Xi=X("input"),Ji=X("change"),Zi=X("click"),Qi=X("transitionend"),er=X("selectstart"),tr={tap:X("alloy.tap")},nr=X("alloy.focus"),ir=X("alloy.blur.post"),rr=X("alloy.paste.post"),or=X("alloy.receive"),ar=X("alloy.execute"),sr=X("alloy.focus.item"),lr=tr.tap,ur=X("alloy.longpress"),cr=X("alloy.sandbox.close"),dr=X("alloy.typeahead.cancel"),fr=X("alloy.system.init"),hr=X("alloy.system.touchmove"),pr=X("alloy.system.touchend"),mr=X("alloy.system.scroll"),gr=X("alloy.system.resize"),vr=X("alloy.system.attached"),br=X("alloy.system.detached"),yr=X("alloy.system.dismissRequested"),wr=X("alloy.system.repositionRequested"),xr=X("alloy.focusmanager.shifted"),Cr=X("alloy.slotcontainer.visibility"),_r=X("alloy.change.tab"),kr=X("alloy.dismiss.tab"),Sr=X("alloy.highlight"),Dr=X("alloy.dehighlight"),$r=function(e,t){Or(e,e.element(),t,{})},Tr=function(e,t,n){Or(e,e.element(),t,n)},Er=function(e){$r(e,ar())},Ar=function(e,t,n){Or(e,t,n,{})},Or=function(e,t,n,i){var r=ie({target:t},i);e.getSystem().triggerEvent(n,t,ht(r,X))},Mr=function(e,t,n,i){e.getSystem().triggerEvent(n,t,i.event())},Nr=function(e){return Lt(e)},Pr=function(e,t){return{key:e,value:Ii({abort:t})}},Ir=function(e){return{key:e,value:Ii({run:function(e,t){t.event().prevent()}})}},Rr=function(e,t){return{key:e,value:Ii({run:t})}},Lr=function(e,t,n){return{key:e,value:Ii({run:function(e,i){t.apply(void 0,[e,i].concat(n))}})}},Br=function(e){return function(t){return{key:e,value:Ii({run:function(e,n){Pi(e,n)&&t(e,n)}})}}},Fr=function(e,t,n){var i,r,o=t.partUids[n];return r=o,Rr(i=e,function(e,t){e.getSystem().getByUid(r).each(function(e){Mr(e,e.element(),i,t)})})},Hr=function(e,t){return Rr(e,function(e,n){var i=n.event(),r=e.getSystem().getByDom(i.target()).fold(function(){return Ni(i.target(),function(t){return e.getSystem().getByDom(t).toOption()},X(!1)).getOr(e)},function(e){return e});t(e,r,n)})},jr=function(e){return Rr(e,function(e,t){t.cut()})},Vr=function(e,t){return Br(e)(t)},zr=Br(vr()),Ur=Br(br()),Wr=Br(fr()),qr=(Ke=ar(),function(e){return Rr(Ke,e)}),Yr=("undefined"!=typeof e.window?e.window:Function("return this;")(),function(e){return e.dom().nodeName.toLowerCase()}),Gr=function(e){return function(t){return t.dom().nodeType===e}},Kr=Gr(1),Xr=Gr(3),Jr=Gr(9),Zr=Gr(11),Qr=function(e){return Jn.fromDom(e.dom().ownerDocument)},eo=function(e){return Jr(e)?e:Qr(e)},to=function(e){return Jn.fromDom(e.dom().ownerDocument.documentElement)},no=function(e){return Jn.fromDom(e.dom().ownerDocument.defaultView)},io=function(e){return se.from(e.dom().parentNode).map(Jn.fromDom)},ro=function(e){return se.from(e.dom().offsetParent).map(Jn.fromDom)},oo=function(e){return $e(e.dom().childNodes,Jn.fromDom)},ao=function(e,t){var n=e.dom().childNodes;return se.from(n[t]).map(Jn.fromDom)},so=function(e,t){io(e).each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},lo=function(e,t){var n;(n=e,se.from(n.dom().nextSibling).map(Jn.fromDom)).fold(function(){io(e).each(function(e){co(e,t)})},function(e){so(e,t)})},uo=function(e,t){ao(e,0).fold(function(){co(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},co=function(e,t){e.dom().appendChild(t.dom())},fo=function(e,t){Te(t,function(t){co(e,t)})},ho=function(e){e.dom().textContent="",Te(oo(e),function(e){po(e)})},po=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},mo=function(e){var t,n=oo(e);0<n.length&&(t=e,Te(n,function(e){so(t,e)})),po(e)},go=function(e){return e.dom().innerHTML},vo=function(t,n){var i,r,o=Qr(t).dom(),a=Jn.fromDom(o.createDocumentFragment()),s=(i=n,(r=(o||e.document).createElement("div")).innerHTML=i,oo(Jn.fromDom(r)));fo(a,s),ho(t),co(t,a)},bo=function(t,n,i){if(!(ce(i)||he(i)||ve(i)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",i,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,i+"")},yo=function(e,t,n){bo(e.dom(),t,n)},wo=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},xo=function(e,t){return se.from(wo(e,t))},Co=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},_o=function(e,t){e.dom().removeAttribute(t)},ko=function(e){return t=e,n=!1,Jn.fromDom(t.dom().cloneNode(n));var t,n},So=function(e){var t,n,i,r=ko(e);return t=r,n=Jn.fromTag("div"),i=Jn.fromDom(t.dom().cloneNode(!0)),co(n,i),go(n)},Do=function(e){return So(e)},$o=Nr([{key:nr(),value:Ii({can:function(t,n){var i,r,o=n.event().originator(),a=n.event().target();return r=a,!(Ti(i=o,t.element())&&!Ti(i,r)&&(e.console.warn(nr()+" did not get interpreted by the desired target. \nOriginator: "+Do(o)+"\nTarget: "+Do(a)+"\nCheck the "+nr()+" event handlers"),1))}})}]),To=Object.freeze({__proto__:null,events:$o}),Eo=0,Ao=function(e){var t=(new Date).getTime();return e+"_"+Math.floor(1e9*Math.random())+ ++Eo+String(t)},Oo=X("alloy-id-"),Mo=X("data-alloy-id"),No=Oo(),Po=Mo(),Io=function(e,t){Object.defineProperty(e.dom(),Po,{value:t,writable:!0})},Ro=function(e){var t=Kr(e)?e.dom()[Po]:null;return se.from(t)},Lo=function(e){return Ao(e)},Bo=J,Fo=function(e){var t=function(t){return function(){throw new Error("The component must be in a context to send: "+t+(e?"\n"+Do(e().element())+" is not in context.":""))}};return{debugInfo:X("fake"),triggerEvent:t("triggerEvent"),triggerFocus:t("triggerFocus"),triggerEscape:t("triggerEscape"),build:t("build"),addToWorld:t("addToWorld"),removeFromWorld:t("removeFromWorld"),addToGui:t("addToGui"),removeFromGui:t("removeFromGui"),getByUid:t("getByUid"),getByDom:t("getByDom"),broadcast:t("broadcast"),broadcastOn:t("broadcastOn"),broadcastEvent:t("broadcastEvent"),isConnected:X(!1)}},Ho=Fo(),jo=function(e){return $e(e,function(e){return i=t="/*",r=(n=e).length-t.length,""===i||n.length>=i.length&&n.substr(r,r+i.length)===i?e.substring(0,e.length-"/*".length):e;var t,n,i,r})},Vo=function(e,t){var n=e.toString(),i=n.indexOf(")")+1,r=n.indexOf("("),o=n.substring(r+1,i-1).split(/,\s*/);return e.toFunctionAnnotation=function(){return{name:t,parameters:jo(o)}},e},zo=Ao("alloy-premade"),Uo=function(e){return Rt(zo,e)},Wo=function(e){return t=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return e.apply(void 0,i([t.getApis(),t],n))},n=e.toString(),r=n.indexOf(")")+1,o=n.indexOf("("),a=n.substring(o+1,r-1).split(/,\s*/),t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:jo(a.slice(1))}},t;var t,n,r,o,a},qo={init:function(){return Yo({readState:function(){return"No State required"}})}},Yo=function(e){return e},Go=function(e,t){var n={};return ft(e,function(e,i){ft(e,function(e,r){var o=yt(n,r).getOr([]);n[r]=o.concat([t(i,e)])})}),n},Ko=function(e){return{classes:void 0!==e.classes?e.classes:[],attributes:void 0!==e.attributes?e.attributes:{},styles:void 0!==e.styles?e.styles:{}}},Xo=function(e,n){return i=t.apply(void 0,[e.handler].concat(n)),r=e.purpose(),{cHandler:i,purpose:X(r)};var i,r},Jo=function(e){return e.cHandler},Zo=function(e,t){return{name:X(e),handler:X(t)}},Qo=function(e,t,n){var i,r,o=ie(ie({},n),(i=e,r={},Te(t,function(e){r[e.name()]=e.handlers(i)}),r));return Go(o,Zo)},ea=function(e){var t,n=ge(t=e)?{can:X(!0),abort:X(!1),run:t}:t;return function(e,t){for(var i=[],r=2;r<arguments.length;r++)i[r-2]=arguments[r];var o=[e,t].concat(i);n.abort.apply(void 0,o)?t.stop():n.can.apply(void 0,o)&&n.run.apply(void 0,o)}},ta=function(e,t,n){var i,r,o=t[n];return o?function(e,t,n,i){try{var r=He(n,function(n,r){var o=n[t](),a=r[t](),s=i.indexOf(o),l=i.indexOf(a);if(-1===s)throw new Error("The ordering for "+e+" does not have an entry for "+o+".\nOrder specified: "+JSON.stringify(i,null,2));if(-1===l)throw new Error("The ordering for "+e+" does not have an entry for "+a+".\nOrder specified: "+JSON.stringify(i,null,2));return s<l?-1:l<s?1:0});return Ye.value(r)}catch(o){return Ye.error([o])}}("Event: "+n,"name",e,o).map(function(e){var t=$e(e,function(e){return e.handler()});return Ri(t)}):(i=n,r=e,Ye.error(["The event ("+i+') has more than one behaviour that listens to it.\nWhen this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).\nThe behaviours that can trigger it are: '+JSON.stringify($e(r,function(e){return e.name()}),null,2)]))},na=function(e,t){var n=gt(e,function(e,n){return(1===e.length?Ye.value(e[0].handler()):ta(e,t,n)).map(function(i){var r=ea(i),o=1<e.length?Ae(t[n],function(t){return ke(e,function(e){return e.name()===t})}).join(" > "):e[0].name();return Rt(n,{handler:r,purpose:X(o)})})});return Bt(n,{})},ia=function(e){return dn("custom.definition",Xt([nn("dom","dom",At(),Xt([Dn("tag"),Hn("styles",{}),Hn("classes",[]),Hn("attributes",{}),Pn("value"),Pn("innerHtml")])),Dn("components"),Dn("uid"),Hn("events",{}),Hn("apis",{}),nn("eventOrder","eventOrder",Tt.mergeWithThunk(X({"alloy.execute":["disabling","alloy.base.behaviour","toggling","typeaheadevents"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing","item-events","tooltipping"],mousedown:["focusing","alloy.base.behaviour","item-type-events"],touchstart:["focusing","alloy.base.behaviour","item-type-events"],mouseover:["item-type-events","tooltipping"],"alloy.receive":["receiving","reflecting","tooltipping"]})),vn()),Pn("domModification")]),e)},ra=function(e,t){var n=wo(e,t);return void 0===n||""===n?[]:n.split(" ")},oa=function(e){return void 0!==e.dom().classList},aa=function(e,t){return r=t,o=ra(n=e,i="class").concat([r]),yo(n,i,o.join(" ")),!0;var n,i,r,o},sa=function(e,t){return r=t,0<(o=Ae(ra(n=e,i="class"),function(e){return e!==r})).length?yo(n,i,o.join(" ")):_o(n,i),!1;var n,i,r,o},la=function(e,t){oa(e)?e.dom().classList.add(t):aa(e,t)},ua=function(e){0===(oa(e)?e.dom().classList:ra(e,"class")).length&&_o(e,"class")},ca=function(e,t){oa(e)?e.dom().classList.remove(t):sa(e,t),ua(e)},da=function(e,t){return oa(e)&&e.dom().classList.contains(t)},fa=function(e,t){Te(t,function(t){la(e,t)})},ha=function(e,t){Te(t,function(t){ca(e,t)})},pa=function(e){return void 0!==e.style&&ge(e.style.getPropertyValue)},ma=function(e){return Zr(e)},ga=ge(e.Element.prototype.attachShadow)&&ge(e.Node.prototype.getRootNode),va=X(ga),ba=ga?function(e){return Jn.fromDom(e.dom().getRootNode())}:eo,ya=function(e){return Jn.fromDom(e.dom().host)},wa=function(e){return me(e.dom().shadowRoot)},xa=function(e){var t,n,i,r,o=Xr(e)?e.dom().parentNode:e.dom();return void 0!==o&&null!==o&&null!==o.ownerDocument&&(i=Jn.fromDom(o),r=ba(i),(ma(r)?se.some(r):se.none()).fold(function(){return o.ownerDocument.body.contains(o)},(t=xa,n=ya,function(e){return t(n(e))})))},Ca=function(){return _a(Jn.fromDom(e.document))},_a=function(e){var t=e.dom().body;if(null===t||void 0===t)throw new Error("Body is not available yet");return Jn.fromDom(t)},ka=function(t,n,i){if(!ce(i))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",i,":: Element ",t),new Error("CSS value must be a string: "+i);pa(t)&&t.style.setProperty(n,i)},Sa=function(e,t){pa(e)&&e.style.removeProperty(t)},Da=function(e,t,n){var i=e.dom();ka(i,t,n)},$a=function(e,t){var n=e.dom();ft(t,function(e,t){ka(n,t,e)})},Ta=function(e,t){var n=e.dom();ft(t,function(e,t){e.fold(function(){Sa(n,t)},function(e){ka(n,t,e)})})},Ea=function(t,n){var i=t.dom(),r=e.window.getComputedStyle(i).getPropertyValue(n);return""!==r||xa(t)?r:Aa(i,n)},Aa=function(e,t){return pa(e)?e.style.getPropertyValue(t):""},Oa=function(e,t){var n=e.dom(),i=Aa(n,t);return se.from(i).filter(function(e){return 0<e.length})},Ma=function(e,t,n){var i=Jn.fromTag(e);return Da(i,t,n),Oa(i,t).isSome()},Na=function(e,t){var n=e.dom();Sa(n,t),xo(e,"style").map(gi).is("")&&_o(e,"style")},Pa=function(e){return e.dom().offsetWidth},Ia=function(e){return e.dom().value},Ra=function(e,t){if(void 0===t)throw new Error("Value.set was undefined");e.dom().value=t},La=function(e){var t,n,i,r=Jn.fromTag(e.tag);t=r,n=e.attributes,i=t.dom(),ft(n,function(e,t){bo(i,t,e)}),fa(r,e.classes),$a(r,e.styles),e.innerHtml.each(function(e){return vo(r,e)});var o=e.domChildren;return fo(r,o),e.value.each(function(e){Ra(r,e)}),e.uid,Io(r,e.uid),r},Ba=function(e,t){return n=e,r=$e(i=t,function(e){return Fn(e.name(),[Dn("config"),Hn("state",qo)])}),o=dn("component.behaviours",Xt(r),n.behaviours).fold(function(e){throw new Error(pn(e)+"\nComplete spec:\n"+JSON.stringify(n,null,2))},function(e){return e}),{list:i,data:ht(o,function(e){var t=e.map(function(e){return{config:e.config,state:e.state.init(e.config)}});return function(){return t}})};var n,i,r,o},Fa=function(e){var t,n,i=(t=yt(e,"behaviours").getOr({}),n=Ae(ct(t),function(e){return void 0!==t[e]}),$e(n,function(e){return t[e].me}));return Ba(e,i)},Ha=function(e,t,n){var i,r,o,a=ie(ie({},(i=e).dom),{uid:i.uid,domChildren:$e(i.components,function(e){return e.element()})}),s=e.domModification.fold(function(){return Ko({})},Ko),l={"alloy.base.modification":s},u=0<t.length?function(e,t,n,i){var r=ie({},t);Te(n,function(t){r[t.name()]=t.exhibit(e,i)});var o=Go(r,function(e,t){return{name:e,modification:t}}),a=function(e){return Oe(e,function(e,t){return ie(ie({},t.modification),e)},{})},s=Oe(o.classes,function(e,t){return t.modification.concat(e)},[]),l=a(o.attributes),u=a(o.styles);return Ko({classes:s,attributes:l,styles:u})}(n,l,t,a):s;return o=u,ie(ie({},r=a),{attributes:ie(ie({},r.attributes),o.attributes),styles:ie(ie({},r.styles),o.styles),classes:r.classes.concat(o.classes)})},ja=function(e,t,n){var i,r,o,a={"alloy.base.behaviour":e.events};return i=n,r=e.eventOrder,o=Qo(i,t,a),na(o,r).getOrDie()},Va=function(e){var t,i,r,o,a,s,l,u,c,d,f,h,p,m=Bo(e),g=m.events,v=n(m,["events"]),b=(t=yt(v,"components").getOr([]),$e(t,qa)),y=ie(ie({},v),{events:ie(ie({},To),g),components:b});return Ye.value((r=function(){return p},o=Kn(Ho),a=fn(ia(i=y)),s=Fa(i),l=s.list,u=s.data,c=Ha(a,l,u),d=La(c),f=ja(a,l,u),h=Kn(a.components),p={getSystem:o.get,config:function(e){var t=u;return(ge(t[e.name()])?t[e.name()]:function(){
throw new Error("Could not find "+e.name()+" in "+JSON.stringify(i,null,2))})()},hasConfigured:function(e){return ge(u[e.name()])},spec:X(i),readState:function(e){return u[e]().map(function(e){return e.state.readState()}).getOr("not enabled")},getApis:function(){return a.apis},connect:function(e){o.set(e)},disconnect:function(){o.set(Fo(r))},element:X(d),syncComponents:function(){var e=oo(d),t=Re(e,function(e){return o.get().getByDom(e).fold(function(){return[]},function(e){return[e]})});h.set(t)},components:h.get,events:X(f)}))},za=function(e){var t=Jn.fromText(e);return Ua({element:t})},Ua=function(e){var t=hn("external.component",Kt([Dn("element"),Pn("uid")]),e),n=Kn(Fo());t.uid.each(function(e){Io(t.element,e)});var i={getSystem:n.get,config:se.none,hasConfigured:X(!1),connect:function(e){n.set(e)},disconnect:function(){n.set(Fo(function(){return i}))},getApis:function(){return{}},element:X(t.element),spec:X(e),readState:X("No state"),syncComponents:G,components:X([]),events:X({})};return Uo(i)},Wa=Lo,qa=function(e){return yt(e,zo).fold(function(){var t=e.hasOwnProperty("uid")?e:ie({uid:Wa("")},e);return Va(t).getOrDie()},function(e){return e})},Ya=Uo,Ga=r("height",function(e){var t=e.dom();return xa(e)?t.getBoundingClientRect().height:t.offsetHeight}),Ka=function(e){return Ga.get(e)},Xa=function(e){return Ga.getOuter(e)},Ja=function(e,t){return{left:X(e),top:X(t),translate:function(n,i){return Ja(e+n,t+i)}}},Za=Ja,Qa=function(e,t){return void 0!==e?e:void 0!==t?t:0},es=function(e){var t=e.dom().ownerDocument,n=t.body,i=t.defaultView,r=t.documentElement;if(n===e.dom())return Za(n.offsetLeft,n.offsetTop);var o=Qa(i.pageYOffset,r.scrollTop),a=Qa(i.pageXOffset,r.scrollLeft),s=Qa(r.clientTop,n.clientTop),l=Qa(r.clientLeft,n.clientLeft);return ts(e).translate(a-l,o-s)},ts=function(e){var t,n=e.dom(),i=n.ownerDocument.body;return i===n?Za(i.offsetLeft,i.offsetTop):xa(e)?(t=n.getBoundingClientRect(),Za(t.left,t.top)):Za(0,0)},ns=r("width",function(e){return e.dom().offsetWidth}),is=function(e){return ns.get(e)},rs=function(e){return ns.getOuter(e)},os=function(e){var t,n,i,r,o,a,s,l=Jn.fromDom(function(e){if(va()&&me(e.target)){var t=Jn.fromDom(e.target);if(Kr(t)&&wa(Jn.fromDom(e.target))&&e.composed&&e.composedPath){var n=e.composedPath();if(n)return je(n)}}return se.from(e.target)}(e).getOr(e.target)),u=function(){return e.stopPropagation()},c=function(){return e.preventDefault()},d=K(c,u);return t=l,n=e.clientX,i=e.clientY,r=u,o=c,a=d,s=e,{target:X(t),x:X(n),y:X(i),stop:r,prevent:o,kill:a,raw:X(s)}},as=function(e,n,i,r,o){var a,s,l=(a=i,s=r,function(e){a(e)&&s(os(e))});return e.dom().addEventListener(n,l,o),{unbind:t(ss,e,n,l,o)}},ss=function(e,t,n,i){e.dom().removeEventListener(t,n,i)},ls=function(t){var n=void 0!==t?t.dom():e.document,i=n.body.scrollLeft||n.documentElement.scrollLeft,r=n.body.scrollTop||n.documentElement.scrollTop;return Za(i,r)},us=function(t,n,i){(void 0!==i?i.dom():e.document).defaultView.scrollTo(t,n)},cs=function(e,t,n,i){return{x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}},ds=function(t){var n,i,r=void 0===t?e.window:t,o=r.document,a=ls(Jn.fromDom(o));return i=void 0===(n=r)?e.window:n,se.from(i.visualViewport).fold(function(){var e=r.document.documentElement,t=e.clientWidth,n=e.clientHeight;return cs(a.left(),a.top(),t,n)},function(e){return cs(Math.max(e.pageLeft,a.left()),Math.max(e.pageTop,a.top()),e.width,e.height)})},fs=function(e,t){return e.view(t).fold(X([]),function(t){var n=e.owner(t),i=fs(e,n);return[t].concat(i)})},hs=Object.freeze({__proto__:null,view:function(t){return(t.dom()===e.document?se.none():se.from(t.dom().defaultView.frameElement)).map(Jn.fromDom)},owner:function(e){return Qr(e)}}),ps=function(n){var i,r,o,a,s=Jn.fromDom(e.document),l=ls(s);return(i=n,o=(r=hs).owner(i),a=fs(r,o),se.some(a)).fold(t(es,n),function(e){var t=ts(n),i=Oe(e,function(e,t){var n=ts(t);return{left:e.left+n.left(),top:e.top+n.top()}},{left:0,top:0});return Za(i.left+t.left()+l.left(),i.top+t.top()+l.top())})},ms=function(e,t,n,i){return{x:e,y:t,width:n,height:i,right:e+n,bottom:t+i}},gs=function(e){var t=es(e),n=rs(e),i=Xa(e);return ms(t.left(),t.top(),n,i)},vs=function(e){var t=ps(e),n=rs(e),i=Xa(e);return ms(t.left(),t.top(),n,i)},bs=function(){return ds(e.window)},ys=function(e,t,n){for(var i=e.dom(),r=ge(n)?n:X(!1);i.parentNode;){i=i.parentNode;var o=Jn.fromDom(i);if(t(o))return se.some(o);if(r(o))break}return se.none()},ws=function(e,t,n){return o(function(e,t){return t(e)},ys,e,t,n)},xs=function(e,t,n){return ws(e,t,n).isSome()},Cs=function(e,t,n){return ys(e,function(e){return Di(e,t)},n)},_s=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),$i(o)?se.none():se.from(o.querySelector(i)).map(Jn.fromDom);var i,r,o},ks=function(e,t,n){return o(function(e,t){return Di(e,t)},Cs,e,t,n)},Ss=function(){var e=Ao("aria-owns");return{id:e,link:function(t){yo(t,"aria-owns",e)},unlink:function(e){_o(e,"aria-owns")}}},Ds=function(e,t){return ws(t,function(e){if(!Kr(e))return!1;var t=wo(e,"id");return void 0!==t&&-1<t.indexOf("aria-owns")}).bind(function(e){var t=wo(e,"id"),n=Qr(e);return _s(n,'[aria-owns="'+t+'"]')}).exists(function(t){return $s(e,t)})},$s=function(e,t){return xs(t,function(t){return Ti(t,e.element())},X(!1))||Ds(e,t)},Ts="unknown";(Je=Xe=Xe||{})[Je.STOP=0]="STOP",Je[Je.NORMAL=1]="NORMAL",Je[Je.LOGGING=2]="LOGGING";var Es,As,Os=Kn({}),Ms=function(t,n,i){var r,o,a,s;switch(yt(Os.get(),t).orThunk(function(){var e=ct(Os.get());return Ue(e,function(e){return-1<t.indexOf(e)?se.some(Os.get()[e]):se.none()})}).getOr(Xe.NORMAL)){case Xe.NORMAL:return i(Is());case Xe.LOGGING:var l=(r=t,o=n,a=[],s=(new Date).getTime(),{logEventCut:function(e,t,n){a.push({outcome:"cut",target:t,purpose:n})},logEventStopped:function(e,t,n){a.push({outcome:"stopped",target:t,purpose:n})},logNoParent:function(e,t,n){a.push({outcome:"no-parent",target:t,purpose:n})},logEventNoHandlers:function(e,t){a.push({outcome:"no-handlers-left",target:t})},logEventResponse:function(e,t,n){a.push({outcome:"response",purpose:n,target:t})},write:function(){var t=(new Date).getTime();_e(["mousemove","mouseover","mouseout",fr()],r)||e.console.log(r,{event:r,time:t-s,target:o.dom(),sequence:$e(a,function(e){return _e(["cut","stopped","response"],e.outcome)?"{"+e.purpose+"} "+e.outcome+" at ("+Do(e.target)+")":e.outcome})})}}),u=i(l);return l.write(),u;case Xe.STOP:return!0}},Ns=["alloy/data/Fields","alloy/debugging/Debugging"],Ps=function(e,t,n){return Ms(e,t,n)},Is=X({logEventCut:G,logEventStopped:G,logNoParent:G,logEventNoHandlers:G,logEventResponse:G,write:G}),Rs=X([Dn("menu"),Dn("selectedMenu")]),Ls=X([Dn("item"),Dn("selectedItem")]),Bs=(X(Xt(Ls().concat(Rs()))),X(Xt(Ls()))),Fs=On("initSize",[Dn("numColumns"),Dn("numRows")]),Hs=function(){return On("markers",[Dn("backgroundMenu")].concat(Rs()).concat(Ls()))},js=function(e){return On("markers",$e(e,Dn))},Vs=function(e,t,n){return!function(){var e=new Error;if(void 0!==e.stack){var t=e.stack.split("\n");Ne(t,function(e){return 0<e.indexOf("alloy")&&!ke(Ns,function(t){return-1<e.indexOf(t)})}).getOr(Ts)}}(),nn(t,t,n,un(function(e){return Ye.value(function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.apply(void 0,t)})}))},zs=function(e){return Vs(0,e,Et(G))},Us=function(e){return Vs(0,e,Et(se.none))},Ws=function(e){return Vs(0,e,At())},qs=function(e){return Vs(0,e,At())},Ys=function(e,t){return Gn(e,X(t))},Gs=function(e){return Gn(e,J)},Ks=X(Fs),Xs=function(e,t,n,i,r,o){return{x:X(e),y:X(t),bubble:X(n),direction:X(i),boundsRestriction:X(r),label:X(o)}},Js=Ct([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),Zs=Js.southeast,Qs=Js.southwest,el=Js.northeast,tl=Js.northwest,nl=Js.south,il=Js.north,rl=Js.east,ol=Js.west,al=function(e,t){return function(e,t){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];n[String(o)]=t(o,i)}return n}(["left","right","top","bottom"],function(n){return yt(t,n).map(function(t){return function(e,t){switch(t){case 1:return e.x;case 0:return e.x+e.width;case 2:return e.y;case 3:return e.y+e.height}}(e,t)})})},sl=function(e){return e.x},ll=function(e,t){return e.x+e.width/2-t.width/2},ul=function(e,t){return e.x+e.width-t.width},cl=function(e,t){return e.y-t.height},dl=function(e){return e.y+e.height},fl=function(e,t){return e.y+e.height/2-t.height/2},hl=function(e,t,n){return Xs(sl(e),dl(e),n.southeast(),Zs(),al(e,{left:1,top:3}),"layout-se")},pl=function(e,t,n){return Xs(ul(e,t),dl(e),n.southwest(),Qs(),al(e,{right:0,top:3}),"layout-sw")},ml=function(e,t,n){return Xs(sl(e),cl(e,t),n.northeast(),el(),al(e,{left:1,bottom:2}),"layout-ne")},gl=function(e,t,n){return Xs(ul(e,t),cl(e,t),n.northwest(),tl(),al(e,{right:0,bottom:2}),"layout-nw")},vl=function(e,t,n){return Xs(ll(e,t),cl(e,t),n.north(),il(),al(e,{bottom:2}),"layout-n")},bl=function(e,t,n){return Xs(ll(e,t),dl(e),n.south(),nl(),al(e,{top:3}),"layout-s")},yl=function(e,t,n){return Xs((i=e).x+i.width,fl(e,t),n.east(),rl(),al(e,{left:0}),"layout-e");var i},wl=function(e,t,n){return Xs((i=t,e.x-i.width),fl(e,t),n.west(),ol(),al(e,{right:1}),"layout-w");var i},xl=function(){return[hl,pl,ml,gl,bl,vl,yl,wl]},Cl=function(){return[pl,hl,gl,ml,bl,vl,yl,wl]},_l=function(){return[ml,gl,hl,pl,vl,bl]},kl=function(){return[hl,pl,ml,gl,bl,vl]},Sl=function(){return[pl,hl,gl,ml,bl,vl]},Dl=function(e,t,n){return Wr(function(i,r){n(i,e,t)})},$l=function(e,t,n,i,r,o){var a=Kt(e),s=Fn(t,[In("config",Kt(e))]);return Al(a,s,t,n,i,r,o)},Tl=function(e,t,n){var i,r,o,a,s,l;return i=function(i){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var a=[i].concat(r);return i.config({name:X(e)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+e+". Using API: "+n)},function(e){var n=Array.prototype.slice.call(a,1);return t.apply(void 0,[i,e.config,e.state].concat(n))})},r=n,o=t.toString(),a=o.indexOf(")")+1,s=o.indexOf("("),l=o.substring(s+1,a-1).split(/,\s*/),i.toFunctionAnnotation=function(){return{name:r,parameters:jo(l.slice(0,1).concat(l.slice(3)))}},i},El=function(e){return{key:e,value:void 0}},Al=function(e,n,i,r,o,a,s){var l=function(e){return xt(e,i)?e[i]():se.none()},u=ht(o,function(e,t){return Tl(i,e,t)}),c=ht(a,function(e,t){return Vo(e,t)}),d=ie(ie(ie({},c),u),{revoke:t(El,i),config:function(t){var n=hn(i+"-config",e,t);return{key:i,value:{config:n,me:d,configAsRaw:$t(function(){return hn(i+"-config",e,t)}),initialConfig:t,state:s}}},schema:function(){return n},exhibit:function(e,t){return l(e).bind(function(e){return yt(r,"exhibit").map(function(n){return n(t,e.config,e.state)})}).getOr(Ko({}))},name:function(){return i},handlers:function(e){return l(e).map(function(e){return yt(r,"events").getOr(function(){return{}})(e.config,e.state)}).getOr({})}});return d},Ol=function(e){return Lt(e)},Ml=Kt([Dn("fields"),Dn("name"),Hn("active",{}),Hn("apis",{}),Hn("state",qo),Hn("extra",{})]),Nl=function(e){var t=hn("Creating behaviour: "+e.name,Ml,e);return $l(t.fields,t.name,t.active,t.apis,t.extra,t.state)},Pl=Kt([Dn("branchKey"),Dn("branches"),Dn("name"),Hn("active",{}),Hn("apis",{}),Hn("state",qo),Hn("extra",{})]),Il=function(e){var t,n,i,r,o,a,s,l,u=hn("Creating behaviour: "+e.name,Pl,e);return t=gn(u.branchKey,u.branches),n=u.name,i=u.active,r=u.apis,o=u.extra,a=u.state,l=Fn(n,[In("config",s=t)]),Al(s,l,n,i,r,o,a)},Rl=X(void 0),Ll=Object.freeze({__proto__:null,events:function(e){return Nr([Rr(or(),function(t,n){var i,r,o=e.channels,a=ct(o),s=n,l=(i=a,(r=s).universal()?i:Ae(i,function(e){return _e(r.channels(),e)}));Te(l,function(e){var n=o[e],i=n.schema,r=hn("channel["+e+"] data\nReceiver: "+Do(t.element()),i,s.data());n.onReceive(t,r)})})])}}),Bl=[$n("channels",cn(Ye.value,Kt([Ws("onReceive"),Hn("schema",vn())])))],Fl=Nl({fields:Bl,name:"receiving",active:Ll}),Hl=Object.freeze({__proto__:null,exhibit:function(e,t){return Ko({classes:[],styles:t.useFixed()?{}:{position:"relative"}})}}),jl=function(e){return e.dom().focus()},Vl=function(t){return void 0===t&&(t=Jn.fromDom(e.document)),se.from(t.dom().activeElement).map(Jn.fromDom)},zl=function(e){return Vl(ba(e)).filter(function(t){return e.dom().contains(t.dom())})},Ul=function(e,t){var n=Qr(t),i=Vl(n).bind(function(e){var n,i,r=function(t){return Ti(e,t)};return r(t)?se.some(t):(n=r,(i=function(e){for(var t=0;t<e.childNodes.length;t++){var r=Jn.fromDom(e.childNodes[t]);if(n(r))return se.some(r);var o=i(e.childNodes[t]);if(o.isSome())return o}return se.none()})(t.dom()))}),r=e(t);return i.each(function(e){Vl(n).filter(function(t){return Ti(t,e)}).fold(function(){jl(e)},G)}),r},Wl=function(e,t,n,i,r){return{position:X(e),left:X(t),top:X(n),right:X(i),bottom:X(r)}},ql=function(e,t){var n=function(e){return e+"px"};Ta(e,{position:se.some(t.position()),left:t.left().map(n),top:t.top().map(n),right:t.right().map(n),bottom:t.bottom().map(n)})},Yl=Ct([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Gl=function(e,t,n,i,r,o){var a,s,l,u,c,d,f,h,p,m=t.x-n,g=t.y-i,v=r-(m+t.width),b=o-(g+t.height),y=se.some(m),w=se.some(g),x=se.some(v),C=se.some(b),_=se.none();return a=t.direction,s=function(){return Wl(e,y,w,_,_)},l=function(){return Wl(e,_,w,x,_)},u=function(){return Wl(e,y,_,_,C)},c=function(){return Wl(e,_,_,x,C)},d=function(){return Wl(e,y,w,_,_)},f=function(){return Wl(e,y,_,_,C)},h=function(){return Wl(e,y,w,_,_)},p=function(){return Wl(e,_,w,x,_)},a.fold(s,l,u,c,d,f,h,p)},Kl=function(e,n){var i=t(ps,n),r=e.fold(i,i,function(){var e=ls();return ps(n).translate(-e.left(),-e.top())}),o=rs(n),a=Xa(n);return ms(r.left(),r.top(),o,a)},Xl=function(e,t,n){var i=Za(t,n);return e.fold(X(i),X(i),function(){var e=ls();return i.translate(-e.left(),-e.top())})},Jl=(Yl.none,Yl.relative),Zl=Yl.fixed,Ql=function(e,t){return n=t,{anchorBox:X(e),origin:X(n)};var n},eu=function(e,t,n,i){var r=e+t;return i<r?n:r<n?i:r},tu=function(e,t,n){return Math.min(Math.max(e,t),n)},nu=Ct([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),iu=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h,p,m,g,v,b,y,w,x,C,_,k,S,D,$,T,E,A,O,M,N,P,I,R,L=e.x(),B=e.y(),F=e.bubble().offset(),H=F.left(),j=F.top(),V=(r=i,o=e.boundsRestriction(),a=F,l=(s=function(e,t){var n="top"===e||"bottom"===e?a.top():a.left();return yt(o,e).bind(J).bind(function(n){return"left"===e||"top"===e?t<=n?se.some(n):se.none():n<=t?se.some(n):se.none()}).map(function(e){return e+n}).getOr(t)})("left",r.x),u=s("top",r.y),c=s("right",r.right),d=s("bottom",r.bottom),ms(l,u,c-l,d-u)),z=V.y,U=V.bottom,W=V.x,q=V.right,Y=B+j,G=(f=L+H,h=Y,p=t,m=n,v=(g=V).x,b=g.y,y=g.width,w=g.height,C=b<=h,_=(x=v<=f)&&C,k=f+p<=v+y&&h+m<=b+w,S=Math.abs(Math.min(p,x?v+y-f:v-(f+p))),D=Math.abs(Math.min(m,C?b+w-h:b-(h+m))),$=Math.max(g.x,g.right-p),T=Math.max(g.y,g.bottom-m),{originInBounds:_,sizeInBounds:k,limitX:tu(f,g.x,$),limitY:tu(h,g.y,T),deltaW:S,deltaH:D}),K=G.originInBounds,Z=G.sizeInBounds,Q=G.limitX,ee=G.limitY,te=G.deltaW,ne=G.deltaH,ie=X(ee+ne-z),re=X(U-ee),oe=(E=e.direction(),O=A=re,M=ie,E.fold(A,A,M,M,A,M,O,O)),ae=X(Q+te-W),le=X(q-Q),ue={x:Q,y:ee,width:te,height:ne,maxHeight:oe,maxWidth:(N=e.direction(),I=P=le,R=ae,N.fold(P,R,P,R,I,I,P,R)),direction:e.direction(),classes:{on:e.bubble().classesOn(),off:e.bubble().classesOff()},label:e.label(),candidateYforTest:Y};return K&&Z?nu.fit(ue):nu.nofit(ue,te,ne)},ru=function(e,n,i,r){Na(n,"max-height"),Na(n,"max-width");var o,a,s,l,u,c,d,f,h,p={width:rs(o=n),height:Xa(o)};return a=r.preference,s=e,l=p,u=i,c=r.bounds,d=l.width,f=l.height,h=function(e,t,n,i){var r=e(s,l,u);return iu(r,d,f,c).fold(nu.fit,function(e,r,o){return i<o||n<r?nu.nofit(e,r,o):nu.nofit(t,n,i)})},Me(a,function(e,n){var i=t(h,n);return e.fold(nu.fit,i)},nu.nofit({x:s.x,y:s.y,width:l.width,height:l.height,maxHeight:l.height,maxWidth:l.width,direction:Zs(),classes:{on:[],off:[]},label:"none",candidateYforTest:s.y},-1,-1)).fold(J,J)},ou=function(e,t,n){var i,r;ql(e,(i=n.origin,r=t,i.fold(function(){return Wl("absolute",se.some(r.x),se.some(r.y),se.none(),se.none())},function(e,t,n,i){return Gl("absolute",r,e,t,n,i)},function(e,t,n,i){return Gl("fixed",r,e,t,n,i)})))},au=function(e,t){var n,i,r;n=e,i=Math.floor(t),r=Ga.max(n,i,["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"]),Da(n,"max-height",r+"px")},su=X(function(e,t){au(e,t),$a(e,{"overflow-x":"hidden","overflow-y":"auto"})}),lu=X(function(e,t){au(e,t)}),uu=function(e,t,n){return void 0===e[t]?n:e[t]},cu=function(e,t,n,i,r,o){var a,s=uu(o,"maxHeightFunction",su()),l=uu(o,"maxWidthFunction",G),u=e.anchorBox(),c=e.origin(),d={bounds:(a=c,r.fold(function(){return a.fold(bs,bs,ms)},function(e){return a.fold(e,e,function(){var t=e(),n=Xl(a,t.x,t.y);return ms(n.left(),n.top(),t.width,t.height)})})),origin:c,preference:i,maxHeightFunction:s,maxWidthFunction:l};du(u,t,n,d)},du=function(e,t,n,i){var r,o,a,s,l,u,c=ru(e,t,n,i);ou(t,c,i),r=t,o=c.classes,ha(r,o.off),fa(r,o.on),a=t,s=c,(0,i.maxHeightFunction)(a,s.maxHeight),l=t,u=c,(0,i.maxWidthFunction)(l,u.maxWidth)},fu=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],hu=function(e,t,n){var i=function(e){return yt(n,e).getOr([])},r=function(e,t,n){var r=Fe(fu,n);return{offset:function(){return Za(e,t)},classesOn:function(){return Re(n,i)},classesOff:function(){return Re(r,i)}}};return{southeast:function(){return r(-e,t,["top","alignLeft"])},southwest:function(){return r(e,t,["top","alignRight"])},south:function(){return r(-e/2,t,["top","alignCentre"])},northeast:function(){return r(-e,-t,["bottom","alignLeft"])},northwest:function(){return r(e,-t,["bottom","alignRight"])},north:function(){return r(-e/2,-t,["bottom","alignCentre"])},east:function(){return r(e,-t/2,["valignCentre","left"])},west:function(){return r(-e,-t/2,["valignCentre","right"])},innerNorthwest:function(){return r(-e,t,["top","alignRight"])},innerNortheast:function(){return r(e,t,["top","alignLeft"])},innerNorth:function(){return r(-e/2,t,["top","alignCentre"])},innerSouthwest:function(){return r(-e,-t,["bottom","alignRight"])},innerSoutheast:function(){return r(e,-t,["bottom","alignLeft"])},innerSouth:function(){return r(-e/2,-t,["bottom","alignCentre"])},innerWest:function(){return r(e,-t/2,["valignCentre","right"])},innerEast:function(){return r(-e,-t/2,["valignCentre","left"])}}},pu=function(){return hu(0,0,{})},mu=function(e,t){return function(n){return"rtl"===gu(n)?t:e}},gu=function(e){return"rtl"===Ea(e,"direction")?"rtl":"ltr"};(As=Es=Es||{}).TopToBottom="toptobottom",As.BottomToTop="bottomtotop";var vu="data-alloy-vertical-dir",bu=function(e){return xs(e,function(e){return Kr(e)&&wo(e,vu)===Es.BottomToTop})},yu=function(){return Fn("layouts",[Dn("onLtr"),Dn("onRtl"),Pn("onBottomLtr"),Pn("onBottomRtl")])},wu=function(e,t,n,i,r,o,a){var s=a.map(bu).getOr(!1),l=t.layouts.map(function(t){return t.onLtr(e)}),u=t.layouts.map(function(t){return t.onRtl(e)}),c=s?t.layouts.bind(function(t){return t.onBottomLtr.map(function(t){return t(e)})}).or(l).getOr(r):l.getOr(n),d=s?t.layouts.bind(function(t){return t.onBottomRtl.map(function(t){return t(e)})}).or(u).getOr(o):u.getOr(i);return mu(c,d)(e)},xu=[Dn("hotspot"),Pn("bubble"),Hn("overrides",{}),yu(),Ys("placement",function(e,t,n){var i=t.hotspot,r=Kl(n,i.element()),o=wu(e.element(),t,kl(),Sl(),_l(),[gl,ml,pl,hl,vl,bl],se.some(t.hotspot.element()));return se.some({anchorBox:r,bubble:t.bubble.getOr(pu()),overrides:t.overrides,layouts:o,placer:se.none()})})],Cu=[Dn("x"),Dn("y"),Hn("height",0),Hn("width",0),Hn("bubble",pu()),Hn("overrides",{}),yu(),Ys("placement",function(e,t,n){var i=Xl(n,t.x,t.y),r=ms(i.left(),i.top(),t.width,t.height),o=wu(e.element(),t,xl(),Cl(),xl(),Cl(),se.none());return se.some({anchorBox:r,bubble:t.bubble,overrides:t.overrides,layouts:o,placer:se.none()})})],_u=function(e,t,n,i){return{start:X(e),soffset:X(t),finish:X(n),foffset:X(i)}},ku=Ct([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Su=(ku.before,ku.on,ku.after,function(e){return e.fold(J,J,J)}),Du=Ct([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),$u={domRange:Du.domRange,relative:Du.relative,exact:Du.exact,exactFromRange:function(e){return Du.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var t=e.match({domRange:function(e){return Jn.fromDom(e.startContainer)},relative:function(e,t){return Su(e)},exact:function(e,t,n,i){return e}});return no(t)},range:_u},Tu=function(e,t,n){var i,r,o=e.document.createRange();return i=o,t.fold(function(e){i.setStartBefore(e.dom())},function(e,t){i.setStart(e.dom(),t)},function(e){i.setStartAfter(e.dom())}),r=o,n.fold(function(e){r.setEndBefore(e.dom())},function(e,t){r.setEnd(e.dom(),t)},function(e){r.setEndAfter(e.dom())}),o},Eu=function(e,t,n,i,r){var o=e.document.createRange();return o.setStart(t.dom(),n),o.setEnd(i.dom(),r),o},Au=function(e){return{left:X(e.left),top:X(e.top),right:X(e.right),bottom:X(e.bottom),width:X(e.width),height:X(e.height)}},Ou=Ct([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Mu=function(e,t,n){return t(Jn.fromDom(n.startContainer),n.startOffset,Jn.fromDom(n.endContainer),n.endOffset)},Nu=function(e,t){var n,i,r,o=(n=e,t.match({domRange:function(e){return{ltr:X(e),rtl:se.none}},relative:function(e,t){return{ltr:$t(function(){return Tu(n,e,t)}),rtl:$t(function(){return se.some(Tu(n,t,e))})}},exact:function(e,t,i,r){return{ltr:$t(function(){return Eu(n,e,t,i,r)}),rtl:$t(function(){return se.some(Eu(n,i,r,e,t))})}}}));return(r=(i=o).ltr()).collapsed?i.rtl().filter(function(e){return!1===e.collapsed}).map(function(e){return Ou.rtl(Jn.fromDom(e.endContainer),e.endOffset,Jn.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return Mu(0,Ou.ltr,r)}):Mu(0,Ou.ltr,r)};Ou.ltr,Ou.rtl;var Pu,Iu,Ru=function(e,t){var n=function(t){return e(t)?se.from(t.dom().nodeValue):se.none()};return{get:function(i){if(!e(i))throw new Error("Can only get "+t+" value of a "+t+" node");return n(i).getOr("")},getOption:n,set:function(n,i){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=i}}}(Xr,"text"),Lu=function(e){return Ru.getOption(e)},Bu=["img","br"],Fu=function(e){return Lu(e).filter(function(e){return 0!==e.trim().length||-1<e.indexOf("")}).isSome()||_e(Bu,Yr(e))},Hu=function(e,t){var n=function(e){for(var i=oo(e),r=i.length-1;0<=r;r--){var o=i[r];if(t(o))return se.some(o);var a=n(o);if(a.isSome())return a}return se.none()};return n(e)},ju=function(t,n){return i=n,o=void 0===(r=t)?e.document:r.dom(),$i(o)?[]:$e(o.querySelectorAll(i),Jn.fromDom);var i,r,o},Vu=function(e,t,n,i){var r,o,a,s,l,u=(o=t,a=n,s=i,(l=Qr(r=e).dom().createRange()).setStart(r.dom(),o),l.setEnd(a.dom(),s),l),c=Ti(e,n)&&t===i;return u.collapsed&&!c},zu=function(e){var t=Jn.fromDom(e.anchorNode),n=Jn.fromDom(e.focusNode);return Vu(t,e.anchorOffset,n,e.focusOffset)?se.some(_u(t,e.anchorOffset,n,e.focusOffset)):function(e){if(0<e.rangeCount){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return se.some(_u(Jn.fromDom(t.startContainer),t.startOffset,Jn.fromDom(n.endContainer),n.endOffset))}return se.none()}(e)},Uu=function(e,t){var n,i,r,o,a=Nu(n=e,t).match({ltr:function(e,t,i,r){var o=n.document.createRange();return o.setStart(e.dom(),t),o.setEnd(i.dom(),r),o},rtl:function(e,t,i,r){var o=n.document.createRange();return o.setStart(i.dom(),r),o.setEnd(e.dom(),t),o}});return r=(i=a).getClientRects(),0<(o=0<r.length?r[0]:i.getBoundingClientRect()).width||0<o.height?se.some(o).map(Au):se.none()},Wu=function(e,t){return{element:e,offset:t}},qu=function(e,t){var n=oo(e);if(0===n.length)return Wu(e,t);if(t<n.length)return Wu(n[t],0);var i,r=n[n.length-1],o=Xr(r)?(i=r,Ru.get(i).length):oo(r).length;return Wu(r,o)},Yu=Ct([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),Gu=function(e){return e.fold(J,function(e,t,n){return e.translate(-t,-n)})},Ku=function(e){return e.fold(J,J)},Xu=function(e){return Me(e,function(e,t){return e.translate(t.left(),t.top())},Za(0,0))},Ju=function(e){var t=$e(e,Ku);return Xu(t)},Zu=Yu.screen,Qu=Yu.absolute,ec=function(e,t,n){var i,r,o=Qr(e.element()),a=ls(o),s=(i=e,r=no(n.root).dom(),se.from(r.frameElement).map(Jn.fromDom).filter(function(e){var t=Qr(e),n=Qr(i.element());return Ti(t,n)}).map(es).getOr(a));return Qu(s,a.left(),a.top())},tc=function(e,t,n,i){var r=e,o=t,a=n,s=i;e<0&&(r=0,a=n+e),t<0&&(o=0,s=i+t);var l=Zu(Za(r,o));return se.some({point:l,width:a,height:s})},nc=function(e,t,n,i,r){return e.map(function(e){var o,a,s,l=[t,e.point],u=(o=function(){return Ju(l)},a=function(){return Ju(l)},s=function(){return e=$e(l,Gu),Xu(e);var e},i.fold(o,a,s)),c={x:u.left(),y:u.top(),width:e.width,height:e.height},d=(n.showAbove?_l:kl)(),f=(n.showAbove,Sl()),h=wu(r,n,d,f,d,f,se.none());return{anchorBox:c,bubble:n.bubble.getOr(pu()),overrides:n.overrides,layouts:h,placer:se.none()}})},ic=function(e,t){return Xr(e)?{element:e,offset:t}:qu(e,t)},rc=function(e,t){return t.getSelection.getOrThunk(function(){return function(){return t=e,se.from(t.getSelection()).filter(function(e){return 0<e.rangeCount}).bind(zu);var t}})().map(function(e){var t=ic(e.start(),e.soffset()),n=ic(e.finish(),e.foffset());return $u.range(t.element,t.offset,n.element,n.offset)})},oc=[Pn("getSelection"),Dn("root"),Pn("bubble"),yu(),Hn("overrides",{}),Hn("showAbove",!1),Ys("placement",function(e,t,n){var i=no(t.root).dom(),r=ec(e,0,t),o=rc(i,t).bind(function(e){return Uu(i,$u.exactFromRange(e)).orThunk(function(){var t=Jn.fromText("\ufeff");return so(e.start(),t),Uu(i,$u.exact(t,0,t,1)).map(function(e){return po(t),e})}).bind(function(e){return tc(e.left(),e.top(),e.width(),e.height())})}),a=rc(i,t).bind(function(e){return Kr(e.start())?se.some(e.start()):io(e.start())}).getOr(e.element());return nc(o,r,t,n,a)})],ac=[Dn("node"),Dn("root"),Pn("bubble"),yu(),Hn("overrides",{}),Hn("showAbove",!1),Ys("placement",function(e,t,n){var i=ec(e,0,t);return t.node.bind(function(r){var o=r.dom().getBoundingClientRect(),a=tc(o.left,o.top,o.width,o.height),s=t.node.getOr(e.element());return nc(a,i,t,n,s)})})],sc=function(e){return e.x+e.width},lc=function(e,t){return e.x-t.width},uc=function(e,t){return e.y-t.height+e.height},cc=function(e){return e.y},dc=function(e,t,n){return Xs(sc(e),cc(e),n.southeast(),Zs(),al(e,{left:0,top:2}),"link-layout-se")},fc=function(e,t,n){return Xs(lc(e,t),cc(e),n.southwest(),Qs(),al(e,{right:1,top:2}),"link-layout-sw")},hc=function(e,t,n){return Xs(sc(e),uc(e,t),n.northeast(),el(),al(e,{left:0,bottom:3}),"link-layout-ne")},pc=function(e,t,n){return Xs(lc(e,t),uc(e,t),n.northwest(),tl(),al(e,{right:1,bottom:3}),"link-layout-nw")},mc=function(){return[dc,fc,hc,pc]},gc=function(){return[fc,dc,pc,hc]},vc=[Dn("item"),yu(),Hn("overrides",{}),Ys("placement",function(e,t,n){var i=Kl(n,t.item.element()),r=wu(e.element(),t,mc(),gc(),mc(),gc(),se.none());return se.some({anchorBox:i,bubble:pu(),overrides:t.overrides,layouts:r,placer:se.none()})})],bc=gn("anchor",{selection:oc,node:ac,hotspot:xu,submenu:vc,makeshift:Cu}),yc=function(e,t,n,i,r){var o=Ql(n.anchorBox,t);cu(o,r.element(),n.bubble,n.layouts,i,n.overrides)},wc=function(e,t,n,i,r,o){var a=o.map(gs);return xc(e,t,n,i,r,a)},xc=function(t,n,i,r,o,a){var s=hn("positioning anchor.info",bc,r);Ul(function(){Da(o.element(),"position","fixed");var i=Oa(o.element(),"visibility");Da(o.element(),"visibility","hidden");var r,l,u,c,d=n.useFixed()?(c=e.document.documentElement,Zl(0,0,c.clientWidth,c.clientHeight)):(l=es((r=t).element()),u=r.element().dom().getBoundingClientRect(),Jl(l.left(),l.top(),u.width,u.height)),f=s.placement,h=a.map(X).or(n.getBounds);f(t,s,d).each(function(e){e.placer.getOr(yc)(t,d,e,h,o)}),i.fold(function(){Na(o.element(),"visibility")},function(e){Da(o.element(),"visibility",e)}),Oa(o.element(),"left").isNone()&&Oa(o.element(),"top").isNone()&&Oa(o.element(),"right").isNone()&&Oa(o.element(),"bottom").isNone()&&Oa(o.element(),"position").is("fixed")&&Na(o.element(),"position")},o.element())},Cc=Object.freeze({__proto__:null,position:function(e,t,n,i,r){wc(e,t,n,i,r,se.none())},positionWithin:wc,positionWithinBounds:xc,getMode:function(e,t,n){return t.useFixed()?"fixed":"absolute"}}),_c=[Hn("useFixed",ee),Pn("getBounds")],kc=Nl({fields:_c,name:"positioning",active:Hl,apis:Cc}),Sc=function(e){$r(e,br());var t=e.components();Te(t,Sc)},Dc=function(e){var t=e.components();Te(t,Dc),$r(e,vr())},$c=function(e,t){co(e.element(),t.element())},Tc=function(e,t){var n,i=e.components();Te((n=e).components(),function(e){return po(e.element())}),ho(n.element()),n.syncComponents();var r=Fe(i,t);Te(r,function(t){Sc(t),e.getSystem().removeFromWorld(t)}),Te(t,function(t){t.getSystem().isConnected()?$c(e,t):(e.getSystem().addToWorld(t),$c(e,t),xa(e.element())&&Dc(t)),e.syncComponents()})},Ec=function(e,t){Ac(e,t,co)},Ac=function(e,t,n){e.getSystem().addToWorld(t),n(e.element(),t.element()),xa(e.element())&&Dc(t),e.syncComponents()},Oc=function(e){Sc(e),po(e.element()),e.getSystem().removeFromWorld(e)},Mc=function(e){var t=io(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()});Oc(e),t.each(function(e){e.syncComponents()})},Nc=function(e){var t=e.components();Te(t,Oc),ho(e.element()),e.syncComponents()},Pc=function(e,t){Ic(e,t,co)},Ic=function(e,t,n){n(e,t.element());var i=oo(t.element());Te(i,function(e){t.getByDom(e).each(Dc)})},Rc=function(e){var t=oo(e.element());Te(t,function(t){e.getByDom(t).each(Sc)}),po(e.element())},Lc=function(e,t,n,i){n.get().each(function(t){Nc(e)});var r=t.getAttachPoint(e);Ec(r,e);var o=e.getSystem().build(i);return Ec(e,o),n.set(o),o},Bc=function(e,t,n,i){var r=Lc(e,t,n,i);return t.onOpen(e,r),r},Fc=function(e,t,n){n.get().each(function(i){Nc(e),Mc(e),t.onClose(e,i),n.clear()})},Hc=function(e,t,n){return n.isOpen()},jc=function(e,t,n){var i,r,o,a,s=t.getAttachPoint(e);Da(e.element(),"position",kc.getMode(s)),i=e,r="visibility",o=t.cloakVisibilityAttr,a="hidden",Oa(i.element(),r).fold(function(){_o(i.element(),o)},function(e){yo(i.element(),o,e)}),Da(i.element(),r,a)},Vc=function(e,t,n){var i,r,o,a;i=e.element(),ke(["top","left","right","bottom"],function(e){return Oa(i,e).isSome()})||Na(e.element(),"position"),r=e,o="visibility",a=t.cloakVisibilityAttr,xo(r.element(),a).fold(function(){return Na(r.element(),o)},function(e){return Da(r.element(),o,e)})},zc=Object.freeze({__proto__:null,cloak:jc,decloak:Vc,open:Bc,openWhileCloaked:function(e,t,n,i,r){jc(e,t),Bc(e,t,n,i),r(),Vc(e,t)},close:Fc,isOpen:Hc,isPartOf:function(e,t,n,i){return Hc(0,0,n)&&n.get().exists(function(n){return t.isPartOf(e,n,i)})},getState:function(e,t,n){return n.get()},setContent:function(e,t,n,i){return n.get().map(function(){return Lc(e,t,n,i)})}}),Uc=Object.freeze({__proto__:null,events:function(e,t){return Nr([Rr(cr(),function(n,i){Fc(n,e,t)})])}}),Wc=[zs("onOpen"),zs("onClose"),Dn("isPartOf"),Dn("getAttachPoint"),Hn("cloakVisibilityAttr","data-precloak-visibility")],qc=Nl({fields:Wc,name:"sandboxing",active:Uc,apis:zc,state:Object.freeze({__proto__:null,init:function(){var e=Kn(se.none()),t=X("not-implemented");return Yo({readState:t,isOpen:function(){return e.get().isSome()},clear:function(){e.set(se.none())},set:function(t){e.set(se.some(t))},get:function(){return e.get()}})}})}),Yc=X("dismiss.popups"),Gc=X("reposition.popups"),Kc=X("mouse.released"),Xc=Kt([Hn("isExtraPart",X(!1)),Fn("fireEventInstead",[Hn("event",yr())])]),Jc=function(e){var t,n=hn("Dismissal",Xc,e);return(t={})[Yc()]={schema:Kt([Dn("target")]),onReceive:function(e,t){qc.isOpen(e)&&(qc.isPartOf(e,t.target)||n.isExtraPart(e,t.target)||n.fireEventInstead.fold(function(){return qc.close(e)},function(t){return $r(e,t.event)}))}},t},Zc=Kt([Fn("fireEventInstead",[Hn("event",wr())]),An("doReposition")]),Qc=function(e){var t,n=hn("Reposition",Zc,e);return(t={})[Gc()]={onReceive:function(e){qc.isOpen(e)&&n.fireEventInstead.fold(function(){return n.doReposition(e)},function(t){return $r(e,t.event)})}},t},ed=function(e,t,n){
t.store.manager.onLoad(e,t,n)},td=function(e,t,n){t.store.manager.onUnload(e,t,n)},nd=Object.freeze({__proto__:null,onLoad:ed,onUnload:td,setValue:function(e,t,n,i){t.store.manager.setValue(e,t,n,i)},getValue:function(e,t,n){return t.store.manager.getValue(e,t,n)},getState:function(e,t,n){return n}}),id=Object.freeze({__proto__:null,events:function(e,t){var n=e.resetOnDom?[zr(function(n,i){ed(n,e,t)}),Ur(function(n,i){td(n,e,t)})]:[Dl(e,t,ed)];return Nr(n)}}),rd=function(){var e=Kn(null);return Yo({set:e.set,get:e.get,isNotSet:function(){return null===e.get()},clear:function(){e.set(null)},readState:function(){return{mode:"memory",value:e.get()}}})},od=function(){var e=Kn({}),t=Kn({});return Yo({readState:function(){return{mode:"dataset",dataByValue:e.get(),dataByText:t.get()}},lookup:function(n){return yt(e.get(),n).orThunk(function(){return yt(t.get(),n)})},update:function(n){var i=e.get(),r=t.get(),o={},a={};Te(n,function(e){o[e.value]=e,yt(e,"meta").each(function(t){yt(t,"text").each(function(t){a[t]=e})})}),e.set(ie(ie({},i),o)),t.set(ie(ie({},r),a))},clear:function(){e.set({}),t.set({})}})},ad=Object.freeze({__proto__:null,memory:rd,dataset:od,manual:function(){return Yo({readState:function(){}})},init:function(e){return e.store.manager.state(e)}}),sd=function(e,t,n,i){var r=t.store;n.update([i]),r.setValue(e,i),t.onSetValue(e,i)},ld=[Pn("initialValue"),Dn("getFallbackEntry"),Dn("getDataKey"),Dn("setValue"),Ys("manager",{setValue:sd,getValue:function(e,t,n){var i=t.store,r=i.getDataKey(e);return n.lookup(r).fold(function(){return i.getFallbackEntry(r)},function(e){return e})},onLoad:function(e,t,n){t.store.initialValue.each(function(i){sd(e,t,n,i)})},onUnload:function(e,t,n){n.clear()},state:od})],ud=[Dn("getValue"),Hn("setValue",G),Pn("initialValue"),Ys("manager",{setValue:function(e,t,n,i){t.store.setValue(e,i),t.onSetValue(e,i)},getValue:function(e,t,n){return t.store.getValue(e)},onLoad:function(e,t,n){t.store.initialValue.each(function(n){t.store.setValue(e,n)})},onUnload:G,state:qo.init})],cd=[Pn("initialValue"),Ys("manager",{setValue:function(e,t,n,i){n.set(i),t.onSetValue(e,i)},getValue:function(e,t,n){return n.get()},onLoad:function(e,t,n){t.store.initialValue.each(function(e){n.isNotSet()&&n.set(e)})},onUnload:function(e,t,n){n.clear()},state:rd})],dd=[jn("store",{mode:"memory"},gn("mode",{memory:cd,manual:ud,dataset:ld})),zs("onSetValue"),Hn("resetOnDom",!1)],fd=Nl({fields:dd,name:"representing",active:id,apis:nd,extra:{setValueFrom:function(e,t){var n=fd.getValue(t);fd.setValue(e,n)}},state:ad}),hd=function(e,t){return Yn(e,{},$e(t,function(t){return n=t.name(),i="Cannot configure "+t.name()+" for "+e,nn(n,n,Ot(),Gt(function(e){return ot("The field: "+n+" is forbidden. "+i)}));var n,i}).concat([Gn("dump",J)]))},pd=function(e){return e.dump},md=function(e,t){return ie(ie({},e.dump),Ol(t))},gd=hd,vd=md,bd="placeholder",yd=Ct([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),wd=function(e){return wt(e,"uiType")},xd=function(e,t,n,i){return wd(n)&&n.uiType===bd?(o=n,a=i,(r=e).exists(function(e){return e!==o.owner})?yd.single(!0,X(o)):yt(a,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+"\nKnown: ["+ct(a)+"]\nNamespace: "+r.getOr("none")+"\nSpec: "+JSON.stringify(o,null,2))},function(e){return e.replace()})):yd.single(!1,X(n));var r,o,a},Cd=function(e,t,n,i){return xd(e,0,n,i).fold(function(r,o){var a=wd(n)?o(t,n.config,n.validated):o(t),s=yt(a,"components").getOr([]),l=Re(s,function(n){return Cd(e,t,n,i)});return[ie(ie({},a),{components:l})]},function(e,i){if(wd(n)){var r=i(t,n.config,n.validated);return n.validated.preprocess.getOr(J)(r)}return i(t)})},_d=function(e,t,n,i){var r,o,a,s=ht(i,function(e,t){return i=e,r=!1,{name:X(n=t),required:function(){return i.fold(function(e,t){return e},function(e,t){return e})},used:function(){return r},replace:function(){if(r)throw new Error("Trying to use the same placeholder more than once: "+n);return r=!0,i}};var n,i,r}),l=(r=e,o=t,a=s,Re(n,function(e){return Cd(r,o,e,a)}));return ft(s,function(n){if(!1===n.used()&&n.required())throw new Error("Placeholder: "+n.name()+" was not found in components list\nNamespace: "+e.getOr("none")+"\nComponents: "+JSON.stringify(t.components,null,2))}),l},kd=yd.single,Sd=yd.multiple,Dd=X(bd),$d=Ct([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Td=Hn("factory",{sketch:J}),Ed=Hn("schema",[]),Ad=Dn("name"),Od=nn("pname","pname",Mt(function(e){return"<alloy."+Ao(e.name)+">"}),vn()),Md=Gn("schema",function(){return[Pn("preprocess")]}),Nd=Hn("defaults",X({})),Pd=Hn("overrides",X({})),Id=Xt([Td,Ed,Ad,Od,Nd,Pd]),Rd=Xt([Td,Ed,Ad,Nd,Pd]),Ld=Xt([Td,Ed,Ad,Od,Nd,Pd]),Bd=Xt([Td,Md,Ad,Dn("unit"),Od,Nd,Pd]),Fd=function(e){return e.fold(se.some,se.none,se.some,se.some)},Hd=function(e){var t=function(e){return e.name};return e.fold(t,t,t,t)},jd=function(e,t){return function(n){var i=hn("Converting part type",t,n);return e(i)}},Vd=jd($d.required,Id),zd=jd($d.external,Rd),Ud=jd($d.optional,Ld),Wd=jd($d.group,Bd),qd=X("entirety"),Yd=Object.freeze({__proto__:null,required:Vd,external:zd,optional:Ud,group:Wd,asNamedPart:Fd,name:Hd,asCommon:function(e){return e.fold(J,J,J,J)},original:qd}),Gd=function(e,t,n,i){return St(t.defaults(e,n,i),n,{uid:e.partUids[t.name]},t.overrides(e,n,i))},Kd=function(e,t){var n={};return Te(t,function(t){Fd(t).each(function(t){var i=Xd(e,t.pname);n[t.name]=function(n){var r=hn("Part: "+t.name+" in "+e,Xt(t.schema),n);return ie(ie({},i),{config:n,validated:r})}})}),n},Xd=function(e,t){return{uiType:Dd(),owner:e,name:t}},Jd=function(e,t,n){return{uiType:Dd(),owner:e,name:t,config:n,validated:{}}},Zd=function(e){return Re(e,function(e){return e.fold(se.none,se.some,se.none,se.none).map(function(e){return On(e.name,e.schema.concat([Gs(qd())]))}).toArray()})},Qd=function(e){return $e(e,Hd)},ef=function(e,t,n){return i=t,r={},o={},Te(n,function(e){e.fold(function(e){r[e.pname]=kd(!0,function(t,n,i){return e.factory.sketch(Gd(t,e,n,i))})},function(e){var t=i.parts[e.name];o[e.name]=X(e.factory.sketch(Gd(i,e,t[qd()]),t))},function(e){r[e.pname]=kd(!1,function(t,n,i){return e.factory.sketch(Gd(t,e,n,i))})},function(e){r[e.pname]=Sd(!0,function(t,n,i){var r=t[e.name];return $e(r,function(n){return e.factory.sketch(St(e.defaults(t,n,i),n,e.overrides(t,n)))})})})}),{internals:X(r),externals:X(o)};var i,r,o},tf=function(e,t,n){return _d(se.some(e),t,t.components,n)},nf=function(e,t,n){var i=t.partUids[n];return e.getSystem().getByUid(i).toOption()},rf=function(e,t,n){return nf(e,t,n).getOrDie("Could not find part: "+n)},of=function(e,t,n){var i={},r=t.partUids,o=e.getSystem();return Te(n,function(e){i[e]=X(o.getByUid(r[e]))}),i},af=function(e,t){var n=e.getSystem();return ht(t.partUids,function(e,t){return X(n.getByUid(e))})},sf=function(e){return ct(e.partUids)},lf=function(e,t,n){var i={},r=t.partUids,o=e.getSystem();return Te(n,function(e){i[e]=X(o.getByUid(r[e]).getOrDie())}),i},uf=function(e,t){var n=Qd(t);return Lt($e(n,function(t){return{key:t,value:e+"-"+t}}))},cf=function(e){return nn("partUids","partUids",Nt(function(t){return uf(t.uid,e)}),vn())},df=Object.freeze({__proto__:null,generate:Kd,generateOne:Jd,schemas:Zd,names:Qd,substitutes:ef,components:tf,defaultUids:uf,defaultUidsSchema:cf,getAllParts:af,getAllPartNames:sf,getPart:nf,getPartOrDie:rf,getParts:of,getPartsOrDie:lf}),ff=function(e,t,n,i,r){var o,a,s=(a=r,(0<(o=i).length?[On("parts",o)]:[]).concat([Dn("uid"),Hn("dom",{}),Hn("components",[]),Gs("originalSpec"),Hn("debug.sketcher",{})]).concat(a));return hn(e+" [SpecSchema]",Kt(s.concat(t)),n)},hf=function(e,t,n,i,r){var o=pf(r),a=Zd(n),s=cf(n),l=ff(e,t,o,a,[s]),u=ef(0,l,n);return i(l,tf(e,l,u.internals()),o,u.externals())},pf=function(e){return wt(e,"uid")?e:ie(ie({},e),{uid:Lo("uid")})},mf=Kt([Dn("name"),Dn("factory"),Dn("configFields"),Hn("apis",{}),Hn("extraApis",{})]),gf=Kt([Dn("name"),Dn("factory"),Dn("configFields"),Dn("partFields"),Hn("apis",{}),Hn("extraApis",{})]),vf=function(e){var t=hn("Sketcher for "+e.name,mf,e),n=ht(t.apis,Wo),i=ht(t.extraApis,function(e,t){return Vo(e,t)});return ie(ie({name:X(t.name),configFields:X(t.configFields),sketch:function(e){return n=t.name,i=t.configFields,r=t.factory,o=pf(e),r(ff(n,i,o,[],[]),o);var n,i,r,o}},n),i)},bf=function(e){var t=hn("Sketcher for "+e.name,gf,e),n=Kd(t.name,t.partFields),i=ht(t.apis,Wo),r=ht(t.extraApis,function(e,t){return Vo(e,t)});return ie(ie({name:X(t.name),partFields:X(t.partFields),configFields:X(t.configFields),sketch:function(e){return hf(t.name,t.configFields,t.partFields,t.factory,e)},parts:X(n)},i),r)},yf=function(e){for(var t=[],n=function(e){t.push(e)},i=0;i<e.length;i++)e[i].each(n);return t},wf=function(e){return"input"===Yr(e)&&"radio"!==wo(e,"type")||"textarea"===Yr(e)},xf=Object.freeze({__proto__:null,getCurrent:function(e,t,n){return t.find(e)}}),Cf=[Dn("find")],_f=Nl({fields:Cf,name:"composing",apis:xf}),kf=function(e,t,n,i){var r=ju(e.element(),"."+t.highlightClass);Te(r,function(n){ke(i,function(e){return e.element()===n})||(ca(n,t.highlightClass),e.getSystem().getByDom(n).each(function(n){t.onDehighlight(e,n),$r(n,Dr())}))})},Sf=function(e,t,n,i){kf(e,t,0,[i]),Df(e,t,n,i)||(la(i.element(),t.highlightClass),t.onHighlight(e,i),$r(i,Sr()))},Df=function(e,t,n,i){return da(i.element(),t.highlightClass)},$f=function(e,t,n,i){var r=ju(e.element(),"."+t.itemClass);return se.from(r[i]).fold(function(){return Ye.error("No element found with index "+i)},e.getSystem().getByDom)},Tf=function(e,t,n){return _s(e.element(),"."+t.itemClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Ef=function(e,t,n){var i=ju(e.element(),"."+t.itemClass);return(0<i.length?se.some(i[i.length-1]):se.none()).bind(function(t){return e.getSystem().getByDom(t).toOption()})},Af=function(e,t,n,i){var r=ju(e.element(),"."+t.itemClass);return Pe(r,function(e){return da(e,t.highlightClass)}).bind(function(t){var n=eu(t,i,0,r.length-1);return e.getSystem().getByDom(r[n]).toOption()})},Of=function(e,t,n){var i=ju(e.element(),"."+t.itemClass);return yf($e(i,function(t){return e.getSystem().getByDom(t).toOption()}))},Mf=Object.freeze({__proto__:null,dehighlightAll:function(e,t,n){return kf(e,t,0,[])},dehighlight:function(e,t,n,i){Df(e,t,n,i)&&(ca(i.element(),t.highlightClass),t.onDehighlight(e,i),$r(i,Dr()))},highlight:Sf,highlightFirst:function(e,t,n){Tf(e,t).each(function(i){Sf(e,t,n,i)})},highlightLast:function(e,t,n){Ef(e,t).each(function(i){Sf(e,t,n,i)})},highlightAt:function(e,t,n,i){$f(e,t,n,i).fold(function(e){throw new Error(e)},function(i){Sf(e,t,n,i)})},highlightBy:function(e,t,n,i){var r=Of(e,t);Ne(r,i).each(function(i){Sf(e,t,n,i)})},isHighlighted:Df,getHighlighted:function(e,t,n){return _s(e.element(),"."+t.highlightClass).bind(function(t){return e.getSystem().getByDom(t).toOption()})},getFirst:Tf,getLast:Ef,getPrevious:function(e,t,n){return Af(e,t,0,-1)},getNext:function(e,t,n){return Af(e,t,0,1)},getCandidates:Of}),Nf=[Dn("highlightClass"),Dn("itemClass"),zs("onHighlight"),zs("onDehighlight")],Pf=Nl({fields:Nf,name:"highlighting",apis:Mf}),If=function(){return[13]},Rf=function(){return[27]},Lf=function(){return[32]},Bf=function(){return[37]},Ff=function(){return[38]},Hf=function(){return[39]},jf=function(){return[40]},Vf=function(e,t,n){var i=Be(e.slice(0,t)),r=Be(e.slice(t+1));return Ne(i.concat(r),n)},zf=function(e,t,n){var i=Be(e.slice(0,t));return Ne(i,n)},Uf=function(e,t,n){var i=e.slice(0,t),r=e.slice(t+1);return Ne(r.concat(i),n)},Wf=function(e,t,n){var i=e.slice(t+1);return Ne(i,n)},qf=function(e){return function(t){var n=t.raw();return _e(e,n.which)}},Yf=function(e){return function(t){return Le(e,function(e){return e(t)})}},Gf=function(e){return!0===e.raw().shiftKey},Kf=function(e){return!0===e.raw().ctrlKey},Xf=Z(Gf),Jf=function(e,t){return{matches:e,classification:t}},Zf=function(e,t,n){t.exists(function(e){return n.exists(function(t){return Ti(t,e)})})||Tr(e,xr(),{prevFocus:t,newFocus:n})},Qf=function(){var e=function(e){return zl(e.element())};return{get:e,set:function(t,n){var i=e(t);t.getSystem().triggerFocus(n,t.element());var r=e(t);Zf(t,i,r)}}},eh=function(){var e=function(e){return Pf.getHighlighted(e).map(function(e){return e.element()})};return{get:e,set:function(t,n){var i=e(t);t.getSystem().getByDom(n).fold(G,function(e){Pf.highlight(t,e)});var r=e(t);Zf(t,i,r)}}};(Iu=Pu=Pu||{}).OnFocusMode="onFocus",Iu.OnEnterOrSpaceMode="onEnterOrSpace",Iu.OnApiMode="onApi";var th,nh,ih,rh=function(e,t,n,i,r){var o=function(e,t,n,i,r){var o,a,s=n(e,t,i,r);return o=s,a=t.event(),Ne(o,function(e){return e.matches(a)}).map(function(e){return e.classification}).bind(function(n){return n(e,t,i,r)})},a={schema:function(){return e.concat([Hn("focusManager",Qf()),jn("focusInside","onFocus",un(function(e){return _e(["onFocus","onEnterOrSpace","onApi"],e)?Ye.value(e):Ye.error("Invalid value for focusInside")})),Ys("handler",a),Ys("state",t),Ys("sendFocusIn",r)])},processKey:o,toEvents:function(e,t){var a=e.focusInside!==Pu.OnFocusMode?se.none():r(e).map(function(n){return Rr(nr(),function(i,r){n(i,e,t),r.stop()})}),s=[Rr(Gi(),function(i,a){o(i,a,n,e,t).fold(function(){var n,o,s;n=i,o=a,s=qf(Lf().concat(If()))(o.event()),e.focusInside===Pu.OnEnterOrSpaceMode&&s&&Pi(n,o)&&r(e).each(function(i){i(n,e,t),o.stop()})},function(e){a.stop()})}),Rr(Ki(),function(n,r){o(n,r,i,e,t).each(function(e){r.stop()})})];return Nr(a.toArray().concat(s))}};return a},oh=function(e){var n=[Pn("onEscape"),Pn("onEnter"),Hn("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),Hn("firstTabstop",0),Hn("useTabstopAt",X(!0)),Pn("visibilitySelector")].concat([e]),i=function(e,t){var n=e.visibilitySelector.bind(function(e){return ks(t,e)}).getOr(t);return 0<Ka(n)},r=function(e,t,n){var r,o,a;r=t,o=ju(e.element(),r.selector),a=Ae(o,function(e){return i(r,e)}),se.from(a[r.firstTabstop]).each(function(n){t.focusManager.set(e,n)})},o=function(e,t,n,r,o){return o(t,n,function(e){return i(t=r,n=e)&&t.useTabstopAt(n);var t,n}).fold(function(){return r.cyclic?se.some(!0):se.none()},function(t){return r.focusManager.set(e,t),se.some(!0)})},a=function(e,n,i,r){var a,s,l=ju(e.element(),i.selector);return a=e,(s=i).focusManager.get(a).bind(function(e){return ks(e,s.selector)}).bind(function(n){return Pe(l,t(Ti,n)).bind(function(t){return o(e,l,t,i,r)})})},s=X([Jf(Yf([Gf,qf([9])]),function(e,t,n){var i=n.cyclic?Vf:zf;return a(e,0,n,i)}),Jf(qf([9]),function(e,t,n){var i=n.cyclic?Uf:Wf;return a(e,0,n,i)}),Jf(qf(Rf()),function(e,t,n){return n.onEscape.bind(function(n){return n(e,t)})}),Jf(Yf([Xf,qf(If())]),function(e,t,n){return n.onEnter.bind(function(n){return n(e,t)})})]),l=X([]);return rh(n,qo.init,s,l,function(){return se.some(r)})},ah=oh(Gn("cyclic",X(!1))),sh=oh(Gn("cyclic",X(!0))),lh=function(e,t,n){return wf(n)&&qf(Lf())(t.event())?se.none():(Ar(e,n,ar()),se.some(!0))},uh=function(e,t){return se.some(!0)},ch=[Hn("execute",lh),Hn("useSpace",!1),Hn("useEnter",!0),Hn("useControlEnter",!1),Hn("useDown",!1)],dh=function(e,t,n){return n.execute(e,t,e.element())},fh=rh(ch,qo.init,function(e,t,n,i){var r=n.useSpace&&!wf(e.element())?Lf():[],o=n.useEnter?If():[],a=n.useDown?jf():[],s=r.concat(o).concat(a);return[Jf(qf(s),dh)].concat(n.useControlEnter?[Jf(Yf([Kf,qf(If())]),dh)]:[])},function(e,t,n,i){return n.useSpace&&!wf(e.element())?[Jf(qf(Lf()),uh)]:[]},function(){return se.none()}),hh=function(){var e=Kn(se.none());return Yo({readState:function(){return e.get().map(function(e){return{numRows:String(e.numRows),numColumns:String(e.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:function(t,n){e.set(se.some({numRows:t,numColumns:n}))},getNumRows:function(){return e.get().map(function(e){return e.numRows})},getNumColumns:function(){return e.get().map(function(e){return e.numColumns})}})},ph=Object.freeze({__proto__:null,flatgrid:hh,init:function(e){return e.state(e)}}),mh=function(e){return function(t,n,i,r){var o=e(t.element());return yh(o,t,n,i,r)}},gh=function(e,t){var n=mu(e,t);return mh(n)},vh=function(e,t){var n=mu(t,e);return mh(n)},bh=function(e){return function(t,n,i,r){return yh(e,t,n,i,r)}},yh=function(e,t,n,i,r){return i.focusManager.get(t).bind(function(n){return e(t.element(),n,i,r)}).map(function(e){return i.focusManager.set(t,e),!0})},wh=bh,xh=bh,Ch=bh,_h=function(e){return!((t=e.dom()).offsetWidth<=0&&t.offsetHeight<=0);var t},kh=function(e,t,n){var i,r=ju(e,n),o=Ae(r,_h);return Pe(i=o,function(e){return Ti(e,t)}).map(function(e){return{index:X(e),candidates:X(i)}})},Sh=function(e,t){return Pe(e,function(e){return Ti(t,e)})},Dh=function(e,t,n,i){return i(Math.floor(t/n),t%n).bind(function(t){var i=t.row()*n+t.column();return 0<=i&&i<e.length?se.some(e[i]):se.none()})},$h=function(e,t,n,i,r){return Dh(e,t,i,function(t,o){var a=t===n-1?e.length-t*i:i,s=eu(o,r,0,a-1);return se.some({row:X(t),column:X(s)})})},Th=function(e,t,n,i,r){return Dh(e,t,i,function(t,o){var a=eu(t,r,0,n-1),s=a===n-1?e.length-a*i:i,l=tu(o,0,s-1);return se.some({row:X(a),column:X(l)})})},Eh=[Dn("selector"),Hn("execute",lh),Us("onEscape"),Hn("captureTab",!1),Ks()],Ah=function(e,t,n){_s(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},Oh=function(e){return function(t,n,i,r){return kh(t,n,i.selector).bind(function(t){return e(t.candidates(),t.index(),r.getNumRows().getOr(i.initSize.numRows),r.getNumColumns().getOr(i.initSize.numColumns))})}},Mh=function(e,t,n){return n.captureTab?se.some(!0):se.none()},Nh=Oh(function(e,t,n,i){return $h(e,t,n,i,-1)}),Ph=Oh(function(e,t,n,i){return $h(e,t,n,i,1)}),Ih=Oh(function(e,t,n,i){return Th(e,t,n,i,-1)}),Rh=Oh(function(e,t,n,i){return Th(e,t,n,i,1)}),Lh=X([Jf(qf(Bf()),gh(Nh,Ph)),Jf(qf(Hf()),vh(Nh,Ph)),Jf(qf(Ff()),wh(Ih)),Jf(qf(jf()),xh(Rh)),Jf(Yf([Gf,qf([9])]),Mh),Jf(Yf([Xf,qf([9])]),Mh),Jf(qf(Rf()),function(e,t,n){return n.onEscape(e,t)}),Jf(qf(Lf().concat(If())),function(e,t,n,i){return r=e,(o=n).focusManager.get(r).bind(function(e){return ks(e,o.selector)}).bind(function(i){return n.execute(e,t,i)});var r,o})]),Bh=X([Jf(qf(Lf()),uh)]),Fh=rh(Eh,hh,Lh,Bh,function(){return se.some(Ah)}),Hh=function(e,t,n,i){var r=function(e,t,n){var o,a=eu(t,i,0,n.length-1);return a===e?se.none():(o=n[a],"button"===Yr(o)&&"disabled"===wo(o,"disabled")?r(e,a,n):se.from(n[a]))};return kh(e,n,t).bind(function(e){var t=e.index(),n=e.candidates();return r(t,t,n)})},jh=[Dn("selector"),Hn("getInitial",se.none),Hn("execute",lh),Us("onEscape"),Hn("executeOnMove",!1),Hn("allowVertical",!0)],Vh=function(e,t,n){return i=e,(r=n).focusManager.get(i).bind(function(e){return ks(e,r.selector)}).bind(function(i){return n.execute(e,t,i)});var i,r},zh=function(e,t,n){t.getInitial(e).orThunk(function(){return _s(e.element(),t.selector)}).each(function(n){t.focusManager.set(e,n)})},Uh=function(e,t,n){return Hh(e,n.selector,t,-1)},Wh=function(e,t,n){return Hh(e,n.selector,t,1)},qh=function(e){return function(t,n,i,r){return e(t,n,i,r).bind(function(){return i.executeOnMove?Vh(t,n,i):se.some(!0)})}},Yh=function(e,t,n){return n.onEscape(e,t)},Gh=X([Jf(qf(Lf()),uh)]),Kh=rh(jh,qo.init,function(e,t,n,i){var r=Bf().concat(n.allowVertical?Ff():[]),o=Hf().concat(n.allowVertical?jf():[]);return[Jf(qf(r),qh(gh(Uh,Wh))),Jf(qf(o),qh(vh(Uh,Wh))),Jf(qf(If()),Vh),Jf(qf(Lf()),Vh),Jf(qf(Rf()),Yh)]},Gh,function(){return se.some(zh)}),Xh=function(e,t,n){return se.from(e[t]).bind(function(e){return se.from(e[n]).map(function(e){return{rowIndex:t,columnIndex:n,cell:e}})})},Jh=function(e,t,n,i){var r=e[t].length,o=eu(n,i,0,r-1);return Xh(e,t,o)},Zh=function(e,t,n,i){var r=eu(n,i,0,e.length-1),o=e[r].length,a=tu(t,0,o-1);return Xh(e,r,a)},Qh=function(e,t,n,i){var r=e[t].length,o=tu(n+i,0,r-1);return Xh(e,t,o)},ep=function(e,t,n,i){var r=tu(n+i,0,e.length-1),o=e[r].length,a=tu(t,0,o-1);return Xh(e,r,a)},tp=[On("selectors",[Dn("row"),Dn("cell")]),Hn("cycles",!0),Hn("previousSelector",se.none),Hn("execute",lh)],np=function(e,t,n){t.previousSelector(e).orThunk(function(){var n=t.selectors;return _s(e.element(),n.cell)}).each(function(n){t.focusManager.set(e,n)})},ip=function(e,t){return function(n,i,r){var o=r.cycles?e:t;return ks(i,r.selectors.row).bind(function(e){var t=ju(e,r.selectors.cell);return Sh(t,i).bind(function(t){var i=ju(n,r.selectors.row);return Sh(i,e).bind(function(e){var n,a=(n=r,$e(i,function(e){return ju(e,n.selectors.cell)}));return o(a,e,t).map(function(e){return e.cell})})})})}},rp=ip(function(e,t,n){return Jh(e,t,n,-1)},function(e,t,n){return Qh(e,t,n,-1)}),op=ip(function(e,t,n){return Jh(e,t,n,1)},function(e,t,n){return Qh(e,t,n,1)}),ap=ip(function(e,t,n){return Zh(e,n,t,-1)},function(e,t,n){return ep(e,n,t,-1)}),sp=ip(function(e,t,n){return Zh(e,n,t,1)},function(e,t,n){return ep(e,n,t,1)}),lp=X([Jf(qf(Bf()),gh(rp,op)),Jf(qf(Hf()),vh(rp,op)),Jf(qf(Ff()),wh(ap)),Jf(qf(jf()),xh(sp)),Jf(qf(Lf().concat(If())),function(e,t,n){return zl(e.element()).bind(function(i){return n.execute(e,t,i)})})]),up=X([Jf(qf(Lf()),uh)]),cp=rh(tp,qo.init,lp,up,function(){return se.some(np)}),dp=[Dn("selector"),Hn("execute",lh),Hn("moveOnTab",!1)],fp=function(e,t,n){return n.focusManager.get(e).bind(function(i){return n.execute(e,t,i)})},hp=function(e,t,n){_s(e.element(),t.selector).each(function(n){t.focusManager.set(e,n)})},pp=function(e,t,n){return Hh(e,n.selector,t,-1)},mp=function(e,t,n){return Hh(e,n.selector,t,1)},gp=X([Jf(qf(Ff()),Ch(pp)),Jf(qf(jf()),Ch(mp)),Jf(Yf([Gf,qf([9])]),function(e,t,n,i){return n.moveOnTab?Ch(pp)(e,t,n,i):se.none()}),Jf(Yf([Xf,qf([9])]),function(e,t,n,i){return n.moveOnTab?Ch(mp)(e,t,n,i):se.none()}),Jf(qf(If()),fp),Jf(qf(Lf()),fp)]),vp=X([Jf(qf(Lf()),uh)]),bp=rh(dp,qo.init,gp,vp,function(){return se.some(hp)}),yp=[Us("onSpace"),Us("onEnter"),Us("onShiftEnter"),Us("onLeft"),Us("onRight"),Us("onTab"),Us("onShiftTab"),Us("onUp"),Us("onDown"),Us("onEscape"),Hn("stopSpaceKeyup",!1),Pn("focusIn")],wp=rh(yp,qo.init,function(e,t,n){return[Jf(qf(Lf()),n.onSpace),Jf(Yf([Xf,qf(If())]),n.onEnter),Jf(Yf([Gf,qf(If())]),n.onShiftEnter),Jf(Yf([Gf,qf([9])]),n.onShiftTab),Jf(Yf([Xf,qf([9])]),n.onTab),Jf(qf(Ff()),n.onUp),Jf(qf(jf()),n.onDown),Jf(qf(Bf()),n.onLeft),Jf(qf(Hf()),n.onRight),Jf(qf(Lf()),n.onSpace),Jf(qf(Rf()),n.onEscape)]},function(e,t,n){return n.stopSpaceKeyup?[Jf(qf(Lf()),uh)]:[]},function(e){return e.focusIn}),xp=ah.schema(),Cp=sh.schema(),_p=Kh.schema(),kp=Fh.schema(),Sp=cp.schema(),Dp=fh.schema(),$p=bp.schema(),Tp=wp.schema(),Ep=Il({branchKey:"mode",branches:Object.freeze({__proto__:null,acyclic:xp,cyclic:Cp,flow:_p,flatgrid:kp,matrix:Sp,execution:Dp,menu:$p,special:Tp}),name:"keying",active:{events:function(e,t){return e.handler.toEvents(e,t)}},apis:{focusIn:function(e,t,n){t.sendFocusIn(t).fold(function(){e.getSystem().triggerFocus(e.element(),e.element())},function(i){i(e,t,n)})},setGridSize:function(t,n,i,r,o){xt(i,"setGridSize")?i.setGridSize(r,o):e.console.error("Layout does not support setGridSize")}},state:ph}),Ap=function(e,t,n,i){var r=e.getSystem().build(i);Ac(e,r,n)},Op=function(e,t,n,i){var r=Mp(e);Ne(r,function(e){return Ti(i.element(),e.element())}).each(Mc)},Mp=function(e,t){return e.components()},Np=function(e,t,n,i,r){var o=Mp(e);return se.from(o[i]).map(function(t){return Op(e,0,0,t),r.each(function(t){Ap(e,0,function(e,t){var n,r;r=t,ao(n=e,i).fold(function(){co(n,r)},function(e){so(e,r)})},t)}),t})},Pp=Nl({fields:[],name:"replacing",apis:Object.freeze({__proto__:null,append:function(e,t,n,i){Ap(e,0,co,i)},prepend:function(e,t,n,i){Ap(e,0,uo,i)},remove:Op,replaceAt:Np,replaceBy:function(e,t,n,i,r){var o=Mp(e);return Pe(o,i).bind(function(t){return Np(e,0,0,t,r)})},set:function(e,t,n,i){Ul(function(){var t=$e(i,e.getSystem().build);Tc(e,t)},e.element())},contents:Mp})}),Ip=function(e,t){var n,i;return{key:e,value:{config:{},me:(n=e,i=Nr(t),Nl({fields:[Dn("enabled")],name:n,active:{events:X(i)}})),configAsRaw:X({}),initialConfig:{},state:qo}}},Rp=function(e,t){t.ignore||(jl(e.element()),t.onFocus(e))},Lp=Object.freeze({__proto__:null,focus:Rp,blur:function(e,t){t.ignore||e.element().dom().blur()},isFocused:function(e){return t=e.element(),n=ba(t).dom(),t.dom()===n.activeElement;var t,n}}),Bp=Object.freeze({__proto__:null,exhibit:function(e,t){var n=t.ignore?{}:{attributes:{tabindex:"-1"}};return Ko(n)},events:function(e){return Nr([Rr(nr(),function(t,n){Rp(t,e),n.stop()})].concat(e.stopMousedown?[Rr(ji(),function(e,t){t.event().prevent()})]:[]))}}),Fp=[zs("onFocus"),Hn("stopMousedown",!1),Hn("ignore",!1)],Hp=Nl({fields:Fp,name:"focusing",active:Bp,apis:Lp}),jp=function(e,t,n){var i=t.aria;i.update(e,i,n.get())},Vp=function(e,t,n){t.toggleClass.each(function(t){(n.get()?la:ca)(e.element(),t)})},zp=function(e,t,n){qp(e,t,n,!n.get())},Up=function(e,t,n){n.set(!0),Vp(e,t,n),jp(e,t,n)},Wp=function(e,t,n){n.set(!1),Vp(e,t,n),jp(e,t,n)},qp=function(e,t,n,i){(i?Up:Wp)(e,t,n)},Yp=function(e,t,n){qp(e,t,n,t.selected)},Gp=Object.freeze({__proto__:null,onLoad:Yp,toggle:zp,isOn:function(e,t,n){return n.get()},on:Up,off:Wp,set:qp}),Kp=Object.freeze({__proto__:null,exhibit:function(){return Ko({})},events:function(e,t){var n,i,r,o=(n=e,i=t,r=zp,qr(function(e){r(e,n,i)})),a=Dl(e,t,Yp);return Nr(Ie([e.toggleOnExecute?[o]:[],[a]]))}}),Xp=function(e,t,n){yo(e.element(),"aria-expanded",n)},Jp=[Hn("selected",!1),Pn("toggleClass"),Hn("toggleOnExecute",!0),jn("aria",{mode:"none"},gn("mode",{pressed:[Hn("syncWithExpanded",!1),Ys("update",function(e,t,n){yo(e.element(),"aria-pressed",n),t.syncWithExpanded&&Xp(e,t,n)})],checked:[Ys("update",function(e,t,n){yo(e.element(),"aria-checked",n)})],expanded:[Ys("update",Xp)],selected:[Ys("update",function(e,t,n){yo(e.element(),"aria-selected",n)})],none:[Ys("update",G)]}))],Zp=Nl({fields:Jp,name:"toggling",active:Kp,apis:Gp,state:(th=!1,{init:function(){var e=Kn(th);return{get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(th)},readState:function(){return e.get()}}}})}),Qp=function(){var e=function(e,t){t.stop(),Er(e)};return[Rr(Zi(),e),Rr(lr(),e),jr(Li()),jr(ji())]},em=function(e){return Nr(Ie([e.map(function(e){return qr(function(t,n){e(t),n.stop()})}).toArray(),Qp()]))},tm="alloy.item-hover",nm="alloy.item-focus",im=function(e){(zl(e.element()).isNone()||Hp.isFocused(e))&&(Hp.isFocused(e)||Hp.focus(e),Tr(e,tm,{item:e}))},rm=function(e){Tr(e,nm,{item:e})},om=X(tm),am=X(nm),sm=[Dn("data"),Dn("components"),Dn("dom"),Hn("hasSubmenu",!1),Pn("toggling"),gd("itemBehaviours",[Zp,Hp,Ep,fd]),Hn("ignoreFocus",!1),Hn("domModification",{}),Ys("builder",function(e){return{dom:e.dom,domModification:ie(ie({},e.domModification),{attributes:ie(ie(ie({role:e.toggling.isSome()?"menuitemcheckbox":"menuitem"},e.domModification.attributes),{"aria-haspopup":e.hasSubmenu}),e.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:vd(e.itemBehaviours,[e.toggling.fold(Zp.revoke,function(e){return Zp.config(ie({aria:{mode:"checked"}},e))}),Hp.config({ignore:e.ignoreFocus,stopMousedown:e.ignoreFocus,onFocus:function(e){rm(e)}}),Ep.config({mode:"execution"}),fd.config({store:{mode:"memory",initialValue:e.data}}),Ip("item-type-events",i(Qp(),[Rr(Wi(),im),Rr(sr(),Hp.focus)]))]),components:e.components,eventOrder:e.eventOrder}}),Hn("eventOrder",{})],lm=[Dn("dom"),Dn("components"),Ys("builder",function(e){return{dom:e.dom,components:e.components,events:Nr([(t=sr(),Rr(t,function(e,t){t.stop()}))])};var t})],um=function(){return"item-widget"},cm=X([Vd({name:"widget",overrides:function(e){return{behaviours:Ol([fd.config({store:{mode:"manual",getValue:function(t){return e.data},setValue:function(){}}})])}}})]),dm=[Dn("uid"),Dn("data"),Dn("components"),Dn("dom"),Hn("autofocus",!1),Hn("ignoreFocus",!1),gd("widgetBehaviours",[fd,Hp,Ep]),Hn("domModification",{}),cf(cm()),Ys("builder",function(e){var t=ef(um(),e,cm()),n=tf(um(),e,t.internals()),i=function(t){return nf(t,e,"widget").map(function(e){return Ep.focusIn(e),e})},r=function(t,n){return wf(n.event().target())||e.autofocus&&n.setSource(t.element()),se.none()};return{dom:e.dom,components:n,domModification:e.domModification,events:Nr([qr(function(e,t){i(e).each(function(e){t.stop()})}),Rr(Wi(),im),Rr(sr(),function(t,n){e.autofocus?i(t):Hp.focus(t)})]),behaviours:vd(e.widgetBehaviours,[fd.config({store:{mode:"memory",initialValue:e.data}}),Hp.config({ignore:e.ignoreFocus,onFocus:function(e){rm(e)}}),Ep.config({mode:"special",focusIn:e.autofocus?function(e){i(e)}:Rl(),onLeft:r,onRight:r,onEscape:function(t,n){return Hp.isFocused(t)||e.autofocus?(e.autofocus&&n.setSource(t.element()),se.none()):(Hp.focus(t),se.some(!0))}})])}})],fm=gn("type",{widget:dm,item:sm,separator:lm}),hm=X([Wd({factory:{sketch:function(e){var t=hn("menu.spec item",fm,e);return t.builder(t)}},name:"items",unit:"item",defaults:function(e,t){return t.hasOwnProperty("uid")?t:ie(ie({},t),{uid:Lo("item")})},overrides:function(e,t){return{type:t.type,ignoreFocus:e.fakeFocus,domModification:{classes:[e.markers.item]}}}})]),pm=X([Dn("value"),Dn("items"),Dn("dom"),Dn("components"),Hn("eventOrder",{}),hd("menuBehaviours",[Pf,fd,_f,Ep]),jn("movement",{mode:"menu",moveOnTab:!0},gn("mode",{grid:[Ks(),Ys("config",function(e,t){return{mode:"flatgrid",selector:"."+e.markers.item,initSize:{numColumns:t.initSize.numColumns,numRows:t.initSize.numRows},focusManager:e.focusManager}})],matrix:[Ys("config",function(e,t){return{mode:"matrix",selectors:{row:t.rowSelector,cell:"."+e.markers.item},focusManager:e.focusManager}}),Dn("rowSelector")],menu:[Hn("moveOnTab",!0),Ys("config",function(e,t){return{mode:"menu",selector:"."+e.markers.item,moveOnTab:t.moveOnTab,focusManager:e.focusManager}})]})),$n("markers",Bs()),Hn("fakeFocus",!1),Hn("focusManager",Qf()),zs("onHighlight")]),mm=X("alloy.menu-focus"),gm=bf({name:"Menu",configFields:pm(),partFields:hm(),factory:function(e,t,n,i){return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.menuBehaviours,[Pf.config({highlightClass:e.markers.selectedItem,itemClass:e.markers.item,onHighlight:e.onHighlight}),fd.config({store:{mode:"memory",initialValue:e.value}}),_f.config({find:se.some}),Ep.config(e.movement.config(e,e.movement))]),events:Nr([Rr(am(),function(e,t){var n=t.event();e.getSystem().getByDom(n.target()).each(function(n){Pf.highlight(e,n),t.stop(),Tr(e,mm(),{menu:e,item:n})})}),Rr(om(),function(e,t){var n=t.event().item();Pf.highlight(e,n)})]),components:t,eventOrder:e.eventOrder,domModification:{attributes:{role:"menu"}}}}}),vm=function(e,t,n,i){return yt(n,i).bind(function(i){return yt(e,i).bind(function(i){var r=vm(e,t,n,i);return se.some([i].concat(r))})}).getOr([])},bm=function(e,t){var n={};ft(e,function(e,t){Te(e,function(e){n[e]=t})});var i=t,r=pt(t,function(e,t){return{k:e,v:t}}),o=ht(r,function(e,t){return[t].concat(vm(n,i,r,t))});return ht(n,function(e){return yt(o,e).getOr([e])})},ym=function(e){return"prepared"===e.type?se.some(e.menu):se.none()},wm={init:function(){var e=Kn({}),t=Kn({}),n=Kn({}),i=Kn(se.none()),r=Kn({}),o=function(t,n,i){return a(t).bind(function(r){return o=t,vt(e.get(),function(e,t){return e===o}).bind(function(e){return n(e).map(function(e){return{triggeredMenu:r,triggeringItem:e,triggeringPath:i}})});var o})},a=function(e){return s(e).bind(ym)},s=function(e){return yt(t.get(),e)},l=function(t){return yt(e.get(),t)};return{setMenuBuilt:function(e,n){var i;t.set(ie(ie({},t.get()),((i={})[e]={type:"prepared",menu:n},i)))},setContents:function(o,a,s,l){i.set(se.some(o)),e.set(s),t.set(a),r.set(l);var u=bm(l,s);n.set(u)},expand:function(t){return yt(e.get(),t).map(function(e){var i=yt(n.get(),t).getOr([]);return[e].concat(i)})},refresh:function(e){return yt(n.get(),e)},collapse:function(e){return yt(n.get(),e).bind(function(e){return 1<e.length?se.some(e.slice(1)):se.none()})},lookupMenu:s,lookupItem:l,otherMenus:function(e){var t=r.get();return Fe(ct(t),e)},getPrimary:function(){return i.get().bind(a)},getMenus:function(){return t.get()},clear:function(){e.set({}),t.set({}),n.set({}),i.set(se.none())},isClear:function(){return i.get().isNone()},getTriggeringPath:function(e,t){var r=Ae(l(e).toArray(),function(e){
return a(e).isSome()});return yt(n.get(),e).bind(function(e){var n=Be(r.concat(e));return function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];if(!i.isSome())return se.none();t.push(i.getOrDie())}return se.some(t)}(Re(n,function(e,r){return o(e,t,n.slice(0,r+1)).fold(function(){return i.get().is(e)?[]:[se.none()]},function(e){return[se.some(e)]})}))})}}},extractPreparedMenu:ym},xm=X("collapse-item"),Cm=vf({name:"TieredMenu",configFields:[qs("onExecute"),qs("onEscape"),Ws("onOpenMenu"),Ws("onOpenSubmenu"),zs("onRepositionMenu"),zs("onCollapseMenu"),Hn("highlightImmediately",!0),On("data",[Dn("primary"),Dn("menus"),Dn("expansions")]),Hn("fakeFocus",!1),zs("onHighlight"),zs("onHover"),Hs(),Dn("dom"),Hn("navigateOnHover",!0),Hn("stayInDom",!1),hd("tmenuBehaviours",[Ep,Pf,_f,Pp]),Hn("eventOrder",{})],apis:{collapseMenu:function(e,t){e.collapseMenu(t)},highlightPrimary:function(e,t){e.highlightPrimary(t)},repositionMenus:function(e,t){e.repositionMenus(t)}},factory:function(e,t){var n,i,r=Kn(se.none()),o=wm.init(),a=function(t){var n,i,r,a=(n=t,i=e.data.primary,r=e.data.menus,ht(r,function(t,r){var o=function(){return gm.sketch(ie(ie({},t),{value:r,markers:e.markers,fakeFocus:e.fakeFocus,onHighlight:e.onHighlight,focusManager:(e.fakeFocus?eh:Qf)()}))};return r===i?{type:"prepared",menu:n.getSystem().build(o())}:{type:"notbuilt",nbMenu:o}})),s=l();return o.setContents(e.data.primary,a,e.data.expansions,s),o.getPrimary()},s=function(e){return fd.getValue(e).value},l=function(t){return ht(e.data.menus,function(e,t){return Re(e.items,function(e){return"separator"===e.type?[]:[e.data.value]})})},u=function(e,t){Pf.highlight(e,t),Pf.getHighlighted(t).orThunk(function(){return Pf.getFirst(t)}).each(function(t){Ar(e,t.element(),sr())})},c=function(e,t){return yf($e(t,function(t){return e.lookupMenu(t).bind(function(e){return"prepared"===e.type?se.some(e.menu):se.none()})}))},d=function(t,n,i){var r=c(n,n.otherMenus(i));Te(r,function(n){ha(n.element(),[e.markers.backgroundMenu]),e.stayInDom||Pp.remove(t,n)})},f=function(t,n){var i,o=(i=t,r.get().getOrThunk(function(){var t={},n=ju(i.element(),"."+e.markers.item),o=Ae(n,function(e){return"true"===wo(e,"aria-haspopup")});return Te(o,function(e){i.getSystem().getByDom(e).each(function(e){var n=s(e);t[n]=e})}),r.set(se.some(t)),t}));ft(o,function(e,t){var i=_e(n,t);yo(e.element(),"aria-expanded",i)})},h=function(t,n,i){return se.from(i[0]).bind(function(r){return n.lookupMenu(r).bind(function(r){if("notbuilt"===r.type)return se.none();var o=r.menu,a=c(n,i.slice(1));return Te(a,function(t){la(t.element(),e.markers.backgroundMenu)}),xa(o.element())||Pp.append(t,Ya(o)),ha(o.element(),[e.markers.backgroundMenu]),u(t,o),d(t,n,i),se.some(o)})})};(i=n=n||{})[i.HighlightSubmenu=0]="HighlightSubmenu",i[i.HighlightParent=1]="HighlightParent";var p=function(t,i,r){void 0===r&&(r=n.HighlightSubmenu);var a=s(i);return o.expand(a).bind(function(a){return f(t,a),se.from(a[0]).bind(function(s){return o.lookupMenu(s).bind(function(l){var u=function(e,t,n){if("notbuilt"!==n.type)return n.menu;var i=e.getSystem().build(n.nbMenu());return o.setMenuBuilt(t,i),i}(t,s,l);return xa(u.element())||Pp.append(t,Ya(u)),e.onOpenSubmenu(t,i,u,Be(a)),r===n.HighlightSubmenu?(Pf.highlightFirst(u),h(t,o,a)):(Pf.dehighlightAll(u),se.some(i))})})})},m=function(t,n){var i=s(n);return o.collapse(i).bind(function(i){return f(t,i),h(t,o,i).map(function(i){return e.onCollapseMenu(t,n,i),i})})},g=function(t){return function(n,i){return ks(i.getSource(),"."+e.markers.item).bind(function(e){return n.getSystem().getByDom(e).toOption().bind(function(e){return t(n,e).map(function(){return!0})})})}},v=Nr([Rr(mm(),function(e,t){var n=t.event().item();o.lookupItem(s(n)).each(function(){var n=t.event().menu();Pf.highlight(e,n);var i=s(t.event().item());o.refresh(i).each(function(t){return d(e,o,t)})})}),qr(function(t,i){var r=i.event().target();t.getSystem().getByDom(r).each(function(i){0===s(i).indexOf("collapse-item")&&m(t,i),p(t,i,n.HighlightSubmenu).fold(function(){e.onExecute(t,i)},function(){})})}),zr(function(t,n){a(t).each(function(n){Pp.append(t,Ya(n)),e.onOpenMenu(t,n),e.highlightImmediately&&u(t,n)})})].concat(e.navigateOnHover?[Rr(om(),function(t,i){var r,a,l=i.event().item();r=t,a=s(l),o.refresh(a).bind(function(e){return f(r,e),h(r,o,e)}),p(t,l,n.HighlightParent),e.onHover(t,l)})]:[])),b=function(e){return Pf.getHighlighted(e).bind(Pf.getHighlighted)},y={collapseMenu:function(e){b(e).each(function(t){m(e,t)})},highlightPrimary:function(e){o.getPrimary().each(function(t){u(e,t)})},repositionMenus:function(t){o.getPrimary().bind(function(e){return b(t).bind(function(e){var t=s(e),n=bt(o.getMenus()),i=yf($e(n,wm.extractPreparedMenu));return o.getTriggeringPath(t,function(e){return t=e,Ue(i,function(e){if(!e.getSystem().isConnected())return se.none();var n=Pf.getCandidates(e);return Ne(n,function(e){return s(e)===t})});var t})}).map(function(t){return{primary:e,triggeringPath:t}})}).fold(function(){var n;n=t,se.from(n.components()[0]).filter(function(e){return"menu"===wo(e.element(),"role")}).each(function(n){e.onRepositionMenu(t,n,[])})},function(n){var i=n.primary,r=n.triggeringPath;e.onRepositionMenu(t,i,r)})}};return{uid:e.uid,dom:e.dom,markers:e.markers,behaviours:md(e.tmenuBehaviours,[Ep.config({mode:"special",onRight:g(function(e,t){return wf(t.element())?se.none():p(e,t,n.HighlightSubmenu)}),onLeft:g(function(e,t){return wf(t.element())?se.none():m(e,t)}),onEscape:g(function(t,n){return m(t,n).orThunk(function(){return e.onEscape(t,n).map(function(){return t})})}),focusIn:function(e,t){o.getPrimary().each(function(t){Ar(e,t.element(),sr())})}}),Pf.config({highlightClass:e.markers.selectedMenu,itemClass:e.markers.menu}),_f.config({find:function(e){return Pf.getHighlighted(e)}}),Pp.config({})]),eventOrder:e.eventOrder,apis:y,events:v}},extraApis:{tieredData:function(e,t,n){return{primary:e,menus:t,expansions:n}},singleData:function(e,t){return{primary:e,menus:Rt(e,t),expansions:{}}},collapseItem:function(e){return{value:Ao(xm()),meta:{text:e}}}}}),_m=vf({name:"InlineView",configFields:[Dn("lazySink"),zs("onShow"),zs("onHide"),Bn("onEscape"),hd("inlineBehaviours",[qc,fd,Fl]),Fn("fireDismissalEventInstead",[Hn("event",yr())]),Fn("fireRepositionEventInstead",[Hn("event",wr())]),Hn("getRelated",se.none),Hn("isExtraPart",ee),Hn("eventOrder",se.none)],factory:function(e,t){var n=function(e,t,n,r){i(e,t,n,function(){return r.map(function(e){return gs(e)})})},i=function(t,n,i,r){var o=e.lazySink(t).getOrDie();qc.openWhileCloaked(t,i,function(){return kc.positionWithinBounds(o,n,t,r())}),fd.setValue(t,se.some({mode:"position",anchor:n,getBounds:r}))},r=function(t,n,i,r){var o,a,s,l,u,c,d,f,h=(o=e,a=t,s=n,u=r,c=function(){return o.lazySink(a)},d="horizontal"===(l=i).type?{layouts:{onLtr:function(){return kl()},onRtl:function(){return Sl()}}}:{},f=function(e){return 2===e.length?d:{}},Cm.sketch({dom:{tag:"div"},data:l.data,markers:l.menu.markers,highlightImmediately:l.menu.highlightImmediately,onEscape:function(){return qc.close(a),o.onEscape.map(function(e){return e(a)}),se.some(!0)},onExecute:function(){return se.some(!0)},onOpenMenu:function(e,t){kc.positionWithinBounds(c().getOrDie(),s,t,u())},onOpenSubmenu:function(e,t,n,i){var r=c().getOrDie();kc.position(r,ie({anchor:"submenu",item:t},f(i)),n)},onRepositionMenu:function(e,t,n){var i=c().getOrDie();kc.positionWithinBounds(i,s,t,u()),Te(n,function(e){var t=f(e.triggeringPath);kc.position(i,ie({anchor:"submenu",item:e.triggeringItem},t),e.triggeredMenu)})}}));qc.open(t,h),fd.setValue(t,se.some({mode:"menu",menu:h}))},o=function(t){qc.isOpen(t)&&fd.getValue(t).each(function(n){switch(n.mode){case"menu":qc.getState(t).each(function(e){Cm.repositionMenus(e)});break;case"position":var i=e.lazySink(t).getOrDie();kc.positionWithinBounds(i,n.anchor,t,n.getBounds())}})},a={setContent:function(e,t){qc.setContent(e,t)},showAt:function(e,t,i){n(e,t,i,se.none())},showWithin:n,showWithinBounds:i,showMenuAt:function(e,t,n){r(e,t,n,function(){return se.none()})},showMenuWithinBounds:r,hide:function(e){qc.isOpen(e)&&(fd.setValue(e,se.none()),qc.close(e))},getContent:function(e){return qc.getState(e)},reposition:o,isOpen:qc.isOpen};return{uid:e.uid,dom:e.dom,behaviours:md(e.inlineBehaviours,[qc.config({isPartOf:function(t,n,i){return $s(n,i)||(r=t,o=i,e.getRelated(r).exists(function(e){return $s(e,o)}));var r,o},getAttachPoint:function(t){return e.lazySink(t).getOrDie()},onOpen:function(t){e.onShow(t)},onClose:function(t){e.onHide(t)}}),fd.config({store:{mode:"memory",initialValue:se.none()}}),Fl.config({channels:ie(ie({},Jc(ie({isExtraPart:t.isExtraPart},e.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Qc(ie(ie({},e.fireRepositionEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})),{doReposition:o})))})]),eventOrder:e.eventOrder,apis:a}},apis:{showAt:function(e,t,n,i){e.showAt(t,n,i)},showWithin:function(e,t,n,i,r){e.showWithin(t,n,i,r)},showWithinBounds:function(e,t,n,i,r){e.showWithinBounds(t,n,i,r)},showMenuAt:function(e,t,n,i){e.showMenuAt(t,n,i)},showMenuWithinBounds:function(e,t,n,i,r){e.showMenuWithinBounds(t,n,i,r)},hide:function(e,t){e.hide(t)},isOpen:function(e,t){return e.isOpen(t)},getContent:function(e,t){return e.getContent(t)},setContent:function(e,t,n){e.setContent(t,n)},reposition:function(e,t){e.reposition(t)}}}),km=function(e){return e.x},Sm=function(e,t){return e.x+e.width/2-t.width/2},Dm=function(e,t){return e.x+e.width-t.width},$m=function(e){return e.y},Tm=function(e,t){return e.y+e.height-t.height},Em=function(e,t,n){return Xs(Dm(e,t),Tm(e,t),n.innerSoutheast(),tl(),al(e,{right:0,bottom:3}),"layout-inner-se")},Am=function(e,t,n){return Xs(km(e),Tm(e,t),n.innerSouthwest(),el(),al(e,{left:1,bottom:3}),"layout-inner-sw")},Om=function(e,t,n){return Xs(Dm(e,t),$m(e),n.innerNortheast(),Qs(),al(e,{right:0,top:2}),"layout-inner-ne")},Mm=function(e,t,n){return Xs(km(e),$m(e),n.innerNorthwest(),Zs(),al(e,{left:1,top:2}),"layout-inner-nw")},Nm=function(e,t,n){return Xs(Sm(e,t),$m(e),n.innerNorth(),nl(),al(e,{top:2}),"layout-inner-n")},Pm=function(e,t,n){return Xs(Sm(e,t),Tm(e,t),n.innerSouth(),il(),al(e,{bottom:3}),"layout-inner-s")},Im=tinymce.util.Tools.resolve("tinymce.util.Delay"),Rm=vf({name:"Button",factory:function(e){var t=em(e.action),n=e.dom.tag,i=function(t){return yt(e.dom,"attributes").bind(function(e){return yt(e,t)})};return{uid:e.uid,dom:e.dom,components:e.components,events:t,behaviours:vd(e.buttonBehaviours,[Hp.config({}),Ep.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:function(){if("button"!==n)return{role:i("role").getOr("button")};var e=i("type").getOr("button"),t=i("role").map(function(e){return{role:e}}).getOr({});return ie({type:e},t)}()},eventOrder:e.eventOrder}},configFields:[Hn("uid",void 0),Dn("dom"),Hn("components",[]),gd("buttonBehaviours",[Hp,Ep]),Pn("action"),Pn("role"),Hn("eventOrder",{})]}),Lm=function(e){var t=function(e){return void 0!==e.uid}(e)&&xt(e,"uid")?e.uid:Lo("memento");return{get:function(e){return e.getSystem().getByUid(t).getOrDie()},getOpt:function(e){return e.getSystem().getByUid(t).toOption()},asSpec:function(){return ie(ie({},e),{uid:t})}}},Bm=function(e){return se.from(e()["temporary-placeholder"]).getOr("!not found!")},Fm=function(e,t){return se.from(t()[e.toLowerCase()]).getOrThunk(function(){return Bm(t)})},Hm={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},jm=vf({name:"Notification",factory:function(e){var t,n,i=Lm({dom:{tag:"p",innerHtml:e.translationProvider(e.text)},behaviours:Ol([Pp.config({})])}),r=function(e){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+e+"%"}}}},o=function(e){return{dom:{tag:"div",classes:["tox-text"],innerHtml:e+"%"}}},a=Lm({dom:{tag:"div",classes:e.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(0)]},o(0)],behaviours:Ol([Pp.config({})])}),s={updateProgress:function(e,t){e.getSystem().isConnected()&&a.getOpt(e).each(function(e){Pp.set(e,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[r(t)]},o(t)])})},updateText:function(e,t){if(e.getSystem().isConnected()){var n=i.get(e);Pp.set(n,[za(t)])}}},l=Ie([e.icon.toArray(),e.level.toArray(),e.level.bind(function(e){return se.from(Hm[e])}).toArray()]);return{uid:e.uid,dom:{tag:"div",attributes:{role:"alert"},classes:e.level.map(function(e){return["tox-notification","tox-notification--in","tox-notification--"+e]}).getOr(["tox-notification","tox-notification--in"])},components:[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:(t=l,n=e.iconProvider,Ue(t,function(e){return se.from(n()[e.toLowerCase()])}).getOrThunk(function(){return Bm(n)}))}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[i.asSpec()],behaviours:Ol([Pp.config({})])}].concat(e.progress?[a.asSpec()]:[]).concat(e.closeButton?[Rm.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:Fm("close",e.iconProvider),attributes:{"aria-label":e.translationProvider("Close")}}}],action:function(t){e.onAction(t)}})]:[]),apis:s}},configFields:[Pn("level"),Dn("progress"),Dn("icon"),Dn("onAction"),Dn("text"),Dn("iconProvider"),Dn("translationProvider"),Wn("closeButton",!0)],apis:{updateProgress:function(e,t,n){e.updateProgress(t,n)},updateText:function(e,t,n){e.updateText(t,n)}}}),Vm=function(t,n){var i=null;return{cancel:function(){null!==i&&(e.clearTimeout(i),i=null)},throttle:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==i&&e.clearTimeout(i),i=e.setTimeout(function(){t.apply(null,r),i=null},n)}}},zm=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Um=function(e,t,n,i,r){var o=zm(e,function(t){return i=t,(n=e).isBlock(i)||_e(["BR","IMG","HR","INPUT"],i.nodeName)||"false"===n.getContentEditable(i);var n,i});return se.from(o.backwards(t,n,i,r))},Wm=function(e,t){return qm(Jn.fromDom(e.selection.getNode())).getOrThunk(function(){var n=Jn.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',e.getDoc());return co(n,Jn.fromDom(t.extractContents())),t.insertNode(n.dom()),io(n).each(function(e){return e.dom().normalize()}),Hu(n,Fu).map(function(t){var n;e.selection.setCursorLocation(t.dom(),"img"===Yr(n=t)?1:Lu(n).fold(function(){return oo(n).length},function(e){return e.length}))}),n})},qm=function(e){return ks(e,"[data-mce-autocompleter]")},Ym=function(e){return e.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},Gm=function(e){return""!==e&&-1!==" \f\n\r\t\x0B".indexOf(e)},Km=function(e,t){return e.substring(t.length)},Xm=function(e,t,n,i){if(void 0===i&&(i=0),!(r=t).collapsed||3!==r.startContainer.nodeType)return se.none();var r,o=e.getParent(t.startContainer,e.isBlock)||e.getRoot();return Um(e,t.startContainer,t.startOffset,function(e,t,i){return function(e,t,n){var i;for(i=t-1;0<=i;i--){var r=e.charAt(i);if(Gm(r))return se.none();if(r===n)break}return se.some(i)}(i,t,n).getOr(t)},o).bind(function(e){var r=t.cloneRange();if(r.setStart(e.container,e.offset),r.setEnd(t.endContainer,t.endOffset),r.collapsed)return se.none();var o=Ym(r);return 0!==o.lastIndexOf(n)||Km(o,n).length<i?se.none():se.some({text:Km(o,n),range:r,triggerChar:n})})},Jm=function(e,t,n,i){return void 0===i&&(i=0),qm(Jn.fromDom(t.startContainer)).fold(function(){return Xm(e,t,n,i)},function(t){var i=e.createRng();i.selectNode(t.dom());var r=Ym(i);return se.some({range:i,text:Km(r,n),triggerChar:n})})},Zm=function(e,t){t.on("keypress compositionend",e.onKeypress.throttle),t.on("remove",e.onKeypress.cancel);var n=function(e,t){Tr(e,Gi(),{raw:t})};t.on("keydown",function(t){var i=function(){return e.getView().bind(Pf.getHighlighted)};8===t.which&&e.onKeypress.throttle(t),e.isActive()&&(27===t.which&&e.cancelIfNecessary(),e.isMenuOpen()?13===t.which?(i().each(Er),t.preventDefault()):40===t.which?(i().fold(function(){e.getView().each(Pf.highlightFirst)},function(e){n(e,t)}),t.preventDefault(),t.stopImmediatePropagation()):37!==t.which&&38!==t.which&&39!==t.which||i().each(function(e){n(e,t),t.preventDefault(),t.stopImmediatePropagation()}):13!==t.which&&38!==t.which&&40!==t.which||e.cancelIfNecessary())}),t.on("NodeChange",function(t){e.isActive()&&!e.isProcessingAction()&&qm(Jn.fromDom(t.element)).isNone()&&e.cancelIfNecessary()})},Qm=tinymce.util.Tools.resolve("tinymce.util.Promise"),eg=function(e,t){return{container:e,offset:t}},tg=function(t){if(t.nodeType===e.Node.TEXT_NODE)return eg(t,t.data.length);var n=t.childNodes;return 0<n.length?tg(n[n.length-1]):eg(t,n.length)},ng=function(t,n){var i=t.childNodes;return 0<i.length&&n<i.length?ng(i[n],0):0<i.length&&t.nodeType===e.Node.ELEMENT_NODE&&i.length===n?tg(i[i.length-1]):eg(t,n)},ig=function(e){return function(t){var n,i,r=ng(t.startContainer,t.startOffset);return!Um(n=e,(i=r).container,i.offset,function(e,t){return 0===t?-1:t},n.getRoot()).filter(function(e){var t=e.container.data.charAt(e.offset-1);return!Gm(t)}).isSome()}},rg=function(e,t){var n,i,r=t(),o=e.selection.getRng();return n=e.dom,i=o,Ue(r.triggerChars,function(e){return Jm(n,i,e)}).bind(function(n){return og(e,t,n)})},og=function(e,t,n,i){void 0===i&&(i={});var r=t(),o=e.selection.getRng().startContainer.nodeValue,a=Ae(r.lookupByChar(n.triggerChar),function(t){return n.text.length>=t.minChars&&t.matches.getOrThunk(function(){return ig(e.dom)})(n.range,o,n.text)});if(0===a.length)return se.none();var s=Qm.all($e(a,function(e){return e.fetch(n.text,e.maxResults,i).then(function(t){return{matchText:n.text,items:t,columns:e.columns,onAction:e.onAction}})}));return se.some({lookupData:s,context:n})},ag=Xt([Tn("type"),Ln("text")]),sg=Xt([Gn("type",function(){return"autocompleteitem"}),Gn("active",function(){return!1}),Gn("disabled",function(){return!1}),Hn("meta",{}),Tn("value"),Ln("text"),Ln("icon")]),lg=Xt([Tn("type"),Tn("ch"),Vn("minChars",1),Hn("columns",1),Vn("maxResults",10),Bn("matches"),An("fetch"),An("onAction")]),ug=function(e){var t,n,i=e.ui.registry.getAll().popups,r=ht(i,function(e){return dn("Autocompleter",lg,e).fold(function(e){throw new Error(pn(e))},function(e){return e})}),o=(t=gt(r,function(e){return e.ch}),n={},Te(t,function(e){n[e]={}}),ct(n)),a=bt(r);return{dataset:r,triggerChars:o,lookupByChar:function(e){return Ae(a,function(t){return t.ch===e})}}};(ih=nh=nh||{})[ih.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",ih[ih.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX";var cg,dg,fg=nh,hg="tox-menu-nav__js",pg="tox-collection__item",mg="tox-swatch",gg={normal:hg,color:mg},vg="tox-collection__item--enabled",bg="tox-collection__item-label",yg="tox-collection__item-caret",wg="tox-collection__item--active",xg=function(e){return yt(gg,e).getOr(hg)},Cg=function(e){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:"color"===e?"tox-swatches":"tox-menu",tieredMenu:"tox-tiered-menu"}},_g=function(e){var t=Cg(e);return{backgroundMenu:t.backgroundMenu,selectedMenu:t.selectedMenu,menu:t.menu,selectedItem:t.selectedItem,item:xg(e)}},kg=[gm.parts().items({})],Sg=function(e,t,n){var i=Cg(n);return{dom:{tag:"div",classes:Ie([[i.tieredMenu]])},markers:_g(n)}},Dg=function(e,t){return function(n){var i=De(n,t);return $e(i,function(t){return{dom:e,components:t}})}},$g=function(e,t){var n=[],i=[];return Te(e,function(e,r){t(e,r)?(0<i.length&&n.push(i),i=[],wt(e.dom,"innerHtml")&&i.push(e)):i.push(e)}),0<i.length&&n.push(i),$e(n,function(e){return{dom:{tag:"div",classes:["tox-collection__group"]},components:e}})},Tg=function(e,t,n){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(1===e?["tox-collection--list"]:["tox-collection--grid"])},components:[gm.parts().items({preprocess:function(n){return"auto"!==e&&1<e?Dg({tag:"div",classes:["tox-collection__group"]},e)(n):$g(n,function(e,n){return"separator"===t[n].type})}})]}},Eg=function(e){return ke(e,function(e){return"icon"in e&&void 0!==e.icon})},Ag=function(t){return e.console.error(pn(t)),e.console.log(t),se.none()},Og=function(e,t,n,i,r){var o,a=(o=n,{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[gm.parts().items({preprocess:function(e){return $g(e,function(e,t){return"separator"===o[t].type})}})]});return{value:e,dom:a.dom,components:a.components,items:n}},Mg=function(e,t,n,i,r){var o,a,s,l,u,c;return"color"===r?{value:e,dom:(o=i,c={dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[gm.parts().items({preprocess:"auto"!==o?Dg({tag:"div",classes:["tox-swatches__row"]},o):J})]}]}).dom,components:c.components,items:n}:"normal"===r&&"auto"===i?{value:e,dom:(c=Tg(i,n)).dom,components:c.components,items:n}:"normal"===r&&1===i?{value:e,dom:(c=Tg(1,n)).dom,components:c.components,items:n}:"normal"===r?{value:e,dom:(c=Tg(i,n)).dom,components:c.components,items:n}:"listpreview"!==r||"auto"===i?{value:e,dom:(s=t,l=i,u=Cg(r),{tag:"div",classes:Ie([[u.menu,"tox-menu-"+l+"-column"],s?[u.hasIcons]:[]])}),components:kg,items:n}:{value:e,dom:(a=i,c={dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[gm.parts().items({preprocess:Dg({tag:"div",classes:["tox-collection__group"]},a)})]}).dom,components:c.components,items:n}},Ng=[Wn("disabled",!1),Ln("text"),Ln("shortcut"),nn("value","value",Mt(function(){return Ao("menuitem-value")}),vn()),Hn("meta",{})],Pg=Xt([Tn("type"),Wn("active",!1),Ln("icon")].concat(Ng)),Ig=Xt([Tn("type"),En("fancytype",["inserttable","colorswatch"]),qn("onAction",G)]),Rg=Xt([Tn("type"),qn("onSetup",function(){return G}),qn("onAction",G),Ln("icon")].concat(Ng)),Lg=Xt([Tn("type"),An("getSubmenuItems"),qn("onSetup",function(){return G}),Ln("icon")].concat(Ng)),Bg=Xt([Tn("type"),Ln("icon"),Wn("active",!1),qn("onSetup",function(){return G}),An("onAction")].concat(Ng)),Fg=function(e,t,n){var i=ju(e.element(),"."+n);if(0<i.length){var r=Pe(i,function(e){var n=e.dom().getBoundingClientRect().top,r=i[0].dom().getBoundingClientRect().top;return Math.abs(n-r)>t}).getOr(i.length);return se.some({numColumns:r,numRows:Math.ceil(i.length/r)})}return se.none()},Hg=function(e,t){return Ol([Ip(e,t)])},jg=function(e){return Hg(Ao("unnamed-events"),e)},Vg=[Dn("lazySink"),Dn("tooltipDom"),Hn("exclusive",!0),Hn("tooltipComponents",[]),Hn("delay",300),Un("mode","normal",["normal","follow-highlight"]),Hn("anchor",function(e){return{anchor:"hotspot",hotspot:e,layouts:{onLtr:X([bl,vl,hl,ml,pl,gl]),onRtl:X([bl,vl,hl,ml,pl,gl])}}}),zs("onHide"),zs("onShow")],zg=Object.freeze({__proto__:null,init:function(){var t=Kn(se.none()),n=Kn(se.none()),i=function(){t.get().each(function(t){e.clearTimeout(t)})},r=X("not-implemented");return Yo({getTooltip:function(){return n.get()},isShowing:function(){return n.get().isSome()},setTooltip:function(e){n.set(se.some(e))},clearTooltip:function(){n.set(se.none())},clearTimer:i,resetTimer:function(n,r){i(),t.set(se.some(e.setTimeout(function(){n()},r)))},readState:r})}}),Ug=Ao("tooltip.exclusive"),Wg=Ao("tooltip.show"),qg=Ao("tooltip.hide"),Yg=function(e,t,n){e.getSystem().broadcastOn([Ug],{})},Gg=Object.freeze({__proto__:null,hideAllExclusive:Yg,setComponents:function(e,t,n,i){n.getTooltip().each(function(e){e.getSystem().isConnected()&&Pp.set(e,i)})}}),Kg=Nl({fields:Vg,name:"tooltipping",active:Object.freeze({__proto__:null,events:function(e,t){var n=function(n){t.getTooltip().each(function(i){Mc(i),e.onHide(n,i),t.clearTooltip()}),t.clearTimer()};return Nr(Ie([[Rr(Wg,function(n){t.resetTimer(function(){!function(n){if(!t.isShowing()){Yg(n);var i=e.lazySink(n).getOrDie(),r=n.getSystem().build({dom:e.tooltipDom,components:e.tooltipComponents,events:Nr("normal"===e.mode?[Rr(Wi(),function(e){$r(n,Wg)}),Rr(zi(),function(e){$r(n,qg)})]:[]),behaviours:Ol([Pp.config({})])});t.setTooltip(r),Ec(i,r),e.onShow(n,r),kc.position(i,e.anchor(n),r)}}(n)},e.delay)}),Rr(qg,function(i){t.resetTimer(function(){n(i)},e.delay)}),Rr(or(),function(e,t){_e(t.channels(),Ug)&&n(e)}),Ur(function(e){n(e)})],"normal"===e.mode?[Rr(qi(),function(e){$r(e,Wg)}),Rr(ir(),function(e){$r(e,qg)}),Rr(Wi(),function(e){$r(e,Wg)}),Rr(zi(),function(e){$r(e,qg)})]:[Rr(Sr(),function(e,t){$r(e,Wg)}),Rr(Dr(),function(e){$r(e,qg)})]]))}}),state:zg,apis:Gg}),Xg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Jg=tinymce.util.Tools.resolve("tinymce.util.I18n"),Zg=["input","button","textarea","select"],Qg=function(e,t,n){(t.disabled()?ov:av)(e,t,n)},ev=function(e,t){return!0===t.useNative&&_e(Zg,Yr(e.element()))},tv=function(e){yo(e.element(),"disabled","disabled")},nv=function(e){_o(e.element(),"disabled")},iv=function(e){yo(e.element(),"aria-disabled","true")},rv=function(e){yo(e.element(),"aria-disabled","false")},ov=function(e,t,n){t.disableClass.each(function(t){la(e.element(),t)}),(ev(e,t)?tv:iv)(e),t.onDisabled(e)},av=function(e,t,n){t.disableClass.each(function(t){ca(e.element(),t)}),(ev(e,t)?nv:rv)(e),t.onEnabled(e)},sv=function(e,t){return ev(e,t)?Co(e.element(),"disabled"):"true"===wo(e.element(),"aria-disabled")},lv=Object.freeze({__proto__:null,enable:av,disable:ov,isDisabled:sv,onLoad:Qg,set:function(e,t,n,i){(i?ov:av)(e,t,n)}}),uv=Object.freeze({__proto__:null,exhibit:function(e,t){return Ko({classes:t.disabled()?t.disableClass.toArray():[]})},events:function(e,t){return Nr([Pr(ar(),function(t,n){return sv(t,e)}),Dl(e,t,Qg)])}}),cv=[qn("disabled",ee),Hn("useNative",!0),Pn("disableClass"),zs("onDisabled"),zs("onEnabled")],dv=Nl({fields:cv,name:"disabling",active:uv,apis:lv}),fv=tinymce.util.Tools.resolve("tinymce.EditorManager"),hv=function(e){return e.getParam("height",Math.max(e.getElement().offsetHeight,200))},pv=function(e){return e.getParam("width",Xg.DOM.getStyle(e.getElement(),"width"))},mv=function(e){return se.from(e.getParam("min_width")).filter(ve)},gv=function(e){return se.from(e.getParam("min_height")).filter(ve)},vv=function(e){return se.from(e.getParam("max_width")).filter(ve)},bv=function(e){return se.from(e.getParam("max_height")).filter(ve)},yv=function(e){return!1!==e.getParam("menubar",!0,"boolean")},wv=function(e){var t=e.getParam("toolbar",!0),n=!0===t,i=ce(t),r=fe(t)&&0<t.length;return!Cv(e)&&(r||i||n)},xv=function(e){var t=Se(9,function(t){return e.getParam("toolbar"+(t+1),!1,"string")}),n=Ae(t,function(e){return"string"==typeof e});return 0<n.length?se.some(n):se.none()},Cv=function(e){return xv(e).fold(function(){return 0<e.getParam("toolbar",[],"string[]").length},function(){return!0})};(dg=cg=cg||{})["default"]="wrap",dg.floating="floating",dg.sliding="sliding",dg.scrolling="scrolling";var _v,kv,Sv=function(e){return e.getParam("toolbar_mode","","string")};(kv=_v=_v||{}).auto="auto",kv.top="top",kv.bottom="bottom";var Dv,$v,Tv=function(e){return e.getParam("toolbar_location",_v.auto,"string")},Ev=function(e){return Tv(e)===_v.bottom},Av=function(e){var t=e.getParam("fixed_toolbar_container","","string");return 0<t.length&&e.inline?_s(Ca(),t):se.none()},Ov=function(e){return e.inline&&Av(e).isSome()},Mv=function(e){return e.inline&&!yv(e)&&!wv(e)&&!Cv(e)},Nv=function(e){return(e.getParam("toolbar_sticky",!1,"boolean")||e.inline)&&!Ov(e)&&!Mv(e)},Pv="silver.readonly",Iv=Xt([$n("readonly",xn)]),Rv=function(e,t){var n=e.outerContainer.element();t&&(e.mothership.broadcastOn([Yc()],{target:n}),e.uiMothership.broadcastOn([Yc()],{target:n})),e.mothership.broadcastOn([Pv],{readonly:t}),e.uiMothership.broadcastOn([Pv],{readonly:t})},Lv=function(e,t){e.on("init",function(){e.mode.isReadOnly()&&Rv(t,!0)}),e.on("SwitchMode",function(){return Rv(t,e.mode.isReadOnly())}),e.getParam("readonly",!1,"boolean")&&e.setMode("readonly")},Bv=function(){var e;return Fl.config({channels:((e={})[Pv]={schema:Iv,onReceive:function(e,t){dv.set(e,t.readonly)}},e)})},Fv=function(e){return dv.config({disabled:e,disableClass:"tox-collection__item--state-disabled"})},Hv=function(e){return dv.config({disabled:e})},jv=function(e){return dv.config({disabled:e,disableClass:"tox-tbtn--disabled"})},Vv=function(e){return dv.config({disabled:e,disableClass:"tox-tbtn--disabled",useNative:!1})},zv=function(e,t){var n=e.getApi(t);return function(e){e(n)}},Uv=function(e,t){return zr(function(n){zv(e,n)(function(n){var i=e.onSetup(n);null!==i&&void 0!==i&&t.set(i)})})},Wv=function(e,t){return Ur(function(n){return zv(e,n)(t.get())})},qv={"alloy.execute":["disabling","alloy.base.behaviour","toggling","item-events"]},Yv=function(e){return Re(e,function(e){return e.toArray()})},Gv=function(e,t,n,i){var r,o,a=Kn(G);return{type:"item",dom:t.dom,components:Yv(t.optComponents),data:e.data,eventOrder:qv,hasSubmenu:e.triggersSubmenu,itemBehaviours:Ol([Ip("item-events",[(r=e,o=n,qr(function(e,t){zv(r,e)(r.onAction),r.triggersSubmenu||o!==fg.CLOSE_ON_EXECUTE||($r(e,cr()),t.stop())})),Uv(e,a),Wv(e,a)]),Fv(function(){return e.disabled||i.isReadOnly()}),Bv(),Pp.config({})].concat(e.itemBehaviours))}},Kv=function(e){return{value:e.value,meta:ie({text:e.text.getOr("")},e.meta)}},Xv=tinymce.util.Tools.resolve("tinymce.Env"),Jv=function(e){return{dom:{tag:"div",classes:["tox-collection__item-icon"],innerHtml:e}}},Zv=function(e){return{dom:{tag:"div",classes:[bg]},components:[za(Jg.translate(e))]}},Qv=function(e,t){return{dom:{tag:"div",classes:[bg]},components:[{dom:{tag:e.tag,styles:e.styles},components:[za(Jg.translate(t))]}]}},eb=function(e){return{dom:{tag:"div",classes:["tox-collection__item-accessory"],innerHtml:(t=e,n=Xv.mac?{alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"}:{meta:"Ctrl",access:"Shift+Alt"},i=t.split("+"),r=$e(i,function(e){var t=e.toLowerCase().trim();return wt(n,t)?n[t]:e}),Xv.mac?r.join(""):r.join("+"))}};var t,n,i,r},tb=function(e){return{dom:{tag:"div",classes:["tox-collection__item-checkmark"],innerHtml:Fm("checkmark",e)}}},nb=function(e,t,n,i,r){var o=n?t.or(se.some("")).map(Jv):se.none(),a=e.checkMark,s=e.ariaLabel.map(function(e){return{attributes:{title:Jg.translate(e)}}}).getOr({});return{dom:ie({tag:"div",classes:[hg,pg].concat(r?["tox-collection__item-icon-rtl"]:[])},s),optComponents:[o,e.htmlContent.fold(function(){return e.textContent.map(i)},function(e){return se.some({dom:{tag:"div",classes:[bg],innerHtml:e}})}),e.shortcutContent.map(eb),a,e.caret]}},ib=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],rb=["list-bull-circle","list-bull-default","list-bull-square"],ob=function(e,n,r,o){void 0===o&&(o=se.none());var a,s,l,u,c,d=Jg.isRtl()&&e.iconContent.exists(function(e){return _e(rb,e)}),f=e.iconContent.map(function(e){return Jg.isRtl()&&_e(ib,e)?e+"-rtl":e}).map(function(e){return t=e,i=n.icons,r=o,se.from(i()[t.toLowerCase()]).or(r).getOrThunk(function(){return Bm(i)});var t,i,r}),h=se.from(e.meta).fold(function(){return Zv},function(e){return wt(e,"style")?t(Qv,e.style):Zv});return"color"===e.presets?(a=e.ariaLabel,s=e.value,l=n,{dom:(u=f.getOr(""),c={tag:"div",attributes:a.map(function(e){return{title:l.translate(e)}}).getOr({}),classes:["tox-swatch"]},ie(ie({},c),"custom"===s?{tag:"button",classes:i(c.classes,["tox-swatches__picker-btn"]),innerHtml:u}:"remove"===s?{classes:i(c.classes,["tox-swatch--remove"]),innerHtml:u}:{attributes:ie(ie({},c.attributes),{"data-mce-color":s}),styles:{"background-color":s}})),optComponents:[]}):nb(e,f,r,h,d)},ab=function(e,t){var n,i=Jg.translate(e),r=(n=i,Xg.DOM.encode(n));if(0<t.length){var o=new RegExp(t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi");return r.replace(o,function(e){return'<span class="tox-autocompleter-highlight">'+e+"</span>"})}return r},sb=X(Kd(um(),cm())),lb=Ao("cell-over"),ub=Ao("cell-execute"),cb=function(e,t,n){var i,r=function(n){return Tr(n,ub,{row:e,col:t})},o=function(e,t){t.stop(),r(e)};return qa({
dom:{tag:"div",attributes:((i={role:"button"})["aria-labelledby"]=n,i)},behaviours:Ol([Ip("insert-table-picker-cell",[Rr(Wi(),Hp.focus),Rr(ar(),r),Rr(Zi(),o),Rr(lr(),o)]),Zp.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Hp.config({onFocus:function(n){return Tr(n,lb,{row:e,col:t})}})])})},db=function(e){return{value:e}},fb=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,hb=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,pb=function(e){return fb.test(e)||hb.test(e)},mb=function(e){var t={value:e.value.replace(fb,function(e,t,n,i){return t+t+n+n+i+i})},n=hb.exec(t.value);return null===n?["FFFFFF","FF","FF","FF"]:n},gb=function(e){var t=e.toString(16);return 1===t.length?"0"+t:t},vb=function(e){var t=gb(e.red)+gb(e.green)+gb(e.blue);return db(t)},bb=Math.min,yb=Math.max,wb=Math.round,xb=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,Cb=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,_b=function(e,t,n,i){return{red:e,green:t,blue:n,alpha:i}},kb=function(e){var t=parseInt(e,10);return t.toString()===e&&0<=t&&t<=255},Sb=function(e){var t,n,i,r=(e.hue||0)%360,o=e.saturation/100,a=e.value/100;if(o=yb(0,bb(o,1)),a=yb(0,bb(a,1)),0===o)return t=n=i=wb(255*a),_b(t,n,i,1);var s=r/60,l=a*o,u=l*(1-Math.abs(s%2-1)),c=a-l;switch(Math.floor(s)){case 0:t=l,n=u,i=0;break;case 1:t=u,n=l,i=0;break;case 2:t=0,n=l,i=u;break;case 3:t=0,n=u,i=l;break;case 4:t=u,n=0,i=l;break;case 5:t=l,n=0,i=u;break;default:t=n=i=0}return t=wb(255*(t+c)),n=wb(255*(n+c)),i=wb(255*(i+c)),_b(t,n,i,1)},Db=function(e){var t=mb(e),n=parseInt(t[1],16),i=parseInt(t[2],16),r=parseInt(t[3],16);return _b(n,i,r,1)},$b=function(e,t,n,i){var r=parseInt(e,10),o=parseInt(t,10),a=parseInt(n,10),s=parseFloat(i);return _b(r,o,a,s)},Tb=function(e){return"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")"},Eb=_b(255,0,0,1),Ab=function(e,t){return e.fire("ResizeContent",t)},Ob=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Mb="tinymce-custom-colors",Nb="choiceitem",Pb=[{type:Nb,text:"Light Green",value:"#BFEDD2"},{type:Nb,text:"Light Yellow",value:"#FBEEB8"},{type:Nb,text:"Light Red",value:"#F8CAC6"},{type:Nb,text:"Light Purple",value:"#ECCAFA"},{type:Nb,text:"Light Blue",value:"#C2E0F4"},{type:Nb,text:"Green",value:"#2DC26B"},{type:Nb,text:"Yellow",value:"#F1C40F"},{type:Nb,text:"Red",value:"#E03E2D"},{type:Nb,text:"Purple",value:"#B96AD9"},{type:Nb,text:"Blue",value:"#3598DB"},{type:Nb,text:"Dark Turquoise",value:"#169179"},{type:Nb,text:"Orange",value:"#E67E23"},{type:Nb,text:"Dark Red",value:"#BA372A"},{type:Nb,text:"Dark Purple",value:"#843FA1"},{type:Nb,text:"Dark Blue",value:"#236FA1"},{type:Nb,text:"Light Gray",value:"#ECF0F1"},{type:Nb,text:"Medium Gray",value:"#CED4D9"},{type:Nb,text:"Gray",value:"#95A5A6"},{type:Nb,text:"Dark Gray",value:"#7E8C8D"},{type:Nb,text:"Navy Blue",value:"#34495E"},{type:Nb,text:"Black",value:"#000000"},{type:Nb,text:"White",value:"#ffffff"}],Ib=function(e){void 0===e&&(e=10);var t,n=Ob.getItem(Mb),i=ce(n)?JSON.parse(n):[],r=e-(t=i).length<0?t.slice(0,e):t,o=function(e){r.splice(e,1)};return{add:function(t){var n;(-1===(n=Ce(r,t))?se.none():se.some(n)).each(o),r.unshift(t),r.length>e&&r.pop(),Ob.setItem(Mb,JSON.stringify(r))},state:function(){return r.slice(0)}}}(10),Rb=function(e){return!1!==e.getParam("custom_colors")},Lb=function(t){var n=t.getParam("color_map");return void 0!==n?function(t){var n=[],i=e.document.createElement("canvas");i.height=1,i.width=1;for(var r=i.getContext("2d"),o=function(e,t){var n=t/255;return("0"+Math.round(e*n+255*(1-n)).toString(16)).slice(-2).toUpperCase()},a=function(e){if(/^[0-9A-Fa-f]{6}$/.test(e))return"#"+e.toUpperCase();r.clearRect(0,0,i.width,i.height),r.fillStyle="#FFFFFF",r.fillStyle=e,r.fillRect(0,0,1,1);var t=r.getImageData(0,0,1,1).data,n=t[0],a=t[1],s=t[2],l=t[3];return"#"+o(n,l)+o(a,l)+o(s,l)},s=0;s<t.length;s+=2)n.push({text:t[s+1],value:a(t[s]),type:"choiceitem"});return n}(n):Pb},Bb=function(e){Ib.add(e)},Fb=function(e){e.addCommand("mceApplyTextcolor",function(t,n){var i,r,o;r=t,o=n,(i=e).undoManager.transact(function(){i.focus(),i.formatter.apply(r,{value:o}),i.nodeChanged()})}),e.addCommand("mceRemoveTextcolor",function(t){var n,i;i=t,(n=e).undoManager.transact(function(){n.focus(),n.formatter.remove(i,{value:null},null,!0),n.nodeChanged()})})},Hb=function(e){var t,n,i=Lb(e),r=(t=i.length,Math.max(5,Math.ceil(Math.sqrt(t))));return n=r,e.getParam("color_cols",n,"number")},jb=function(e,t,n,i){"custom"===n?Yb(e)(function(n){n.each(function(n){Bb(n),e.execCommand("mceApplyTextcolor",t,n),i(n)})},"#000000"):"remove"===n?(i(""),e.execCommand("mceRemoveTextcolor",t)):(i(n),e.execCommand("mceApplyTextcolor",t,n))},Vb=function(e,t){return e.concat($e(Ib.state(),function(e){return{type:Nb,text:e,value:e}}).concat((i={type:n="choiceitem",text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},t?[i,{type:n,text:"Custom color",icon:"color-picker",value:"custom"}]:[i])));var n,i},zb=function(e,t){return function(n){n(Vb(e,t))}},Ub=function(e,t,n){var i,r;i="forecolor"===t?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color",r=n,e.setIconFill(i,r),e.setIconStroke(i,r)},Wb=function(e,t,n,i,r){e.ui.registry.addSplitButton(t,{tooltip:i,presets:"color",icon:"forecolor"===t?"text-color":"highlight-bg-color",select:function(t){var i,r,o;return se.from((r=n,(i=e).dom.getParents(i.selection.getStart(),function(e){var t;(t=e.style["forecolor"===r?"color":"background-color"])&&(o=o||t)}),o)).bind(function(e){return function(e){if("transparent"===e)return se.some(_b(0,0,0,0));var t=xb.exec(e);if(null!==t)return se.some($b(t[1],t[2],t[3],"1"));var n=Cb.exec(e);return null!==n?se.some($b(n[1],n[2],n[3],n[4])):se.none()}(e).map(function(e){var n=vb(e).value;return mi(t.toLowerCase(),n)})}).getOr(!1)},columns:Hb(e),fetch:zb(Lb(e),Rb(e)),onAction:function(t){null!==r.get()&&jb(e,n,r.get(),function(){})},onItemAction:function(i,o){jb(e,n,o,function(n){var i;r.set(n),i={name:t,color:n},e.fire("TextColorChange",i)})},onSetup:function(n){null!==r.get()&&Ub(n,t,r.get());var i=function(e){e.name===t&&Ub(n,e.name,e.color)};return e.on("TextColorChange",i),function(){e.off("TextColorChange",i)}}})},qb=function(e,t,n,i){e.ui.registry.addNestedMenuItem(t,{text:i,icon:"forecolor"===t?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(t){jb(e,n,t.value,G)}}]}})},Yb=function(e){return function(t,n){var i,r={colorpicker:n},o=(i=t,function(e){var t=e.getData();i(se.from(t.colorpicker)),e.close()});e.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:r,onAction:function(e,t){"hex-valid"===t.name&&(t.value?e.enable("ok"):e.disable("ok"))},onSubmit:o,onClose:function(){},onCancel:function(){t(se.none())}})}},Gb=function(e,t,n,i,r,o,a,s){var l=Eg(t),u=Kb(t,n,i,"color"!==r?"normal":"color",o,a,s);return Mg(e,l,u,i,r)},Kb=function(e,t,n,i,r,o,a){return yf($e(e,function(s){return"choiceitem"===s.type?dn("choicemenuitem",Pg,s).fold(Ag,function(l){return se.some(function(e,t,n,i,r,o,a,s){void 0===s&&(s=!0);var l=ob({presets:n,textContent:t?e.text:se.none(),htmlContent:se.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:t?e.shortcut:se.none(),checkMark:t?se.some(tb(a.icons)):se.none(),caret:se.none(),value:e.value},a,s);return St(Gv({data:Kv(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Zp.set(e,t)},isActive:function(){return Zp.isOn(e)},isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},onAction:function(t){return i(e.value)},onSetup:function(e){return e.setActive(r),function(){}},triggersSubmenu:!1,itemBehaviours:[]},l,o,a),{toggling:{toggleClass:vg,toggleOnExecute:!1,selected:e.active}})}(l,1===n,i,t,o(s.value),r,a,Eg(e)))}):se.none()}))},Xb=function(e,t){var n=_g(t);return 1===e?{mode:"menu",moveOnTab:!0}:"auto"===e?{mode:"grid",selector:"."+n.item,initSize:{numColumns:1,numRows:1}}:{mode:"matrix",rowSelector:"."+("color"===t?"tox-swatches__row":"tox-collection__group")}},Jb={inserttable:function(e){var t=Ao("size-label"),n=function(e,t,n){for(var i=[],r=0;r<t;r++){for(var o=[],a=0;a<n;a++)o.push(cb(r,a,e));i.push(o)}return i}(t,10,10),i=Lm({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:t}},components:[za("0x0")],behaviours:Ol([Pp.config({})])});return{type:"widget",data:{value:Ao("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sb().widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:Re(n,function(e){return $e(e,Ya)}).concat(i.asSpec()),behaviours:Ol([Ip("insert-table-picker",[Hr(lb,function(e,t,r){var o=r.event().row(),a=r.event().col();!function(e,t,n,i,r){for(var o=0;o<i;o++)for(var a=0;a<r;a++)Zp.set(e[o][a],o<=t&&a<=n)}(n,o,a,10,10),Pp.set(i.get(e),[za(a+1+"x"+(o+1))])}),Hr(ub,function(t,n,i){e.onAction({numRows:i.event().row()+1,numColumns:i.event().col()+1}),$r(t,cr())})]),Ep.config({initSize:{numRows:10,numColumns:10},mode:"flatgrid",selector:'[role="button"]'})])})]}},colorswatch:function(e,t){var n=Vb(t.colorinput.getColors(),t.colorinput.hasCustomColors()),i=t.colorinput.getColorCols(),r=Gb(Ao("menu-value"),n,function(t){e.onAction({value:t})},i,"color",fg.CLOSE_ON_EXECUTE,function(){return!1},t.shared.providers),o=ie(ie({},r),{markers:_g("color"),movement:Xb(i,"color")});return{type:"widget",data:{value:Ao("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[sb().widget(gm.sketch(o))]}}},Zb=function(e,t,n,i,r,o,a,s){void 0===s&&(s=!0);var l,u,c=ob({presets:i,textContent:se.none(),htmlContent:n?e.text.map(function(e){return ab(e,t)}):se.none(),ariaLabel:e.text,iconContent:e.icon,shortcutContent:se.none(),checkMark:se.none(),caret:se.none(),value:e.value},a.providers,s,e.icon);return Gv({data:Kv(e),disabled:e.disabled,getApi:function(){return{}},onAction:function(t){return r(e.value,e.meta)},onSetup:function(){return function(){}},triggersSubmenu:!1,itemBehaviours:(l=e.meta,u=a,yt(l,"tooltipWorker").map(function(e){return[Kg.config({lazySink:u.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(e){return{anchor:"submenu",item:e,overrides:{maxHeightFunction:lu}}},mode:"follow-highlight",onShow:function(t,n){e(function(e){Kg.setComponents(t,[Ua({element:Jn.fromDom(e)})])})}})]}).getOr([]))},c,o,a.providers)},Qb=function(e){var t=e.text.fold(function(){return{}},function(e){return{innerHtml:e}});return{type:"separator",dom:ie({tag:"div",classes:[pg,"tox-collection__group-heading"]},t),components:[]}},ey=function(e,t,n,i){void 0===i&&(i=!0);var r=ob({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:se.none(),ariaLabel:e.text,caret:se.none(),checkMark:se.none(),shortcutContent:e.shortcut},n,i);return Gv({data:Kv(e),getApi:function(e){return{isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},disabled:e.disabled,onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n)},ty=function(e,t,n,i,r){void 0===i&&(i=!0),void 0===r&&(r=!1);var o,a,s=r?(a=n.icons,{dom:{tag:"div",classes:[yg],innerHtml:Fm("chevron-down",a)}}):(o=n.icons,{dom:{tag:"div",classes:[yg],innerHtml:Fm("chevron-right",o)}}),l=ob({presets:"normal",iconContent:e.icon,textContent:e.text,htmlContent:se.none(),ariaLabel:e.text,caret:se.some(s),checkMark:se.none(),shortcutContent:e.shortcut},n,i);return Gv({data:Kv(e),getApi:function(e){return{isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},disabled:e.disabled,onAction:G,onSetup:e.onSetup,triggersSubmenu:!0,itemBehaviours:[]},l,t,n)},ny=function(e,t,n,i){void 0===i&&(i=!0);var r=ob({iconContent:e.icon,textContent:e.text,htmlContent:se.none(),ariaLabel:e.text,checkMark:se.some(tb(n.icons)),caret:se.none(),shortcutContent:e.shortcut,presets:"normal",meta:e.meta},n,i);return St(Gv({data:Kv(e),disabled:e.disabled,getApi:function(e){return{setActive:function(t){Zp.set(e,t)},isActive:function(){return Zp.isOn(e)},isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},onAction:e.onAction,onSetup:e.onSetup,triggersSubmenu:!1,itemBehaviours:[]},r,t,n),{toggling:{toggleClass:vg,toggleOnExecute:!1,selected:e.active}})},iy=function(e,t){return n=Jb,i=e.fancytype,(Object.prototype.hasOwnProperty.call(n,i)?se.some(n[i]):se.none()).map(function(n){return n(e,t)});var n,i};($v=Dv=Dv||{})[$v.ContentFocus=0]="ContentFocus",$v[$v.UiFocus=1]="UiFocus";var ry,oy,ay,sy,ly=function(t,n,i,r,o){var a=i.shared.providers,s=function(e){return o?ie(ie({},e),{shortcut:se.none(),icon:e.text.isSome()?se.none():e.icon}):e};switch(t.type){case"menuitem":return dn("menuitem",Rg,t).fold(Ag,function(e){return se.some(ey(s(e),n,a,r))});case"nestedmenuitem":return dn("nestedmenuitem",Lg,t).fold(Ag,function(e){return se.some(ty(s(e),n,a,r,o))});case"togglemenuitem":return dn("togglemenuitem",Bg,t).fold(Ag,function(e){return se.some(ny(s(e),n,a,r))});case"separator":return dn("separatormenuitem",ag,t).fold(Ag,function(e){return se.some(Qb(e))});case"fancymenuitem":return dn("fancymenuitem",Ig,t).fold(Ag,function(e){return iy(s(e),i)});default:return e.console.error("Unknown item in general menu",t),se.none()}},uy=function(e,t,n,i,r,o){var a=1===i,s=!a||Eg(e);return yf($e(e,function(e){return"separator"===e.type?dn("Autocompleter.Separator",ag,e).fold(Ag,function(e){return se.some(Qb(e))}):dn("Autocompleter.Item",sg,e).fold(Ag,function(e){return se.some(Zb(e,t,a,"normal",n,r,o,s))})}))},cy=function(e,t,n,i,r){var o=Eg(t),a=yf($e(t,function(e){var t=function(e){return ly(e,n,i,(t=e,r?!t.hasOwnProperty("text"):o),r);var t};return t("nestedmenuitem"===e.type&&e.getSubmenuItems().length<=0?ie(ie({},e),{disabled:!0}):e)}));return(r?Og:Mg)(e,o,a,1,"normal")},dy=function(e){return Cm.singleData(e.value,e)},fy=function(t,n){var i=Kn(se.none()),r=Kn(!1),o=qa(_m.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Ol([Ip("dismissAutocompleter",[Rr(yr(),function(){return l()})])]),lazySink:n.getSink})),a=function(){return i.get().isSome()},s=function(){a()&&_m.hide(o)},l=function(){if(a()){var e=i.get().map(function(e){return e.element});qm(e.getOr(Jn.fromDom(t.selection.getNode()))).each(mo),s(),i.set(se.none()),r.set(!1)}},u=$t(function(){return ug(t)}),c=function(e,n,i,r){e.matchLength=n.text.length;var a,s,l,u,c,d,f,h=Ue(i,function(e){return se.from(e.columns)}).getOr(1);_m.showAt(o,{anchor:"node",root:Jn.fromDom(t.getBody()),node:se.from(e.element)},gm.sketch((a=Mg("autocompleter-value",!0,r,h,"normal"),s=h,l=Dv.ContentFocus,u="normal",c=(l===Dv.ContentFocus?eh:Qf)(),d=Xb(s,u),f=_g(u),{dom:a.dom,components:a.components,items:a.items,value:a.value,markers:{selectedItem:f.selectedItem,item:f.item},movement:d,fakeFocus:l===Dv.ContentFocus,focusManager:c,menuBehaviours:jg("auto"!==s?[]:[zr(function(e,t){Fg(e,4,f.item).each(function(t){var n=t.numColumns,i=t.numRows;Ep.setGridSize(e,i,n)})})])}))),_m.getContent(o).each(Pf.highlightFirst)},d=function(o){var f;f=o,i.get().map(function(e){return Jm(t.dom,t.selection.getRng(),e.triggerChar).bind(function(e){return og(t,u,e,f)})}).getOrThunk(function(){return rg(t,u)}).fold(l,function(o){!function(e){if(!a()){var n=Wm(t,e.range);i.set(se.some({triggerChar:e.triggerChar,element:n,matchLength:e.text.length})),r.set(!1)}}(o.context),o.lookupData.then(function(a){i.get().map(function(i){var u,f,h,p=o.context;if(i.triggerChar===p.triggerChar){var m=(u=p.triggerChar,h=Ue(f=a,function(e){return se.from(e.columns)}).getOr(1),Re(f,function(i){var o=i.items;return uy(o,i.matchText,function(n,o){var a=t.selection.getRng();Jm(t.dom,a,u).fold(function(){return e.console.error("Lost context. Cursor probably moved")},function(e){var t=e.range,a={hide:function(){l()},reload:function(e){s(),d(e)}};r.set(!0),i.onAction(a,t,n,o),r.set(!1)})},h,fg.BUBBLE_TO_SANDBOX,n)}));0<m.length?c(i,p,a,m):(10<=p.text.length-i.matchLength?l:s)()}})})})},f={onKeypress:Vm(function(e){27!==e.which&&d()},50),cancelIfNecessary:l,isMenuOpen:function(){return _m.isOpen(o)},isActive:a,isProcessingAction:r.get,getView:function(){return _m.getContent(o)}};Zm(f,t)},hy=X(!0),py=function(e,t,n){return as(e,t,hy,n,!1)},my=function(e,t,n){return as(e,t,hy,n,!0)},gy=os,vy=function(e,t,n){return ks(e,t,n).isSome()},by=function(e){var t=e.raw();return void 0===t.touches||1!==t.touches.length?se.none():se.some(t.touches[0])},yy=function(e){var t=Kn(se.none()),n=Kn(!1),i=s(function(t){e.triggerEvent(ur(),t),n.set(!0)},400),r=Lt([{key:Li(),value:function(e){return by(e).each(function(r){i.cancel();var o={x:r.clientX,y:r.clientY,target:e.target()};i.schedule(e),n.set(!1),t.set(se.some(o))}),se.none()}},{key:Bi(),value:function(e){return i.cancel(),by(e).each(function(e){t.get().each(function(n){var i,r,o,a;i=e,r=n,o=Math.abs(i.clientX-r.x),a=Math.abs(i.clientY-r.y),(5<o||5<a)&&t.set(se.none())})}),se.none()}},{key:Fi(),value:function(r){return i.cancel(),t.get().filter(function(e){return Ti(e.target,r.target())}).map(function(t){return n.get()?(r.prevent(),!1):e.triggerEvent(lr(),r)})}}]);return{fireIfReady:function(e,t){return yt(r,t).bind(function(t){return t(e)})}}},wy=function(){return Si().browser.isFirefox()},xy=Kt([An("triggerEvent"),Hn("stopBackspace",!0)]),Cy=function(t,n){var i,r,o,a,s=hn("Getting GUI events settings",xy,n),l=yy(s),u=$e(["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"].concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(e){return py(t,e,function(t){l.fireIfReady(t,e).each(function(e){e&&t.kill()}),s.triggerEvent(e,t)&&t.kill()})}),c=Kn(se.none()),d=py(t,"paste",function(t){l.fireIfReady(t,"paste").each(function(e){e&&t.kill()}),s.triggerEvent("paste",t)&&t.kill(),c.set(se.some(e.setTimeout(function(){s.triggerEvent(rr(),t)},0)))}),f=py(t,"keydown",function(e){var t;s.triggerEvent("keydown",e)?e.kill():!0!==s.stopBackspace||8!==(t=e).raw().which||_e(["input","textarea"],Yr(t.target()))||vy(t.target(),'[contenteditable="true"]')||e.prevent()}),h=(i=t,r=function(e){s.triggerEvent("focusin",e)&&e.kill()},wy()?my(i,"focus",r):py(i,"focusin",r)),p=Kn(se.none()),m=(o=t,a=function(t){s.triggerEvent("focusout",t)&&t.kill(),p.set(se.some(e.setTimeout(function(){s.triggerEvent(ir(),t)},0)))},wy()?my(o,"blur",a):py(o,"focusout",a));return{unbind:function(){Te(u,function(e){e.unbind()}),f.unbind(),h.unbind(),m.unbind(),d.unbind(),c.get().each(e.clearTimeout),p.get().each(e.clearTimeout)}}},_y=function(e,t){var n=yt(e,"target").map(function(e){return e()}).getOr(t);return Kn(n)},ky=Ct([{stopped:[]},{resume:["element"]},{complete:[]}]),Sy=function(e,t,n,i,r,o){var a,s,l,u,c=e(t,i),d=(a=n,s=r,l=Kn(!1),u=Kn(!1),{stop:function(){l.set(!0)},cut:function(){u.set(!0)},isStopped:l.get,isCut:u.get,event:X(a),setSource:s.set,getSource:s.get});return c.fold(function(){return o.logEventNoHandlers(t,i),ky.complete()},function(e){var n=e.descHandler;return Jo(n)(d),d.isStopped()?(o.logEventStopped(t,e.element,n.purpose()),ky.stopped()):d.isCut()?(o.logEventCut(t,e.element,n.purpose()),ky.complete()):io(e.element).fold(function(){return o.logNoParent(t,e.element,n.purpose()),ky.complete()},function(i){return o.logEventResponse(t,e.element,n.purpose()),ky.resume(i)})})},Dy=function(e,t,n,i,r,o){return Sy(e,t,n,i,r,o).fold(function(){return!0},function(i){return Dy(e,t,n,i,r,o)},function(){return!1})},$y=function(e,t,n){var i,r,o=(i=t,r=Kn(!1),{stop:function(){r.set(!0)},cut:G,isStopped:r.get,isCut:X(!1),event:X(i),setSource:Q("Cannot set source of a broadcasted event"),getSource:Q("Cannot get source of a broadcasted event")});return Te(e,function(e){var t=e.descHandler();Jo(t)(o)}),o.isStopped()},Ty=function(e,t,n,i,r){var o=_y(n,i);return Dy(e,t,n,i,o,r)},Ey=function(e,t){return{element:e,descHandler:t}},Ay=function(e,t){return{id:X(e),descHandler:X(t)}},Oy=vf({name:"Container",factory:function(e){var t=e.dom,i=t.attributes,r=n(t,["attributes"]);return{uid:e.uid,dom:ie({tag:"div",attributes:ie({role:"presentation"},i)},r),components:e.components,behaviours:pd(e.containerBehaviours),events:e.events,domModification:e.domModification,eventOrder:e.eventOrder}},configFields:[Hn("components",[]),hd("containerBehaviours",[]),Hn("events",{}),Hn("domModification",{}),Hn("eventOrder",{})]}),My=function(e){var t=function(t){return io(e.element()).fold(function(){return!0},function(e){return Ti(t,e)})},n=u(),i=function(e,i){return n.find(t,e,i)},r=Cy(e.element(),{triggerEvent:function(e,t){return Ps(e,t.target(),function(n){return r=i,o=e,s=n,l=(a=t).target(),Ty(r,o,a,l,s);var r,o,a,s,l})}}),o={debugInfo:X("real"),triggerEvent:function(e,t,n){Ps(e,t,function(r){return Ty(i,e,n,t,r)})},triggerFocus:function(e,t){Ro(e).fold(function(){jl(e)},function(n){Ps(nr(),e,function(n){var r,o,a,s,l,u;return r=i,o=nr(),a={originator:X(t),kill:G,prevent:G,target:X(e)},l=n,u=_y(a,s=e),Sy(r,o,a,s,u,l),!1})})},triggerEscape:function(e,t){o.triggerEvent("keydown",e.element(),t.event())},getByUid:function(e){return m(e)},getByDom:function(e){return g(e)},build:qa,addToGui:function(e){l(e)},removeFromGui:function(e){c(e)},addToWorld:function(e){a(e)},removeFromWorld:function(e){s(e)},broadcast:function(e){f(e)},broadcastOn:function(e,t){h(e,t)},broadcastEvent:function(e,t){p(e,t)},isConnected:X(!0)},a=function(e){e.connect(o),Xr(e.element())||(n.register(e),Te(e.components(),a),o.triggerEvent(fr(),e.element(),{target:X(e.element())}))},s=function(e){Xr(e.element())||(Te(e.components(),s),n.unregister(e)),e.disconnect()},l=function(t){Ec(e,t)},c=function(e){Mc(e)},d=function(e){var t=n.filter(or());Te(t,function(t){var n=t.descHandler();Jo(n)(e)})},f=function(e){d({universal:X(!0),data:X(e)})},h=function(e,t){d({universal:X(!1),channels:X(e),data:X(t)})},p=function(e,t){var i=n.filter(e);return $y(i,t)},m=function(e){return n.getById(e).fold(function(){return Ye.error(new Error('Could not find component with uid: "'+e+'" in system.'))},Ye.value)},g=function(e){var t=Ro(e).getOr("not found");return m(t)};return a(e),{root:X(e),element:e.element,destroy:function(){r.unbind(),po(e.element())},add:l,remove:c,getByUid:m,getByDom:g,addToWorld:a,removeFromWorld:s,broadcast:f,broadcastOn:h,broadcastEvent:p}},Ny=X([Hn("prefix","form-field"),hd("fieldBehaviours",[_f,fd])]),Py=X([Ud({schema:[Dn("dom")],name:"label"}),Ud({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Dn("text")],name:"aria-descriptor"}),Vd({factory:{sketch:function(e){var t=It(e,["factory"]);return e.factory.sketch(t)}},schema:[Dn("factory")],name:"field"})]),Iy=bf({name:"FormField",configFields:Ny(),partFields:Py(),factory:function(e,t,n,i){var r=md(e.fieldBehaviours,[_f.config({find:function(t){return nf(t,e,"field")}}),fd.config({store:{mode:"manual",getValue:function(e){return _f.getCurrent(e).bind(fd.getValue)},setValue:function(e,t){_f.getCurrent(e).each(function(e){fd.setValue(e,t)})}}})]),o=Nr([zr(function(t,n){var i=of(t,e,["label","field","aria-descriptor"]);i.field().each(function(t){var n=Ao(e.prefix);i.label().each(function(e){yo(e.element(),"for",n),yo(t.element(),"id",n)}),i["aria-descriptor"]().each(function(n){var i=Ao(e.prefix);yo(n.element(),"id",i),yo(t.element(),"aria-describedby",i)})})})]),a={getField:function(t){return nf(t,e,"field")},getLabel:function(t){return nf(t,e,"label")}};return{uid:e.uid,dom:e.dom,components:t,behaviours:r,events:o,apis:a}},apis:{getField:function(e,t){return e.getField(t)},getLabel:function(e,t){return e.getLabel(t)}}}),Ry=Object.freeze({__proto__:null,exhibit:function(e,t){return Ko({attributes:Lt([{key:t.tabAttr,value:"true"}])})}}),Ly=[Hn("tabAttr","data-alloy-tabstop")],By=Nl({fields:Ly,name:"tabstopping",active:Ry}),Fy=function(e,t,n,i){var r=Hy(e,t,n,i);return Iy.sketch(r)},Hy=function(e,t,n,i){return{dom:jy(n),components:e.toArray().concat([t]),fieldBehaviours:Ol(i)}},jy=function(e){return{tag:"div",classes:["tox-form__group"].concat(e)}},Vy=function(e,t){return Iy.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}})},zy=Ao("form-component-change"),Uy=Ao("form-close"),Wy=Ao("form-cancel"),qy=Ao("form-action"),Yy=Ao("form-submit"),Gy=Ao("form-block"),Ky=Ao("form-unblock"),Xy=Ao("form-tabchange"),Jy=Ao("form-resize"),Zy=function(e,t){var n,i,r=e.label.map(function(e){return Vy(e,t)}),o=function(e){return function(t,n){ks(n.event().target(),"[data-collection-item-value]").each(function(i){e(t,n,i,wo(i,"data-collection-item-value"))})}},a=function(n,i){var r=$e(i,function(n){var i,r=Jg.translate(n.text),o=1===e.columns?'<div class="tox-collection__item-label">'+r+"</div>":"",a='<div class="tox-collection__item-icon">'+n.icon+"</div>",s={_:" "," - ":" ","-":" "},l=r.replace(/\_| \- |\-/g,function(e){return s[e]});return'<div class="tox-collection__item'+(t.isReadOnly()?" tox-collection__item--state-disabled":"")+'" tabindex="-1" data-collection-item-value="'+('"'===(i=n.value)?"&quot;":i)+'" title="'+l+'" aria-label="'+l+'">'+a+o+"</div>"}),o=1<e.columns&&"auto"!==e.columns?De(r,e.columns):[r],a=$e(o,function(e){return'<div class="tox-collection__group">'+e.join("")+"</div>"});vo(n.element(),a.join(""))},s=o(function(n,i,r,o){i.stop(),t.isReadOnly()||Tr(n,qy,{name:e.name,value:o})}),l=[Rr(Wi(),o(function(e,t,n){jl(n)})),Rr(Zi(),s),Rr(lr(),s),Rr(qi(),o(function(e,t,n){_s(e.element(),"."+wg).each(function(e){ca(e,wg)}),la(n,wg)})),Rr(Yi(),o(function(e){_s(e.element(),"."+wg).each(function(e){ca(e,wg)})})),qr(o(function(t,n,i,r){Tr(t,qy,{name:e.name,value:r})}))],u=function(e,t){return $e(ju(e.element(),".tox-collection__item"),t)},c=Iy.parts().field({dom:{tag:"div",classes:["tox-collection"].concat(1!==e.columns?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:J},behaviours:Ol([dv.config({disabled:t.isReadOnly,onDisabled:function(e){u(e,function(e){la(e,"tox-collection__item--state-disabled"),yo(e,"aria-disabled",!0)})},onEnabled:function(e){u(e,function(e){ca(e,"tox-collection__item--state-disabled"),_o(e,"aria-disabled")})}}),Bv(),Pp.config({}),fd.config({store:{mode:"memory",initialValue:[]},onSetValue:function(t,n){a(t,n),"auto"===e.columns&&Fg(t,5,"tox-collection__item").each(function(e){var n=e.numRows,i=e.numColumns;Ep.setGridSize(t,n,i)}),$r(t,Jy)}}),By.config({}),Ep.config((n=e.columns,i="normal",1===n?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:"auto"===n?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:"color"===i?".tox-swatches__row":".tox-collection__group",cell:"color"===i?"."+mg:"."+pg}})),Ip("collection-events",l)]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","collection-events"]}});return Fy(r,c,["tox-form__group--collection"],[])},Qy=X([Pn("data"),Hn("inputAttributes",{}),Hn("inputStyles",{}),Hn("tag","input"),Hn("inputClasses",[]),zs("onSetValue"),Hn("styles",{}),Hn("eventOrder",{}),hd("inputBehaviours",[fd,Hp]),Hn("selectOnFocus",!0)]),ew=function(e){return Ol([Hp.config({onFocus:e.selectOnFocus?function(e){var t=e.element(),n=Ia(t);t.dom().setSelectionRange(0,n.length)}:G})])},tw=function(e){return{tag:e.tag,attributes:ie({type:"text"},e.inputAttributes),styles:e.inputStyles,classes:e.inputClasses}},nw=vf({name:"Input",configFields:Qy(),factory:function(e,t){return{uid:e.uid,dom:tw(e),components:[],behaviours:ie(ie({},ew(n=e)),md(n.inputBehaviours,[fd.config({store:ie(ie({mode:"manual"},n.data.map(function(e){return{initialValue:e}}).getOr({})),{getValue:function(e){return Ia(e.element())},setValue:function(e,t){Ia(e.element())!==t&&Ra(e.element(),t)}}),onSetValue:n.onSetValue})])),eventOrder:e.eventOrder};var n}}),iw={},rw={exports:iw};ry=void 0,oy=iw,ay=rw,sy=void 0,function(e){"object"==typeof oy&&void 0!==ay?ay.exports=e():"function"==typeof ry&&ry.amd?ry([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).EphoxContactWrapper=e()}(function(){return function e(t,n,i){function r(a,s){if(!n[a]){if(!t[a]){var l="function"==typeof sy&&sy;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return r(t[a][1][e]||e)},c,c.exports,e,t,n,i)}return n[a].exports}for(var o="function"==typeof sy&&sy,a=0;a<i.length;a++)r(i[a]);return r}({1:[function(e,t,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function a(){m&&h&&(m=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!m){var e=o(a);m=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,m=!1,function(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}(e)}}function l(e,t){this.fun=e,this.array=t}function u(){}var c,d,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],m=!1,g=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new l(e,t)),1!==p.length||m||o(s)},l.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=u,f.addListener=u,f.once=u,f.off=u,f.removeListener=u,f.removeAllListeners=u,f.emit=u,f.prependListener=u,f.prependOnceListener=u,f.listeners=function(e){return[]},f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){function n(){}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],u(e,this)}function r(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(r){return void a(t.promise,r)}o(t.promise,i)}else(1===e._state?o:a)(t.promise,e._value)})):e._deferreds.push(t)}function o(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void u(function(e,t){return function(){e.apply(t,arguments)}}(n,t),e)}e._state=1,e._value=t,s(e)}catch(r){a(e,r)}}function a(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)r(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function u(e,t){var n=!1;try{e(function(e){n||(n=!0,o(t,e))},function(e){n||(n=!0,a(t,e))})}catch(i){if(n)return;n=!0,a(t,i)}}var c,d;c=this,d=setTimeout,i.prototype["catch"]=function(e){
return this.then(null,e)},i.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new l(e,t,i)),i},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}t[o]=a,0==--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var i=0,r=e.length;i<r;i++)e[i].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},void 0!==t&&t.exports?t.exports=i:c.Promise||(c.Promise=i)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,i){function r(e,t){this._id=e,this._clearFn=t}var o=e("process/browser.js").nextTick,a=Function.prototype.apply,s=Array.prototype.slice,l={},u=0;n.setTimeout=function(){return new r(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new r(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=u++,i=!(arguments.length<2)&&s.call(arguments,1);return l[t]=!0,o(function(){l[t]&&(i?e.apply(null,i):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof i?i:function(e){delete l[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var i=e("promise-polyfill"),r="undefined"!=typeof window?window:Function("return this;")();t.exports={boltExport:r.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var ow,aw,sw=rw.exports.boltExport,lw=function(t){var n=se.none(),i=[],r=function(e){o()?s(e):i.push(e)},o=function(){return n.isSome()},a=function(e){Te(e,s)},s=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(function(e){o()||(n=se.some(e),a(i),i=[])}),{get:r,map:function(e){return lw(function(t){r(function(n){t(e(n))})})},isReady:o}},uw={nu:lw,pure:function(e){return lw(function(t){t(e)})}},cw=function(t){e.setTimeout(function(){throw t},0)},dw=function(e){var t=function(t){e().then(t,cw)};return{map:function(t){return dw(function(){return e().then(t)})},bind:function(t){return dw(function(){return e().then(function(e){return t(e).toPromise()})})},anonBind:function(t){return dw(function(){return e().then(function(){return t.toPromise()})})},toLazy:function(){return uw.nu(t)},toCached:function(){var t=null;return dw(function(){return null===t&&(t=e()),t})},toPromise:e,get:t}},fw=function(e){return dw(function(){return new sw(e)})},hw=function(e){return dw(function(){return sw.resolve(e)})},pw=["input","textarea"],mw=function(e){var t=Yr(e);return _e(pw,t)},gw=function(e,t){var n=t.getRoot(e).getOr(e.element());ca(n,t.invalidClass),t.notify.each(function(t){mw(e.element())&&yo(e.element(),"aria-invalid",!1),t.getContainer(e).each(function(e){vo(e,t.validHtml)}),t.onValid(e)})},vw=function(e,t,n,i){var r=t.getRoot(e).getOr(e.element());la(r,t.invalidClass),t.notify.each(function(t){mw(e.element())&&yo(e.element(),"aria-invalid",!0),t.getContainer(e).each(function(e){vo(e,i)}),t.onInvalid(e,i)})},bw=function(e,t,n){return t.validator.fold(function(){return hw(Ye.value(!0))},function(t){return t.validate(e)})},yw=function(e,t,n){return t.notify.each(function(t){t.onValidate(e)}),bw(e,t).map(function(n){return e.getSystem().isConnected()?n.fold(function(n){return vw(e,t,0,n),Ye.error(n)},function(n){return gw(e,t),Ye.value(n)}):Ye.error("No longer in system")})},ww=Object.freeze({__proto__:null,markValid:gw,markInvalid:vw,query:bw,run:yw,isInvalid:function(e,t){var n=t.getRoot(e).getOr(e.element());return da(n,t.invalidClass)}}),xw=Object.freeze({__proto__:null,events:function(e,t){return e.validator.map(function(t){return Nr([Rr(t.onEvent,function(t){yw(t,e).get(J)})].concat(t.validateOnLoad?[zr(function(t){yw(t,e).get(G)})]:[]))}).getOr({})}}),Cw=[Dn("invalidClass"),Hn("getRoot",se.none),Fn("notify",[Hn("aria","alert"),Hn("getContainer",se.none),Hn("validHtml",""),zs("onValid"),zs("onInvalid"),zs("onValidate")]),Fn("validator",[Dn("validate"),Hn("onEvent","input"),Hn("validateOnLoad",!0)])],_w=Nl({fields:Cw,name:"invalidating",active:xw,apis:ww,extra:{validation:function(e){return function(t){var n=fd.getValue(t);return hw(e(n))}}}}),kw=Object.freeze({__proto__:null,getCoupled:function(e,t,n,i){return n.getOrCreate(e,t,i)}}),Sw=[$n("others",cn(Ye.value,vn()))],Dw=Nl({fields:Sw,name:"coupling",apis:kw,state:Object.freeze({__proto__:null,init:function(){var e={},t=X({});return Yo({readState:t,getOrCreate:function(t,n,i){var r=ct(n.others);if(r)return yt(e,i).getOrThunk(function(){var r=yt(n.others,i).getOrDie("No information found for coupled component: "+i)(t),o=t.getSystem().build(r);return e[i]=o});throw new Error("Cannot find coupled component: "+i+". Known coupled components: "+JSON.stringify(r,null,2))}})}})}),$w=X("sink"),Tw=X(Ud({name:$w(),overrides:X({dom:{tag:"div"},behaviours:Ol([kc.config({useFixed:te})]),events:Nr([jr(Gi()),jr(ji()),jr(Zi())])})}));(aw=ow=ow||{})[aw.HighlightFirst=0]="HighlightFirst",aw[aw.HighlightNone=1]="HighlightNone";var Ew,Aw,Ow,Mw,Nw,Pw,Iw,Rw=function(e,t){var n=e.getHotspot(t).getOr(t),i=e.getAnchorOverrides();return e.layouts.fold(function(){return{anchor:"hotspot",hotspot:n,overrides:i}},function(e){return{anchor:"hotspot",hotspot:n,overrides:i,layouts:e}})},Lw=function(e,t,n,i,r,o,a){var s,l,u,c,d,f,h,p,m,g,v=Rw(e,n);return(l=v,c=i,d=r,f=a,h=t,p=u=n,m=(0,(s=e).fetch)(p).map(h),g=jw(u,s),m.map(function(e){return e.bind(function(e){return se.from(Cm.sketch(ie(ie({},d.menu()),{uid:Lo(""),data:e,highlightImmediately:f===ow.HighlightFirst,onOpenMenu:function(e,t){var n=g().getOrDie();kc.position(n,l,t),qc.decloak(c)},onOpenSubmenu:function(e,t,n){var i=g().getOrDie();kc.position(i,{anchor:"submenu",item:t},n),qc.decloak(c)},onRepositionMenu:function(e,t,n){var i=g().getOrDie();kc.position(i,l,t),Te(n,function(e){kc.position(i,{anchor:"submenu",item:e.triggeringItem},e.triggeredMenu)})},onEscape:function(){return Hp.focus(u),qc.close(c),se.some(!0)}})))})})).map(function(e){return e.fold(function(){qc.isOpen(i)&&qc.close(i)},function(e){qc.cloak(i),qc.open(i,e),o(i)}),i})},Bw=function(e,t,n,i,r,o,a){return qc.close(i),hw(i)},Fw=function(e,t,n,i,r,o){var a=Dw.getCoupled(n,"sandbox");return(qc.isOpen(a)?Bw:Lw)(e,t,n,a,i,r,o)},Hw=function(e,t,n){var i,r,o=_f.getCurrent(t).getOr(t),a=is(e.element());n?Da(o.element(),"min-width",a+"px"):(i=o.element(),r=a,ns.set(i,r))},jw=function(e,t){return e.getSystem().getByUid(t.uid+"-"+$w()).map(function(e){return function(){return Ye.value(e)}}).getOrThunk(function(){return t.lazySink.fold(function(){return function(){return Ye.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(t){return function(){return t(e)}})})},Vw=function(e){qc.getState(e).each(function(e){Cm.repositionMenus(e)})},zw=function(e,t,n){var i=Ss(),r=jw(t,e);return{dom:{tag:"div",classes:e.sandboxClasses,attributes:{id:i.id,role:"listbox"}},behaviours:vd(e.sandboxBehaviours,[fd.config({store:{mode:"memory",initialValue:t}}),qc.config({onOpen:function(r,o){var a=Rw(e,t);i.link(t.element()),e.matchWidth&&Hw(a.hotspot,o,e.useMinWidth),e.onOpen(a,r,o),void 0!==n&&void 0!==n.onOpen&&n.onOpen(r,o)},onClose:function(e,r){i.unlink(t.element()),void 0!==n&&void 0!==n.onClose&&n.onClose(e,r)},isPartOf:function(e,n,i){return $s(n,i)||$s(t,i)},getAttachPoint:function(){return r().getOrDie()}}),_f.config({find:function(e){return qc.getState(e).bind(function(e){return _f.getCurrent(e)})}}),Fl.config({channels:ie(ie({},Jc({isExtraPart:ee})),Qc({doReposition:Vw}))})])}},Uw=function(e){var t=Dw.getCoupled(e,"sandbox");Vw(t)},Ww=function(){return[Hn("sandboxClasses",[]),gd("sandboxBehaviours",[_f,Fl,qc,fd])]},qw=X([Dn("dom"),Dn("fetch"),zs("onOpen"),Us("onExecute"),Hn("getHotspot",se.some),Hn("getAnchorOverrides",X({})),yu(),hd("dropdownBehaviours",[Zp,Dw,Ep,Hp]),Dn("toggleClass"),Hn("eventOrder",{}),Pn("lazySink"),Hn("matchWidth",!1),Hn("useMinWidth",!1),Pn("role")].concat(Ww())),Yw=X([zd({schema:[Hs()],name:"menu",defaults:function(e){return{onExecute:e.onExecute}}}),Tw()]),Gw=bf({name:"Dropdown",configFields:qw(),partFields:Yw(),factory:function(e,t,n,i){var r,o,a=function(e){qc.getState(e).each(function(e){Cm.highlightPrimary(e)})},s={expand:function(t){Zp.isOn(t)||Fw(e,function(e){return e},t,i,G,ow.HighlightNone).get(G)},open:function(t){Zp.isOn(t)||Fw(e,function(e){return e},t,i,G,ow.HighlightFirst).get(G)},isOpen:Zp.isOn,close:function(t){Zp.isOn(t)&&Fw(e,function(e){return e},t,i,G,ow.HighlightFirst).get(G)},repositionMenus:function(e){Zp.isOn(e)&&Uw(e)}},l=function(e,t){return Er(e),se.some(!0)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.dropdownBehaviours,[Zp.config({toggleClass:e.toggleClass,aria:{mode:"expanded"}}),Dw.config({others:{sandbox:function(t){return zw(e,t,{onOpen:function(){Zp.on(t)},onClose:function(){Zp.off(t)}})}}}),Ep.config({mode:"special",onSpace:l,onEnter:l,onDown:function(e,t){if(Gw.isOpen(e)){var n=Dw.getCoupled(e,"sandbox");a(n)}else Gw.open(e);return se.some(!0)},onEscape:function(e,t){return Gw.isOpen(e)?(Gw.close(e),se.some(!0)):se.none()}}),Hp.config({})]),events:em(se.some(function(t){Fw(e,function(e){return e},t,i,a,ow.HighlightFirst).get(G)})),eventOrder:ie(ie({},e.eventOrder),((r={})[ar()]=["disabling","toggling","alloy.base.behaviour"],r)),apis:s,domModification:{attributes:ie(ie({"aria-haspopup":"true"},e.role.fold(function(){return{}},function(e){return{role:e}})),"button"===e.dom.tag?{type:(o="type",yt(e.dom,"attributes").bind(function(e){return yt(e,o)}).getOr("button"))}:{})}}},apis:{open:function(e,t){return e.open(t)},expand:function(e,t){return e.expand(t)},close:function(e,t){return e.close(t)},isOpen:function(e,t){return e.isOpen(t)},repositionMenus:function(e,t){return e.repositionMenus(t)}}}),Kw=Nl({fields:[],name:"unselecting",active:Object.freeze({__proto__:null,events:function(){return Nr([Pr(er(),X(!0))])},exhibit:function(){return Ko({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),Xw=Ao("color-input-change"),Jw=Ao("color-swatch-change"),Zw=Ao("color-picker-cancel"),Qw=function(e,t,n){var i,r,o=Iy.parts().field({factory:nw,inputClasses:["tox-textfield"],onSetValue:function(e){return _w.run(e).get(function(){})},inputBehaviours:Ol([dv.config({disabled:t.providers.isReadOnly}),Bv(),By.config({}),_w.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(e){return io(e.element())},notify:{onValid:function(e){var t=fd.getValue(e);Tr(e,Xw,{color:t})}},validator:{validateOnLoad:!1,validate:function(e){var t=fd.getValue(e);if(0===t.length)return hw(Ye.value(!0));var n=Jn.fromTag("span");Da(n,"background-color",t);var i=Oa(n,"background-color").fold(function(){return Ye.error("blah")},function(e){return Ye.value(t)});return hw(i)}}})]),selectOnFocus:!1}),a=e.label.map(function(e){return Vy(e,t.providers)}),s=function(e,t){Tr(e,Jw,{value:t})},l=Lm((i={dom:{tag:"span",attributes:{"aria-label":t.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[pl,hl,bl]},onLtr:function(){return[hl,pl,bl]}},components:[],fetch:zb(n.getColors(),n.hasCustomColors()),columns:n.getColorCols(),presets:"color",onItemAction:function(e,t){l.getOpt(e).each(function(e){"custom"===t?n.colorPicker(function(t){t.fold(function(){return $r(e,Zw)},function(t){s(e,t),Bb(t)})},"#ffffff"):s(e,"remove"===t?"":t)})}},r=t,Gw.sketch({dom:i.dom,components:i.components,toggleClass:"mce-active",dropdownBehaviours:Ol([Hv(r.providers.isReadOnly),Bv(),Kw.config({}),By.config({})]),layouts:i.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(e){return fw(function(e){return i.fetch(e)}).map(function(t){return se.from(dy(St(Gb(Ao("menu-value"),t,function(t){i.onItemAction(e,t)},i.columns,i.presets,fg.CLOSE_ON_EXECUTE,function(){return!1},r.providers),{movement:Xb(i.columns,i.presets)})))})},parts:{menu:Sg(0,0,i.presets)}})));return Iy.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:a.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[o,l.asSpec()]}]),fieldBehaviours:Ol([Ip("form-field-events",[Rr(Xw,function(t,n){l.getOpt(t).each(function(e){Da(e.element(),"background-color",n.event().color())}),Tr(t,zy,{name:e.name})}),Rr(Jw,function(e,t){Iy.getField(e).each(function(n){fd.setValue(n,t.event().value()),_f.getCurrent(e).each(Hp.focus)})}),Rr(Zw,function(e,t){Iy.getField(e).each(function(t){_f.getCurrent(e).each(Hp.focus)})})])])})},ex=function(e,t,n){return{hue:e,saturation:t,value:n}},tx=Ao("rgb-hex-update"),nx=Ao("slider-update"),ix=Ao("palette-update"),rx=Ud({schema:[Dn("dom")],name:"label"}),ox=function(e){return Ud({name:e+"-edge",overrides:function(t){return t.model.manager.edgeActions[e].fold(function(){return{}},function(e){return{events:Nr([Lr(Li(),function(t,n,i){return e(t,i)},[t]),Lr(ji(),function(t,n,i){return e(t,i)},[t]),Lr(Vi(),function(t,n,i){i.mouseIsDown.get()&&e(t,i)},[t])])}})}})},ax=ox("top-left"),sx=ox("top"),lx=ox("top-right"),ux=ox("right"),cx=ox("bottom-right"),dx=ox("bottom"),fx=ox("bottom-left"),hx=[rx,ox("left"),ux,sx,dx,ax,lx,fx,cx,Vd({name:"thumb",defaults:X({dom:{styles:{position:"absolute"}}}),overrides:function(e){return{events:Nr([Fr(Li(),e,"spectrum"),Fr(Bi(),e,"spectrum"),Fr(Fi(),e,"spectrum"),Fr(ji(),e,"spectrum"),Fr(Vi(),e,"spectrum"),Fr(Ui(),e,"spectrum")])}}}),Vd({schema:[Gn("mouseIsDown",function(){return Kn(!1)})],name:"spectrum",overrides:function(e){var t=e.model.manager,n=function(n,i){return t.getValueFromEvent(i).map(function(i){return t.setValueFrom(n,e,i)})};return{behaviours:Ol([Ep.config({mode:"special",onLeft:function(n){return t.onLeft(n,e)},onRight:function(n){return t.onRight(n,e)},onUp:function(n){return t.onUp(n,e)},onDown:function(n){return t.onDown(n,e)}}),Hp.config({})]),events:Nr([Rr(Li(),n),Rr(Bi(),n),Rr(ji(),n),Rr(Vi(),function(t,i){e.mouseIsDown.get()&&n(t,i)})])}}})],px=X("slider.change.value"),mx=function(e){var t=e.event().raw();return-1!==t.type.indexOf("touch")?void 0!==t.touches&&1===t.touches.length?se.some(t.touches[0]).map(function(e){return Za(e.clientX,e.clientY)}):se.none():void 0!==t.clientX?se.some(t).map(function(e){return Za(e.clientX,e.clientY)}):se.none()},gx=function(e){return e.model.minX},vx=function(e){return e.model.minY},bx=function(e){return e.model.minX-1},yx=function(e){return e.model.minY-1},wx=function(e){return e.model.maxX},xx=function(e){return e.model.maxY},Cx=function(e){return e.model.maxX+1},_x=function(e){return e.model.maxY+1},kx=function(e,t,n){return t(e)-n(e)},Sx=function(e){return kx(e,wx,gx)},Dx=function(e){return kx(e,xx,vx)},$x=function(e){return Sx(e)/2},Tx=function(e){return Dx(e)/2},Ex=function(e){return e.stepSize},Ax=function(e){return e.snapToGrid},Ox=function(e){return e.snapStart},Mx=function(e){return e.rounded},Nx=function(e,t){return void 0!==e[t+"-edge"]},Px=function(e){return Nx(e,"left")},Ix=function(e){return Nx(e,"right")},Rx=function(e){return Nx(e,"top")},Lx=function(e){return Nx(e,"bottom")},Bx=function(e){return e.model.value.get()},Fx=function(e){return{x:X(e)}},Hx=function(e){return{y:X(e)}},jx=function(e,t){return{x:X(e),y:X(t)}},Vx=function(e,t){Tr(e,px(),{value:t})},zx=function(e,t,n,i){return e<t?e:n<e?n:e===t?t-1:Math.max(t,e-i)},Ux=function(e,t,n,i){return n<e?e:e<t?t:e===n?n+1:Math.min(n,e+i)},Wx=function(e,t,n){return Math.max(t,Math.min(n,e))},qx=function(e){var t=e.min,n=e.max,i=e.range,r=e.value,o=e.step,a=e.snap,s=e.snapStart,l=e.rounded,u=e.hasMinEdge,c=e.hasMaxEdge,d=e.minBound,f=e.maxBound,h=e.screenRange,p=u?t-1:t,m=c?n+1:n;if(r<d)return p;if(f<r)return m;var g,v,b,y,w,x,C,_=(w=r,x=d,C=f,Math.min(C,Math.max(w,x))-x),k=Wx(_/h*i+t,p,m);return a&&t<=k&&k<=n?(g=k,v=t,b=n,y=o,s.fold(function(){var e=g-v,t=Math.round(e/y)*y;return Wx(v+t,v-1,b+1)},function(e){var t=(g-e)%y,n=Math.round(t/y),i=Math.floor((g-e)/y),r=Math.floor((b-e)/y),o=e+Math.min(r,i+n)*y;return Math.max(e,o)})):l?Math.round(k):k},Yx=function(e){var t=e.min,n=e.max,i=e.range,r=e.value,o=e.hasMinEdge,a=e.hasMaxEdge,s=e.maxBound,l=e.maxOffset,u=e.centerMinEdge,c=e.centerMaxEdge;return r<t?o?0:u:n<r?a?s:c:(r-t)/i*l},Gx="left",Kx=function(e){return e.element().dom().getBoundingClientRect()},Xx=function(e,t){return e[t]},Jx=function(e){var t=Kx(e);return Xx(t,Gx)},Zx=function(e){var t=Kx(e);return Xx(t,"right")},Qx=function(e){var t=Kx(e);return Xx(t,"top")},eC=function(e){var t=Kx(e);return Xx(t,"bottom")},tC=function(e){var t=Kx(e);return Xx(t,"width")},nC=function(e){var t=Kx(e);return Xx(t,"height")},iC=function(e,t,n){return(e+t)/2-n},rC=function(e,t){var n=Kx(e),i=Kx(t),r=Xx(n,Gx),o=Xx(n,"right"),a=Xx(i,Gx);return iC(r,o,a)},oC=function(e,t){var n=Kx(e),i=Kx(t),r=Xx(n,"top"),o=Xx(n,"bottom"),a=Xx(i,"top");return iC(r,o,a)},aC=function(e,t){Tr(e,px(),{value:t})},sC=function(e){return{x:X(e)}},lC=function(e,t,n){var i={min:gx(t),max:wx(t),range:Sx(t),value:n,step:Ex(t),snap:Ax(t),snapStart:Ox(t),rounded:Mx(t),hasMinEdge:Px(t),hasMaxEdge:Ix(t),minBound:Jx(e),maxBound:Zx(e),screenRange:tC(e)};return qx(i)},uC=function(e){return function(t,n){return i=t,o=(0<e?Ux:zx)(Bx(r=n).x(),gx(r),wx(r),Ex(r)),aC(i,sC(o)),se.some(o).map(function(){return!0});var i,r,o}},cC=function(e,t,n,i,r,o){var a,s,l,u,c,d,f,h,p,m=(s=o,l=n,u=i,c=r,d=tC(a=t),f=u.bind(function(e){return se.some(rC(e,a))}).getOr(0),h=c.bind(function(e){return se.some(rC(e,a))}).getOr(d),p={min:gx(s),max:wx(s),range:Sx(s),value:l,hasMinEdge:Px(s),hasMaxEdge:Ix(s),minBound:Jx(a),minOffset:0,maxBound:Zx(a),maxOffset:d,centerMinEdge:f,centerMaxEdge:h},Yx(p));return Jx(t)-Jx(e)+m},dC=uC(-1),fC=uC(1),hC=se.none,pC=se.none,mC={"top-left":se.none(),top:se.none(),"top-right":se.none(),right:se.some(function(e,t){Vx(e,Fx(Cx(t)))}),"bottom-right":se.none(),bottom:se.none(),"bottom-left":se.none(),left:se.some(function(e,t){Vx(e,Fx(bx(t)))})},gC=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var i=lC(e,t,n),r=sC(i);return aC(e,r),i},setToMin:function(e,t){var n=gx(t);aC(e,sC(n))},setToMax:function(e,t){var n=wx(t);aC(e,sC(n))},findValueOfOffset:lC,getValueFromEvent:function(e){return mx(e).map(function(e){return e.left()})},findPositionOfValue:cC,setPositionFromValue:function(e,t,n,i){var r=Bx(n),o=cC(e,i.getSpectrum(e),r.x(),i.getLeftEdge(e),i.getRightEdge(e),n),a=is(t.element())/2;Da(t.element(),"left",o-a+"px")},onLeft:dC,onRight:fC,onUp:hC,onDown:pC,edgeActions:mC}),vC=function(e,t){Tr(e,px(),{value:t})},bC=function(e){return{y:X(e)}},yC=function(e,t,n){var i={min:vx(t),max:xx(t),range:Dx(t),value:n,step:Ex(t),snap:Ax(t),snapStart:Ox(t),rounded:Mx(t),hasMinEdge:Rx(t),hasMaxEdge:Lx(t),minBound:Qx(e),maxBound:eC(e),screenRange:nC(e)};return qx(i)},wC=function(e){return function(t,n){return i=t,o=(0<e?Ux:zx)(Bx(r=n).y(),vx(r),xx(r),Ex(r)),vC(i,bC(o)),se.some(o).map(function(){return!0});var i,r,o}},xC=function(e,t,n,i,r,o){var a,s,l,u,c,d,f,h,p,m=(s=o,l=n,u=i,c=r,d=nC(a=t),f=u.bind(function(e){return se.some(oC(e,a))}).getOr(0),h=c.bind(function(e){return se.some(oC(e,a))}).getOr(d),p={min:vx(s),max:xx(s),range:Dx(s),value:l,hasMinEdge:Rx(s),hasMaxEdge:Lx(s),minBound:Qx(a),minOffset:0,maxBound:eC(a),maxOffset:d,centerMinEdge:f,centerMaxEdge:h},Yx(p));return Qx(t)-Qx(e)+m},CC=se.none,_C=se.none,kC=wC(-1),SC=wC(1),DC={"top-left":se.none(),top:se.some(function(e,t){Vx(e,Hx(yx(t)))}),"top-right":se.none(),right:se.none(),"bottom-right":se.none(),bottom:se.some(function(e,t){Vx(e,Hx(_x(t)))}),"bottom-left":se.none(),left:se.none()},$C=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var i=yC(e,t,n),r=bC(i);return vC(e,r),i},setToMin:function(e,t){var n=vx(t);vC(e,bC(n))},setToMax:function(e,t){var n=xx(t);vC(e,bC(n))},findValueOfOffset:yC,getValueFromEvent:function(e){return mx(e).map(function(e){return e.top()})},findPositionOfValue:xC,setPositionFromValue:function(e,t,n,i){var r=Bx(n),o=xC(e,i.getSpectrum(e),r.y(),i.getTopEdge(e),i.getBottomEdge(e),n),a=Ka(t.element())/2;Da(t.element(),"top",o-a+"px")},onLeft:CC,onRight:_C,onUp:kC,onDown:SC,edgeActions:DC}),TC=function(e,t){Tr(e,px(),{value:t})},EC=function(e,t){return{x:X(e),y:X(t)}},AC=function(e,t){return function(n,i){return o=n,a=i,s=0<e?Ux:zx,l=(r=t)?Bx(a).x():s(Bx(a).x(),gx(a),wx(a),Ex(a)),u=r?s(Bx(a).y(),vx(a),xx(a),Ex(a)):Bx(a).y(),TC(o,EC(l,u)),se.some(l).map(function(){return!0});var r,o,a,s,l,u}},OC=AC(-1,!1),MC=AC(1,!1),NC=AC(-1,!0),PC=AC(1,!0),IC={"top-left":se.some(function(e,t){Vx(e,jx(bx(t),yx(t)))}),top:se.some(function(e,t){Vx(e,jx($x(t),yx(t)))}),"top-right":se.some(function(e,t){Vx(e,jx(Cx(t),yx(t)))}),right:se.some(function(e,t){Vx(e,jx(Cx(t),Tx(t)))}),"bottom-right":se.some(function(e,t){Vx(e,jx(Cx(t),_x(t)))}),bottom:se.some(function(e,t){Vx(e,jx($x(t),_x(t)))}),"bottom-left":se.some(function(e,t){Vx(e,jx(bx(t),_x(t)))}),left:se.some(function(e,t){Vx(e,jx(bx(t),Tx(t)))})},RC=Object.freeze({__proto__:null,setValueFrom:function(e,t,n){var i=lC(e,t,n.left()),r=yC(e,t,n.top()),o=EC(i,r);return TC(e,o),o},setToMin:function(e,t){var n=gx(t),i=vx(t);TC(e,EC(n,i))},setToMax:function(e,t){var n=wx(t),i=xx(t);TC(e,EC(n,i))},getValueFromEvent:function(e){return mx(e)},setPositionFromValue:function(e,t,n,i){var r=Bx(n),o=cC(e,i.getSpectrum(e),r.x(),i.getLeftEdge(e),i.getRightEdge(e),n),a=xC(e,i.getSpectrum(e),r.y(),i.getTopEdge(e),i.getBottomEdge(e),n),s=is(t.element())/2,l=Ka(t.element())/2;Da(t.element(),"left",o-s+"px"),Da(t.element(),"top",a-l+"px")},onLeft:OC,onRight:MC,onUp:NC,onDown:PC,edgeActions:IC}),LC=bf({name:"Slider",configFields:[Hn("stepSize",1),Hn("onChange",G),Hn("onChoose",G),Hn("onInit",G),Hn("onDragStart",G),Hn("onDragEnd",G),Hn("snapToGrid",!1),Hn("rounded",!0),Pn("snapStart"),$n("model",gn("mode",{x:[Hn("minX",0),Hn("maxX",100),Gn("value",function(e){return Kn(e.mode.minX)}),Dn("getInitialValue"),Ys("manager",gC)],y:[Hn("minY",0),Hn("maxY",100),Gn("value",function(e){return Kn(e.mode.minY)}),Dn("getInitialValue"),Ys("manager",$C)],xy:[Hn("minX",0),Hn("maxX",100),Hn("minY",0),Hn("maxY",100),Gn("value",function(e){return Kn({x:X(e.mode.minX),y:X(e.mode.minY)})}),Dn("getInitialValue"),Ys("manager",RC)]})),hd("sliderBehaviours",[Ep,fd]),Gn("mouseIsDown",function(){return Kn(!1)})],partFields:hx,factory:function(e,t,n,i){var r,o=function(t){return rf(t,e,"thumb")},a=function(t){return rf(t,e,"spectrum")},s=function(t){return nf(t,e,"left-edge")},l=function(t){return nf(t,e,"right-edge")},u=function(t){return nf(t,e,"top-edge")},c=function(t){return nf(t,e,"bottom-edge")},d=e.model,f=d.manager,h=function(t,n){f.setPositionFromValue(t,n,e,{getLeftEdge:s,getRightEdge:l,getTopEdge:u,getBottomEdge:c,getSpectrum:a})},p=function(t,n){d.value.set(n);var i=o(t);return h(t,i),e.onChange(t,i,n),se.some(!0)},m=function(t){var n=e.mouseIsDown.get();e.mouseIsDown.set(!1),n&&nf(t,e,"thumb").each(function(n){var i=d.value.get();e.onChoose(t,n,i)})},g=function(t,n){n.stop(),e.mouseIsDown.set(!0),e.onDragStart(t,o(t))},v=function(t,n){n.stop(),e.onDragEnd(t,o(t)),m(t)};return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.sliderBehaviours,[Ep.config({mode:"special",focusIn:function(t){return nf(t,e,"spectrum").map(Ep.focusIn).map(X(!0))}}),fd.config({store:{mode:"manual",getValue:function(e){return d.value.get()}}}),Fl.config({channels:((r={})[Kc()]={onReceive:m},r)})]),events:Nr([Rr(px(),function(e,t){p(e,t.event().value())}),zr(function(t,n){var i=d.getInitialValue();d.value.set(i);var r=o(t);h(t,r);var s=a(t);e.onInit(t,r,s,d.value.get())}),Rr(Li(),g),Rr(Fi(),v),Rr(ji(),g),Rr(Ui(),v)]),apis:{resetToMin:function(t){f.setToMin(t,e)},resetToMax:function(t){f.setToMax(t,e)},changeValue:p,refresh:h},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(e,t){e.resetToMin(t)},resetToMax:function(e,t){e.resetToMax(t)},refresh:function(e,t){e.refresh(t)}}}),BC=[hd("formBehaviours",[fd])],FC=function(e){return"<alloy.field."+e+">"},HC=function(e,t){return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.formBehaviours,[fd.config({store:{mode:"manual",getValue:function(t){var n=af(t,e);return ht(n,function(e,t){return e().bind(function(e){var n,i,r=_f.getCurrent(e);return n=r,i=new Error("Cannot find a current component to extract the value from for form part '"+t+"': "+Do(e.element())),n.fold(function(){return Ye.error(i)},Ye.value)}).map(fd.getValue)})},setValue:function(t,n){ft(n,function(n,i){nf(t,e,i).each(function(e){_f.getCurrent(e).each(function(e){fd.setValue(e,n)})})})}}})]),apis:{getField:function(t,n){return nf(t,e,n).bind(_f.getCurrent)}}}},jC={getField:Wo(function(e,t,n){return e.getField(t,n)}),sketch:function(e){var t,n=(t=[],{field:function(e,n){return t.push(e),Jd("form",FC(e),n)},record:function(){return t}}),i=e(n),r=n.record(),o=$e(r,function(e){return Vd({name:e,pname:FC(e)})});return hf("form",BC,o,HC,i)}},VC=Ao("valid-input"),zC=Ao("invalid-input"),UC=Ao("validating-input"),WC="colorcustom.rgb.",qC=function(e,t,n,i){var r=function(n,i,r,o,a){var s,l,u=e(WC+"range"),c=[Iy.parts().label({dom:{tag:"label",innerHtml:r,attributes:{"aria-label":o}}}),Iy.parts().field({data:a,factory:nw,inputAttributes:ie({type:"text"},"hex"===i?{"aria-live":"polite"}:{}),inputClasses:[t("textfield")],inputBehaviours:Ol([(s=i,l=n,_w.config({invalidClass:t("invalid"),notify:{onValidate:function(e){Tr(e,UC,{type:s})},onValid:function(e){Tr(e,VC,{type:s,value:fd.getValue(e)})},onInvalid:function(e){Tr(e,zC,{type:s,value:fd.getValue(e)})}},validator:{validate:function(t){var n=fd.getValue(t),i=l(n)?Ye.value(!0):Ye.error(e("aria.input.invalid"));return hw(i)},validateOnLoad:!1}})),By.config({})]),onSetValue:function(e){_w.isInvalid(e)&&_w.run(e).get(G)}})],d="hex"!==i?[Iy.parts()["aria-descriptor"]({text:u})]:[];return{dom:{tag:"div",attributes:{role:"presentation"}},components:c.concat(d)}},o=function(e,t){var n=t.red,i=t.green,r=t.blue;fd.setValue(e,{red:n,green:i,blue:r})},a=Lm({dom:{tag:"div",classes:[t("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),s=function(e,t){a.getOpt(e).each(function(e){Da(e.element(),"background-color","#"+t.value)})};return vf({factory:function(){var l={red:Kn(se.some(255)),green:Kn(se.some(255)),blue:Kn(se.some(255)),hex:Kn(se.some("ffffff"))},u=function(e){return l[e].get()},c=function(e,t){l[e].set(t)},d=function(e){var t=e.red,n=e.green,i=e.blue;c("red",se.some(t)),c("green",se.some(n)),c("blue",se.some(i))},f=function(e,t){var n=t.event();"hex"!==n.type()?c(n.type(),se.none()):i(e)},h=function(e,t,n){var i=parseInt(n,10);c(t,se.some(i)),u("red").bind(function(e){return u("green").bind(function(t){return u("blue").map(function(n){return _b(e,t,n,1)})})}).each(function(t){var n,i,r=(n=e,i=vb(t),jC.getField(n,"hex").each(function(e){Hp.isFocused(e)||fd.setValue(n,{hex:i.value})}),i);s(e,r)})},p=function(e,t){var i=t.event();"hex"===i.type()?function(e,t){n(e);var i=db(t);c("hex",se.some(t));var r=Db(i);o(e,r),d(r),Tr(e,tx,{hex:i}),s(e,i)}(e,i.value()):h(e,i.type(),i.value())},m=function(t){return{label:e(WC+t+".label"),description:e(WC+t+".description")}},g=m("red"),v=m("green"),b=m("blue"),y=m("hex");return St(jC.sketch(function(n){return{dom:{tag:"form",classes:[t("rgb-form")],attributes:{"aria-label":e("aria.color.picker")}},components:[n.field("red",Iy.sketch(r(kb,"red",g.label,g.description,255))),n.field("green",Iy.sketch(r(kb,"green",v.label,v.description,255))),n.field("blue",Iy.sketch(r(kb,"blue",b.label,b.description,255))),n.field("hex",Iy.sketch(r(pb,"hex",y.label,y.description,"ffffff"))),a.asSpec()],formBehaviours:Ol([_w.config({invalidClass:t("form-invalid")}),Ip("rgb-form-events",[Rr(VC,p),Rr(zC,f),Rr(UC,f)])])}}),{apis:{updateHex:function(e,t){var n,i;fd.setValue(e,{hex:t.value}),n=e,i=Db(t),o(n,i),d(i),s(e,t)}}})},name:"RgbForm",configFields:[],apis:{updateHex:function(e,t,n){e.updateHex(t,n)}},extraApis:{}})},YC=function(e,t){var n=LC.parts().spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[t("sv-palette-spectrum")]}}),i=LC.parts().thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette-thumb")],innerHtml:"<div class="+t("sv-palette-inner-thumb")+' role="presentation"></div>'}}),r=function(e,t){var n=e.width,i=e.height,r=e.getContext("2d");if(null!==r){r.fillStyle=t,r.fillRect(0,0,n,i);var o=r.createLinearGradient(0,0,n,0);o.addColorStop(0,"rgba(255,255,255,1)"),o.addColorStop(1,"rgba(255,255,255,0)"),r.fillStyle=o,r.fillRect(0,0,n,i);var a=r.createLinearGradient(0,0,0,i);a.addColorStop(0,"rgba(0,0,0,0)"),a.addColorStop(1,"rgba(0,0,0,1)"),r.fillStyle=a,r.fillRect(0,0,n,i)}};return vf({factory:function(e){var o=X({x:X(0),y:X(0)}),a=Ol([_f.config({find:se.some}),Hp.config({})]);return LC.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[t("sv-palette")]},model:{mode:"xy",getInitialValue:o},rounded:!1,components:[n,i],onChange:function(e,t,n){Tr(e,ix,{value:n})},onInit:function(e,t,n,i){r(n.element().dom(),Tb(Eb))},sliderBehaviours:a})},name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(e,t,n){var i,o;i=n,o=t.components()[0].element().dom(),r(o,Tb(i))}},extraApis:{}})},GC=function(e,t){return vf({name:"ColourPicker",configFields:[Dn("dom"),Hn("onValidHex",G),Hn("onInvalidHex",G)],factory:function(n){var i,r,o,a,s,l=qC(e,t,n.onValidHex,n.onInvalidHex),u=YC(0,t),c={paletteRgba:Kn(Eb)},d=Lm(u.sketch({})),f=Lm(l.sketch({})),h=function(e,t){d.getOpt(e).each(function(e){var n=Db(t);c.paletteRgba.set(n),u.setRgba(e,n)})},p=function(e,t){f.getOpt(e).each(function(e){l.updateHex(e,t)})},m=function(e,t,n){Te(n,function(n){n(e,t)})};return{uid:n.uid,dom:n.dom,components:[d.asSpec(),(o=t,a=LC.parts().spectrum({dom:{tag:"div",classes:[o("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=LC.parts().thumb({dom:{tag:"div",classes:[o("hue-slider-thumb")],attributes:{role:"presentation"}}}),LC.sketch({dom:{tag:"div",classes:[o("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:X({y:X(0)})},components:[a,s],sliderBehaviours:Ol([Hp.config({})]),onChange:function(e,t,n){Tr(e,nx,{value:n})}})),f.asSpec()],behaviours:Ol([Ip("colour-picker-events",[Rr(ix,(r=[p],function(e,t){var n,i,o,a,s,l,u,d,f,h=t.event().value(),p=c.paletteRgba.get(),g=(a=o=0,s=(n=p).red/255,l=n.green/255,u=n.blue/255,d=Math.min(s,Math.min(l,u)),f=Math.max(s,Math.max(l,u)),d===f?ex(0,0,100*(a=d)):(o=60*((o=s===d?3:u===d?1:5)-(s===d?l-u:u===d?s-l:u-s)/(f-d)),i=(f-d)/f,a=f,ex(Math.round(o),Math.round(100*i),Math.round(100*a)))),v=ex(g.hue,h.x(),100-h.y()),b=Sb(v),y=vb(b);m(e,y,r)})),Rr(nx,(i=[h,p],function(e,t){var n,r,o,a=t.event().value(),s=(n=a.y(),r=ex((100-n)/100*360,100,100),o=Sb(r),vb(o));m(e,s,i)}))]),_f.config({find:function(e){return f.getOpt(e)}}),Ep.config({mode:"acyclic"})])}}})},KC=function(){return _f.config({find:se.some})},XC=function(e){return _f.config({find:e.getOpt})},JC=function(e){return _f.config({find:function(t){return ao(t.element(),e).bind(function(e){return t.getSystem().getByDom(e).toOption();
})}})},ZC={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},QC=function(e){return ZC[e]},e_=tinymce.util.Tools.resolve("tinymce.Resource"),t_=Xt([Hn("preprocess",J),Hn("postprocess",J)]),n_=function(e,t,n){return fd.config(St({store:{mode:"manual",getValue:t,setValue:n}},e.map(function(e){return{store:{initialValue:e}}}).getOr({})))},i_=function(e,t,n){return n_(e,function(e){return t(e.element())},function(e,t){return n(e.element(),t)})},r_=function(e,t){var n=hn("RepresentingConfigs.memento processors",t_,t);return fd.config({store:{mode:"manual",getValue:function(t){var i=e.get(t),r=fd.getValue(i);return n.postprocess(r)},setValue:function(t,i){var r=n.preprocess(i),o=e.get(t);fd.setValue(o,r)}}})},o_=n_,a_=function(e){return i_(e,go,vo)},s_=function(e){return fd.config({store:{mode:"memory",initialValue:e}})},l_=function(e,t){var n=function(e,t){t.stop()},i=function(e){return function(t,n){Te(e,function(e){e(t,n)})}},r=function(e,t){if(!dv.isDisabled(e)){var n=t.event().raw();a(e,n.dataTransfer.files)}},o=function(e,t){var n=t.event().raw().target.files;a(e,n)},a=function(t,n){var i,r;fd.setValue(t,(i=n,r=new RegExp("("+".jpg,.jpeg,.png,.gif".split(/\s*,\s*/).join("|")+")$","i"),Ae(ze(i),function(e){return r.test(e.name)}))),Tr(t,zy,{name:e.name})},s=Lm({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Ol([Ip("input-file-events",[jr(Zi()),jr(lr())])])}),l=e.label.map(function(e){return Vy(e,t)}),u=Iy.parts().field({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Ol([s_([]),KC(),dv.config({}),Zp.config({toggleClass:"dragenter",toggleOnExecute:!1}),Ip("dropzone-events",[Rr("dragenter",i([n,Zp.toggle])),Rr("dragleave",i([n,Zp.toggle])),Rr("dragover",n),Rr("drop",i([n,r])),Rr(Ji(),o)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:t.translate("Drop an image here")}},Rm.sketch({dom:{tag:"button",innerHtml:t.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[s.asSpec()],action:function(e){s.get(e).element().dom().click()},buttonBehaviours:Ol([By.config({}),Hv(t.isReadOnly),Bv()])})]}]}}}});return Fy(l,u,["tox-form__group--stretched"],[])},u_=Ao("alloy-fake-before-tabstop"),c_=Ao("alloy-fake-after-tabstop"),d_=function(e){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:e},behaviours:Ol([Hp.config({ignore:!0}),By.config({})])}},f_=function(e){return{dom:{tag:"div",classes:["tox-navobj"]},components:[d_([u_]),e,d_([c_])],behaviours:Ol([JC(1)])}},h_=function(e,t){Tr(e,Gi(),{raw:{which:9,shiftKey:t}})},p_=function(e,t){var n=t.element();da(n,u_)?h_(e,!0):da(n,c_)&&h_(e,!1)},m_=function(e){return vy(e,["."+u_,"."+c_].join(","),X(!1))},g_=!(Si().browser.isIE()||Si().browser.isEdge()),v_=function(e,t){var n,i,r=g_&&e.sandboxed,o=ie(ie({},e.label.map(function(e){return{title:e}}).getOr({})),r?{sandbox:"allow-scripts allow-same-origin"}:{}),a=(n=r,i=Kn(""),{getValue:function(e){return i.get()},setValue:function(e,t){if(n)yo(e.element(),"srcdoc",t);else{yo(e.element(),"src","javascript:''");var r=e.element().dom().contentWindow.document;r.open(),r.write(t),r.close()}i.set(t)}}),s=e.label.map(function(e){return Vy(e,t)}),l=Iy.parts().field({factory:{sketch:function(e){return f_({uid:e.uid,dom:{tag:"iframe",attributes:o},behaviours:Ol([By.config({}),Hp.config({}),o_(se.none(),a.getValue,a.setValue)])})}}});return Fy(s,l,["tox-form__group--stretched"],[])},b_=window.Promise?window.Promise:(Aw=(Ew=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],C(e,g(b,this),g(y,this))}).immediateFn||"function"==typeof window.setImmediate&&window.setImmediate||function(t){e.setTimeout(t,1)},Ow=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},Ew.prototype["catch"]=function(e){return this.then(null,e)},Ew.prototype.then=function(e,t){var n=this;return new Ew(function(i,r){v.call(n,new x(e,t,i,r))})},Ew.all=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Array.prototype.slice.call(1===e.length&&Ow(e[0])?e[0]:e);return new Ew(function(e,t){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},t)}n[o]=a,0==--r&&e(n)}catch(l){t(l)}}if(0===n.length)return e([]);for(var r=n.length,o=0;o<n.length;o++)i(o,n[o])})},Ew.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Ew?e:new Ew(function(t){t(e)})},Ew.reject=function(e){return new Ew(function(t,n){n(e)})},Ew.race=function(e){return new Ew(function(t,n){for(var i=0,r=e;i<r.length;i++)r[i].then(t,n)})},Ew),y_=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],w_=function(e){return function(t){return M(t,e)}}([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),x_=P(function(e,t){return O(e,[1,0,0,0,t=E(255*t,-255,255),0,1,0,0,t,0,0,1,0,t,0,0,0,1,0,0,0,0,0,1])}),C_=P(function(e,t){var n;return t=E(t,-1,1),O(e,[(n=(t*=100)<0?127+t/100*127:127*(n=0===(n=t%1)?y_[t]:y_[Math.floor(t)]*(1-n)+y_[Math.floor(t)+1]*n)+127)/127,0,0,0,.5*(127-n),0,n/127,0,0,.5*(127-n),0,0,n/127,0,.5*(127-n),0,0,0,1,0,0,0,0,0,1])}),__=function(e,t,n,i){return M(e,function(e,t,n,i){return O(e,[t=E(t,0,2),0,0,0,0,0,n=E(n,0,2),0,0,0,0,0,i=E(i,0,2),0,0,0,0,0,1,0,0,0,0,0,1])}(A(),t,n,i))},k_=function(e){return function(t){return N(t,e)}}([0,-1,0,-1,5,-1,0,-1,0]),S_=function(e){var t=function(t,n,i){for(var r=f(t),o=new Array(256),a=0;a<o.length;a++)o[a]=e(a,i);var s=function(e,t){for(var n=e.data,i=0;i<n.length;i+=4)n[i]=t[n[i]],n[i+1]=t[n[i+1]],n[i+2]=t[n[i+2]];return e}(r.getImageData(0,0,t.width,t.height),o);return r.putImageData(s,0,0),T(t,n)};return function(e,n){return e.toCanvas().then(function(i){return t(i,e.getType(),n)})}}(function(e,t){return 255*Math.pow(e/255,1-t)}),D_=function(e){return w_(e)},$_=function(e){return k_(e)},T_=function(e,t){return S_(e,t)},E_=function(e,t){return x_(e,t)},A_=function(e,t){return C_(e,t)},O_=function(e,t){return L(e,t)},M_=function(e,t,n){return function(e,t,n){return e.toCanvas().then(function(i){return I(i,t,n).then(function(t){return T(t,e.getType())})})}(e,t,n)},N_=function(e,t){return R(e,t)},P_=function(e,t){return ie({dom:{tag:"span",innerHtml:e,classes:["tox-icon","tox-tbtn__icon-wrap"]}},t)},I_=function(e,t){return P_(Fm(e,t),{})},R_=function(e,t){return P_(Fm(e,t),{behaviours:Ol([Pp.config({})])})},L_=function(e,t,n){return{dom:{tag:"span",innerHtml:n.translate(e),classes:[t+"__select-label"]},behaviours:Ol([Pp.config({})])}},B_=Ao("toolbar.button.execute"),F_={"alloy.execute":["disabling","alloy.base.behaviour","toggling","toolbar-button-events"]},H_=Ao("update-menu-text"),j_=Ao("update-menu-icon"),V_=function(e,t,n){var r=Kn(G),o=e.text.map(function(e){return Lm(L_(e,t,n.providers))}),a=e.icon.map(function(e){return Lm(R_(e,n.providers.icons))}),s=function(e,t){var n=fd.getValue(e);return Hp.focus(n),Tr(n,"keydown",{raw:t.event().raw()}),Gw.close(n),se.some(!0)},l=e.role.fold(function(){return{}},function(e){return{role:e}}),u=e.tooltip.fold(function(){return{}},function(e){var t=n.providers.translate(e);return{title:t,"aria-label":t}});return Lm(Gw.sketch(ie(ie({},l),{dom:{tag:"button",classes:[t,t+"--select"].concat($e(e.classes,function(e){return t+"--"+e})),attributes:ie({},u)},components:Yv([a.map(function(e){return e.asSpec()}),o.map(function(e){return e.asSpec()}),se.some({dom:{tag:"div",classes:[t+"__select-chevron"],innerHtml:Fm("chevron-down",n.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Ol(i(e.dropdownBehaviours,[Hv(function(){return e.disabled||n.providers.isReadOnly()}),Bv(),Kw.config({}),Pp.config({}),Ip("dropdown-events",[Uv(e,r),Wv(e,r)]),Ip("menubutton-update-display-text",[Rr(H_,function(e,t){o.bind(function(t){return t.getOpt(e)}).each(function(e){Pp.set(e,[za(n.providers.translate(t.event().text()))])})}),Rr(j_,function(e,t){a.bind(function(t){return t.getOpt(e)}).each(function(e){Pp.set(e,[R_(t.event().icon(),n.providers.icons)])})})])])),eventOrder:St(F_,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Ol([Ep.config({mode:"special",onLeft:s,onRight:s})]),lazySink:n.getSink,toggleClass:t+"--active",parts:{menu:Sg(0,e.columns,e.presets)},fetch:function(){return fw(e.fetch)}}))).asSpec()},z_=function(e){return"separator"===e.type},U_={type:"separator"},W_=function(e,t){var n=Me(e,function(e,n){return ce(n)?""===n?e:"|"===n?0<e.length&&!z_(e[e.length-1])?e.concat([U_]):e:wt(t,n.toLowerCase())?e.concat([t[n.toLowerCase()]]):e:e.concat([n])},[]);return 0<n.length&&z_(n[n.length-1])&&n.pop(),n},q_=function(e,t){return wt(e,"getSubmenuItems")?(i=t,r=(n=e).getSubmenuItems(),o=Y_(r,i),{item:n,menus:St(o.menus,Rt(n.value,o.items)),expansions:St(o.expansions,Rt(n.value,n.value))}):{item:e,menus:{},expansions:{}};var n,i,r,o},Y_=function(e,t){var n=W_(ce(e)?e.split(" "):e,t);return Oe(n,function(e,n){var i=function(e){if(z_(e))return e;var t=yt(e,"value").getOrThunk(function(){return Ao("generated-menu-item")});return St({value:t},e)}(n),r=q_(i,t);return{menus:St(e.menus,r.menus),items:[r.item].concat(e.items),expansions:St(e.expansions,r.expansions)}},{menus:{},expansions:{},items:[]})},G_=function(e,t,n,i){var r=Ao("primary-menu"),o=Y_(e,n.shared.providers.menuItems());if(0===o.items.length)return se.none();var a=cy(r,o.items,t,n,i),s=ht(o.menus,function(e,i){return cy(i,e,t,n,!1)}),l=St(s,Rt(r,a));return se.from(Cm.tieredData(r,l,o.expansions))},K_=function(e){return{isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)},setActive:function(t){var n=e.element();t?(la(n,"tox-tbtn--enabled"),yo(n,"aria-pressed",!0)):(ca(n,"tox-tbtn--enabled"),_o(n,"aria-pressed"))},isActive:function(){return da(e.element(),"tox-tbtn--enabled")}}},X_=function(e,t,n,i){return V_({text:e.text,icon:e.icon,tooltip:e.tooltip,role:i,fetch:function(t){e.fetch(function(e){t(G_(e,fg.CLOSE_ON_EXECUTE,n,!1))})},onSetup:e.onSetup,getApi:K_,columns:1,presets:"normal",classes:[],dropdownBehaviours:[By.config({})]},t,n.shared)},J_=function(e,t,n){return function(i){i($e(e,function(e){var i,r,o=e.text.fold(function(){return{}},function(e){return{text:e}});return ie(ie({type:e.type,active:!1},o),{onAction:function(e){var i=!e.isActive();e.setActive(i),r.storage.set(i),n.shared.getSink().each(function(e){t().getOpt(e).each(function(e){jl(e.element()),Tr(e,qy,{name:r.name,value:r.storage.get()})})})},onSetup:(i=r=e,function(e){e.setActive(i.storage.get())})})}))}},Z_=function(e,t,n,i,r,o){void 0===n&&(n=[]);var a=t.fold(function(){return{}},function(e){return{action:e}}),s=ie({buttonBehaviours:Ol([Hv(function(){return e.disabled||o.isReadOnly()}),Bv(),By.config({}),Ip("button press",[Ir("click"),Ir("mousedown")])].concat(n)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},a),l=St(s,{dom:i});return St(l,{components:r})},Q_=function(e,t,n,i){void 0===i&&(i=[]);var r={tag:"button",classes:["tox-tbtn"],attributes:e.tooltip.map(function(e){return{"aria-label":n.translate(e),title:n.translate(e)}}).getOr({})},o=e.icon.map(function(e){return I_(e,n.icons)}),a=Yv([o]);return Z_(e,t,i,r,a,n)},ek=function(e,t,n,i){void 0===i&&(i=[]);var r=Q_(e,se.some(t),n,i);return Rm.sketch(r)},tk=function(e,t,n,r,o){void 0===r&&(r=[]),void 0===o&&(o=[]);var a=n.translate(e.text),s=e.icon?e.icon.map(function(e){return I_(e,n.icons)}):se.none(),l=s.isSome()?Yv([s]):[],u=s.isSome()?{}:{innerHtml:a},c=i(e.primary||e.borderless?["tox-button"]:["tox-button","tox-button--secondary"],s.isSome()?["tox-button--icon"]:[],e.borderless?["tox-button--naked"]:[],o),d=ie(ie({tag:"button",classes:c},u),{attributes:{title:a}});return Z_(e,t,r,d,l,n)},nk=function(e,t,n,i,r){void 0===i&&(i=[]),void 0===r&&(r=[]);var o=tk(e,se.some(t),n,i,r);return Rm.sketch(o)},ik=function(t,n){return function(i){"custom"===n?Tr(i,qy,{name:t,value:{}}):"submit"===n?$r(i,Yy):"cancel"===n?$r(i,Wy):e.console.error("Unknown button type: ",n)}},rk=function(t,n,i){if("menu"===n){var r=t,o=ie(ie({},t),{onSetup:function(e){return e.setDisabled(t.disabled),G},fetch:J_(r.items,function(){return a},i)}),a=Lm(X_(o,"tox-tbtn",i,se.none()));return a.asSpec()}if("custom"===(u=n)||"cancel"===u||"submit"===u){var s=ik(t.name,n),l=ie(ie({},t),{borderless:!1});return nk(l,s,i.shared.providers,[])}var u;e.console.error("Unknown footer button type: ",n)},ok=function(e,t){var n,i,r=ik(e.name,"custom");return n=se.none(),i=Iy.parts().field(ie({factory:Rm},tk(e,se.some(r),t,[s_(""),KC()]))),Fy(n,i,[],[])},ak=X([Hn("field1Name","field1"),Hn("field2Name","field2"),Ws("onLockedChange"),js(["lockClass"]),Hn("locked",!1),gd("coupledFieldBehaviours",[_f,fd])]),sk=function(e,t){return Vd({factory:Iy,name:e,overrides:function(e){return{fieldBehaviours:Ol([Ip("coupled-input-behaviour",[Rr(Xi(),function(n){nf(n,e,t).bind(_f.getCurrent).each(function(t){nf(n,e,"lock").each(function(i){Zp.isOn(i)&&e.onLockedChange(n,t,i)})})})])])}}})},lk=X([sk("field1","field2"),sk("field2","field1"),Vd({factory:Rm,schema:[Dn("dom")],name:"lock",overrides:function(e){return{buttonBehaviours:Ol([Zp.config({selected:e.locked,toggleClass:e.markers.lockClass,aria:{mode:"pressed"}})])}}})]),uk=bf({name:"FormCoupledInputs",configFields:ak(),partFields:lk(),factory:function(e,t,n,i){return{uid:e.uid,dom:e.dom,components:t,behaviours:vd(e.coupledFieldBehaviours,[_f.config({find:se.some}),fd.config({store:{mode:"manual",getValue:function(t){var n,i=lf(t,e,["field1","field2"]);return(n={})[e.field1Name]=fd.getValue(i.field1()),n[e.field2Name]=fd.getValue(i.field2()),n},setValue:function(t,n){var i=lf(t,e,["field1","field2"]);xt(n,e.field1Name)&&fd.setValue(i.field1(),n[e.field1Name]),xt(n,e.field2Name)&&fd.setValue(i.field2(),n[e.field2Name])}}})]),apis:{getField1:function(t){return nf(t,e,"field1")},getField2:function(t){return nf(t,e,"field2")},getLock:function(t){return nf(t,e,"lock")}}}},apis:{getField1:function(e,t){return e.getField1(t)},getField2:function(e,t){return e.getField2(t)},getLock:function(e,t){return e.getLock(t)}}}),ck=function(e){var t=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/.exec(e);if(null===t)return Ye.error(e);var n=parseFloat(t[1]),i=t[2];return Ye.value({value:n,unit:i})},dk=function(e,t){var n={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,"in":1},i=function(e){return Object.prototype.hasOwnProperty.call(n,e)};return e.unit===t?se.some(e.value):i(e.unit)&&i(t)?n[e.unit]===n[t]?se.some(e.value):se.some(e.value/n[e.unit]*n[t]):se.none()},fk=function(e){return se.none()},hk=function(e,t){var n,i,r,o=ck(e).toOption(),a=ck(t).toOption();return i=a,r=function(e,t){return dk(e,t.unit).map(function(e){return t.value/e}).map(function(e){return n=e,i=t.unit,function(e){return dk(e,i).map(function(e){return{value:e*n,unit:i}})};var n,i}).getOr(fk)},((n=o).isSome()&&i.isSome()?se.some(r(n.getOrDie(),i.getOrDie())):se.none()).getOr(fk)},pk=function(e,t){var n=fk,i=Ao("ratio-event"),r=uk.parts().lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:t.translate(e.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:Fm("lock",t.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:Fm("unlock",t.icons)}}],buttonBehaviours:Ol([dv.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Bv(),By.config({})])}),o=function(e){return{dom:{tag:"div",classes:["tox-form__group"]},components:e}},a=function(n){return Iy.parts().field({factory:nw,inputClasses:["tox-textfield"],inputBehaviours:Ol([dv.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Bv(),By.config({}),Ip("size-input-events",[Rr(qi(),function(e,t){Tr(e,i,{isField1:n})}),Rr(Ji(),function(t,n){Tr(t,zy,{name:e.name})})])]),selectOnFocus:!1})},s=function(e){return{dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}},l=uk.parts().field1(o([Iy.parts().label(s("Width")),a(!0)])),u=uk.parts().field2(o([Iy.parts().label(s("Height")),a(!1)]));return uk.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[l,u,o([s("&nbsp;"),r])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(e,t,i){ck(fd.getValue(e)).each(function(e){n(e).each(function(e){var n,i,r,o;fd.setValue(t,(r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,"in":4,"%":4},-1!==(o=(n=e).value.toFixed((i=n.unit)in r?r[i]:1)).indexOf(".")&&(o=o.replace(/\.?0*$/,"")),o+n.unit))})})},coupledFieldBehaviours:Ol([dv.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){uk.getField1(e).bind(Iy.getField).each(dv.disable),uk.getField2(e).bind(Iy.getField).each(dv.disable),uk.getLock(e).each(dv.disable)},onEnabled:function(e){uk.getField1(e).bind(Iy.getField).each(dv.enable),uk.getField2(e).bind(Iy.getField).each(dv.enable),uk.getLock(e).each(dv.enable)}}),Bv(),Ip("size-input-events2",[Rr(i,function(e,t){var i=t.event().isField1(),r=i?uk.getField1(e):uk.getField2(e),o=i?uk.getField2(e):uk.getField1(e),a=r.map(fd.getValue).getOr(""),s=o.map(fd.getValue).getOr("");n=hk(a,s)})])])})},mk={undo:X(Ao("undo")),redo:X(Ao("redo")),zoom:X(Ao("zoom")),back:X(Ao("back")),apply:X(Ao("apply")),swap:X(Ao("swap")),transform:X(Ao("transform")),tempTransform:X(Ao("temp-transform")),transformApply:X(Ao("transform-apply"))},gk=X("save-state"),vk=X("disable"),bk=X("enable"),yk={formActionEvent:qy,saveState:gk,disable:vk,enable:bk},wk=function(e,t){var n=function(e,n,i,r){return Lm(nk({name:e,text:e,disabled:i,primary:r,icon:se.none(),borderless:!1},n,t))},i=function(e,n,i,r){return Lm(ek({name:e,icon:se.some(e),tooltip:se.some(n),disabled:r,primary:!1,borderless:!1},i,t))},r=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(dv)&&dv.disable(n)})},o=function(e,t){e.map(function(e){var n=e.get(t);n.hasConfigured(dv)&&dv.enable(n)})},a={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},s=G,l=function(e,t,n){Tr(e,t,n)},u=function(e){return $r(e,yk.disable())},c=function(e){return $r(e,yk.enable())},d=function(e,t){u(e),l(e,mk.transform(),{transform:t}),c(e)},f=function(e){return function(){te.getOpt(e).each(function(e){Pp.set(e,[Q])})}},h=function(e,t){u(e),l(e,mk.transformApply(),{transform:t,swap:f(e)}),c(e)},p=function(){return n("Back",function(e){return l(e,mk.back(),{swap:f(e)})},!1,!1)},m=function(){return Lm({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Ol([dv.config({})])})},g=function(){return n("Apply",function(e){return l(e,mk.apply(),{swap:f(e)})},!0,!0)},v=function(){return function(t){var n,i,r,o,a,s=e.getRect();return n=t,i=s.x,r=s.y,o=s.w,a=s.h,B(n,i,r,o,a)}},b=[p(),m(),n("Apply",function(t){var n=v();h(t,n),e.hideCrop()},!1,!0)],y=Oy.sketch({dom:a,components:b.map(function(e){return e.asSpec()}),containerBehaviours:Ol([Ip("image-tools-crop-buttons-events",[Rr(yk.disable(),function(e,t){r(b,e)}),Rr(yk.enable(),function(e,t){o(b,e)})])])}),w=Lm(pk({name:"size",label:se.none(),constrain:!0,disabled:!1},t)),x=[p(),m(),w,m(),n("Apply",function(e){w.getOpt(e).each(function(t){var n,i,r=fd.getValue(t),o=parseInt(r.width,10),a=parseInt(r.height,10),s=(n=o,i=a,function(e){return M_(e,n,i)});h(e,s)})},!1,!0)],C=Oy.sketch({dom:a,components:x.map(function(e){return e.asSpec()}),containerBehaviours:Ol([Ip("image-tools-resize-buttons-events",[Rr(yk.disable(),function(e,t){r(x,e)}),Rr(yk.enable(),function(e,t){o(x,e)})])])}),_=function(e,t){return function(n){return e(n,t)}},k=_(O_,"h"),S=_(O_,"v"),D=_(N_,-90),$=_(N_,90),T=function(e,t){var n,i;i=t,u(n=e),l(n,mk.tempTransform(),{transform:i}),c(n)},E=[p(),m(),i("flip-horizontally","Flip horizontally",function(e){T(e,k)},!1),i("flip-vertically","Flip vertically",function(e){T(e,S)},!1),i("rotate-left","Rotate counterclockwise",function(e){T(e,D)},!1),i("rotate-right","Rotate clockwise",function(e){T(e,$)},!1),m(),g()],A=Oy.sketch({dom:a,components:E.map(function(e){return e.asSpec()}),containerBehaviours:Ol([Ip("image-tools-fliprotate-buttons-events",[Rr(yk.disable(),function(e,t){r(E,e)}),Rr(yk.enable(),function(e,t){o(E,e)})])])}),O=function(e,n,i,r,o){var a=LC.parts().label({dom:{tag:"label",classes:["tox-label"],innerHtml:t.translate(e)}}),s=LC.parts().spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),l=LC.parts().thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return Lm(LC.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:i,maxX:o,getInitialValue:X({x:X(r)})},components:[a,s,l],sliderBehaviours:Ol([Hp.config({})]),onChoose:n}))},M=function(e,t,n,i,r){return[p(),(o=t,O(e,function(e,t,n){var i=_(o,n.x()/100);d(e,i)},n,i,r)),g()];var o},N=function(e,t,n,i,s){var l=M(e,t,n,i,s);return Oy.sketch({dom:a,components:l.map(function(e){return e.asSpec()}),containerBehaviours:Ol([Ip("image-tools-filter-panel-buttons-events",[Rr(yk.disable(),function(e,t){r(l,e)}),Rr(yk.enable(),function(e,t){o(l,e)})])])})},P=[p(),m(),g()],I=Oy.sketch({dom:a,components:P.map(function(e){return e.asSpec()})}),R=N("Brightness",E_,-100,0,100),L=N("Contrast",A_,-100,0,100),F=N("Gamma",T_,-100,0,100),H=function(e,t,n){return function(i){return __(i,e,t,n)}},j=function(e){return O(e,function(e,t,n){var i=V.getOpt(e),r=U.getOpt(e),o=z.getOpt(e);i.each(function(t){r.each(function(n){o.each(function(i){var r=fd.getValue(t).x()/100,o=fd.getValue(i).x()/100,a=fd.getValue(n).x()/100,s=H(r,o,a);d(e,s)})})})},0,100,200)},V=j("R"),z=j("G"),U=j("B"),W=[p(),V,z,U,g()],q=Oy.sketch({dom:a,components:W.map(function(e){return e.asSpec()})}),Y=function(e,t,n){return function(i){l(i,mk.swap(),{transform:t,swap:function(){te.getOpt(i).each(function(t){Pp.set(t,[e]),n(t)})}})}},K=se.some($_),J=se.some(D_),Z=[i("crop","Crop",Y(y,se.none(),function(t){e.showCrop()}),!1),i("resize","Resize",Y(C,se.none(),function(t){w.getOpt(t).each(function(t){var n=e.getMeasurements(),i=n.width,r=n.height;fd.setValue(t,{width:i,height:r})})}),!1),i("orientation","Orientation",Y(A,se.none(),s),!1),i("brightness","Brightness",Y(R,se.none(),s),!1),i("sharpen","Sharpen",Y(I,K,s),!1),i("contrast","Contrast",Y(L,se.none(),s),!1),i("color-levels","Color levels",Y(q,se.none(),s),!1),i("gamma","Gamma",Y(F,se.none(),s),!1),i("invert","Invert",Y(I,J,s),!1)],Q=Oy.sketch({dom:a,components:Z.map(function(e){return e.asSpec()})}),ee=Oy.sketch({dom:{tag:"div"},components:[Q],containerBehaviours:Ol([Pp.config({})])}),te=Lm(ee);return{memContainer:te,getApplyButton:function(e){return te.getOpt(e).map(function(e){var t=e.components()[0];return t.components()[t.components().length-1]})}}},xk=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ck=tinymce.util.Tools.resolve("tinymce.geom.Rect"),_k=tinymce.util.Tools.resolve("tinymce.util.Observable"),kk=tinymce.util.Tools.resolve("tinymce.util.Tools"),Sk=tinymce.util.Tools.resolve("tinymce.util.VK"),Dk=0,$k=function(e,t,n,i,r){function o(t,i,r,o){var a,s,u,c,d;a=i.x,s=i.y,u=i.w,c=i.h,a+=r*t.deltaX,s+=o*t.deltaY,(u+=r*t.deltaW)<20&&(u=20),(c+=o*t.deltaH)<20&&(c=20),d=e=Ck.clamp({x:a,y:s,w:u,h:c},n,"move"===t.name),d=m(n,d),g.fire("updateRect",{rect:d}),l(d)}function a(e){function n(e,t){t.h<0&&(t.h=0),t.w<0&&(t.w=0),xk("#"+d+"-"+e,i).css({left:t.x,top:t.y,width:t.w,height:t.h})}kk.each(f,function(t){xk("#"+d+"-"+t.name,i).css({left:e.w*t.xMul+e.x,top:e.h*t.yMul+e.y})}),n("top",{x:t.x,y:t.y,w:t.w,h:e.y-t.y}),n("right",{x:e.x+e.w,y:e.y,w:t.w-e.x-e.w+t.x,h:e.h}),n("bottom",{x:t.x,y:e.y+e.h,w:t.w,h:t.h-e.y-e.h+t.y}),n("left",{x:t.x,y:e.y,w:e.x-t.x,h:e.h}),n("move",e)}function s(t){a(e=t)}function l(e){s(p(n,e))}var u,c="tox-",d="tox-crid-"+Dk++,f=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],h=["top","right","bottom","left"],p=function(e,t){return{x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},m=function(e,t){return{x:t.x-e.x,y:t.y-e.y,w:t.w,h:t.h}};!function(){xk('<div id="'+d+'" class="'+c+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(i),kk.each(h,function(e){xk("#"+d,i).append('<div id="'+d+"-"+e+'"class="'+c+'croprect-block" style="display: none" data-mce-bogus="all">')}),kk.each(f,function(e){xk("#"+d,i).append('<div id="'+d+"-"+e.name+'" class="'+c+"croprect-handle "+c+"croprect-handle-"+e.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+e.label+'" aria-grabbed="false" title="'+e.label+'">')}),u=kk.map(f,function(t){var n;return new H(d,{document:i.ownerDocument,handle:d+"-"+t.name,start:function(){n=e},drag:function(e){o(t,n,e.deltaX,e.deltaY)}})}),a(e),xk(i).on("focusin focusout",function(e){xk(e.target).attr("aria-grabbed","focus"===e.type?"true":"false")}),xk(i).on("keydown",function(t){function n(e,t,n,r,a){e.stopPropagation(),e.preventDefault(),o(i,n,r,a)}var i;switch(kk.each(f,function(e){if(t.target.id===d+"-"+e.name)return i=e,!1}),t.keyCode){case Sk.LEFT:n(t,0,e,-10,0);break;case Sk.RIGHT:n(t,0,e,10,0);break;case Sk.UP:n(t,0,e,0,-10);break;case Sk.DOWN:n(t,0,e,0,10);break;case Sk.ENTER:case Sk.SPACEBAR:t.preventDefault(),r()}})}();var g=kk.extend({toggleVisibility:function(e){var t=kk.map(f,function(e){return"#"+d+"-"+e.name}).concat(kk.map(h,function(e){return"#"+d+"-"+e})).join(",");e?xk(t,i).show():xk(t,i).hide()},setClampRect:function(t){n=t,a(e)},setRect:s,getInnerRect:function(){return m(n,e)},setInnerRect:l,setViewPortRect:function(n){t=n,a(e)},destroy:function(){kk.each(u,function(e){e.destroy()}),u=[]}},_k);return g},Tk=function(e){var t=Lm({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),n=Kn(1),i=Kn(se.none()),r=Kn({x:0,y:0,w:1,h:1}),o=Kn({x:0,y:0,w:1,h:1}),a=function(e,o){u.getOpt(e).each(function(e){var a=n.get(),s=is(e.element()),l=Ka(e.element()),u=o.dom().naturalWidth*a,c=o.dom().naturalHeight*a,d=Math.max(0,s/2-u/2),f=Math.max(0,l/2-c/2),h={left:d.toString()+"px",top:f.toString()+"px",width:u.toString()+"px",height:c.toString()+"px",position:"absolute"};$a(o,h),t.getOpt(e).each(function(e){$a(e.element(),h)}),i.get().each(function(e){var t=r.get();e.setRect({x:t.x*a+d,y:t.y*a+f,w:t.w*a,h:t.h*a}),e.setClampRect({x:d,y:f,w:u,h:c}),e.setViewPortRect({x:0,y:0,w:s,h:l})})})},s=function(e,t){var i,s=Jn.fromTag("img");return yo(s,"src",t),i=s.dom(),new Qm(function(e){var t=function(){i.removeEventListener("load",t),e(i)};i.complete?e(i):i.addEventListener("load",t)}).then(function(){return u.getOpt(e).map(function(e){var t=Ua({element:s});Pp.replaceAt(e,1,se.some(t));var i=o.get(),l={x:0,y:0,w:s.dom().naturalWidth,h:s.dom().naturalHeight};o.set(l);var c,d,f=Ck.inflate(l,-20,-20);return r.set(f),i.w===l.w&&i.h===l.h||(c=e,d=s,u.getOpt(c).each(function(e){var t=is(e.element()),i=Ka(e.element()),r=d.dom().naturalWidth,o=d.dom().naturalHeight,a=Math.min(t/r,i/o);1<=a?n.set(1):n.set(a)})),a(e,s),s})})},l=Oy.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[t.asSpec(),{dom:{tag:"img",attributes:{src:e}}},{dom:{tag:"div"},behaviours:Ol([Ip("image-panel-crop-events",[zr(function(e){u.getOpt(e).each(function(e){var t=e.element().dom(),o=$k({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},t,function(){});o.toggleVisibility(!1),o.on("updateRect",function(e){var t=e.rect,i=n.get(),o={x:Math.round(t.x/i),y:Math.round(t.y/i),w:Math.round(t.w/i),h:Math.round(t.h/i)};r.set(o)}),i.set(se.some(o))})})])])}],containerBehaviours:Ol([Pp.config({}),Ip("image-panel-events",[zr(function(t){s(t,e)})])])}),u=Lm(l);return{memContainer:u,updateSrc:s,zoom:function(e,t){var i=n.get(),r=0<t?Math.min(2,i+.1):Math.max(.1,i-.1);n.set(r),u.getOpt(e).each(function(e){var t=e.components()[1].element();a(e,t)})},showCrop:function(){i.get().each(function(e){e.toggleVisibility(!0)})},hideCrop:function(){i.get().each(function(e){e.toggleVisibility(!1)})},getRect:function(){return r.get()},getMeasurements:function(){var e=o.get();return{width:e.w,height:e.h}}}},Ek=function(e,t,n,i,r){return ek({name:e,icon:se.some(t),disabled:n,tooltip:se.some(e),primary:!1,borderless:!1},i,r)},Ak=function(e,t){t?dv.enable(e):dv.disable(e)},Ok=function(t){var n=Kn(t),i=Kn(se.none()),r=j();r.add(t);var o=function(e){n.set(e)},a=function(t){return{blob:t,url:e.URL.createObjectURL(t)}},s=function(t){e.URL.revokeObjectURL(t.url)},l=function(){i.get().each(s),i.set(se.none())},u=function(e){var t=a(e);o(t);var n,i=r.add(t).removed;return n=i,kk.each(n,s),t.url};return{getBlobState:function(){return n.get()},setBlobState:o,addBlobState:u,getTempState:function(){return i.get().fold(function(){return n.get()},function(e){return e})},updateTempState:function(e){var t=a(e);return l(),i.set(se.some(t)),t.url},addTempState:function(e){var t=a(e);return i.set(se.some(t)),t.url},applyTempState:function(e){return i.get().fold(function(){},function(t){u(t.blob),e()})},destroyTempState:l,undo:function(){var e=r.undo();return o(e),e.url},redo:function(){var e=r.redo();return o(e),e.url},getHistoryStates:function(){return{undoEnabled:r.canUndo(),redoEnabled:r.canRedo()}}}},Mk=function(t,n){var i,r,o,a=Ok(t.currentState),s=function(e){var t=a.getHistoryStates();g.updateButtonUndoStates(e,t.undoEnabled,t.redoEnabled),Tr(e,yk.formActionEvent,{name:yk.saveState(),value:t.undoEnabled})},l=function(e){return e.toBlob()},u=function(e){Tr(e,yk.formActionEvent,{name:yk.disable(),value:{}})},c=function(e){v.getApplyButton(e).each(function(e){dv.enable(e)}),Tr(e,yk.formActionEvent,{name:yk.enable(),value:{}})},d=function(e,t){return u(e),m.updateSrc(e,t)},f=function(t,n,i,r,o){return u(t),$(n).then(i).then(l).then(r).then(function(e){return d(t,e).then(function(e){return s(t),o(),c(t),e})})["catch"](function(n){return e.console.log(n),c(t),n})},h=function(e,t,n){var i=a.getBlobState().blob;f(e,i,t,function(e){return a.updateTempState(e)},n)},p=function(e){var t=a.getBlobState().url;return a.destroyTempState(),s(e),t},m=Tk(t.currentState.url),g=(r=Lm(Ek("Undo","undo",!0,function(e){
Tr(e,mk.undo(),{direction:1})},i=n)),o=Lm(Ek("Redo","redo",!0,function(e){Tr(e,mk.redo(),{direction:1})},i)),{container:Oy.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[r.asSpec(),o.asSpec(),Ek("Zoom in","zoom-in",!1,function(e){Tr(e,mk.zoom(),{direction:1})},i),Ek("Zoom out","zoom-out",!1,function(e){Tr(e,mk.zoom(),{direction:-1})},i)]}),updateButtonUndoStates:function(e,t,n){r.getOpt(e).each(function(e){Ak(e,t)}),o.getOpt(e).each(function(e){Ak(e,n)})}}),v=wk(m,n);return{dom:{tag:"div",attributes:{role:"presentation"}},components:[v.memContainer.asSpec(),m.memContainer.asSpec(),g.container],behaviours:Ol([fd.config({store:{mode:"manual",getValue:function(){return a.getBlobState()}}}),Ip("image-tools-events",[Rr(mk.undo(),function(e,t){var n=a.undo();d(e,n).then(function(t){c(e),s(e)})}),Rr(mk.redo(),function(e,t){var n=a.redo();d(e,n).then(function(t){c(e),s(e)})}),Rr(mk.zoom(),function(e,t){var n=t.event().direction();m.zoom(e,n)}),Rr(mk.back(),function(e,t){var n,i;i=p(n=e),d(n,i).then(function(e){c(n)}),t.event().swap()(),m.hideCrop()}),Rr(mk.apply(),function(e,t){a.applyTempState(function(){p(e),t.event().swap()()})}),Rr(mk.transform(),function(e,t){return h(e,t.event().transform(),G)}),Rr(mk.tempTransform(),function(e,t){return n=e,i=t.event().transform(),r=a.getTempState().blob,void f(n,r,i,function(e){return a.addTempState(e)},G);var n,i,r}),Rr(mk.transformApply(),function(e,t){return n=e,i=t.event().transform(),r=t.event().swap(),o=a.getBlobState().blob,void f(n,o,i,function(e){var t=a.addBlobState(e);return p(n),t},r);var n,i,r,o}),Rr(mk.swap(),function(e,t){var n;n=e,g.updateButtonUndoStates(n,!1,!1);var i=t.event().transform(),r=t.event().swap();i.fold(function(){r()},function(t){h(e,t,r)})})]),KC()])}},Nk=vf({name:"HtmlSelect",configFields:[Dn("options"),hd("selectBehaviours",[Hp,fd]),Hn("selectClasses",[]),Hn("selectAttributes",{}),Pn("data")],factory:function(e,t){var n=$e(e.options,function(e){return{dom:{tag:"option",value:e.value,innerHtml:e.text}}}),i=e.data.map(function(e){return Rt("initialValue",e)}).getOr({});return{uid:e.uid,dom:{tag:"select",classes:e.selectClasses,attributes:e.selectAttributes},components:n,behaviours:md(e.selectBehaviours,[Hp.config({}),fd.config({store:ie({mode:"manual",getValue:function(e){return Ia(e.element())},setValue:function(t,n){Ne(e.options,function(e){return e.value===n}).isSome()&&Ra(t.element(),n)}},i)})])}}}),Pk=function(e,t){var n=e.label.map(function(e){return Vy(e,t)}),i=[dv.config({disabled:function(){return e.disabled||t.isReadOnly()}}),Bv(),Ep.config({mode:"execution",useEnter:!0!==e.multiline,useControlEnter:!0===e.multiline,execute:function(e){return $r(e,Yy),se.some(!0)}}),Ip("textfield-change",[Rr(Xi(),function(t,n){Tr(t,zy,{name:e.name})}),Rr(rr(),function(t,n){Tr(t,zy,{name:e.name})})]),By.config({})],r=e.validation.map(function(e){return _w.config({getRoot:function(e){return io(e.element())},invalidClass:"tox-invalid",validator:{validate:function(t){var n=fd.getValue(t),i=e.validator(n);return hw(!0===i?Ye.value(n):Ye.error(i))},validateOnLoad:e.validateOnLoad}})}).toArray(),o=e.placeholder.fold(X({}),function(e){return{placeholder:t.translate(e)}}),a=e.inputMode.fold(X({}),function(e){return{inputmode:e}}),s=ie(ie({},o),a),l=Iy.parts().field({tag:!0===e.multiline?"textarea":"input",inputAttributes:s,inputClasses:[e.classname],inputBehaviours:Ol(Ie([i,r])),selectOnFocus:!1,factory:nw}),u=(e.flex?["tox-form__group--stretched"]:[]).concat(e.maximized?["tox-form-group--maximize"]:[]),c=[dv.config({disabled:function(){return e.disabled||t.isReadOnly()},onDisabled:function(e){Iy.getField(e).each(dv.disable)},onEnabled:function(e){Iy.getField(e).each(dv.enable)}}),Bv()];return Fy(n,l,u,c)},Ik=Object.freeze({__proto__:null,events:function(e,t){var n=e.stream.streams.setup(e,t);return Nr([Rr(e.event,n),Ur(function(){return t.cancel()})].concat(e.cancelEvent.map(function(e){return[Rr(e,function(){return t.cancel()})]}).getOr([])))}}),Rk=function(e){var t=Kn(null);return Yo({readState:function(){return{timer:null!==t.get()?"set":"unset"}},setTimer:function(e){t.set(e)},cancel:function(){var e=t.get();null!==e&&e.cancel()}})},Lk=Object.freeze({__proto__:null,throttle:Rk,init:function(e){return e.stream.streams.state(e)}}),Bk=[$n("stream",gn("mode",{throttle:[Dn("delay"),Hn("stopEvent",!0),Ys("streams",{setup:function(e,t){var n=e.stream,i=Vm(e.onStream,n.delay);return t.setTimer(i),function(e,t){i.throttle(e,t),n.stopEvent&&t.stop()}},state:Rk})]})),Hn("event","input"),Pn("cancelEvent"),Ws("onStream")],Fk=Nl({fields:Bk,name:"streaming",active:Ik,state:Lk}),Hk=function(e,t,n){var i=fd.getValue(n);fd.setValue(t,i),Vk(t)},jk=function(e,t){var n=e.element(),i=Ia(n),r=n.dom();"number"!==wo(n,"type")&&t(r,i)},Vk=function(e){jk(e,function(e,t){return e.setSelectionRange(t.length,t.length)})},zk=function(e,t,n){if(e.selectsOver){var i=fd.getValue(t),r=e.getDisplayText(i),o=fd.getValue(n);return 0===e.getDisplayText(o).indexOf(r)?se.some(function(){var e,i;Hk(0,t,n),e=t,i=r.length,jk(e,function(e,t){return e.setSelectionRange(i,t.length)})}):se.none()}return se.none()},Uk=X("alloy.typeahead.itemexecute"),Wk=X([Pn("lazySink"),Dn("fetch"),Hn("minChars",5),Hn("responseTime",1e3),zs("onOpen"),Hn("getHotspot",se.some),Hn("getAnchorOverrides",X({})),Hn("layouts",se.none()),Hn("eventOrder",{}),Yn("model",{},[Hn("getDisplayText",function(e){return void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.value}),Hn("selectsOver",!0),Hn("populateFromBrowse",!0)]),zs("onSetValue"),Us("onExecute"),zs("onItemExecute"),Hn("inputClasses",[]),Hn("inputAttributes",{}),Hn("inputStyles",{}),Hn("matchWidth",!0),Hn("useMinWidth",!1),Hn("dismissOnBlur",!0),js(["openClass"]),Pn("initialData"),hd("typeaheadBehaviours",[Hp,fd,Fk,Ep,Zp,Dw]),Gn("previewing",function(){return Kn(!0)})].concat(Qy()).concat(Ww())),qk=X([zd({schema:[Hs()],name:"menu",overrides:function(e){return{fakeFocus:!0,onHighlight:function(t,n){e.previewing.get()?t.getSystem().getByUid(e.uid).each(function(i){zk(e.model,i,n).fold(function(){return Pf.dehighlight(t,n)},function(e){return e()})}):t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&Hk(e.model,t,n)}),e.previewing.set(!1)},onExecute:function(t,n){return t.getSystem().getByUid(e.uid).toOption().map(function(e){return Tr(e,Uk(),{item:n}),!0})},onHover:function(t,n){e.previewing.set(!1),t.getSystem().getByUid(e.uid).each(function(t){e.model.populateFromBrowse&&Hk(e.model,t,n)})}}}})]),Yk=bf({name:"Typeahead",configFields:Wk(),partFields:qk(),factory:function(e,t,n,i){var r=function(t,n,r){e.previewing.set(!1);var o=Dw.getCoupled(t,"sandbox");qc.isOpen(o)?_f.getCurrent(o).each(function(e){Pf.getHighlighted(e).fold(function(){r(e)},function(){Mr(o,e.element(),"keydown",n)})}):Lw(e,a(t),t,o,i,function(e){_f.getCurrent(e).each(r)},ow.HighlightFirst).get(G)},o=ew(e),a=function(e){return function(t){return t.map(function(t){var n=bt(t.menus),i=Re(n,function(e){return Ae(e.items,function(e){return"item"===e.type})});return fd.getState(e).update($e(i,function(e){return e.data})),t})}},s=[Hp.config({}),fd.config({onSetValue:e.onSetValue,store:ie({mode:"dataset",getDataKey:function(e){return Ia(e.element())},getFallbackEntry:function(e){return{value:e,meta:{}}},setValue:function(t,n){Ra(t.element(),e.model.getDisplayText(n))}},e.initialData.map(function(e){return Rt("initialValue",e)}).getOr({}))}),Fk.config({stream:{mode:"throttle",delay:e.responseTime,stopEvent:!1},onStream:function(t,n){var r=Dw.getCoupled(t,"sandbox");if(Hp.isFocused(t)&&Ia(t.element()).length>=e.minChars){var o=_f.getCurrent(r).bind(function(e){return Pf.getHighlighted(e).map(fd.getValue)});e.previewing.set(!0),Lw(e,a(t),t,r,i,function(t){_f.getCurrent(r).each(function(t){o.fold(function(){e.model.selectsOver&&Pf.highlightFirst(t)},function(e){Pf.highlightBy(t,function(t){return fd.getValue(t).value===e.value}),Pf.getHighlighted(t).orThunk(function(){return Pf.highlightFirst(t),se.none()})})})},ow.HighlightFirst).get(G)}},cancelEvent:dr()}),Ep.config({mode:"special",onDown:function(e,t){return r(e,t,Pf.highlightFirst),se.some(!0)},onEscape:function(e){var t=Dw.getCoupled(e,"sandbox");return qc.isOpen(t)?(qc.close(t),se.some(!0)):se.none()},onUp:function(e,t){return r(e,t,Pf.highlightLast),se.some(!0)},onEnter:function(t){var n=Dw.getCoupled(t,"sandbox"),i=qc.isOpen(n);if(i&&!e.previewing.get())return _f.getCurrent(n).bind(function(e){return Pf.getHighlighted(e)}).map(function(e){return Tr(t,Uk(),{item:e}),!0});var r=fd.getValue(t);return $r(t,dr()),e.onExecute(n,t,r),i&&qc.close(n),se.some(!0)}}),Zp.config({toggleClass:e.markers.openClass,aria:{mode:"expanded"}}),Dw.config({others:{sandbox:function(t){return zw(e,t,{onOpen:function(){return Zp.on(t)},onClose:function(){return Zp.off(t)}})}}}),Ip("typeaheadevents",[qr(function(t){var n=G;Fw(e,a(t),t,i,n,ow.HighlightFirst).get(G)}),Rr(Uk(),function(t,n){var i=Dw.getCoupled(t,"sandbox");Hk(e.model,t,n.event().item()),$r(t,dr()),e.onItemExecute(t,i,n.event().item(),fd.getValue(t)),qc.close(i),Vk(t)})].concat(e.dismissOnBlur?[Rr(ir(),function(e){var t=Dw.getCoupled(e,"sandbox");zl(t.element()).isNone()&&qc.close(t)})]:[]))];return{uid:e.uid,dom:tw(St(e,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:ie(ie({},o),md(e.typeaheadBehaviours,s)),eventOrder:e.eventOrder}}}),Gk=function(t){return ie(ie({},t),{toCached:function(){return Gk(t.toCached())},bindFuture:function(e){return Gk(t.bind(function(t){return t.fold(function(e){return hw(Ye.error(e))},function(t){return e(t)})}))},bindResult:function(e){return Gk(t.map(function(t){return t.bind(e)}))},mapResult:function(e){return Gk(t.map(function(t){return t.map(e)}))},mapError:function(e){return Gk(t.map(function(t){return t.mapError(e)}))},foldResult:function(e,n){return t.map(function(t){return t.fold(e,n)})},withTimeout:function(n,i){return Gk(fw(function(r){var o=!1,a=e.setTimeout(function(){o=!0,r(Ye.error(i()))},n);t.get(function(t){o||(e.clearTimeout(a),r(t))})}))}})},Kk=function(e){return Gk(fw(e))},Xk=Kk,Jk={type:"separator"},Zk=function(e){return{type:"menuitem",value:e.url,text:e.title,meta:{attach:e.attach},onAction:function(){}}},Qk=function(e,t){return{type:"menuitem",value:t,text:e,meta:{attach:void 0},onAction:function(){}}},eS=function(e,t){return i=e,n=Ae(t,function(e){return e.type===i}),$e(n,Zk);var n,i},tS=function(e,t){var n=e.toLowerCase();return Ae(t,function(e){var t=void 0!==e.meta&&void 0!==e.meta.text?e.meta.text:e.text;return mi(t.toLowerCase(),n)||mi(e.value.toLowerCase(),n)})},nS=function(e,t,n){var i=fd.getValue(t),r=void 0!==i.meta.text?i.meta.text:i.value;return n.getLinkInformation().fold(function(){return[]},function(t){var i,o,a,s,l=tS(r,(i=n.getHistory(e),$e(i,function(e){return Qk(e,e)})));return"file"===e?(o=[l,tS(r,eS("header",t.targets)),tS(r,Ie([(s=t,se.from(s.anchorTop).map(function(e){return Qk("<top>",e)}).toArray()),eS("anchor",t.targets),(a=t,se.from(a.anchorBottom).map(function(e){return Qk("<bottom>",e)}).toArray())]))],Me(o,function(e,t){return 0===e.length||0===t.length?e.concat(t):e.concat(Jk,t)},[])):l})},iS=Ao("aria-invalid"),rS=function(e,t,n){var i,r,o,a,s,l=t.shared.providers,u=function(t){var i=fd.getValue(t);n.addToHistory(i.value,e.filetype)},c=Iy.parts().field({factory:Yk,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":iS,type:"url"},minChars:0,responseTime:0,fetch:function(i){var r=nS(e.filetype,i,n),o=G_(r,fg.BUBBLE_TO_SANDBOX,t,!1);return hw(o)},getHotspot:function(e){return g.getOpt(e)},onSetValue:function(e,t){e.hasConfigured(_w)&&_w.run(e).get(G)},typeaheadBehaviours:Ol(Ie([n.getValidationHandler().map(function(t){return _w.config({getRoot:function(e){return io(e.element())},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(e,t){f.getOpt(e).each(function(e){yo(e.element(),"title",l.translate(t))})}},validator:{validate:function(n){var i=fd.getValue(n);return Xk(function(n){t({type:e.filetype,url:i.value},function(e){if("invalid"===e.status){var t=Ye.error(e.message);n(t)}else{var i=Ye.value(e.message);n(i)}})})},validateOnLoad:!1}})}).toArray(),[dv.config({disabled:function(){return e.disabled||l.isReadOnly()}}),By.config({}),Ip("urlinput-events",Ie(["file"===e.filetype?[Rr(Xi(),function(t){Tr(t,zy,{name:e.name})})]:[],[Rr(Ji(),function(t){Tr(t,zy,{name:e.name}),u(t)}),Rr(rr(),function(t){Tr(t,zy,{name:e.name}),u(t)})]]))]])),eventOrder:((i={})[Xi()]=["streaming","urlinput-events","invalidating"],i),model:{getDisplayText:function(e){return e.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:t.shared.getSink,parts:{menu:Sg(0,0,"normal")},onExecute:function(e,t,n){Tr(t,Yy,{})},onItemExecute:function(t,n,i,r){u(t),Tr(t,zy,{name:e.name})}}),d=e.label.map(function(e){return Vy(e,l)}),f=Lm((r="invalid",o=se.some(iS),void 0===(a="warning")&&(a=r),void 0===s&&(s=r),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+r],innerHtml:Fm(a,l.icons),attributes:ie({title:l.translate(s),"aria-live":"polite"},o.fold(function(){return{}},function(e){return{id:e}}))}})),h=Lm({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[f.asSpec()]}),p=n.getUrlPicker(e.filetype),m=Ao("browser.url.event"),g=Lm({dom:{tag:"div",classes:["tox-control-wrap"]},components:[c,h.asSpec()],behaviours:Ol([dv.config({disabled:function(){return e.disabled||l.isReadOnly()}})])}),v=Lm(nk({name:e.name,icon:se.some("browse"),text:e.label.getOr(""),disabled:e.disabled,primary:!1,borderless:!0},function(e){return $r(e,m)},l,[],["tox-browse-url"]));return Iy.sketch({dom:jy([]),components:d.toArray().concat([{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ie([[g.asSpec()],p.map(function(){return v.asSpec()}).toArray()])}]),fieldBehaviours:Ol([dv.config({disabled:function(){return e.disabled||l.isReadOnly()},onDisabled:function(e){Iy.getField(e).each(dv.disable),v.getOpt(e).each(dv.disable)},onEnabled:function(e){Iy.getField(e).each(dv.enable),v.getOpt(e).each(dv.enable)}}),Bv(),Ip("url-input-events",[Rr(m,function(t){_f.getCurrent(t).each(function(n){var i=fd.getValue(n),r=ie({fieldname:e.name},i);p.each(function(i){i(r).get(function(i){fd.setValue(n,i),Tr(t,zy,{name:e.name})})})})})])])})},oS=function(e){return function(t,n,i){return yt(n,"name").fold(function(){return e(n,i)},function(r){return t.field(r,e(n,i))})}},aS={bar:oS(function(e,t){return n=e,i=t.shared,{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:$e(n.items,i.interpreter)};var n,i}),collection:oS(function(e,t){return Zy(e,t.shared.providers)}),alertbanner:oS(function(e,t){return n=e,i=t.shared.providers,Oy.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Rm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:Fm(n.icon,i.icons),attributes:{title:i.translate(n.iconTooltip)}},action:function(e){Tr(e,qy,{name:"alert-banner",value:n.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:i.translate(n.text)}}]});var n,i}),input:oS(function(e,t){return n=e,i=t.shared.providers,Pk({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:n.disabled,classname:"tox-textfield",validation:se.none(),maximized:n.maximized},i);var n,i}),textarea:oS(function(e,t){return n=e,i=t.shared.providers,Pk({name:n.name,multiline:!0,label:n.label,inputMode:se.none(),placeholder:n.placeholder,flex:!0,disabled:n.disabled,classname:"tox-textarea",validation:se.none(),maximized:n.maximized},i);var n,i}),label:oS(function(e,t){return n=e,i=t.shared,r={dom:{tag:"label",innerHtml:i.providers.translate(n.label),classes:["tox-label"]}},o=$e(n.items,i.interpreter),{dom:{tag:"div",classes:["tox-form__group"]},components:[r].concat(o),behaviours:Ol([KC(),Pp.config({}),a_(se.none()),Ep.config({mode:"acyclic"})])};var n,i,r,o}),iframe:(Mw=function(e,t){return v_(e,t.shared.providers)},function(e,t,n){var i=St(t,{source:"dynamic"});return oS(Mw)(e,i,n)}),button:oS(function(e,t){return ok(e,t.shared.providers)}),checkbox:oS(function(e,t){return n=e,i=t.shared.providers,r=fd.config({store:{mode:"manual",getValue:function(e){return e.element().dom().checked},setValue:function(e,t){e.element().dom().checked=t}}}),o=function(e){return e.element().dom().click(),se.some(!0)},a=Iy.parts().field({factory:{sketch:J},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Ol([KC(),dv.config({disabled:function(){return n.disabled||i.isReadOnly()}}),By.config({}),Hp.config({}),r,Ep.config({mode:"special",onEnter:o,onSpace:o,stopSpaceKeyup:!0}),Ip("checkbox-events",[Rr(Ji(),function(e,t){Tr(e,zy,{name:n.name})})])])}),s=Iy.parts().label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:i.translate(n.label)},behaviours:Ol([Kw.config({})])}),u=Lm({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[(l=function(e){return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+e],innerHtml:Fm("checked"===e?"selected":"unselected",i.icons)}}})("checked"),l("unchecked")]}),Iy.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[a,u.asSpec(),s],fieldBehaviours:Ol([dv.config({disabled:function(){return n.disabled||i.isReadOnly()},disableClass:"tox-checkbox--disabled",onDisabled:function(e){Iy.getField(e).each(dv.disable)},onEnabled:function(e){Iy.getField(e).each(dv.enable)}}),Bv()])});var n,i,r,o,a,s,l,u}),colorinput:oS(function(e,t){return Qw(e,t.shared,t.colorinput)}),colorpicker:oS(function(t){var n=function(e){return"tox-"+e},i=GC(QC,n),r=Lm(i.sketch({dom:{tag:"div",classes:["tox-color-picker-container"],attributes:{role:"presentation"}},onValidHex:function(e){Tr(e,qy,{name:"hex-valid",value:!0})},onInvalidHex:function(e){Tr(e,qy,{name:"hex-valid",value:!1})}}));return{dom:{tag:"div"},components:[r.asSpec()],behaviours:Ol([fd.config({store:{mode:"manual",getValue:function(e){var t=r.get(e);return _f.getCurrent(t).bind(function(e){return fd.getValue(e).hex}).map(function(e){return"#"+e}).getOr("")},setValue:function(t,n){var i=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/.exec(n),o=r.get(t);_f.getCurrent(o).fold(function(){e.console.log("Can not find form")},function(e){fd.setValue(e,{hex:se.from(i[1]).getOr("")}),jC.getField(e,"hex").each(function(e){$r(e,Xi())})})}}}),KC()])}}),dropzone:oS(function(e,t){return l_(e,t.shared.providers)}),grid:oS(function(e,t){return n=e,i=t.shared,{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:$e(n.items,i.interpreter)};var n,i}),selectbox:oS(function(e,t){return n=e,i=t.shared.providers,r=$e(n.items,function(e){return{text:i.translate(e.text),value:e.value}}),o=n.label.map(function(e){return Vy(e,i)}),a=Iy.parts().field({dom:{},selectAttributes:{size:n.size},options:r,factory:Nk,selectBehaviours:Ol([dv.config({disabled:function(){return n.disabled||i.isReadOnly()}}),By.config({}),Ip("selectbox-change",[Rr(Ji(),function(e,t){Tr(e,zy,{name:n.name})})])])}),s=1<n.size?se.none():se.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:Fm("chevron-down",i.icons)}}),l={dom:{tag:"div",classes:["tox-selectfield"]},components:Ie([[a],s.toArray()])},Iy.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ie([o.toArray(),[l]]),fieldBehaviours:Ol([dv.config({disabled:function(){return n.disabled||i.isReadOnly()},onDisabled:function(e){Iy.getField(e).each(dv.disable)},onEnabled:function(e){Iy.getField(e).each(dv.enable)}}),Bv()])});var n,i,r,o,a,s,l}),sizeinput:oS(function(e,t){return pk(e,t.shared.providers)}),urlinput:oS(function(e,t){return rS(e,t,t.urlinput)}),customeditor:oS(function(e){var t=Kn(se.none()),n=Lm({dom:{tag:e.tag}}),i=Kn(se.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Ol([Ip("editor-foo-events",[zr(function(r){n.getOpt(r).each(function(n){var r;r=e,(Object.prototype.hasOwnProperty.call(r,"init")?e.init(n.element().dom()):e_.load(e.scriptId,e.scriptUrl).then(function(t){return t(n.element().dom(),e.settings)})).then(function(e){i.get().each(function(t){e.setValue(t)}),i.set(se.none()),t.set(se.some(e))})})})]),fd.config({store:{mode:"manual",getValue:function(){return t.get().fold(function(){return i.get().getOr("")},function(e){return e.getValue()})},setValue:function(e,n){t.get().fold(function(){i.set(se.some(n))},function(e){return e.setValue(n)})}}}),KC()]),components:[n.asSpec()]}}),htmlpanel:oS(function(e){return"presentation"===e.presets?Oy.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html}}):Oy.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:e.html,attributes:{role:"document"}},containerBehaviours:Ol([By.config({}),Hp.config({})])})}),imagetools:oS(function(e,t){return Mk(e,t.shared.providers)}),table:oS(function(e,t){return n=e,i=t.shared.providers,a=function(e){return{dom:{tag:"th",innerHtml:i.translate(e)}}},s=function(e){return{dom:{tag:"td",innerHtml:i.translate(e)}}},l=function(e){return{dom:{tag:"tr"},components:$e(e,s)}},{dom:{tag:"table",classes:["tox-dialog__table"]},components:[(o=n.header,{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:$e(o,a)}]}),(r=n.cells,{dom:{tag:"tbody"},components:$e(r,l)})],behaviours:Ol([By.config({}),Hp.config({})])};var n,i,r,o,a,s,l}),panel:oS(function(e,t){return i=t,{dom:{tag:"div",classes:(n=e).classes},components:$e(n.items,i.shared.interpreter)};var n,i})},sS={field:function(e,t){return t}},lS=function(e,t,n){var i=St(n,{shared:{interpreter:function(t){return uS(e,t,i)}}});return uS(e,t,i)},uS=function(t,n,i){return yt(aS,n.type).fold(function(){return e.console.error('Unknown factory type "'+n.type+'", defaulting to container: ',n),n},function(e){return e(t,n,i)})},cS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},dS=function(e,t,n){var i=hu(-12,12,cS),r={maxHeightFunction:lu()};return function(){return n()?{anchor:"node",root:_a(Qr(e())),node:se.from(e()),bubble:i,layouts:{onRtl:function(){return[Mm]},onLtr:function(){return[Om]}},overrides:r}:{anchor:"hotspot",hotspot:t(),bubble:i,layouts:{onRtl:function(){return[hl]},onLtr:function(){return[pl]}},overrides:r}}},fS=function(e,t,n){return function(){return n()?{anchor:"node",root:_a(Qr(e())),node:se.from(e()),layouts:{onRtl:function(){return[Nm]},onLtr:function(){return[Nm]}}}:{anchor:"hotspot",hotspot:t(),layouts:{onRtl:function(){return[bl]},onLtr:function(){return[bl]}}}}},hS=function(e,t,n){var i,r,o,a=Ov(e),s=function(){return Jn.fromDom(e.getBody())},l=function(){return Jn.fromDom(e.getContentAreaContainer())},u=function(){return a||!n()};return{inlineDialog:dS(l,t,u),banner:fS(l,t,u),cursor:(r=e,function(){return{anchor:"selection",root:o(),getSelection:function(){var e=r.selection.getRng();return se.some($u.range(Jn.fromDom(e.startContainer),e.startOffset,Jn.fromDom(e.endContainer),e.endOffset))}}}),node:(i=o=s,function(e){return{anchor:"node",root:i(),node:e}})}},pS=function(e){return{colorPicker:function(e,t){Yb(r)(e,t)},hasCustomColors:function(){return Rb(i)},getColors:function(){return Lb(n)},getColorCols:(t=n=i=r=e,function(){return Hb(t)})};var t,n,i,r},mS=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],gS=function(e){return Me(e,function(e,t){if(wt(t,"items")){var n=gS(t.items);return{customFormats:e.customFormats.concat(n.customFormats),formats:e.formats.concat([{title:t.title,items:n.formats}])}}if(wt(t,"inline")||wt(t,"block")||wt(t,"selector")){var i="custom-"+t.title.toLowerCase();return{customFormats:e.customFormats.concat([{name:i,format:t}]),formats:e.formats.concat([{title:t.title,format:i,icon:t.icon}])}}return ie(ie({},e),{formats:e.formats.concat(t)})},{customFormats:[],formats:[]})},vS=function(e){return t=e,se.from(t.getParam("style_formats")).filter(fe).map(function(t){var n,i,r,o=(n=e,i=gS(t),r=function(e){Te(e,function(e){n.formatter.has(e.name)||n.formatter.register(e.name,e.format)})},n.formatter?r(i.customFormats):n.on("init",function(){r(i.customFormats)}),i.formats);return e.getParam("style_formats_merge",!1,"boolean")?mS.concat(o):o}).getOr(mS);var t},bS=function(e,t,n){var i={type:"formatter",isSelected:t(e.format),getStylePreview:n(e.format)};return St(e,i)},yS=function(e,t,n,i){var r=function(t){return $e(t,function(t){var o,a,s,l,u=ct(t);if(xt(t,"items")){var c=r(t.items);return St(St(t,{type:"submenu"}),{getStyleItems:function(){return c}})}return xt(t,"format")?bS(t,n,i):1===u.length&&_e(u,"title")?St(t,{type:"separator"}):(a=Ao((o=t).title),s={type:"formatter",format:a,isSelected:n(a),getStylePreview:i(a)},l=St(o,s),e.formatter.register(a,l),l)})};return r(t)},wS=kk.trim,xS=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},CS=xS("true"),_S=xS("false"),kS=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},SS=function(e){return e.innerText||e.textContent},DS=function(e){return(t=e)&&"A"===t.nodeName&&void 0!==(t.id||t.name)&&TS(e);var t},$S=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},TS=function(e){return function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return CS(e)}return!1}(e)&&!_S(e)},ES=function(e){return $S(e)&&TS(e)},AS=function(e){var t,n,i=(t=e).id?t.id:Ao("h");return kS("header",SS(e),"#"+i,$S(n=e)?parseInt(n.nodeName.substr(1),10):0,function(){e.id=i})},OS=function(e){var t=e.id||e.name,n=SS(e);return kS("anchor",n||"#"+t,"#"+t,0,G)},MS=function(e){var t,n;return t="h1,h2,h3,h4,h5,h6,a:not([href])",n=e,$e(ju(Jn.fromDom(n),t),function(e){return e.dom()})},NS=function(e){return 0<wS(e.title).length},PS=function(e){var t=MS(e);return Ae($e(Ae(t,ES),AS).concat($e(Ae(t,DS),OS)),NS)},IS="tinymce-url-history",RS=function(e){return ce(e)&&/^https?/.test(e)},LS=function(e){return de(e)&&vt(e,function(e){return!(fe(t=e)&&t.length<=5&&Le(t,RS));var t}).isNone()},BS=function(){var t,n=Ob.getItem(IS);if(null===n)return{};try{t=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return e.console.log("Local storage "+IS+" was not valid JSON",i),{};throw i}return LS(t)?t:(e.console.log("Local storage "+IS+" was not valid format",t),{})},FS=function(e){var t=BS();return Object.prototype.hasOwnProperty.call(t,e)?t[e]:[]},HS=function(e,t){if(RS(e)){var n=BS(),i=Object.prototype.hasOwnProperty.call(n,t)?n[t]:[],r=Ae(i,function(t){return t!==e});n[t]=[e].concat(r).slice(0,5),function(e){if(!LS(e))throw new Error("Bad format for history:\n"+JSON.stringify(e));Ob.setItem(IS,JSON.stringify(e))}(n)}},jS=function(e){return!!e},VS=function(e){return ht(kk.makeMap(e,/[, ]/),jS)},zS=function(e){return se.from(e.getParam("file_picker_callback")).filter(ge)},US=function(e,t){var n,i,r,o,a=(n=e,i=se.some(n.getParam("file_picker_types")).filter(jS),r=se.some(n.getParam("file_browser_callback_types")).filter(jS),o=i.or(r).map(VS),zS(n).fold(function(){return!1},function(e){return o.fold(function(){return!0},function(e){return 0<ct(e).length&&e})}));return he(a)?a?zS(e):se.none():a[t]?zS(e):se.none()},WS=function(e){return se.from(void 0===(n=(t=e).getParam("file_picker_validator_handler",void 0,"function"))?t.getParam("filepicker_validator_handler",void 0,"function"):n);var t,n},qS=function(e){return{getHistory:FS,addToHistory:HS,getLinkInformation:function(){return!1===(t=e).getParam("typeahead_urls")?se.none():se.some({targets:PS(t.getBody()),anchorTop:t.getParam("anchor_top","#top","string"),anchorBottom:t.getParam("anchor_bottom","#bottom","string")});var t},getValidationHandler:function(){return WS(e)},getUrlPicker:function(t){return US(n=e,i=t).map(function(e){return function(t){return fw(function(r){var o=ie({filetype:i,fieldname:t.fieldname},se.from(t.meta).getOr({}));e.call(n,function(e,t){if(!ce(e))throw new Error("Expected value to be string");if(void 0!==t&&!de(t))throw new Error("Expected meta to be a object");r({value:e,meta:t})},t.value,o)})}});var n,i}}},YS=function(e,t,n){var i,r,o=Kn(!1),a={isPositionedAtTop:function(){return"top"===i.get()},getDockingMode:(i=Kn(Ev(t)?"bottom":"top")).get,setDockingMode:i.set},s={shared:{providers:{icons:function(){return t.ui.registry.getAll().icons},menuItems:function(){return t.ui.registry.getAll().menuItems},translate:Jg.translate,isReadOnly:function(){return t.mode.isReadOnly()}},interpreter:function(e){return uS(sS,e,s)},anchors:hS(t,n,a.isPositionedAtTop),header:a,getSink:function(){return Ye.value(e)}},urlinput:qS(t),styleselect:function(e){var t=function(t){return function(){return e.formatter.match(t)}},n=function(t){return function(){var n=e.formatter.get(t);return void 0!==n?se.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):se.none()}},i=function(e){var t=e.items;return void 0!==t&&0<t.length?Re(t,i):[e.format]},r=Kn([]),o=Kn([]),a=Kn([]),s=Kn([]),l=Kn(!1);return e.on("PreInit",function(a){var s=vS(e),l=yS(e,s,t,n);r.set(l),o.set(Re(l,i))}),e.on("addStyleModifications",function(r){var o=yS(e,r.items,t,n);a.set(o),l.set(r.replace),s.set(Re(o,i))}),{getData:function(){var e=l.get()?[]:r.get(),t=a.get();return e.concat(t)},getFlattenedKeys:function(){var e=l.get()?[]:o.get(),t=s.get();return e.concat(t)}}}(t),colorinput:pS(t),dialog:{isDraggableModal:(r=t,function(){return r.getParam("draggable_modal",!1,"boolean")})},isContextMenuOpen:function(){return o.get()},setContextMenuState:function(e){return o.set(e)}};return s},GS=X(function(e,t){var n,i,r;n=e,i=Math.floor(t),r=ns.max(n,i,["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"]),Da(n,"max-width",r+"px")}),KS="contexttoolbar-hide",XS=X([Dn("items"),js(["itemSelector"]),hd("tgroupBehaviours",[Ep])]),JS=X([Wd({name:"items",unit:"item"})]),ZS=bf({name:"ToolbarGroup",configFields:XS(),partFields:JS(),factory:function(e,t,n,i){return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.tgroupBehaviours,[Ep.config({mode:"flow",selector:e.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}}}),QS=X([Dn("dom"),Hn("shell",!0),hd("toolbarBehaviours",[Pp])]),eD=X([Ud({name:"groups",overrides:function(){return{behaviours:Ol([Pp.config({})])}}})]),tD=bf({name:"Toolbar",configFields:QS(),partFields:eD(),factory:function(t,n,i,r){var o=function(e){return t.shell?se.some(e):nf(e,t,"groups")},a=t.shell?{behaviours:[Pp.config({})],components:[]}:{behaviours:[],components:n};return{uid:t.uid,dom:t.dom,components:a.components,behaviours:md(t.toolbarBehaviours,a.behaviours),apis:{setGroups:function(t,n){o(t).fold(function(){throw e.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(e){Pp.set(e,n)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)}}}),nD=function(e,t,n){return{within:X(e),
extra:X(t),withinWidth:X(n)}},iD=function(e,t,n){var i,r=(i=function(e,t){var i=n(e);return se.some({element:X(e),start:X(t),finish:X(t+i),width:X(i)})},Me(e,function(e,t){return i(t,e.len).fold(X(e),function(t){return{len:t.finish(),list:e.list.concat([t])}})},{len:0,list:[]}).list),o=Ae(r,function(e){return e.finish()<=t}),a=Oe(o,function(e,t){return e+t.width()},0),s=r.slice(o.length);return{within:X(o),extra:X(s),withinWidth:X(a)}},rD=function(e){return $e(e,function(e){return e.element()})},oD=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h=(0===(r=iD(t,e,n)).extra().length?se.some(r):se.none()).getOrThunk(function(){return iD(t,e-n(i),n)}),p=h.within(),m=h.extra(),g=h.withinWidth();return 1===m.length&&m[0].width()<=n(i)?(c=m,d=g,f=rD(p.concat(c)),nD(f,[],d)):1<=m.length?(a=m,s=i,l=g,u=rD(p).concat([s]),nD(u,rD(a),l)):(o=g,nD(rD(p),[],o))},aD=function(e,t){var n=$e(t,function(e){return Ya(e)});tD.setGroups(e,n)},sD=function(e,t,n){var i=rf(e,t,"primary"),r=Dw.getCoupled(e,"overflowGroup");Da(i.element(),"visibility","hidden");var o=t.builtGroups.get().concat([r]),a=Ue(o,function(e){return zl(e.element()).bind(function(t){return e.getSystem().getByDom(t).toOption()})});n([]),aD(i,o);var s=is(i.element()),l=oD(s,t.builtGroups.get(),function(e){return is(e.element())},r);0===l.extra().length?(Pp.remove(i,r),n([])):(aD(i,l.within()),n(l.extra())),Na(i.element(),"visibility"),Pa(i.element()),a.each(Hp.focus)},lD=X([hd("splitToolbarBehaviours",[Dw]),Gn("builtGroups",function(){return Kn([])})]),uD=X([js(["overflowToggledClass"]),Bn("getOverflowBounds"),Dn("lazySink"),Gn("overflowGroups",function(){return Kn([])})].concat(lD())),cD=X([Vd({factory:tD,schema:QS(),name:"primary"}),zd({schema:QS(),name:"overflow"}),zd({name:"overflow-button"}),zd({name:"overflow-group"})]),dD=X([js(["toggledClass"]),Dn("lazySink"),An("fetch"),Bn("getBounds"),Fn("fireDismissalEventInstead",[Hn("event",yr())]),yu()]),fD=X([zd({name:"button",overrides:function(e){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Ol([Zp.config({toggleClass:e.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),zd({factory:tD,schema:QS(),name:"toolbar",overrides:function(e){return{toolbarBehaviours:Ol([Ep.config({mode:"cyclic",onEscape:function(t){return nf(t,e,"button").each(Hp.focus),se.none()}})])}}})]),hD=function(e,t){var n=Dw.getCoupled(e,"toolbarSandbox");qc.isOpen(n)?qc.close(n):qc.open(n,t.toolbar())},pD=function(e,t,n,i){var r=n.getBounds.map(function(e){return e()}),o=n.lazySink(e).getOrDie();kc.positionWithinBounds(o,{anchor:"hotspot",hotspot:e,layouts:i,overrides:{maxWidthFunction:GS()}},t,r)},mD=function(e,t,n,i,r){tD.setGroups(t,r),pD(e,t,n,i),Zp.on(e)},gD=bf({name:"FloatingToolbarButton",factory:function(e,t,n,i){return ie(ie({},Rm.sketch(ie(ie({},i.button()),{action:function(e){hD(e,i)},buttonBehaviours:vd({dump:i.button().buttonBehaviours},[Dw.config({others:{toolbarSandbox:function(t){return i=t,r=n,o=e,{dom:{tag:"div",attributes:{id:(a=Ss()).id}},behaviours:Ol([Ep.config({mode:"special",onEscape:function(e){return qc.close(e),se.some(!0)}}),qc.config({onOpen:function(e,t){o.fetch().get(function(e){mD(i,t,o,r.layouts,e),a.link(i.element()),Ep.focusIn(t)})},onClose:function(){Zp.off(i),Hp.focus(i),a.unlink(i.element())},isPartOf:function(e,t,n){return $s(t,n)||$s(i,n)},getAttachPoint:function(){return o.lazySink(i).getOrDie()}}),Fl.config({channels:ie(ie({},Jc(ie({isExtraPart:ee},o.fireDismissalEventInstead.map(function(e){return{fireEventInstead:{event:e.event}}}).getOr({})))),Qc({doReposition:function(){qc.getState(Dw.getCoupled(i,"toolbarSandbox")).each(function(e){pD(i,e,o,r.layouts)})}}))})])};var i,r,o,a}}})])}))),{apis:{setGroups:function(t,i){qc.getState(Dw.getCoupled(t,"toolbarSandbox")).each(function(r){mD(t,r,e,n.layouts,i)})},reposition:function(t){qc.getState(Dw.getCoupled(t,"toolbarSandbox")).each(function(i){pD(t,i,e,n.layouts)})},toggle:function(e){hD(e,i)},getToolbar:function(e){return qc.getState(Dw.getCoupled(e,"toolbarSandbox"))}}})},configFields:dD(),partFields:fD(),apis:{setGroups:function(e,t,n){e.setGroups(t,n)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getToolbar:function(e,t){return e.getToolbar(t)}}}),vD=function(e){return $e(e,function(e){return Ya(e)})},bD=function(e,t,n){sD(e,n,function(i){n.overflowGroups.set(i),t.getOpt(e).each(function(e){gD.setGroups(e,vD(i))})})},yD=bf({name:"SplitFloatingToolbar",configFields:uD(),partFields:cD(),factory:function(e,t,n,i){var r=Lm(gD.sketch({fetch:function(){return fw(function(t){t(vD(e.overflowGroups.get()))})},layouts:{onLtr:function(){return[pl,hl]},onRtl:function(){return[hl,pl]},onBottomLtr:function(){return[gl,ml]},onBottomRtl:function(){return[ml,gl]}},getBounds:n.getOverflowBounds,lazySink:e.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:e.markers.overflowToggledClass},parts:{button:i["overflow-button"](),toolbar:i.overflow()}}));return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[Dw.config({others:{overflowGroup:function(){return ZS.sketch(ie(ie({},i["overflow-group"]()),{items:[r.asSpec()]}))}}})]),apis:{setGroups:function(t,n){e.builtGroups.set($e(n,t.getSystem().build)),bD(t,r,e)},refresh:function(t){return bD(t,r,e)},toggle:function(e){r.getOpt(e).each(function(e){gD.toggle(e)})},reposition:function(e){r.getOpt(e).each(function(e){gD.reposition(e)})},getOverflow:function(e){return r.getOpt(e).bind(function(e){return gD.getToolbar(e)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},reposition:function(e,t){e.reposition(t)},toggle:function(e,t){e.toggle(t)},getOverflow:function(e,t){return e.getOverflow(t)}}}),wD=function(e,t){return t.getAnimationRoot.fold(function(){return e.element()},function(t){return t(e)})},xD=function(e){return e.dimension.property},CD=function(e,t){return e.dimension.getDimension(t)},_D=function(e,t){var n=wD(e,t);ha(n,[t.shrinkingClass,t.growingClass])},kD=function(e,t){ca(e.element(),t.openClass),la(e.element(),t.closedClass),Da(e.element(),xD(t),"0px"),Pa(e.element())},SD=function(e,t){ca(e.element(),t.closedClass),la(e.element(),t.openClass),Na(e.element(),xD(t))},DD=function(e,t,n,i){n.setCollapsed(),Da(e.element(),xD(t),CD(t,e.element())),Pa(e.element()),_D(e,t),kD(e,t),t.onStartShrink(e),t.onShrunk(e)},$D=function(e,t,n,i){var r=i.getOrThunk(function(){return CD(t,e.element())});n.setCollapsed(),Da(e.element(),xD(t),r),Pa(e.element());var o=wD(e,t);ca(o,t.growingClass),la(o,t.shrinkingClass),kD(e,t),t.onStartShrink(e)},TD=function(e,t,n){var i=CD(t,e.element());("0px"===i?DD:$D)(e,t,n,se.some(i))},ED=function(e,t,n){var i=wD(e,t),r=da(i,t.shrinkingClass),o=CD(t,e.element());SD(e,t);var a=CD(t,e.element());(r?function(){Da(e.element(),xD(t),o),Pa(e.element())}:function(){kD(e,t)})(),ca(i,t.shrinkingClass),la(i,t.growingClass),SD(e,t),Da(e.element(),xD(t),a),n.setExpanded(),t.onStartGrow(e)},AD=function(e,t,n){var i=wD(e,t);return!0===da(i,t.growingClass)},OD=function(e,t,n){var i=wD(e,t);return!0===da(i,t.shrinkingClass)},MD=Object.freeze({__proto__:null,refresh:function(e,t,n){if(n.isExpanded()){Na(e.element(),xD(t));var i=CD(t,e.element());Da(e.element(),xD(t),i)}},grow:function(e,t,n){n.isExpanded()||ED(e,t,n)},shrink:function(e,t,n){n.isExpanded()&&TD(e,t,n)},immediateShrink:function(e,t,n){n.isExpanded()&&DD(e,t,n,se.none())},hasGrown:function(e,t,n){return n.isExpanded()},hasShrunk:function(e,t,n){return n.isCollapsed()},isGrowing:AD,isShrinking:OD,isTransitioning:function(e,t,n){return!0===AD(e,t)||!0===OD(e,t)},toggleGrow:function(e,t,n){(n.isExpanded()?TD:ED)(e,t,n)},disableTransitions:_D}),ND=Object.freeze({__proto__:null,exhibit:function(e,t,n){var i=t.expanded;return Ko(i?{classes:[t.openClass],styles:{}}:{classes:[t.closedClass],styles:Rt(t.dimension.property,"0px")})},events:function(e,t){return Nr([Vr(Qi(),function(n,i){i.event().raw().propertyName===e.dimension.property&&(_D(n,e),t.isExpanded()&&Na(n.element(),e.dimension.property),(t.isExpanded()?e.onGrown:e.onShrunk)(n))})])}}),PD=[Dn("closedClass"),Dn("openClass"),Dn("shrinkingClass"),Dn("growingClass"),Pn("getAnimationRoot"),zs("onShrunk"),zs("onStartShrink"),zs("onGrown"),zs("onStartGrow"),Hn("expanded",!1),$n("dimension",gn("property",{width:[Ys("property","width"),Ys("getDimension",function(e){return is(e)+"px"})],height:[Ys("property","height"),Ys("getDimension",function(e){return Ka(e)+"px"})]}))],ID=Nl({fields:PD,name:"sliding",active:ND,apis:MD,state:Object.freeze({__proto__:null,init:function(e){var n=Kn(e.expanded);return Yo({isExpanded:function(){return!0===n.get()},isCollapsed:function(){return!1===n.get()},setCollapsed:t(n.set,!1),setExpanded:t(n.set,!0),readState:function(){return"expanded: "+n.get()}})}})}),RD=X([js(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),zs("onOpened"),zs("onClosed")].concat(lD())),LD=X([Vd({factory:tD,schema:QS(),name:"primary"}),Vd({factory:tD,schema:QS(),name:"overflow",overrides:function(e){return{toolbarBehaviours:Ol([ID.config({dimension:{property:"height"},closedClass:e.markers.closedClass,openClass:e.markers.openClass,shrinkingClass:e.markers.shrinkingClass,growingClass:e.markers.growingClass,onShrunk:function(t){nf(t,e,"overflow-button").each(function(e){Zp.off(e),Hp.focus(e)}),e.onClosed(t)},onGrown:function(t){Ep.focusIn(t),e.onOpened(t)},onStartGrow:function(t){nf(t,e,"overflow-button").each(Zp.on)}}),Ep.config({mode:"acyclic",onEscape:function(t){return nf(t,e,"overflow-button").each(Hp.focus),se.some(!0)}})])}}}),zd({name:"overflow-button",overrides:function(e){return{buttonBehaviours:Ol([Zp.config({toggleClass:e.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),zd({name:"overflow-group"})]),BD=function(e,t){nf(e,t,"overflow").each(function(n){sD(e,t,function(e){var t=$e(e,function(e){return Ya(e)});tD.setGroups(n,t)}),nf(e,t,"overflow-button").each(function(e){ID.hasGrown(n)&&Zp.on(e)}),ID.refresh(n)})},FD=bf({name:"SplitSlidingToolbar",configFields:RD(),partFields:LD(),factory:function(e,t,n,i){var r="alloy.toolbar.toggle";return{uid:e.uid,dom:e.dom,components:t,behaviours:md(e.splitToolbarBehaviours,[Dw.config({others:{overflowGroup:function(e){return ZS.sketch(ie(ie({},i["overflow-group"]()),{items:[Rm.sketch(ie(ie({},i["overflow-button"]()),{action:function(t){$r(e,r)}}))]}))}}}),Ip("toolbar-toggle-events",[Rr(r,function(t){nf(t,e,"overflow").each(function(n){BD(t,e),ID.toggleGrow(n)})})])]),apis:{setGroups:function(t,n){var i;i=$e(n,t.getSystem().build),e.builtGroups.set(i),BD(t,e)},refresh:function(t){return BD(t,e)},toggle:function(t){var n,i;nf(n=t,i=e,"overflow").each(function(e){BD(n,i),ID.toggleGrow(e)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(e,t,n){e.setGroups(t,n)},refresh:function(e,t){e.refresh(t)},toggle:function(e,t){e.toggle(t)}}}),HD=X(Ao("toolbar-height-change")),jD=function(e){var t=e.title.fold(function(){return{}},function(e){return{attributes:{title:e}}});return{dom:ie({tag:"div",classes:["tox-toolbar__group"]},t),components:[ZS.parts().items({})],items:e.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Ol([By.config({}),Hp.config({})])}},VD=function(e){return ZS.sketch(jD(e))},zD=function(e,t){var n=zr(function(t){var n=$e(e.initGroups,VD);tD.setGroups(t,n)});return Ol([Vv(e.providers.isReadOnly),Bv(),Ep.config({mode:t,onEscape:e.onEscape,selector:".tox-toolbar__group"}),Ip("toolbar-events",[n])])},UD=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return{uid:e.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":jD({title:se.none(),items:[]}),"overflow-button":Q_({name:"more",icon:se.some("more-drawer"),disabled:!1,tooltip:se.some("More..."),primary:!1,borderless:!1},se.none(),e.providers)},splitToolbarBehaviours:zD(e,t)}},WD=function(e){var t=UD(e),n=yD.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return yD.sketch(ie(ie({},t),{lazySink:e.getSink,getOverflowBounds:function(){var t=e.moreDrawerData.lazyHeader().element(),n=vs(t),i=to(t),r=vs(i),o=Math.max(i.dom().scrollHeight,r.height);return ms(n.x+4,r.y,n.width-8,o)},parts:ie(ie({},t.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:e.attributes}}}),components:[n],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},qD=function(e){var t=FD.parts().primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),n=FD.parts().overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),i=UD(e);return FD.sketch(ie(ie({},i),{components:[t,n],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(e){e.getSystem().broadcastOn([HD()],{type:"opened"})},onClosed:function(e){e.getSystem().broadcastOn([HD()],{type:"closed"})}}))},YD=function(e){var t=e.cyclicKeying?"cyclic":"acyclic";return tD.sketch({uid:e.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(e.type===cg.scrolling?["tox-toolbar--scrolling"]:[])},components:[tD.parts().groups({})],toolbarBehaviours:zD(e,t)})},GD=[Wn("disabled",!1),Ln("tooltip"),Ln("icon"),Ln("text"),qn("onSetup",function(){return G})],KD=Xt([Tn("type"),An("onAction")].concat(GD)),XD=function(e){return dn("toolbarbutton",KD,e)},JD=[Ln("text"),Ln("tooltip"),Ln("icon"),An("fetch"),qn("onSetup",function(){return G})],ZD=Xt(i([Tn("type")],JD)),QD=function(e){return dn("menubutton",ZD,e)},e$=Xt([Tn("type"),Ln("tooltip"),Ln("icon"),Ln("text"),Bn("select"),An("fetch"),qn("onSetup",function(){return G}),Un("presets","normal",["normal","color","listpreview"]),Hn("columns",1),An("onAction"),An("onItemAction")]),t$=[Wn("active",!1)].concat(GD),n$=Xt(t$.concat([Tn("type"),An("onAction")])),i$=function(e){return dn("ToggleButton",n$,e)},r$=Xt([Tn("type"),$n("items",(Nw=[sn([Tn("name"),Nn("items",wn)]),wn],{extract:function(e,t,n){for(var i=[],r=0,o=Nw;r<o.length;r++){var a=o[r].extract(e,t,n);if(a.stype===q.Value)return a;i.push(a)}return jt(i)},toString:function(){return"oneOf("+$e(Nw,function(e){return e.toString()}).join(", ")+")"}}))].concat(GD)),o$=[qn("predicate",function(){return!1}),Un("scope","node",["node","editor"]),Un("position","selection",["node","selection","line"])],a$=GD.concat([Hn("type","contextformbutton"),Hn("primary",!1),An("onAction"),Gn("original",J)]),s$=t$.concat([Hn("type","contextformbutton"),Hn("primary",!1),An("onAction"),Gn("original",J)]),l$=GD.concat([Hn("type","contextformbutton")]),u$=t$.concat([Hn("type","contextformtogglebutton")]),c$=gn("type",{contextformbutton:a$,contextformtogglebutton:s$}),d$=Xt([Hn("type","contextform"),qn("initValue",function(){return""}),Ln("label"),Nn("commands",c$),In("launch",gn("type",{contextformbutton:l$,contextformtogglebutton:u$}))].concat(o$)),f$=Xt([Hn("type","contexttoolbar"),Tn("items")].concat(o$)),h$=Object.freeze({__proto__:null,getState:function(e,t,n){return n}}),p$=Object.freeze({__proto__:null,events:function(e,t){var n=function(n,i){e.updateState.each(function(e){var r=e(n,i);t.set(r)}),e.renderComponents.each(function(e){var r=e(i,t.get()),o=$e(r,n.getSystem().build);Tc(n,o)})};return Nr([Rr(or(),function(t,i){var r=i,o=e.channel;_e(r.channels(),o)&&n(t,r.data())}),zr(function(t,i){e.initialData.each(function(e){n(t,e)})})])}}),m$=Object.freeze({__proto__:null,init:function(){var e=Kn(se.none());return{readState:function(){return e.get().fold(function(){return"none"},function(e){return e})},get:function(){return e.get()},set:function(t){return e.set(t)},clear:function(){return e.set(se.none())}}}}),g$=[Dn("channel"),Pn("renderComponents"),Pn("updateState"),Pn("initialData")],v$=Nl({fields:g$,name:"reflecting",active:p$,apis:h$,state:m$}),b$=X([Dn("toggleClass"),Dn("fetch"),Ws("onExecute"),Hn("getHotspot",se.some),Hn("getAnchorOverrides",X({})),yu(),Ws("onItemExecute"),Pn("lazySink"),Dn("dom"),zs("onOpen"),hd("splitDropdownBehaviours",[Dw,Ep,Hp]),Hn("matchWidth",!1),Hn("useMinWidth",!1),Hn("eventOrder",{}),Pn("role")].concat(Ww())),y$=Vd({factory:Rm,schema:[Dn("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Ol([Hp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(Er)},buttonBehaviours:Ol([Zp.config({toggleOnExecute:!1,toggleClass:e.toggleClass})])}}}),w$=Vd({factory:Rm,schema:[Dn("dom")],name:"button",defaults:function(){return{buttonBehaviours:Ol([Hp.revoke()])}},overrides:function(e){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(t){t.getSystem().getByUid(e.uid).each(function(n){e.onExecute(n,t)})}}}}),x$=X([y$,w$,Ud({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:e.text}}}},schema:[Dn("text")],name:"aria-descriptor"}),zd({schema:[Hs()],name:"menu",defaults:function(e){return{onExecute:function(t,n){t.getSystem().getByUid(e.uid).each(function(i){e.onItemExecute(i,t,n)})}}}}),Tw()]),C$=bf({name:"SplitDropdown",configFields:b$(),partFields:x$(),factory:function(e,t,n,i){var r=function(e){_f.getCurrent(e).each(function(e){Pf.highlightFirst(e),Ep.focusIn(e)})},o=function(t){Fw(e,function(e){return e},t,i,r,ow.HighlightFirst).get(G)},a=function(t){var n=rf(t,e,"button");return Er(n),se.some(!0)},s=ie(ie({},Nr([zr(function(t,n){nf(t,e,"aria-descriptor").each(function(e){var n=Ao("aria");yo(e.element(),"id",n),yo(t.element(),"aria-describedby",n)})})])),em(se.some(o))),l={repositionMenus:function(e){Zp.isOn(e)&&Uw(e)}};return{uid:e.uid,dom:e.dom,components:t,apis:l,eventOrder:ie(ie({},e.eventOrder),{"alloy.execute":["disabling","toggling","alloy.base.behaviour"]}),events:s,behaviours:md(e.splitDropdownBehaviours,[Dw.config({others:{sandbox:function(t){var n=rf(t,e,"arrow");return zw(e,t,{onOpen:function(){Zp.on(n),Zp.on(t)},onClose:function(){Zp.off(n),Zp.off(t)}})}}}),Ep.config({mode:"special",onSpace:a,onEnter:a,onDown:function(e){return o(e),se.some(!0)}}),Hp.config({}),Zp.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:e.role.getOr("button"),"aria-haspopup":!0}}}},apis:{repositionMenus:function(e,t){return e.repositionMenus(t)}}}),_$=function(e){return{isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},k$=function(e){return{setActive:function(t){Zp.set(e,t)},isActive:function(){return Zp.isOn(e)},isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)}}},S$=function(e,t){return e.map(function(e){return{"aria-label":t.translate(e),title:t.translate(e)}}).getOr({})},D$=Ao("focus-button"),$$=["checklist","ordered-list"],T$=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],E$=function(e,t,n,i,r,o){var a,s=function(e){return Jg.isRtl()&&_e($$,e)?e+"-rtl":e},l=Jg.isRtl()&&e.exists(function(e){return _e(T$,e)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(t.isSome()?["tox-tbtn--select"]:[]).concat(l?["tox-tbtn__icon-rtl"]:[]),attributes:S$(n,o)},components:Yv([e.map(function(e){return I_(s(e),o.icons)}),t.map(function(e){return L_(e,"tox-tbtn",o)})]),eventOrder:((a={})[ji()]=["focusing","alloy.base.behaviour","common-button-display-events"],a),buttonBehaviours:Ol([Vv(o.isReadOnly),Bv(),Ip("common-button-display-events",[Rr(ji(),function(e,t){t.event().prevent(),$r(e,D$)})])].concat(i.map(function(n){return v$.config({channel:n,initialData:{icon:e,text:t},renderComponents:function(e,t){return Yv([e.icon.map(function(e){return I_(s(e),o.icons)}),e.text.map(function(e){return L_(e,"tox-tbtn",o)})])}})}).toArray()).concat(r.getOr([])))}},A$=function(e,t,n){var i,r=Kn(G),o=E$(e.icon,e.text,e.tooltip,se.none(),se.none(),n);return Rm.sketch({dom:o.dom,components:o.components,eventOrder:F_,buttonBehaviours:Ol([Ip("toolbar-button-events",[(i={onAction:e.onAction,getApi:t.getApi},qr(function(e,t){zv(i,e)(function(t){Tr(e,B_,{buttonApi:t}),i.onAction(t)})})),Uv(t,r),Wv(t,r)]),Vv(function(){return e.disabled||n.isReadOnly()}),Bv()].concat(t.toolbarButtonBehaviours))})},O$=function(e,t,n){return A$(e,{toolbarButtonBehaviours:[].concat(0<n.length?[Ip("toolbarButtonWith",n)]:[]),getApi:_$,onSetup:e.onSetup},t)},M$=function(e,t,n){return St(A$(e,{toolbarButtonBehaviours:[Pp.config({}),Zp.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(0<n.length?[Ip("toolbarToggleButtonWith",n)]:[]),getApi:k$,onSetup:e.onSetup},t))},N$=function(e,t){var n,i,r,o,a=Ao("channel-update-split-dropdown-display"),s=function(e){return{isDisabled:function(){return dv.isDisabled(e)},setDisabled:function(t){return dv.set(e,t)},setIconFill:function(t,n){_s(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){yo(e,"fill",n)})},setIconStroke:function(t,n){_s(e.element(),'svg path[id="'+t+'"], rect[id="'+t+'"]').each(function(e){yo(e,"stroke",n)})},setActive:function(t){yo(e.element(),"aria-pressed",t),_s(e.element(),"span").each(function(n){e.getSystem().getByDom(n).each(function(e){return Zp.set(e,t)})})},isActive:function(){return _s(e.element(),"span").exists(function(t){return e.getSystem().getByDom(t).exists(Zp.isOn)})}}},l=Kn(G),u={getApi:s,onSetup:e.onSetup};return C$.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:ie({"aria-pressed":!1},S$(e.tooltip,t.providers))},onExecute:function(t){e.onAction(s(t))},onItemExecute:function(e,t,n){},splitDropdownBehaviours:Ol([jv(t.providers.isReadOnly),Bv(),Ip("split-dropdown-events",[Rr(D$,Hp.focus),Uv(u,l),Wv(u,l)]),Kw.config({})]),eventOrder:((n={})[vr()]=["alloy.base.behaviour","split-dropdown-events"],n),toggleClass:"tox-tbtn--enabled",lazySink:t.getSink,fetch:(i=s,r=e,o=t.providers,function(e){return fw(function(e){return r.fetch(e)}).map(function(t){return se.from(dy(St(Gb(Ao("menu-value"),t,function(t){r.onItemAction(i(e),t)},r.columns,r.presets,fg.CLOSE_ON_EXECUTE,r.select.getOr(function(){return!1}),o),{movement:Xb(r.columns,r.presets),menuBehaviours:jg("auto"!==r.columns?[]:[zr(function(e,t){Fg(e,4,xg(r.presets)).each(function(t){var n=t.numRows,i=t.numColumns;Ep.setGridSize(e,n,i)})})])})))})}),parts:{menu:Sg(0,e.columns,e.presets)},components:[C$.parts().button(E$(e.icon,e.text,se.none(),se.some(a),se.some([Zp.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),t.providers)),C$.parts().arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:Fm("chevron-down",t.providers.icons)},buttonBehaviours:Ol([jv(t.providers.isReadOnly),Bv()])}),C$.parts()["aria-descriptor"]({text:t.providers.translate("To open the popup, press Shift+Enter")})]})},P$=function(e,t){return Rr(B_,function(n,i){var r,o=e.get(n),a=(r=o,{hide:function(){return $r(r,cr())},getValue:function(){return fd.getValue(r)}});t.onAction(a,i.event().buttonApi())})},I$=function(e,t,i){var r,o,a,s,l,u,c,d,f,h,p,m,g={backstage:{shared:{providers:i}}};return"contextformtogglebutton"===t.type?(c=e,f=g,(h=(d=t).original).primary,p=n(h,["primary"]),m=fn(i$(ie(ie({},p),{type:"togglebutton",onAction:function(){}}))),M$(m,f.backstage.shared.providers,[P$(c,d)])):(r=e,a=g,(s=(o=t).original).primary,l=n(s,["primary"]),u=fn(XD(ie(ie({},l),{type:"button",onAction:function(){}}))),O$(u,a.backstage.shared.providers,[P$(r,o)]))},R$=function(e,t){var n,i,r,o,a=e.label.fold(function(){return{}},function(e){return{"aria-label":e}}),s=Lm(nw.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:e.initValue(),inputAttributes:a,selectOnFocus:!0,inputBehaviours:Ol([Ep.config({mode:"special",onEnter:function(e){return l.findPrimary(e).map(function(e){return Er(e),!0})},onLeft:function(e,t){return t.cut(),se.none()},onRight:function(e,t){return t.cut(),se.none()}})])})),l=(n=s,i=e.commands,r=t,o=$e(i,function(e){return Lm(I$(n,e,r))}),{asSpecs:function(){return $e(o,function(e){return e.asSpec()})},findPrimary:function(e){return Ue(i,function(t,n){return t.primary?se.from(o[n]).bind(function(t){return t.getOpt(e)}).filter(Z(dv.isDisabled)):se.none()})}});return[{title:se.none(),items:[s.asSpec()]},{title:se.none(),items:l.asSpecs()}]},L$=R$,B$=function(t,n){var i,r,o,a,s,l=ds(e.window),u=gs(Jn.fromDom(t.getContentAreaContainer())),c=yv(t)||wv(t)||Cv(t),d=(i=u,r=l,o=Math.max(r.x,i.x),a=i.right-o,s=r.width-(o-r.x),{x:o,width:Math.min(a,s)}),f=d.x,h=d.width;if(t.inline&&!c)return ms(f,l.y,h,l.height);var p=function(e,t,n,i){var r=Jn.fromDom(e.getContainer()),o=_s(r,".tox-editor-header").getOr(r),a=gs(o),s=a.y>=t.bottom,l=i&&!s;if(e.inline&&l)return{y:Math.max(a.bottom,n.y),bottom:n.bottom};if(e.inline&&!l)return{y:n.y,bottom:Math.min(a.y,n.bottom)};var u=gs(r);return l?{y:Math.max(a.bottom,n.y),bottom:Math.min(u.bottom,n.bottom)}:{y:Math.max(u.y,n.y),bottom:Math.min(a.y,n.bottom)}}(t,u,l,n.header.isPositionedAtTop()),m=p.y,g=p.bottom;return ms(f,m,h,g-m)},F$=function(e,t){var n=Ae(t,function(t){return t.predicate(e.dom())}),i=Ee(n,function(e){return"contexttoolbar"===e.type});return{contextToolbars:i.pass,contextForms:i.fail}},H$=function(e,t,n){var i=F$(e,t);if(0<i.contextForms.length)return se.some({elem:e,toolbars:[i.contextForms[0]]});var r=F$(e,n);if(0<r.contextForms.length)return se.some({elem:e,toolbars:[r.contextForms[0]]});if(0<i.contextToolbars.length||0<r.contextToolbars.length){var o=function(e){if(e.length<=1)return e;var t=function(t){return ke(e,function(e){return e.position===t})},n=function(t){return Ae(e,function(e){return e.position===t})},i=t("selection"),r=t("node");if(i||r){if(r&&i){var o=n("node"),a=$e(n("selection"),function(e){return ie(ie({},e),{position:"node"})});return o.concat(a)}return n(i?"selection":"node")}return n("line")}(i.contextToolbars.concat(r.contextToolbars));return se.some({elem:e,toolbars:o})}return se.none()},j$=function(e,t,n){return e(t)?se.none():Mi(t,function(e){var t=F$(e,n.inNodeScope),i=t.contextToolbars,r=t.contextForms,o=0<r.length?r:function(e){if(e.length<=1)return e;var t=function(t){return Ne(e,function(e){return e.position===t})};return t("selection").orThunk(function(){return t("node")}).orThunk(function(){return t("line")}).map(function(e){return e.position}).fold(function(){return[]},function(t){return Ae(e,function(e){return e.position===t})})}(i);return 0<o.length?se.some({elem:e,toolbars:o}):se.none()},e)},V$=function(e,t){var n={},i=[],r=[],o={},a={},s=function(e,s){var l=fn(dn("ContextForm",d$,s));(n[e]=l).launch.map(function(n){o["form:"+e]=ie(ie({},s.launch),{type:"contextformtogglebutton"===n.type?"togglebutton":"button",onAction:function(){t(l)}})}),"editor"===l.scope?r.push(l):i.push(l),a[e]=l},l=function(e,t){dn("ContextToolbar",f$,t).each(function(n){"editor"===t.scope?r.push(n):i.push(n),a[e]=n})},u=ct(e);return Te(u,function(t){var n=e[t];"contextform"===n.type?s(t,n):"contexttoolbar"===n.type&&l(t,n)}),{forms:n,inNodeScope:i,inEditorScope:r,lookupTable:a,formNavigators:o}},z$=Ao("forward-slide"),U$=Ao("backward-slide"),W$=Ao("change-slide-event"),q$="tox-pop--resizing",Y$=function(e,t,n){var i,r,o,a,s,l=n.dataset,u="basic"===l.type?function(){return $e(l.data,function(e){return bS(e,n.isSelectedFor,n.getPreviewFor)})}:l.getData;return{items:(i=t,r=n,o=function(e,t,n,o){var s=i.shared.providers.translate(e.title);if("separator"===e.type)return se.some({type:"separator",text:s});if("submenu"!==e.type)return se.some(ie({type:"togglemenuitem",text:s,icon:e.icon,active:e.isSelected(o),disabled:n,onAction:r.onAction(e)},e.getStylePreview().fold(function(){return{}},function(e){return{meta:{style:e}}})));var l=Re(e.getStyleItems(),function(e){return a(e,t,o)});return 0===t&&l.length<=0?se.none():se.some({type:"nestedmenuitem",text:s,disabled:l.length<=0,getSubmenuItems:function(){return Re(e.getStyleItems(),function(e){return a(e,t,o)})}})},a=function(e,t,n){var i="formatter"===e.type&&r.isInvalid(e);return 0===t?i?[]:o(e,t,!1,n).toArray():o(e,t,i,n).toArray()},{validateItems:s=function(e){var t=r.getCurrentValue(),n=r.shouldHide?0:1;return Re(e,function(e){return a(e,n,t)})},getFetch:function(e,t){return function(n){var i=t(),r=s(i);n(G_(r,fg.CLOSE_ON_EXECUTE,e,!1))}}}),getStyleItems:u}},G$=function(e,t,n){var i=Y$(0,t,n),r=i.items,o=i.getStyleItems;return V_({text:n.icon.isSome()?se.none():se.some(""),icon:n.icon,tooltip:se.from(n.tooltip),role:se.none(),fetch:r.getFetch(t,o),onSetup:function(t){return n.setInitialValue.each(function(e){return e(t.getComponent())}),n.nodeChangeHandler.map(function(n){var i=n(t.getComponent());return e.on("NodeChange",i),function(){e.off("NodeChange",i)}}).getOr(G)},getApi:function(e){return{getComponent:function(){return e}}},columns:1,presets:"normal",classes:n.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",t.shared)};(Iw=Pw=Pw||{})[Iw.SemiColon=0]="SemiColon",Iw[Iw.Space=1]="Space";var K$,X$,J$=function(e,t,n,i){var r,o,a=e.getParam(t,n,"string");return{type:"basic",data:(o=a,r=i===Pw.SemiColon?o.replace(/;$/,"").split(";"):o.split(" "),$e(r,function(e){var t=e,n=e,i=e.split("=");return 1<i.length&&(t=i[0],n=i[1]),{title:t,format:n}}))}},Z$=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],Q$=function(e){var t=function(t){var n=Ne(Z$,function(t){return e.formatter.match(t.format)}).fold(function(){return"left"},function(e){return e.title.toLowerCase()});Tr(t,j_,{icon:"align-"+n})},n=se.some(function(e){return function(){return t(e)}}),i=se.some(function(e){return t(e)}),r={type:"basic",data:Z$};return{tooltip:"Align",icon:se.some("align-left"),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:X(se.none()),getPreviewFor:function(e){return function(){return se.none()}},onAction:function(t){return function(){return Ne(Z$,function(e){return e.format===t.format}).each(function(t){return e.execCommand(t.command)})}},setInitialValue:i,nodeChangeHandler:n,dataset:r,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},eT=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],tT=function(e){var t=e.split(/\s*,\s*/);return $e(t,function(e){return e.replace(/^['"]+|['"]+$/g,"")})},nT=function(e){var t;return 0===e.indexOf("-apple-system")&&(t=tT(e.toLowerCase()),Le(eT,function(e){return-1<t.indexOf(e.toLowerCase())}))},iT=function(e){var t=function(){var t=function(e){return e?tT(e)[0]:""},n=e.queryCommandValue("FontName"),i=o.data,r=n?n.toLowerCase():"";return{matchOpt:Ne(i,function(e){var n=e.format;return n.toLowerCase()===r||t(n).toLowerCase()===t(r).toLowerCase()}).orThunk(function(){return nT(r)?se.from({title:"System Font",format:r}):se.none()}),font:n}},n=function(e){var n=t(),i=n.matchOpt,r=n.font,o=i.fold(function(){return r},function(e){return e.title});Tr(e,H_,{text:o})},i=se.some(function(e){return function(){return n(e)}}),r=se.some(function(e){return n(e)}),o=J$(e,"font_formats","Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",Pw.SemiColon);return{tooltip:"Fonts",icon:se.none(),isSelectedFor:function(e){return function(t){
return t.exists(function(t){return t.format===e})}},getCurrentValue:function(){return t().matchOpt},getPreviewFor:function(e){return function(){return se.some({tag:"div",styles:-1===e.indexOf("dings")?{"font-family":e}:{}})}},onAction:function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontName",!1,t.format)})}},setInitialValue:r,nodeChangeHandler:i,dataset:o,shouldHide:!1,isInvalid:function(){return!1}}},rT={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},oT=function(e,t){return/[0-9.]+px$/.test(e)?(n=72*parseInt(e,10)/96,i=t||0,r=Math.pow(10,i),Math.round(n*r)/r+"pt"):e;var n,i,r},aT=function(e){var t=function(){var t=se.none(),n=a.data,i=e.queryCommandValue("FontSize");if(i)for(var r=function(e){var r=oT(i,e),o=yt(rT,r).getOr("");t=Ne(n,function(e){return e.format===i||e.format===r||e.format===o})},o=3;t.isNone()&&0<=o;o--)r(o);return{matchOpt:t,size:i}},n=X(X(se.none())),i=function(e){var n=t(),i=n.matchOpt,r=n.size,o=i.fold(function(){return r},function(e){return e.title});Tr(e,H_,{text:o})},r=se.some(function(e){return function(){return i(e)}}),o=se.some(function(e){return i(e)}),a=J$(e,"fontsize_formats","8pt 10pt 12pt 14pt 18pt 24pt 36pt",Pw.Space);return{tooltip:"Font sizes",icon:se.none(),isSelectedFor:function(e){return function(t){return t.exists(function(t){return t.format===e})}},getPreviewFor:n,getCurrentValue:function(){return t().matchOpt},onAction:function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("FontSize",!1,t.format)})}},setInitialValue:o,nodeChangeHandler:r,dataset:a,shouldHide:!1,isInvalid:function(){return!1}}},sT=function(e,t,n){var i=t();return Ue(n,function(t){return Ne(i,function(n){return e.formatter.matchNode(t,n.format)})}).orThunk(function(){return e.formatter.match("p")?se.some({title:"Paragraph",format:"p"}):se.none()})},lT=function(e){var t=e.selection.getStart(!0)||e.getBody();return e.dom.getParents(t,function(){return!0},e.getBody())},uT=function(e,t){return function(n){var i=Kn(se.none()),r=function(){n.setActive(e.formatter.match(t));var r=e.formatter.formatChanged(t,n.setActive).unbind;i.set(se.some(r))};return e.initialized?r():e.on("init",r),function(){return i.get().each(function(e){return e()})}}},cT=function(e){return function(t){return function(){e.undoManager.transact(function(){e.focus(),e.execCommand("mceToggleFormat",!1,t.format)})}}},dT=function(e){var t=function(t,n){var i=sT(e,function(){return r.data},t).fold(function(){return"Paragraph"},function(e){return e.title});Tr(n,H_,{text:i})},n=se.some(function(e){return function(n){return t(n.parents,e)}}),i=se.some(function(n){var i=lT(e);t(i,n)}),r=J$(e,"block_formats","Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",Pw.SemiColon);return{tooltip:"Blocks",icon:se.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:X(se.none()),getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return se.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))})}},onAction:cT(e),setInitialValue:i,nodeChangeHandler:n,dataset:r,shouldHide:!1,isInvalid:function(t){return!e.formatter.canApply(t.format)}}},fT=function(e,t){var n=function(t,n){var i=function(e){var t=e.items;return void 0!==t&&0<t.length?Re(t,i):[{title:e.title,format:e.format}]},r=Re(vS(e),i),o=sT(e,function(){return r},t).fold(function(){return"Paragraph"},function(e){return e.title});Tr(n,H_,{text:o})},i=se.some(function(e){return function(t){return n(t.parents,e)}}),r=se.some(function(t){var i=lT(e);n(i,t)});return{tooltip:"Formats",icon:se.none(),isSelectedFor:function(t){return function(){return e.formatter.match(t)}},getCurrentValue:X(se.none()),getPreviewFor:function(t){return function(){var n=e.formatter.get(t);return void 0!==n?se.some({tag:0<n.length&&(n[0].inline||n[0].block)||"div",styles:e.dom.parseStyle(e.formatter.getCssText(t))}):se.none()}},onAction:cT(e),setInitialValue:r,nodeChangeHandler:i,shouldHide:e.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(t){return!e.formatter.canApply(t.format)},dataset:t}},hT=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],pT=function(e,t){return function(n,i,r){var o=e(n).mapError(function(e){return pn(e)}).getOrDie();return t(o,i,r)}},mT={button:pT(XD,function(e,t){return n=e,i=t.backstage.shared.providers,O$(n,i,[]);var n,i}),togglebutton:pT(i$,function(e,t){return n=e,i=t.backstage.shared.providers,M$(n,i,[]);var n,i}),menubutton:pT(QD,function(e,t){return X_(e,"tox-tbtn",t.backstage,se.none())}),splitbutton:pT(function(e){return dn("SplitButton",e$,e)},function(e,t){return N$(e,t.backstage.shared)}),grouptoolbarbutton:pT(function(e){return dn("GroupToolbarButton",r$,e)},function(e,t,n){var i,r,o,a,s,l,u=n.ui.registry.getAll().buttons,c=((i={})[vu]=t.backstage.shared.header.isPositionedAtTop()?Es.TopToBottom:Es.BottomToTop,i);switch(Sv(n)){case cg.floating:return r=e,o=t.backstage,a=function(e){return yT(n,{buttons:u,toolbar:e,allowToolbarGroups:!1},t,se.none())},s=c,l=o.shared,gD.sketch({lazySink:l.getSink,fetch:function(){return fw(function(e){e($e(a(r.items),VD))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:E$(r.icon,r.text,r.tooltip,se.none(),se.none(),l.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}});default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(e,t){return n=e,i=t.backstage,r=ie({type:"advanced"},i.styleselect),G$(n,i,fT(n,r));var n,i,r},fontsizeSelectButton:function(e,t){return n=e,i=t.backstage,G$(n,i,aT(n));var n,i},fontSelectButton:function(e,t){return n=e,i=t.backstage,G$(n,i,iT(n));var n,i},formatButton:function(e,t){return n=e,i=t.backstage,G$(n,i,dT(n));var n,i},alignMenuButton:function(e,t){return n=e,i=t.backstage,G$(n,i,Q$(n));var n,i}},gT={styleselect:mT.styleSelectButton,fontsizeselect:mT.fontsizeSelectButton,fontselect:mT.fontSelectButton,formatselect:mT.formatButton,align:mT.alignMenuButton},vT=function(t){var n,i,r,o=t.toolbar,a=t.buttons;return!1===o?[]:void 0===o||!0===o?(i=a,r=$e(hT,function(e){var t=Ae(e.items,function(e){return wt(i,e)||wt(gT,e)});return{name:e.name,items:t}}),Ae(r,function(e){return 0<e.items.length})):ce(o)?(n=o.split("|"),$e(n,function(e){return{items:e.trim().split(" ")}})):be(o,function(e){return wt(e,"name")&&wt(e,"items")})?o:(e.console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},bT=function(t,n,i,r,o,a){return yt(n,i.toLowerCase()).orThunk(function(){return a.bind(function(e){return Ue(e,function(e){return yt(n,e+i.toLowerCase())})})}).fold(function(){return yt(gT,i.toLowerCase()).map(function(e){return e(t,o)}).orThunk(function(){return se.none()})},function(n){return"grouptoolbarbutton"!==n.type||r?(s=o,l=t,yt(mT,(a=n).type).fold(function(){return e.console.error("skipping button defined by",a),se.none()},function(e){return se.some(e(a,s,l))})):(e.console.warn("Ignoring the '"+i+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),se.none());var a,s,l})},yT=function(e,t,n,i){var r=vT(t),o=$e(r,function(r){var o=Re(r.items,function(r){return 0===r.trim().length?[]:bT(e,t.buttons,r,t.allowToolbarGroups,n,i).toArray()});return{title:se.from(e.translate(r.name)),items:o}});return Ae(o,function(e){return 0<e.items.length})},wT={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},xT={maxHeightFunction:lu(),maxWidthFunction:GS()},CT={onLtr:function(){return[vl,bl,ml,hl,gl,pl,Nm,Pm,Om,Em,Mm,Am]},onRtl:function(){return[vl,bl,gl,pl,ml,hl,Nm,Pm,Mm,Am,Om,Em]}},_T={onLtr:function(){return[bl,hl,pl,ml,gl,vl,Nm,Pm,Om,Em,Mm,Am]},onRtl:function(){return[bl,pl,hl,gl,ml,vl,Nm,Pm,Mm,Am,Om,Em]}},kT=function(e,t,n,i){var r,o,a=Si().deviceType.isTouch,s=qa((r={sink:n,onEscape:function(){return e.focus(),se.some(!0)}},o=Kn([]),_m.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(e){o.set([]),_m.getContent(e).each(function(e){Na(e.element(),"visibility")}),ca(e.element(),q$),Na(e.element(),"width")},inlineBehaviours:Ol([Ip("context-toolbar-events",[Vr(Qi(),function(e,t){ca(e.element(),q$),Na(e.element(),"width")}),Rr(W$,function(e,t){Na(e.element(),"width");var n=is(e.element());_m.setContent(e,t.event().contents()),la(e.element(),q$);var i=is(e.element());Da(e.element(),"width",n+"px"),_m.getContent(e).each(function(n){t.event().focus().bind(function(t){return jl(t),zl(e.element())}).orThunk(function(){return Ep.focusIn(n),Vl()})}),Im.setTimeout(function(){Da(e.element(),"width",i+"px")},0)}),Rr(z$,function(e,t){_m.getContent(e).each(function(e){o.set(o.get().concat([{bar:e,focus:Vl()}]))}),Tr(e,W$,{contents:t.event().forwardContents(),focus:se.none()})}),Rr(U$,function(e,t){Ve(o.get()).each(function(t){o.set(o.get().slice(0,o.get().length-1)),Tr(e,W$,{contents:Ya(t.bar),focus:t.focus})})})]),Ep.config({mode:"special",onEscape:function(e){return Ve(o.get()).fold(function(){return r.onEscape()},function(t){return $r(e,U$),se.some(!0)})}})]),lazySink:function(){return Ye.value(r.sink)}}))),l=function(){return B$(e,i.backstage.shared)},u=function(){if(a()&&i.backstage.isContextMenuOpen())return!0;var t,n,r,o,s,u,c=(t=h.get().map(function(e){return e.getBoundingClientRect()}).getOrThunk(function(){return e.selection.getRng().getBoundingClientRect()}),n=e.inline?ls().top():vs(Jn.fromDom(e.getBody())).y,{y:t.top+n,bottom:t.bottom+n}),d=l();return r=c.y,o=c.bottom,s=d.y,u=d.bottom,!(Math.max(r,s)<=Math.min(o,u))},c=function(){_m.hide(s)},d=function(){f.get().each(function(e){var t=s.element();Na(t,"display"),u()?Da(t,"display","none"):kc.positionWithinBounds(n,e,s,se.some(l()))})},f=Kn(se.none()),h=Kn(se.none()),p=Kn(null),m=function(t){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[t],behaviours:Ol([Ep.config({mode:"acyclic"}),Ip("pop-dialog-wrap-events",[zr(function(t){e.shortcuts.add("ctrl+F9","focus statusbar",function(){return Ep.focusIn(t)})}),Ur(function(t){e.shortcuts.remove("ctrl+F9")})])])}},g=$t(function(){return V$(t,function(e){var t=v([e]);Tr(s,z$,{forwardContents:m(t)})})}),v=function(t){var n=e.ui.registry.getAll().buttons,r=g(),o=ie(ie({},n),r.formNavigators),a=Sv(e)===cg.scrolling?cg.scrolling:cg["default"],s=Ie($e(t,function(t){return"contexttoolbar"===t.type?yT(e,{buttons:o,toolbar:t.items,allowToolbarGroups:!1},i,se.some(["form:"])):(n=t,r=i.backstage.shared.providers,L$(n,r));var n,r}));return YD({type:a,uid:Ao("context-toolbar"),initGroups:s,onEscape:se.none,cyclicKeying:!0,providers:i.backstage.shared.providers})};e.on("contexttoolbar-show",function(t){var n=g();yt(n.lookupTable,t.toolbarKey).each(function(n){y([n],t.target===e?se.none():se.some(t)),_m.getContent(s).each(Ep.focusIn)})});var b=function(e,t){var n,r,o="node"===e?i.backstage.shared.anchors.node(t):i.backstage.shared.anchors.cursor();return St(o,(n=e,r=a(),"line"===n?{bubble:hu(12,0,wT),layouts:{onLtr:function(){return[yl]},onRtl:function(){return[wl]}},overrides:xT}:{bubble:hu(0,12,wT),layouts:r?_T:CT,overrides:xT}))},y=function(e,t){if(x(),!a()||!i.backstage.isContextMenuOpen()){var n=v(e),r=t.map(Jn.fromDom),o=b(e[0].position,r);f.set(se.some(o)),h.set(t);var c=s.element();Na(c,"display"),_m.showWithinBounds(s,o,m(n),function(){return se.some(l())}),u()&&Da(c,"display","none")}},w=function(){if(e.hasFocus()){var t,n,i,r,o,a,l=g();t=l,n=e,r=Jn.fromDom(n.getBody()),o=function(e){return Ti(e,r)},a=Jn.fromDom(n.selection.getNode()),(o(i=a)||Ai(r,i)?H$(a,t.inNodeScope,t.inEditorScope).orThunk(function(){return j$(o,a,t)}):se.none()).fold(function(){f.set(se.none()),_m.hide(s)},function(e){y(e.toolbars,se.some(e.elem.dom()))})}},x=function(){var e=p.get();null!==e&&(Im.clearTimeout(e),p.set(null))},C=function(e){x(),p.set(e)};e.on("init",function(){e.on(KS,c),e.on("ScrollContent ScrollWindow longpress",d),e.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){C(Im.setEditorTimeout(e,w,0))}),e.on("focusout",function(t){Im.setEditorTimeout(e,function(){zl(n.element()).isNone()&&zl(s.element()).isNone()&&(f.set(se.none()),_m.hide(s))},0)}),e.on("SwitchMode",function(){e.mode.isReadOnly()&&(f.set(se.none()),_m.hide(s))}),e.on("NodeChange",function(t){zl(s.element()).fold(function(){C(Im.setEditorTimeout(e,w,0))},function(e){})})})},ST=df,DT=Yd,$T=X([Hn("shell",!1),Dn("makeItem"),Hn("setupItem",G),gd("listBehaviours",[Pp])]),TT=Ud({name:"items",overrides:function(){return{behaviours:Ol([Pp.config({})])}}}),ET=X([TT]),AT=bf({name:X("CustomList")(),configFields:$T(),partFields:ET(),factory:function(t,n,i,r){var o=t.shell?{behaviours:[Pp.config({})],components:[]}:{behaviours:[],components:n},a=function(e){return t.shell?se.some(e):nf(e,t,"items")};return{uid:t.uid,dom:t.dom,components:o.components,behaviours:md(t.listBehaviours,o.behaviours),apis:{setItems:function(n,i){a(n).fold(function(){throw e.console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(e){var r=Pp.contents(e),o=i.length,a=o-r.length,s=0<a?Se(a,function(){return t.makeItem()}):[],l=r.slice(o);Te(l,function(t){return Pp.remove(e,t)}),Te(s,function(t){return Pp.append(e,t)});var u=Pp.contents(e);Te(u,function(e,r){t.setupItem(n,e,i[r],r)})})}}}},apis:{setItems:function(e,t,n){e.setItems(t,n)}}}),OT=function(e){return(Oa(e,"position").is("fixed")?se.none():ro(e)).orThunk(function(){var t=Jn.fromTag("span");return io(e).bind(function(e){co(e,t);var n=ro(t);return po(t),n})})},MT=function(e){return OT(e).map(es).getOrThunk(function(){return Za(0,0)})},NT=Ct([{"static":[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),PT=function(e,t){var n=e.element();la(n,t.transitionClass),ca(n,t.fadeOutClass),la(n,t.fadeInClass),t.onShow(e)},IT=function(e,t){var n=e.element();la(n,t.transitionClass),ca(n,t.fadeInClass),la(n,t.fadeOutClass),t.onHide(e)},RT=function(e,t,n){return Le(e,function(e){switch(e){case"bottom":return r=n,t.bottom<=r.bottom;case"top":return i=n,t.y>=i.y}var i,r})},LT=function(e,t){return t.getInitialPosition().map(function(t){return ms(t.bounds.x,t.bounds.y,is(e),Ka(e))})},BT=function(e,t,n){n.setInitialPosition(se.some({style:function(e){var t={},n=e.dom();if(pa(n))for(var i=0;i<n.style.length;i++){var r=n.style.item(i);t[r]=n.style[r]}return t}(e),position:Ea(e,"position")||"static",bounds:t}))},FT=function(e,t,n){return n.getInitialPosition().bind(function(i){switch(n.setInitialPosition(se.none()),i.position){case"static":return se.some(NT["static"]());case"absolute":var r=OT(e).map(gs).getOrThunk(function(){return gs(Ca())});return se.some(NT.absolute(Wl("absolute",yt(i.style,"left").map(function(e){return t.x-r.x}),yt(i.style,"top").map(function(e){return t.y-r.y}),yt(i.style,"right").map(function(e){return r.right-t.right}),yt(i.style,"bottom").map(function(e){return r.bottom-t.bottom}))));default:return se.none()}})},HT=function(e,t,n){var i,r,o,a=e.element();return Oa(a,"position").is("fixed")?(r=t,LT(i=a,o=n).filter(function(e){return RT(o.getModes(),e,r)}).bind(function(e){return FT(i,e,o)})):function(e,t,n){var i=gs(e);if(RT(n.getModes(),i,t))return se.none();BT(e,i,n);var r=bs(),o=i.x-r.x,a=t.y-r.y,s=r.bottom-t.bottom,l=i.y<=t.y;return se.some(NT.fixed(Wl("fixed",se.some(o),l?se.some(a):se.none(),se.none(),l?se.none():se.some(s))))}(a,t,n)},jT=function(e,t){Te(["left","right","top","bottom","position"],function(t){return Na(e.element(),t)}),t.onUndocked(e)},VT=function(e,t,n){ql(e.element(),n),("fixed"===n.position()?t.onDocked:t.onUndocked)(e)},zT=function(e,t,n,i,r){void 0===r&&(r=!1),t.contextual.each(function(t){t.lazyContext(e).each(function(o){var a,s,l=(s=i,(a=o).y<s.bottom&&a.bottom>s.y);l!==n.isVisible()&&(n.setVisible(l),r&&!l?(fa(e.element(),[t.fadeOutClass]),t.onHide(e)):(l?PT:IT)(e,t))})})},UT=function(e,t,n){var i,r,o=e.element();n.setDocked(!1),i=n,r=e.element(),LT(r,i).bind(function(e){return FT(r,e,i)}).each(function(n){n.fold(function(){return jT(e,t)},function(n){return VT(e,t,n)},G)}),n.setVisible(!0),t.contextual.each(function(t){ha(o,[t.fadeInClass,t.fadeOutClass,t.transitionClass]),t.onShow(e)}),WT(e,t,n)},WT=function(e,t,n){var i,r,o,a,s;e.getSystem().isConnected()&&(i=e,o=n,a=(r=t).lazyViewport(i),(s=o.isDocked())&&zT(i,r,o,a),HT(i,a,o).each(function(e){o.setDocked(!s),e.fold(function(){return jT(i,r)},function(e){return VT(i,r,e)},function(e){zT(i,r,o,a,!0),VT(i,r,e)})}))},qT=function(e,t,n){n.isDocked()&&UT(e,t,n)},YT=Object.freeze({__proto__:null,refresh:WT,reset:qT,isDocked:function(e,t,n){return n.isDocked()},getModes:function(e,t,n){return n.getModes()},setModes:function(e,t,n,i){return n.setModes(i)}}),GT=Object.freeze({__proto__:null,events:function(e,t){return Nr([Vr(Qi(),function(n,i){e.contextual.each(function(e){da(n.element(),e.transitionClass)&&(ha(n.element(),[e.transitionClass,e.fadeInClass]),(t.isVisible()?e.onShown:e.onHidden)(n)),i.stop()})}),Rr(mr(),function(n,i){WT(n,e,t)}),Rr(gr(),function(n,i){qT(n,e,t)})])}}),KT=[Fn("contextual",[Tn("fadeInClass"),Tn("fadeOutClass"),Tn("transitionClass"),An("lazyContext"),zs("onShow"),zs("onShown"),zs("onHide"),zs("onHidden")]),qn("lazyViewport",bs),jn("modes",["top","bottom"],Jt(wn)),zs("onDocked"),zs("onUndocked")],XT=Nl({fields:KT,name:"docking",active:GT,apis:YT,state:Object.freeze({__proto__:null,init:function(e){var t=Kn(!1),n=Kn(!0),i=Kn(se.none()),r=Kn(e.modes);return Yo({isDocked:t.get,setDocked:t.set,getInitialPosition:i.get,setInitialPosition:i.set,isVisible:n.get,setVisible:n.set,getModes:r.get,setModes:r.set,readState:function(){return"docked:  "+t.get()+", visible: "+n.get()+", modes: "+r.get().join(",")}})}})}),JT={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},ZT="tox-tinymce--toolbar-sticky-on",QT="tox-tinymce--toolbar-sticky-off",eE=function(e){var t=e.element();io(t).each(function(n){var i,r="padding-"+XT.getModes(e)[0];if(XT.isDocked(e)){var o=is(n);Da(t,"width",o+"px"),Da(n,r,Xa(i=t)+(parseInt(Ea(i,"margin-top"),10)||0)+(parseInt(Ea(i,"margin-bottom"),10)||0)+"px")}else Na(t,"width"),Na(n,r)})},tE=function(e,t){t?(ca(e,JT.fadeOutClass),fa(e,[JT.transitionClass,JT.fadeInClass])):(ca(e,JT.fadeInClass),fa(e,[JT.fadeOutClass,JT.transitionClass]))},nE=function(e,t){var n=Jn.fromDom(e.getContainer());t?(la(n,ZT),ca(n,QT)):(la(n,QT),ca(n,ZT))},iE=function(e,t){var n,r=Kn(se.none()),o=t.getSink,a=function(e){o().each(function(t){return e(t.element())})},s=function(t){e.inline||eE(t),nE(e,XT.isDocked(t)),t.getSystem().broadcastOn([Gc()],{}),o().each(function(e){return e.getSystem().broadcastOn([Gc()],{})})},l=e.inline?[]:[Fl.config({channels:((n={})[HD()]={onReceive:eE},n)})];return i([Hp.config({}),XT.config({contextual:ie({lazyContext:function(t){var n,i,r=Xa(t.element()),o=e.inline?e.getContentAreaContainer():e.getContainer(),a=gs(Jn.fromDom(o)),s=a.height-r,l=a.y+(n=t,i="top",_e(XT.getModes(n),i)?0:r);return se.some(ms(a.x,l,a.width,s))},onShow:function(){a(function(e){return tE(e,!0)})},onShown:function(e){a(function(e){return ha(e,[JT.transitionClass,JT.fadeInClass])}),r.get().each(function(t){var n,i,o;n=e.element(),o=Qr(i=t),Vl(o).filter(function(e){return!Ti(i,e)}).filter(function(e){return Ti(e,Jn.fromDom(o.dom().body))||Ai(n,e)}).each(function(){return jl(i)}),r.set(se.none())})},onHide:function(e){var t,n;r.set((t=e.element(),n=o,zl(t).orThunk(function(){return n().toOption().bind(function(e){return zl(e.element())})}))),a(function(e){return tE(e,!1)})},onHidden:function(){a(function(e){return ha(e,[JT.transitionClass])})}},JT),modes:[t.header.getDockingMode()],onDocked:s,onUndocked:s})],l)},rE=Object.freeze({__proto__:null,setup:function(e,t,n){e.inline||(t.header.isPositionedAtTop()||e.on("ResizeEditor",function(){n().each(XT.reset)}),e.on("ResizeWindow ResizeEditor",function(){n().each(eE)}),e.on("SkinLoaded",function(){n().each(function(e){XT.isDocked(e)?XT.reset(e):XT.refresh(e)})}),e.on("FullscreenStateChanged",function(){n().each(XT.reset)})),e.on("AfterScrollIntoView",function(e){n().each(function(t){XT.refresh(t);var n=t.element();_h(n)&&function(e,t){var n=Qr(t),i=n.dom().defaultView.innerHeight,r=ls(n),o=Jn.fromDom(e.elm),a=vs(o),s=Ka(o),l=a.y,u=l+s,c=es(t),d=Ka(t),f=c.top(),h=f+d,p=Math.abs(f-r.top())<2,m=Math.abs(h-(r.top()+i))<2;if(p&&l<h)us(r.left(),l-d,n);else if(m&&f<u){var g=l-i+s+d;us(r.left(),g,n)}}(e,n)})}),e.on("PostRender",function(){nE(e,!1)})},isDocked:function(e){return e().map(XT.isDocked).getOr(!1)},getBehaviours:iE}),oE=G,aE=ee,sE=X([]),lE=Object.freeze({__proto__:null,setup:oE,isDocked:aE,getBehaviours:sE}),uE=vf({factory:function(e,t){var n={focus:Ep.focusIn,setMenus:function(e,n){var i=$e(n,function(e){var n={type:"menubutton",text:e.text,fetch:function(t){t(e.getItems())}},i=QD(n).mapError(function(e){return pn(e)}).getOrDie();return X_(i,"tox-mbtn",t.backstage,se.some("menuitem"))});Pp.set(e,i)}};return{uid:e.uid,dom:e.dom,components:[],behaviours:Ol([Pp.config({}),Ip("menubar-events",[zr(function(t){e.onSetup(t)}),Rr(Wi(),function(e,t){_s(e.element(),".tox-mbtn--active").each(function(n){ks(t.event().target(),".tox-mbtn").each(function(t){Ti(n,t)||e.getSystem().getByDom(n).each(function(n){e.getSystem().getByDom(t).each(function(e){Gw.expand(e),Gw.close(n),Hp.focus(e)})})})})}),Rr(xr(),function(e,t){t.event().prevFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(n){t.event().newFocus().bind(function(t){return e.getSystem().getByDom(t).toOption()}).each(function(e){Gw.isOpen(n)&&(Gw.expand(e),Gw.close(n))})})})]),Ep.config({mode:"flow",selector:".tox-mbtn",onEscape:function(t){return e.onEscape(t),se.some(!0)}}),By.config({})]),apis:n,domModification:{attributes:{role:"menubar"}}}},name:"silver.Menubar",configFields:[Dn("dom"),Dn("uid"),Dn("onEscape"),Dn("backstage"),Hn("onSetup",G)],apis:{focus:function(e,t){e.focus(t)},setMenus:function(e,t,n){e.setMenus(t,n)}}}),cE="container",dE=[hd("slotBehaviours",[])],fE=function(e){return"<alloy.field."+e+">"},hE=function(e,t){var n,i=function(t){return sf(e)},r=function(t,n){return function(i,r){return nf(i,e,r).map(function(e){return t(e,r)}).getOr(n)}},o=function(e,t){return"true"!==wo(e.element(),"aria-hidden")},a=r(o,!1),s=r(function(e,t){if(o(e)){var n=e.element();Da(n,"display","none"),yo(n,"aria-hidden","true"),Tr(e,Cr(),{name:t,visible:!1})}}),l=function(e,t){Te(t,function(t){return n(e,t)})},u=r(function(e,t){if(!o(e)){var n=e.element();Na(n,"display"),_o(n,"aria-hidden"),Tr(e,Cr(),{name:t,visible:!0})}}),c={getSlotNames:i,getSlot:function(t,n){return nf(t,e,n)},isShowing:a,hideSlot:n=s,hideAllSlots:function(e){return l(e,i())},showSlot:u};return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.slotBehaviours),apis:c}},pE=ht({getSlotNames:function(e,t){return e.getSlotNames(t)},getSlot:function(e,t,n){return e.getSlot(t,n)},isShowing:function(e,t,n){return e.isShowing(t,n)},hideSlot:function(e,t,n){return e.hideSlot(t,n)},hideAllSlots:function(e,t){return e.hideAllSlots(t)},showSlot:function(e,t,n){return e.showSlot(t,n)}},function(e){return Wo(e)}),mE=ie(ie({},pE),{sketch:function(e){var t,n=(t=[],{slot:function(e,n){return t.push(e),Jd(cE,fE(e),n)},record:function(){return t}}),i=e(n),r=n.record(),o=$e(r,function(e){return Vd({name:e,pname:fE(e)})});return hf(cE,dE,o,hE,i)}}),gE=Xt([Ln("icon"),Ln("tooltip"),qn("onShow",G),qn("onHide",G),qn("onSetup",function(){return G})]),vE=function(e){return{element:function(){return e.element().dom()}}},bE=function(e,t){var n=$e(ct(t),function(e){var n=t[e],i=fn(dn("sidebar",gE,n));return{name:e,getApi:vE,onSetup:i.onSetup,onShow:i.onShow,onHide:i.onHide}});return $e(n,function(t){var i=Kn(G);return e.slot(t.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:jg([Uv(t,i),Wv(t,i),Rr(Cr(),function(e,t){var i=t.event();Ne(n,function(e){return e.name===i.name()}).each(function(t){(i.visible()?t.onShow:t.onHide)(t.getApi(e))})})])})})},yE=function(e,t){_f.getCurrent(e).each(function(e){return Pp.set(e,[(n=t,mE.sketch(function(e){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:bE(e,n),slotBehaviours:jg([zr(function(e){return mE.hideAllSlots(e)})])}}))]);var n})},wE=function(e){return _f.getCurrent(e).bind(function(e){return ID.isGrowing(e)||ID.hasGrown(e)?_f.getCurrent(e).bind(function(e){return Ne(mE.getSlotNames(e),function(t){return mE.isShowing(e,t)})}):se.none()})},xE=Ao("FixSizeEvent"),CE=Ao("AutoSizeEvent"),_E=function(e){var t,n,i,r=Jn.fromHtml(e),o=oo(r),a=(n=void 0!==(t=r).dom().attributes?t.dom().attributes:[],Me(n,function(e,t){var n;return"class"===t.name?e:ie(ie({},e),((n={})[t.name]=t.value,n))},{})),s=(i=r,Array.prototype.slice.call(i.dom().classList,0)),l=0===o.length?{}:{innerHtml:go(r)};return ie({tag:Yr(r),classes:s,attributes:a},l)},kE=function(e,t,n){var i=e.element();!0===t?(Pp.set(e,[{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:_E('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Ol([Ep.config({mode:"special",onTab:function(){return se.some(!0)},onShiftTab:function(){return se.some(!0)}}),Hp.config({})])}]),Na(i,"display"),_o(i,"aria-hidden")):(Pp.set(e,[]),Da(i,"display","none"),yo(i,"aria-hidden","true"))},SE=DT.optional({factory:uE,name:"menubar",schema:[Dn("backstage")]}),DE=DT.optional({factory:{sketch:function(e){return AT.sketch({uid:e.uid,dom:e.dom,listBehaviours:Ol([Ep.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return YD({type:e.type,uid:Ao("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:e.providers,onEscape:function(){return se.none()}})},setupItem:function(e,t,n,i){tD.setGroups(t,n)},shell:!0})}},name:"multiple-toolbar",schema:[Dn("dom"),Dn("onEscape")]}),$E=DT.optional({factory:{sketch:function(e){var t;return((t=e).type===cg.sliding?qD:t.type===cg.floating?WD:YD)({type:e.type,uid:e.uid,onEscape:function(){return e.onEscape(),se.some(!0)},cyclicKeying:!1,initGroups:[],getSink:e.getSink,providers:e.providers,moreDrawerData:{lazyToolbar:e.lazyToolbar,lazyMoreButton:e.lazyMoreButton,lazyHeader:e.lazyHeader},attributes:e.attributes})}},name:"toolbar",schema:[Dn("dom"),Dn("onEscape"),Dn("getSink")]}),TE=DT.optional({factory:{sketch:function(e){var t=e.editor,n=e.sticky?iE:sE;return{uid:e.uid,dom:e.dom,components:e.components,behaviours:Ol(n(t,e.sharedBackstage))}}},name:"header",schema:[Dn("dom")]}),EE=DT.optional({name:"socket",schema:[Dn("dom")]}),AE=DT.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Ol([By.config({}),Hp.config({}),ID.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(e){_f.getCurrent(e).each(mE.hideAllSlots),$r(e,CE)},onGrown:function(e){$r(e,CE)},onStartGrow:function(e){Tr(e,xE,{width:Oa(e.element(),"width").getOr("")})},onStartShrink:function(e){Tr(e,xE,{width:is(e.element())+"px"})}}),Pp.config({}),_f.config({find:function(e){var t=Pp.contents(e);return je(t)}})])}],behaviours:Ol([JC(0),Ip("sidebar-sliding-events",[Rr(xE,function(e,t){Da(e.element(),"width",t.event().width())}),Rr(CE,function(e,t){Na(e.element(),"width")})])])}}},name:"sidebar",schema:[Dn("dom")]}),OE=DT.optional({factory:{sketch:function(e){return{uid:e.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Ol([Pp.config({})]),components:[]}}},name:"throbber",schema:[Dn("dom")]}),ME=bf({name:"OuterContainer",factory:function(e,t,n){var i={getSocket:function(t){return ST.getPart(t,e,"socket")},setSidebar:function(t,n){ST.getPart(t,e,"sidebar").each(function(e){return yE(e,n)})},toggleSidebar:function(t,n){ST.getPart(t,e,"sidebar").each(function(e){return t=e,i=n,void _f.getCurrent(t).each(function(e){_f.getCurrent(e).each(function(t){ID.hasGrown(e)?mE.isShowing(t,i)?ID.shrink(e):(mE.hideAllSlots(t),mE.showSlot(t,i)):(mE.hideAllSlots(t),mE.showSlot(t,i),ID.grow(e))})});var t,i})},whichSidebar:function(t){return ST.getPart(t,e,"sidebar").bind(wE).getOrNull()},getHeader:function(t){return ST.getPart(t,e,"header")},getToolbar:function(t){return ST.getPart(t,e,"toolbar")},setToolbar:function(t,n){ST.getPart(t,e,"toolbar").each(function(e){e.getApis().setGroups(e,n)})},setToolbars:function(t,n){ST.getPart(t,e,"multiple-toolbar").each(function(e){AT.setItems(e,n)})},refreshToolbar:function(t){ST.getPart(t,e,"toolbar").each(function(e){return e.getApis().refresh(e)})},getThrobber:function(t){return ST.getPart(t,e,"throbber")},focusToolbar:function(t){ST.getPart(t,e,"toolbar").orThunk(function(){return ST.getPart(t,e,"multiple-toolbar")}).each(function(e){Ep.focusIn(e)})},setMenubar:function(t,n){ST.getPart(t,e,"menubar").each(function(e){uE.setMenus(e,n)})},focusMenubar:function(t){ST.getPart(t,e,"menubar").each(function(e){uE.focus(e)})}};return{uid:e.uid,dom:e.dom,components:t,apis:i,behaviours:e.behaviours}},configFields:[Dn("dom"),Dn("behaviours")],partFields:[TE,SE,$E,DE,EE,AE,OE],apis:{getSocket:function(e,t){return e.getSocket(t)},setSidebar:function(e,t,n){e.setSidebar(t,n)},toggleSidebar:function(e,t,n){e.toggleSidebar(t,n)},whichSidebar:function(e,t){return e.whichSidebar(t)},getHeader:function(e,t){return e.getHeader(t)},getToolbar:function(e,t){return e.getToolbar(t)},setToolbar:function(e,t,n){var i=$e(n,function(e){return VD(e)});e.setToolbar(t,i)},setToolbars:function(e,t,n){var i=$e(n,function(e){return $e(e,VD)});e.setToolbars(t,i)},refreshToolbar:function(e,t){return e.refreshToolbar(t)},getThrobber:function(e,t){return e.getThrobber(t)},setMenubar:function(e,t,n){e.setMenubar(t,n)},focusMenubar:function(e,t){e.focusMenubar(t)},focusToolbar:function(e,t){e.focusToolbar(t)}}}),NE={file:{title:"File",items:"newdocument restoredraft | preview | print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},PE=function(e){return"string"==typeof e?e.split(" "):e},IE=function(e,t){var n=ie(ie({},NE),t.menus),i=0<ct(t.menus).length,r=PE(void 0===t.menubar||!0===t.menubar?"file edit view insert format tools table help":!1===t.menubar?"":t.menubar),o=Ae(r,function(e){return i&&t.menus.hasOwnProperty(e)&&t.menus[e].hasOwnProperty("items")||NE.hasOwnProperty(e)}),a=$e(o,function(i){var r,o,a,s=n[i];
return r={title:s.title,items:PE(s.items)},o=t,a=e.getParam("removed_menuitems","").split(/[ ,]/),{text:r.title,getItems:function(){return Re(r.items,function(e){var t=e.toLowerCase();return 0===t.trim().length||ke(a,function(e){return e===t})?[]:"separator"===t||"|"===t?[{type:"separator"}]:o.menuItems[t]?[o.menuItems[t]]:[]})}}});return Ae(a,function(e){return 0<e.getItems().length&&ke(e.getItems(),function(e){return"separator"!==e.type})})},RE=function(e){var t=function(){e._skinLoaded=!0,e.fire("SkinLoaded")};return function(){e.initialized?t():e.on("init",t)}},LE=function(e,t){return function(){return n={message:t},e.fire("SkinLoadError",n);var n}},BE=function(e,t){var n,i=function(e){var t=e.getParam("skin"),n=e.getParam("skin_url");if(!1!==t){var i=t||"oxide";n=n?e.documentBaseURI.toAbsolute(n):fv.baseURL+"/skins/ui/"+i}return n}(t);i&&(n=i+"/skin.min.css",t.contentCSS.push(i+(e?"/content.inline":"/content")+".min.css")),0==(!1===t.getParam("skin"))&&n?t.ui.styleSheetLoader.load(n,RE(t),LE(t,"Skin could not be loaded")):RE(t)()},FE=t(BE,!1),HE=t(BE,!0),jE=function(e,t,n,i){var r=t.outerContainer,o=n.toolbar,a=n.buttons;if(be(o,ce)){var s=o.map(function(t){var r={toolbar:t,buttons:a,allowToolbarGroups:n.allowToolbarGroups};return yT(e,r,{backstage:i},se.none())});ME.setToolbars(r,s)}else ME.setToolbar(r,yT(e,n,{backstage:i},se.none()))},VE=Xg.DOM,zE=Si(),UE=zE.os.isiOS()&&zE.os.version.major<=12,WE=function(e){var t=e.getWin(),n=e.getDoc().documentElement,i=Kn(Za(t.innerWidth,t.innerHeight)),r=Kn(Za(n.offsetWidth,n.offsetHeight)),o=function(n){var r=i.get();r.left()===t.innerWidth&&r.top()===t.innerHeight||(i.set(Za(t.innerWidth,t.innerHeight)),Ab(e,n))},a=function(t){var n=e.getDoc().documentElement,i=r.get();i.left()===n.offsetWidth&&i.top()===n.offsetHeight||(r.set(Za(n.offsetWidth,n.offsetHeight)),Ab(e,t))},s=function(t){return n=t,e.fire("ScrollContent",n);var n};VE.bind(t,"resize",o),VE.bind(t,"scroll",s);var l=my(Jn.fromDom(e.getBody()),"load",a);e.on("NodeChange",a),e.on("remove",function(){l.unbind(),VE.unbind(t,"resize",o),VE.unbind(t,"scroll",s)})},qE=Object.freeze({__proto__:null,render:function(t,n,i,r,o){var a=Kn(0);FE(t);var s,l,u,c=Jn.fromDom(o.targetNode),d=(s=ba(c),ma(s)?s:Jn.fromDom(eo(s).dom().body));l=c,u=n.mothership,Ic(l,u,lo),Pc(d,n.uiMothership),t.on("PostRender",function(){jE(t,n,i,r),a.set(t.getWin().innerWidth),ME.setMenubar(n.outerContainer,IE(t,i)),ME.setSidebar(n.outerContainer,i.sidebar),WE(t)});var f,h,p,m=ME.getSocket(n.outerContainer).getOrDie("Could not find expected socket element");if(!0===UE){$a(m.element(),{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var g=(f=function(){t.fire("ScrollContent")},h=20,p=null,{cancel:function(){null!==p&&(e.clearTimeout(p),p=null)},throttle:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===p&&(p=e.setTimeout(function(){f.apply(null,t),p=null},h))}});py(m.element(),"scroll",g.throttle)}Lv(t,n),t.addCommand("ToggleSidebar",function(e,i){ME.toggleSidebar(n.outerContainer,i),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return ME.whichSidebar(n.outerContainer)});var v=Sv(t);return v!==cg.sliding&&v!==cg.floating||t.on("ResizeWindow ResizeEditor ResizeContent",function(){var e=t.getWin().innerWidth;e!==a.get()&&(ME.refreshToolbar(n.outerContainer),a.set(e))}),{iframeContainer:m.element().dom(),editorContainer:n.outerContainer.element().dom()}}}),YE=function(){return e=function(e){e.unbind()},t=Kn(se.none()),n=function(){t.get().each(e)},{clear:function(){n(),t.set(se.none())},isSet:function(){return t.get().isSome()},set:function(e){n(),t.set(se.some(e))}};var e,t,n},GE=function(e){return/^[0-9\.]+(|px)$/i.test(""+e)?se.some(parseInt(""+e,10)):se.none()},KE=function(e){return ve(e)?e+"px":e},XE=function(e,t,n){var i=t.filter(function(t){return e<t}),r=n.filter(function(t){return t<e});return i.or(r).getOr(e)},JE=function(e){var t,n,i,r;return(n=hv(t=e),i=gv(t),r=bv(t),GE(n).map(function(e){return XE(e,i,r)})).getOr(hv(e))},ZE=function(e){var t=pv(e),n=mv(e),i=vv(e);return GE(t).map(function(e){return XE(e,n,i)})},QE=function(e,t,n,i,r){var o=n.uiMothership,a=n.outerContainer,s=Xg.DOM,l=Ov(e),u=Nv(e),c=vv(e).or(ZE(e)),d=i.shared.header,f=d.isPositionedAtTop,h=Sv(e),p=h===cg.sliding||h===cg.floating,m=Kn(!1),g=function(){return m.get()&&!e.removed},v=function(e){return p?e.fold(function(){return 0},function(e){return 1<e.components().length?Ka(e.components()[1].element()):0}):0},b=function(){o.broadcastOn([Gc()],{})},y=function(e){if(void 0===e&&(e=!1),g()){var n,i,o,s,d;if(l||(n=c.getOrThunk(function(){var e=GE(Ea(Ca(),"margin-left")).getOr(0);return is(Ca())-es(t).left()+e}),Da(r.get().element(),"max-width",n+"px")),p&&ME.refreshToolbar(a),l||(i=ME.getToolbar(a),o=v(i),s=gs(t),d=f()?Math.max(s.y-Ka(r.get().element())+o,0):s.bottom,$a(a.element(),{position:"absolute",top:Math.round(d)+"px",left:Math.round(s.x)+"px"})),u){var h=r.get();e?XT.reset(h):XT.refresh(h)}b()}},w=function(n){if(void 0===n&&(n=!0),!l&&u&&g()){var i=d.getDockingMode(),o=function(n){switch(Tv(e)){case _v.auto:var i=ME.getToolbar(a),r=v(i),o=Ka(n.element())-r,s=gs(t);if(s.y>o)return"top";var l=to(t),u=Math.max(l.dom().scrollHeight,Ka(l));return s.bottom<u-o||bs().bottom<s.bottom-o?"bottom":"top";case _v.bottom:return"bottom";case _v.top:default:return"top"}}(r.get());o!==i&&(function(e){var t=r.get();XT.setModes(t,[e]),d.setDockingMode(e);var n=f()?Es.TopToBottom:Es.BottomToTop;yo(t.element(),vu,n)}(o),n&&y(!0))}};return{isVisible:g,isPositionedAtTop:f,show:function(){m.set(!0),Da(a.element(),"display","flex"),s.addClass(e.getBody(),"mce-edit-focus"),Na(o.element(),"display"),w(!1),y()},hide:function(){m.set(!1),n.outerContainer&&(Da(a.element(),"display","none"),s.removeClass(e.getBody(),"mce-edit-focus")),Da(o.element(),"display","none")},update:y,updateMode:w,repositionPopups:b}},eA=function(e,t){var n=gs(e);return{pos:t?n.y:n.bottom,bounds:n}},tA=Object.freeze({__proto__:null,render:function(e,t,n,i,r){var o=t.mothership,a=t.uiMothership,s=t.outerContainer,l=Kn(null),u=Jn.fromDom(r.targetNode),c=QE(e,u,t,i,l);HE(e);var d=function(){if(l.get())c.show();else{l.set(ME.getHeader(s).getOrDie());var r=Av(e).getOr(Ca());Pc(r,o),Pc(r,a),jE(e,t,n,i),ME.setMenubar(s,IE(e,n)),c.show(),function(e,t,n){var i=Kn(eA(t,n.isPositionedAtTop())),r=function(r){var o=eA(t,n.isPositionedAtTop()),a=o.pos,s=o.bounds,l=i.get(),u=l.pos,c=l.bounds,d=s.height!==c.height||s.width!==c.width;i.set({pos:a,bounds:s}),d&&Ab(e,r),n.isVisible()&&(u!==a?n.update(!0):d&&(n.updateMode(),n.repositionPopups()))};e.on("activate",n.show),e.on("deactivate",n.hide),e.on("SkinLoaded ResizeWindow",function(){return n.update(!0)}),e.on("NodeChange keydown",function(e){Im.requestAnimationFrame(function(){return r(e)})}),e.on("ScrollWindow",function(){return n.updateMode()});var o=YE();o.set(my(Jn.fromDom(e.getBody()),"load",r)),e.on("remove",function(){o.clear()})}(e,u,c),e.nodeChanged()}};return e.on("focus",d),e.on("blur hide",c.hide),e.on("init",function(){e.hasFocus()&&d()}),Lv(e,t),{editorContainer:s.element().dom()}}}),nA=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},iA=function(e){var t,n;!function(e){kk.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(t,n){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,icon:t.icon,onSetup:uT(e,t.name),onAction:nA(e,t.name)})});for(var t=1;t<=6;t++){var n="h"+t;e.ui.registry.addToggleButton(n,{text:n.toUpperCase(),tooltip:"Heading "+t,onSetup:uT(e,n),onAction:nA(e,n)})}}(e),t=e,kk.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(e){t.ui.registry.addButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return t.execCommand(e.action)}})}),n=e,kk.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(e){n.ui.registry.addToggleButton(e.name,{tooltip:e.text,icon:e.icon,onAction:function(){return n.execCommand(e.action)},onSetup:uT(n,e.name)})})},rA=function(e){var t;iA(e),t=e,kk.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(e){t.ui.registry.addMenuItem(e.name,{text:e.text,icon:e.icon,shortcut:e.shortcut,onAction:function(){return t.execCommand(e.action)}})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:nA(t,"code")})},oA=function(e,t,n){var i=function(){return!!t.undoManager&&t.undoManager[n]()},r=function(){e.setDisabled(t.mode.isReadOnly()||!i())};return e.setDisabled(!i()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r),function(){return t.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",r)}},aA=function(e){var t,n;(t=e).ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(e){return oA(e,t,"hasUndo")},onAction:function(){return t.execCommand("undo")}}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(e){return oA(e,t,"hasRedo")},onAction:function(){return t.execCommand("redo")}}),(n=e).ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(e){return oA(e,n,"hasUndo")},onAction:function(){return n.execCommand("undo")}}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(e){return oA(e,n,"hasRedo")},onAction:function(){return n.execCommand("redo")}})},sA=function(e,t){var n,i,r,o,a,s,l,u,c,d,f,h,p,m;r=Y$(0,i=t,Q$(n=e)),n.ui.registry.addNestedMenuItem("align",{text:i.shared.providers.translate("Align"),getSubmenuItems:function(){return r.items.validateItems(r.getStyleItems())}}),s=Y$(0,a=t,iT(o=e)),o.ui.registry.addNestedMenuItem("fontformats",{text:a.shared.providers.translate("Fonts"),getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}}),l=e,c=ie({type:"advanced"},(u=t).styleselect),d=Y$(0,u,fT(l,c)),l.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return d.items.validateItems(d.getStyleItems())}}),h=Y$(0,t,dT(f=e)),f.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return h.items.validateItems(h.getStyleItems())}}),m=Y$(0,t,aT(p=e)),p.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return m.items.validateItems(m.getStyleItems())}})},lA=function(e,t){var n,i,r,o;!function(e){kk.each([{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}],function(t){e.ui.registry.addToggleButton(t.name,{tooltip:t.text,onAction:function(){return e.execCommand(t.cmd)},icon:t.icon,onSetup:uT(e,t.name)})});var t="alignnone",n="No alignment",i="JustifyNone",r="align-none";e.ui.registry.addButton(t,{tooltip:n,onAction:function(){return e.execCommand(i)},icon:r})}(e),rA(e),sA(e,t),aA(e),function(e){Fb(e);var t=Kn(null),n=Kn(null);Wb(e,"forecolor","forecolor","Text color",t),Wb(e,"backcolor","hilitecolor","Background color",n),qb(e,"forecolor","forecolor","Text color"),qb(e,"backcolor","hilitecolor","Background color")}(e),(i=n=e).ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return i.execCommand("mceToggleVisualAid")}}),(r=n).ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(e){return function(e,t){e.setActive(t.hasVisual);var n=function(t){e.setActive(t.hasVisual)};return t.on("VisualAid",n),function(){return t.off("VisualAid",n)}}(e,r)},onAction:function(){r.execCommand("mceToggleVisualAid")}}),(o=e).ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(e){return function(e,t){e.setDisabled(!t.queryCommandState("outdent"));var n=function(){e.setDisabled(!t.queryCommandState("outdent"))};return t.on("NodeChange",n),function(){return t.off("NodeChange",n)}}(e,o)},onAction:function(){return o.execCommand("outdent")}}),o.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return o.execCommand("indent")}})},uA=function(e,t){return{anchor:"makeshift",x:e,y:t}},cA=function(e){return"longpress"===e.type||0===e.type.indexOf("touch")},dA=function(e,t){var n,i,r,o=Xg.DOM.getPos(e);return n=t,i=o.x,r=o.y,uA(n.x+i,n.y+r)},fA=function(e,t){return"contextmenu"===t.type||"longpress"===t.type?e.inline?function(e){if(cA(e)){var t=e.touches[0];return uA(t.pageX,t.pageY)}return uA(e.pageX,e.pageY)}(t):dA(e.getContentAreaContainer(),function(e){if(cA(e)){var t=e.touches[0];return uA(t.clientX,t.clientY)}return uA(e.clientX,e.clientY)}(t)):hA(e)},hA=function(e){return{anchor:"selection",root:Jn.fromDom(e.selection.getNode())}},pA=function(e){return{anchor:"node",node:se.some(Jn.fromDom(e.selection.getNode())),root:Jn.fromDom(e.getBody())}},mA=function(e,t,n,i,r,o){var a,s,l=n(),u=(a=e,s=t,o?pA(a):fA(a,s));G_(l,fg.CLOSE_ON_EXECUTE,i,!1).map(function(e){t.preventDefault(),_m.showMenuAt(r,u,{menu:{markers:_g("normal")},data:e})})},gA={onLtr:function(){return[bl,hl,pl,ml,gl,vl,Nm,Pm,Om,Em,Mm,Am]},onRtl:function(){return[bl,pl,hl,gl,ml,vl,Nm,Pm,Mm,Am,Om,Em]}},vA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},bA=function(e,t,n,i,r,o,a){var s,l,u,c=(s=e,l=t,u=o?pA(s):fA(s,l),ie({bubble:hu(0,12,vA),layouts:gA,overrides:{maxWidthFunction:GS(),maxHeightFunction:lu()}},u));G_(n,fg.CLOSE_ON_EXECUTE,i,!0).map(function(n){t.preventDefault(),_m.showMenuWithinBounds(r,c,{menu:{markers:_g("normal"),highlightImmediately:a},data:n,type:"horizontal"},function(){return se.some(B$(e,i.shared))}),e.fire(KS)})},yA=function(e,t,n,i,r,o){var a=Si(),s=a.os.isiOS(),l=a.os.isOSX(),u=a.os.isAndroid(),c=a.deviceType.isTouch(),d=function(){var a=n();bA(e,t,a,i,r,o,!(u||s||l&&c))};if(!l&&!s||o)u&&!o&&e.selection.setCursorLocation(t.target,0),d();else{var f=function(){!function(e){var t=e.selection.getRng(),n=function(){Im.setEditorTimeout(e,function(){e.selection.setRng(t)},10),o()};e.once("touchend",n);var i=function(e){e.preventDefault(),e.stopImmediatePropagation()};e.on("mousedown",i,!0);var r=function(){return o()};e.once("longpresscancel",r);var o=function(){e.off("touchend",n),e.off("longpresscancel",r),e.off("mousedown",i)}}(e),d()};!function(e,t){var n=e.selection;if(n.isCollapsed()||t.touches.length<1)return!1;var i=t.touches[0],r=n.getRng();return Uu(e.getWin(),$u.domRange(r)).exists(function(e){return e.left()<=i.clientX&&e.right()>=i.clientX&&e.top()<=i.clientY&&e.bottom()>=i.clientY})}(e,t)?(e.once("selectionchange",f),e.once("touchend",function(){return e.off("selectionchange",f)})):f()}},wA=function(e){return"string"==typeof e?e.split(/[ ,]/):e},xA=function(e){return e.getParam("contextmenu_never_use_native",!1,"boolean")},CA=function(e){return n="contextmenu",i="link linkchecker image imagetools table spellchecker configurepermanentpen",r=(t=e).ui.registry.getAll().contextMenus,se.from(t.getParam(n)).map(wA).getOrThunk(function(){return Ae(wA(i),function(e){return wt(r,e)})});var t,n,i,r},_A=function(e){return ce(e)?"|"===e:"separator"===e.type},kA={type:"separator"},SA=function(e){if(ce(e))return e;switch(e.type){case"separator":return kA;case"submenu":return{type:"nestedmenuitem",text:e.text,icon:e.icon,getSubmenuItems:function(){var t=e.getSubmenuItems();return ce(t)?t:$e(t,SA)}};default:return{type:"menuitem",text:e.text,icon:e.icon,onAction:(t=e.onAction,function(){return t()})}}var t},DA=function(e,t){if(0===t.length)return e;var n=Ve(e).filter(function(e){return!_A(e)}).fold(function(){return[]},function(e){return[kA]});return e.concat(n).concat(t).concat([kA])},$A=function(e,t,n){var i=Si().deviceType.isTouch,r=qa(_m.sketch({dom:{tag:"div"},lazySink:t,onEscape:function(){return e.focus()},onShow:function(){return n.setContextMenuState(!0)},onHide:function(){return n.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Ol([Ip("dismissContextMenu",[Rr(yr(),function(t,n){qc.close(t),e.focus()})])])})),o=function(e){return _m.hide(r)},a=function(t){if(xA(e)&&t.preventDefault(),o=e,(!t.ctrlKey||xA(o))&&!1!==e.getParam("contextmenu")){var o,a,s,l=(a=e,"longpress"!==(s=t).type&&(2!==s.button||s.target===a.getBody()&&""===s.pointerType));(i()?yA:mA)(e,t,function(){var n,i,r,o=l?e.selection.getStart(!0):t.target,a=e.ui.registry.getAll(),s=CA(e);return n=a.contextMenus,i=o,0<(r=Me(s,function(e,t){if(wt(n,t)){var r=n[t].update(i);if(ce(r))return DA(e,r.split(" "));if(0<r.length){var o=$e(r,SA);return DA(e,o)}return e}return e.concat([t])},[])).length&&_A(r[r.length-1])&&r.pop(),r},n,r,l)}};e.on("init",function(){var t="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(i()?"":" ResizeWindow");e.on(t,o),e.on("longpress contextmenu",a)})},TA=Ct([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),EA=function(e){return function(t){return t.translate(-e.left(),-e.top())}},AA=function(e){return function(t){return t.translate(e.left(),e.top())}},OA=function(e){return function(t,n){return Me(e,function(e,t){return t(e)},Za(t,n))}},MA=function(e,t,n){return e.fold(OA([AA(n),EA(t)]),OA([EA(t)]),OA([]))},NA=function(e,t,n){return e.fold(OA([AA(n)]),OA([]),OA([AA(t)]))},PA=function(e,t,n){return e.fold(OA([]),OA([EA(n)]),OA([AA(t),EA(n)]))},IA=function(e,t,n){var i=e.fold(function(e,t){return{position:se.some("absolute"),left:se.some(e+"px"),top:se.some(t+"px")}},function(e,t){return{position:se.some("absolute"),left:se.some(e-n.left()+"px"),top:se.some(t-n.top()+"px")}},function(e,t){return{position:se.some("fixed"),left:se.some(e+"px"),top:se.some(t+"px")}});return ie({right:se.none(),bottom:se.none()},i)},RA=function(e,t,n,i){var r=function(e,r){return function(o,a){var s=e(t,n,i);return r(o.getOr(s.left()),a.getOr(s.top()))}};return e.fold(r(PA,LA),r(NA,BA),r(MA,FA))},LA=TA.offset,BA=TA.absolute,FA=TA.fixed,HA=function(e,t){var n=wo(e,t);return pe(n)?NaN:parseInt(n,10)},jA=function(e,t,n,i){return r=t,o=e.element(),a=HA(o,r.leftAttr),s=HA(o,r.topAttr),(isNaN(a)||isNaN(s)?se.none():se.some(Za(a,s))).fold(function(){return n},function(e){return FA(e.left()+i.left(),e.top()+i.top())});var r,o,a,s},VA=function(e,t,n,i,r,o){var a,s,l,u=jA(e,t,n,i),c=(t.mustSnap?WA:qA)(e,t,u,r,o),d=MA(u,r,o);return a=t,s=d,l=e.element(),yo(l,a.leftAttr,s.left()+"px"),yo(l,a.topAttr,s.top()+"px"),c.fold(function(){return{coord:FA(d.left(),d.top()),extra:se.none()}},function(e){return{coord:e.output,extra:e.extra}})},zA=function(e,t){var n,i;n=t,i=e.element(),_o(i,n.leftAttr),_o(i,n.topAttr)},UA=function(e,t,n,i){return Ue(e,function(e){var r,o,a,s,l,u,c,d,f=e.sensor;return r=t,o=f,a=e.range.left(),s=e.range.top(),c=NA(r,l=n,u=i),d=NA(o,l,u),Math.abs(c.left()-d.left())<=a&&Math.abs(c.top()-d.top())<=s?se.some({output:RA(e.output,t,n,i),extra:e.extra}):se.none()})},WA=function(e,t,n,i,r){var o=t.getSnapPoints(e);return UA(o,n,i,r).orThunk(function(){return Me(o,function(e,t){var o,a,s,l,u,c,d,f,h=t.sensor,p=(o=n,a=h,t.range.left(),t.range.top(),u=NA(o,s=i,l=r),c=NA(a,s,l),d=Math.abs(u.left()-c.left()),f=Math.abs(u.top()-c.top()),Za(d,f));return e.deltas.fold(function(){return{deltas:se.some(p),snap:se.some(t)}},function(n){return(p.left()+p.top())/2<=(n.left()+n.top())/2?{deltas:se.some(p),snap:se.some(t)}:e})},{deltas:se.none(),snap:se.none()}).snap.map(function(e){return{output:RA(e.output,n,i,r),extra:e.extra}})})},qA=function(e,t,n,i,r){var o=t.getSnapPoints(e);return UA(o,n,i,r)},YA=Object.freeze({__proto__:null,snapTo:function(e,t,n,i){var r,o,a,s=t.getTarget(e.element());if(t.repositionTarget){var l=Qr(e.element()),u=ls(l),c=MT(s),d=(o=u,a=c,{coord:RA((r=i).output,r.output,o,a),extra:r.extra}),f=IA(d.coord,0,c);Ta(s,f)}}}),GA="data-initial-z-index",KA=function(e,t){var n;e.getSystem().addToGui(t),io((n=t).element()).filter(Kr).each(function(e){Oa(e,"z-index").each(function(t){yo(e,GA,t)}),Da(e,"z-index",Ea(n.element(),"z-index"))})},XA=function(e){io(e.element()).filter(Kr).each(function(e){xo(e,GA).fold(function(){return Na(e,"z-index")},function(t){return Da(e,"z-index",t)}),_o(e,GA)}),e.getSystem().removeFromGui(e)},JA=function(e,t,n){return e.getSystem().build(Oy.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[t]},events:n}))},ZA=Fn("snaps",[Dn("getSnapPoints"),zs("onSensor"),Dn("leftAttr"),Dn("topAttr"),Hn("lazyViewport",bs),Hn("mustSnap",!1)]),QA=[Hn("useFixed",ee),Dn("blockerClass"),Hn("getTarget",J),Hn("onDrag",G),Hn("repositionTarget",!0),Hn("onDrop",G),qn("getBounds",bs),ZA],eO=function(e){return t=Oa(e,"left"),n=Oa(e,"top"),i=Oa(e,"position"),r=function(e,t,n){return("fixed"===n?FA:LA)(parseInt(e,10),parseInt(t,10))},(t.isSome()&&n.isSome()&&i.isSome()?se.some(r(t.getOrDie(),n.getOrDie(),i.getOrDie())):se.none()).getOrThunk(function(){var t=es(e);return BA(t.left(),t.top())});var t,n,i,r},tO=function(e,t,n,i,r,o,a){var s,l,u,c,d,f,h,p,m,g=t.fold(function(){var e,t,a,s=(e=n,t=o.left(),a=o.top(),e.fold(function(e,n){return LA(e+t,n+a)},function(e,n){return BA(e+t,n+a)},function(e,n){return FA(e+t,n+a)})),l=MA(s,i,r);return FA(l.left(),l.top())},function(t){var a=VA(e,t,n,o,i,r);return a.extra.each(function(n){t.onSensor(e,n)}),a.coord});return s=g,l=i,u=r,d=(c=a).bounds,f=NA(s,l,u),h=tu(f.left(),d.x,d.x+d.width-c.width),p=tu(f.top(),d.y,d.y+d.height-c.height),m=BA(h,p),s.fold(function(){var e=PA(m,l,u);return LA(e.left(),e.top())},function(){return m},function(){var e=MA(m,l,u);return FA(e.left(),e.top())})},nO=function(e,t){return{bounds:e.getBounds(),height:Xa(t.element()),width:rs(t.element())}},iO=function(e,t,n,i,r){var o=n.update(i,r),a=n.getStartData().getOrThunk(function(){return nO(t,e)});o.each(function(n){!function(e,t,n,i){var r=t.getTarget(e.element());if(t.repositionTarget){var o=Qr(e.element()),a=ls(o),s=MT(r),l=eO(r),u=tO(e,t.snaps,l,a,s,i,n),c=IA(u,0,s);Ta(r,c)}t.onDrag(e,r,i)}(e,t,a,n)})},rO=function(e,t,n,i){t.each(XA),n.snaps.each(function(t){zA(e,t)});var r=n.getTarget(e.element());i.reset(),n.onDrop(e,r)},oO=function(e){return function(t,n){var r=function(e){n.setStartData(nO(t,e))};return Nr(i([Rr(mr(),function(e){n.getStartData().each(function(){return r(e)})})],e(t,n,r)))}},aO=Object.freeze({__proto__:null,getData:function(e){return se.from(Za(e.x(),e.y()))},getDelta:function(e,t){return Za(t.left()-e.left(),t.top()-e.top())}}),sO=function(e,t,n){return[Rr(ji(),function(i,r){if(0===r.event().raw().button){r.stop();var o,a=function(){return rO(i,se.some(c),e,t)},l=s(a,200),u={drop:a,delayDrop:l.schedule,forceDrop:a,move:function(n){l.cancel(),iO(i,e,t,aO,n)}},c=JA(i,e.blockerClass,(o=u,Nr([Rr(ji(),o.forceDrop),Rr(Ui(),o.drop),Rr(Vi(),function(e,t){o.move(t.event())}),Rr(zi(),o.delayDrop)])));n(i),KA(i,c)}})]},lO=i(QA,[Ys("dragger",{handlers:oO(sO)})]),uO=Object.freeze({__proto__:null,getData:function(e){var t,n=e.raw().touches;return 1===n.length?(t=n[0],se.some(Za(t.clientX,t.clientY))):se.none()},getDelta:function(e,t){return Za(t.left()-e.left(),t.top()-e.top())}}),cO=function(e,t,n){var i=Kn(se.none());return[Rr(Li(),function(r,o){o.stop();var a,s=function(){rO(r,i.get(),e,t),i.set(se.none())},l={drop:s,delayDrop:function(){},forceDrop:s,move:function(n){iO(r,e,t,uO,n)}},u=JA(r,e.blockerClass,(a=l,Nr([Rr(Li(),a.forceDrop),Rr(Fi(),a.drop),Rr(Hi(),a.drop),Rr(Bi(),function(e,t){a.move(t.event())})])));i.set(se.some(u)),n(r),KA(r,u)}),Rr(Bi(),function(n,i){i.stop(),iO(n,e,t,uO,i.event())}),Rr(Fi(),function(n,r){r.stop(),rO(n,i.get(),e,t),i.set(se.none())}),Rr(Hi(),function(n){rO(n,i.get(),e,t),i.set(se.none())})]},dO=lO,fO=i(QA,[Ys("dragger",{handlers:oO(cO)})]),hO=i(QA,[Ys("dragger",{handlers:oO(function(e,t,n){return i(sO(e,t,n),cO(e,t,n))})})]),pO=Il({branchKey:"mode",branches:Object.freeze({__proto__:null,mouse:dO,touch:fO,mouseOrTouch:hO}),name:"dragging",active:{events:function(e,t){return e.dragger.handlers(e,t)}},extra:{snap:function(e){return{sensor:e.sensor,range:e.range,output:e.output,extra:se.from(e.extra)}}},state:Object.freeze({__proto__:null,init:function(){var e=se.none(),t=se.none(),n=X({});return Yo({readState:n,reset:function(){e=se.none(),t=se.none()},update:function(t,n){return t.getData(n).bind(function(n){return i=t,r=n,o=e.map(function(e){return i.getDelta(e,r)}),e=se.some(r),o;var i,r,o})},getStartData:function(){return t},setStartData:function(e){t=se.some(e)}})}}),apis:YA}),mO=function(e,t,n,i,r,o){return e.fold(function(){return pO.snap({sensor:BA(n-20,i-20),range:Za(r,o),output:BA(se.some(n),se.some(i)),extra:{td:t}})},function(e){var r=n-20,o=i-20,a=e.element().dom().getBoundingClientRect();return pO.snap({sensor:BA(r,o),range:Za(40,40),output:BA(se.some(n-a.width/2),se.some(i-a.height/2)),extra:{td:t}})})},gO=function(e,t,n){return{getSnapPoints:e,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(e,i){var r,o,a=i.td;r=t.get(),o=a,r.exists(function(e){return Ti(e,o)})||(t.set(se.some(a)),n(a))},mustSnap:!0}},vO=function(e){return Lm(Rm.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Ol([pO.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:e}),Kw.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},bO=function(e,t){var n=Kn([]),i=Kn([]),r=Kn(!1),o=Kn(se.none()),a=Kn(se.none()),s=function(e){var n=vs(e);return mO(d.getOpt(t),e,n.x,n.y,n.width,n.height)},l=function(e){var n=vs(e);return mO(f.getOpt(t),e,n.right,n.bottom,n.width,n.height)},u=gO(function(){return $e(n.get(),function(e){return s(e)})},o,function(t){a.get().each(function(n){e.fire("TableSelectorChange",{start:t,finish:n})})}),c=gO(function(){return $e(i.get(),function(e){return l(e)})},a,function(t){o.get().each(function(n){e.fire("TableSelectorChange",{start:n,finish:t})})}),d=vO(u),f=vO(c),h=qa(d.asSpec()),p=qa(f.asSpec()),m=function(t,n,i,r){var o=i(n);pO.snapTo(t,o),!function(t,n,i,r){var o=n.dom().getBoundingClientRect();Na(t.element(),"display");var a=no(Jn.fromDom(e.getBody())).dom().innerHeight,s=i(o),l=r(o,a);(s||l)&&Da(t.element(),"display","none")}(t,n,function(e){return e[r]<0},function(e,t){return e[r]>t})},g=function(e){return m(h,e,s,"top")},v=function(e){return m(p,e,l,"bottom")};Si().deviceType.isTouch()&&(e.on("TableSelectionChange",function(e){r.get()||(Ec(t,h),Ec(t,p),r.set(!0)),o.set(se.some(e.start)),a.set(se.some(e.finish)),e.otherCells.each(function(t){n.set(t.upOrLeftCells),i.set(t.downOrRightCells),g(e.start),v(e.finish)})}),e.on("ResizeEditor ResizeWindow ScrollContent",function(){o.get().each(g),a.get().each(v)}),e.on("TableSelectionClear",function(){r.get()&&(Mc(h),Mc(p),r.set(!1)),o.set(se.none()),a.set(se.none())}))};(X$=K$=K$||{})[X$.None=0]="None",X$[X$.Both=1]="Both",X$[X$.Vertical=2]="Vertical";var yO,wO=function(e,t,n){var i,r,o,a,s,l,u=Jn.fromDom(e.getContainer()),c=(i=e,r=t,o=n,a=Ka(u),s=is(u),(l={}).height=XE(a+r.top(),gv(i),bv(i)),o===K$.Both&&(l.width=XE(s+r.left(),mv(i),vv(i))),l);ft(c,function(e,t){return Da(u,t,KE(e))}),e.fire("ResizeEditor")},xO=function(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1},CO=function(e,t,n){return t.delimiter||(t.delimiter=""),{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Ol([Ep.config({mode:"flow",selector:"div[role=button]"}),dv.config({disabled:n.isReadOnly}),Bv(),By.config({}),Pp.config({}),Ip("elementPathEvents",[zr(function(i,r){e.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return Ep.focusIn(i)}),e.on("NodeChange",function(r){var o,a,s=function(t){for(var n=[],i=t.length;0<i--;){var r=t[i];if(1===r.nodeType&&!xO(r)){var o=e.fire("ResolveName",{name:r.nodeName.toLowerCase(),target:r});if(o.isDefaultPrevented()||n.push({name:o.name,element:r}),o.isPropagationStopped())break}}return n}(r.parents);0<s.length?Pp.set(i,(o=$e(s||[],function(t,i){return Rm.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":i,"tab-index":-1,"aria-level":i+1},innerHtml:t.name},action:function(n){e.focus(),e.selection.select(t.element),e.nodeChanged()},buttonBehaviours:Ol([Hv(n.isReadOnly),Bv()])})}),a={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+t.delimiter+" "}},Me(o.slice(1),function(e,t){var n=e;return n.push(a),n.push(t),n},[o[0]]))):Pp.set(i,[])})})])]),components:[]}},_O=function(e,t){var n,i,r,o,a,s;return{dom:{tag:"div",classes:["tox-statusbar"]},components:(a=function(){var n,i,r,o,a=[];return e.getParam("elementpath",!0,"boolean")&&a.push(CO(e,{},t)),mi(e.getParam("plugins","","string"),"wordcount")&&a.push((n=e,i=t,r=function(e,t,n){return Pp.set(e,[za(i.translate(["{0} "+n,t[n]]))])},Rm.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Ol([Hv(i.isReadOnly),Bv(),By.config({}),Pp.config({}),fd.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Ip("wordcount-events",[qr(function(e){var t=fd.getValue(e),n="words"===t.mode?"characters":"words";fd.setValue(e,{mode:n,count:t.count}),r(e,t.count,n)}),zr(function(e){n.on("wordCountUpdate",function(t){var n=fd.getValue(e).mode;fd.setValue(e,{mode:n,count:t.wordCount}),r(e,t.wordCount,n)})})])]),eventOrder:{"alloy.execute":["disabling","alloy.base.behaviour","wordcount-events"]}}))),e.getParam("branding",!0,"boolean")&&a.push({dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:'<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+(o=Jg.translate(["Powered by {0}","Tiny"]))+'">'+o+"</a>"}}),0<a.length?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:a}]:[]}(),i=!mi((n=e).getParam("plugins","","string"),"autoresize"),(s=!1===(r=n.getParam("resize",i))?K$.None:"both"===r?K$.Both:K$.Vertical)!==K$.None&&a.push((o=s,{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:t.translate("Resize"),"aria-hidden":"true"},innerHtml:Fm("resize-handle",t.icons)
},behaviours:Ol([pO.config({mode:"mouse",repositionTarget:!1,onDrag:function(t,n,i){wO(e,i,o)},blockerClass:"tox-blocker"})])})),a)}},kO=function(t){var n,i=t.inline,r=i?tA:qE,o=Nv(t)?rE:lE,a=se.none(),s=Si(),l=s.browser.isIE()?["tox-platform-ie"]:[],u=s.deviceType.isTouch()?["tox-platform-touch"]:[],c=Ev(t),d=Jg.isRtl()?{attributes:{dir:"rtl"}}:{},f={attributes:((n={})[vu]=c?Es.BottomToTop:Es.TopToBottom,n)},h=function(){return a.bind(ME.getHeader)},p=qa({dom:ie({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(l).concat(u)},d),behaviours:Ol([kc.config({useFixed:function(){return o.isDocked(h)}})])}),m=function(){return Ye.value(p)},g=Lm({dom:{tag:"div",classes:["tox-anchorbar"]}}),v=function(){return a.bind(function(e){return ME.getThrobber(e)}).getOrDie("Could not find throbber element")},b=YS(p,t,function(){return a.bind(function(e){return g.getOpt(e)}).getOrDie("Could not find a anchor bar element")}),y=ME.parts().menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:b,onEscape:function(){t.focus()}}),w=Sv(t),x=ME.parts().toolbar(ie({dom:{tag:"div",classes:["tox-toolbar"]},getSink:m,providers:b.shared.providers,onEscape:function(){t.focus()},type:w,lazyToolbar:function(){return a.bind(function(e){return ME.getToolbar(e)}).getOrDie("Could not find more toolbar element")},lazyHeader:function(){return h().getOrDie("Could not find header element")}},f)),C=ME.parts()["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:b.shared.providers,onEscape:function(){},type:w}),_=ME.parts().socket({dom:{tag:"div",classes:["tox-edit-area"]}}),k=ME.parts().sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),S=ME.parts().throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:b}),D=t.getParam("statusbar",!0,"boolean")&&!i?se.some(_O(t,b.shared.providers)):se.none(),$={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[_,k]},T=Cv(t),E=wv(t),A=yv(t),O=ME.parts().header({dom:ie({tag:"div",classes:["tox-editor-header"]},f),components:Ie([A?[y]:[],T?[C]:E?[x]:[],Ov(t)?[]:[g.asSpec()]]),sticky:Nv(t),editor:t,sharedBackstage:b.shared}),M=Ie([c?[]:[O],i?[]:[$],c?[O]:[]]),N=Ie([[{dom:{tag:"div",classes:["tox-editor-container"]},components:M}],i?[]:D.toArray(),[S]]),P=Mv(t),I=ie(ie({role:"application"},Jg.isRtl()?{dir:"rtl"}:{}),P?{"aria-hidden":"true"}:{}),R=qa(ME.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(c?["tox-tinymce--toolbar-bottom"]:[]).concat(u).concat(l),styles:ie({visibility:"hidden"},P?{opacity:"0",border:"0"}:{}),attributes:I},components:N,behaviours:Ol([Ep.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));a=se.some(R),t.shortcuts.add("alt+F9","focus menubar",function(){ME.focusMenubar(R)}),t.shortcuts.add("alt+F10","focus toolbar",function(){ME.focusToolbar(R)});var L,B,F,H,j,V,z,U,W,q,Y,G,K,X,J,Z,Q=My(R),ee=My(p);L=t,B=Q,F=ee,H=function(e,t){Te([B,F],function(n){n.broadcastEvent(e,t)})},j=function(e,t){Te([B,F],function(n){n.broadcastOn([e],t)})},V=function(e){return j(Yc(),{target:e.target()})},z=py(Jn.fromDom(e.document),"touchstart",V),U=py(Jn.fromDom(e.document),"touchmove",function(e){return H(hr(),e)}),W=py(Jn.fromDom(e.document),"touchend",function(e){return H(pr(),e)}),q=py(Jn.fromDom(e.document),"mousedown",V),Y=py(Jn.fromDom(e.document),"mouseup",function(e){0===e.raw().button&&j(Kc(),{target:e.target()})}),G=function(e){return j(Yc(),{target:Jn.fromDom(e.target)})},K=function(e){0===e.button&&j(Kc(),{target:Jn.fromDom(e.target)})},X=function(e){return H(mr(),gy(e))},J=function(e){j(Gc(),{}),H(gr(),gy(e))},Z=function(){return j(Gc(),{})},L.on("PostRender",function(){L.on("click",G),L.on("tap",G),L.on("mouseup",K),L.on("ScrollWindow",X),L.on("ResizeWindow",J),L.on("ResizeEditor",Z)}),L.on("remove",function(){L.off("click",G),L.off("tap",G),L.off("mouseup",K),L.off("ScrollWindow",X),L.off("ResizeWindow",J),L.off("ResizeEditor",Z),q.unbind(),z.unbind(),U.unbind(),W.unbind(),Y.unbind()}),L.on("detach",function(){Rc(B),Rc(F),B.destroy(),F.destroy()});var te=function(){var e,n=KE(JE(t)),i=KE(ZE(e=t).getOr(pv(e)));return t.inline||(Ma("div","width",i)&&Da(R.element(),"width",i),Ma("div","height",n)?Da(R.element(),"height",n):Da(R.element(),"height","200px")),n};return{mothership:Q,uiMothership:ee,backstage:b,renderUI:function(){var e,n,i,a,s,l,u,c;o.setup(t,b.shared,h),lA(t,b),$A(t,m,b),n=(e=t).ui.registry.getAll().sidebars,Te(ct(n),function(t){var i=n[t],r=function(){return se.from(e.queryCommandValue("ToggleSidebar")).is(t)};e.ui.registry.addToggleButton(t,{icon:i.icon,tooltip:i.tooltip,onAction:function(n){e.execCommand("ToggleSidebar",!1,t),n.setActive(r())},onSetup:function(t){var n=function(){return t.setActive(r())};return e.on("ToggleSidebar",n),function(){e.off("ToggleSidebar",n)}}})}),i=t,a=v,s=b.shared,l=Kn(!1),u=Kn(se.none()),c=function(e){e!==l.get()&&(kE(a(),e,s.providers),l.set(e))},i.on("ProgressState",function(e){if(u.get().each(Im.clearTimeout),ve(e.time)){var t=Im.setEditorTimeout(i,function(){return c(e.state)},e.time);u.set(se.some(t))}else c(e.state),u.set(se.none())}),ht(t.getParam("toolbar_groups",{},"object"),function(e,n){t.ui.registry.addGroupToolbarButton(n,e)});var d,f=t.ui.registry.getAll(),g=f.buttons,y=f.menuItems,x=f.contextToolbars,C=f.sidebars,_=xv(t),k={menuItems:y,menus:(d=t.getParam("menu"))?ht(d,function(e){return ie(ie({},e),{items:e.items})}):{},menubar:t.getParam("menubar"),toolbar:_.getOrThunk(function(){return t.getParam("toolbar",!0)}),allowToolbarGroups:w===cg.floating,buttons:g,sidebar:C};kT(t,x,p,{backstage:b}),bO(t,p);var S=t.getElement(),D=te(),$={mothership:Q,uiMothership:ee,outerContainer:R},T={targetNode:S,height:D};return r.render(t,$,k,b,T)},getUi:function(){return{channels:{broadcastAll:ee.broadcast,broadcastOn:ee.broadcastOn,register:function(){}}}}}},SO=X([Dn("lazySink"),Pn("dragBlockClass"),qn("getBounds",bs),Hn("useTabstopAt",X(!0)),Hn("eventOrder",{}),hd("modalBehaviours",[Ep]),Us("onExecute"),qs("onEscape")]),DO={sketch:J},$O=X([Ud({name:"draghandle",overrides:function(e,t){return{behaviours:Ol([pO.config({mode:"mouse",getTarget:function(e){return Cs(e,'[role="dialog"]').getOr(e)},blockerClass:e.dragBlockClass.getOrDie(new Error("The drag blocker class was not specified for a dialog with a drag handle: \n"+JSON.stringify(t,null,2)).message),getBounds:e.getDragBounds})])}}}),Vd({schema:[Dn("dom")],name:"title"}),Vd({factory:DO,schema:[Dn("dom")],name:"close"}),Vd({factory:DO,schema:[Dn("dom")],name:"body"}),Ud({factory:DO,schema:[Dn("dom")],name:"footer"}),zd({factory:{sketch:function(e,t){return ie(ie({},e),{dom:t.dom,components:t.components})}},schema:[Hn("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),Hn("components",[])],name:"blocker"})]),TO=bf({name:"ModalDialog",configFields:SO(),partFields:$O(),factory:function(e,t,n,i){var r=Ao("alloy.dialog.busy"),o=Ao("alloy.dialog.idle"),a=Ol([Ep.config({mode:"special",onTab:function(){return se.some(!0)},onShiftTab:function(){return se.some(!0)}}),Hp.config({})]),s=Ao("modal-events"),l=ie(ie({},e.eventOrder),{"alloy.system.attached":[s].concat(e.eventOrder["alloy.system.attached"]||[])});return{uid:e.uid,dom:e.dom,components:t,apis:{show:function(t){var n=e.lazySink(t).getOrDie(),s=Kn(se.none()),l=i.blocker(),u=n.getSystem().build(ie(ie({},l),{components:l.components.concat([Ya(t)]),behaviours:Ol([Hp.config({}),Ip("dialog-blocker-events",[Vr(qi(),function(){Ep.focusIn(t)}),Rr(o,function(e,n){Co(t.element(),"aria-busy")&&(_o(t.element(),"aria-busy"),s.get().each(function(e){return Pp.remove(t,e)}))}),Rr(r,function(e,n){yo(t.element(),"aria-busy","true");var i=n.event().getBusySpec();s.get().each(function(e){Pp.remove(t,e)});var r=i(t,a),o=e.getSystem().build(r);s.set(se.some(o)),Pp.append(t,Ya(o)),o.hasConfigured(Ep)&&Ep.focusIn(o)})])])}));Ec(n,u),Ep.focusIn(t)},hide:function(e){io(e.element()).each(function(t){e.getSystem().getByDom(t).each(function(e){Mc(e)})})},getBody:function(t){return rf(t,e,"body")},getFooter:function(t){return rf(t,e,"footer")},setIdle:function(e){$r(e,o)},setBusy:function(e,t){Tr(e,r,{getBusySpec:t})}},eventOrder:l,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:md(e.modalBehaviours,[Pp.config({}),Ep.config({mode:"cyclic",onEnter:e.onExecute,onEscape:e.onEscape,useTabstopAt:e.useTabstopAt}),Ip(s,[zr(function(t){var n,i,r,o,a,s;n=t.element(),i=rf(t,e,"title").element(),r=se.from(wo(n,"id")).fold(function(){var e=Ao("dialog-label");return yo(i,"id",e),e},J),yo(n,"aria-labelledby",r),o=t.element(),a=rf(t,e,"body").element(),s=se.from(wo(o,"id")).fold(function(){var e=Ao("dialog-describe");return yo(a,"id",e),e},J),yo(o,"aria-describedby",s)})])])}},apis:{show:function(e,t){e.show(t)},hide:function(e,t){e.hide(t)},getBody:function(e,t){return e.getBody(t)},getFooter:function(e,t){return e.getFooter(t)},setBusy:function(e,t,n){e.setBusy(t,n)},setIdle:function(e,t){e.setIdle(t)}}}),EO=Xt([Tn("type"),Tn("name")].concat(Ng)),AO=xn,OO=[nn("name","name",Mt(function(){return Ao("button-name")}),wn),Ln("icon"),Un("align","end",["start","end"]),Wn("primary",!1),Wn("disabled",!1)],MO=i(OO,[Tn("text")]),NO=i([En("type",["submit","cancel","custom"])],MO),PO=i([En("type",["menu"]),Ln("text"),Ln("tooltip"),Ln("icon"),Nn("items",EO)],OO),IO=gn("type",{submit:NO,cancel:NO,custom:NO,menu:PO}),RO=[Tn("type"),Tn("text"),En("level",["info","warn","error","success"]),Tn("icon"),Hn("url","")],LO=Xt(RO),BO=[Tn("type"),Tn("text"),Wn("disabled",!1),Wn("primary",!1),nn("name","name",Mt(function(){return Ao("button-name")}),wn),Ln("icon"),Wn("borderless",!1)],FO=Xt(BO),HO=[Tn("type"),Tn("name"),Tn("label"),Wn("disabled",!1)],jO=Xt(HO),VO=xn,zO=[Tn("type"),Tn("name")],UO=zO.concat([Ln("label")]),WO=Xt(UO),qO=wn,YO=Xt(UO),GO=wn,KO=Xt(UO),XO=Jt(an),JO=function(e){return[Tn("type"),$n("columns",yn),e]},ZO=UO.concat([Wn("sandboxed",!0)]),QO=Xt(ZO),eM=wn,tM=UO.concat([Ln("inputMode"),Ln("placeholder"),Wn("maximized",!1),Wn("disabled",!1)]),nM=Xt(tM),iM=wn,rM=UO.concat([Mn("items",[Tn("text"),Tn("value")]),Vn("size",1),Wn("disabled",!1)]),oM=Xt(rM),aM=wn,sM=UO.concat([Wn("constrain",!0),Wn("disabled",!1)]),lM=Xt(sM),uM=Xt([Tn("width"),Tn("height")]),cM=UO.concat([Ln("placeholder"),Wn("maximized",!1),Wn("disabled",!1)]),dM=Xt(cM),fM=wn,hM=UO.concat([Un("filetype","file",["image","media","file"]),Hn("disabled",!1)]),pM=Xt(hM),mM=Xt([Tn("value"),Hn("meta",{})]),gM=zO.concat([zn("tag","textarea"),Tn("scriptId"),Tn("scriptUrl"),(yO=void 0,jn("settings",yO,kn))]),vM=zO.concat([zn("tag","textarea"),An("init")]),bM=un(function(e){return dn("customeditor.old",Kt(vM),e).orThunk(function(){return dn("customeditor.new",Kt(gM),e)})}),yM=wn,wM=[Tn("type"),Tn("html"),Un("presets","presentation",["presentation","document"])],xM=Xt(wM),CM=UO.concat([$n("currentState",Xt([Dn("blob"),Tn("url")]))]),_M=Xt(CM),kM=UO.concat([Hn("columns","auto")]),SM=Xt(kM),DM=sn([Tn("value"),Tn("text"),Tn("icon")]),$M=[Tn("type"),Nn("header",wn),Nn("cells",Jt(wn))],TM=Xt($M),EM=function(e){return nn("items","items",At(),Jt(un(function(t){return dn("Checking item of "+e,AM,t).fold(function(e){return Ye.error(pn(e))},function(e){return Ye.value(e)})})))},AM=ln(function(){return mn("type",{alertbanner:LO,bar:Xt((t=EM("bar"),[Tn("type"),t])),button:FO,checkbox:jO,colorinput:WO,colorpicker:YO,dropzone:KO,grid:Xt(JO(EM("grid"))),iframe:QO,input:nM,selectbox:oM,sizeinput:lM,textarea:dM,urlinput:pM,customeditor:bM,htmlpanel:xM,imagetools:_M,collection:SM,label:Xt((e=EM("label"),[Tn("type"),Tn("label"),e])),table:TM,panel:MM});var e,t}),OM=[Tn("type"),Hn("classes",[]),Nn("items",AM)],MM=Xt(OM),NM=[nn("name","name",Mt(function(){return Ao("tab-name")}),wn),Tn("title"),Nn("items",AM)],PM=[Tn("type"),Mn("tabs",NM)],IM=Xt(PM),RM=MO,LM=IO,BM=Xt([Tn("title"),$n("body",mn("type",{panel:MM,tabpanel:IM})),zn("size","normal"),Nn("buttons",LM),Hn("initialData",{}),qn("onAction",G),qn("onChange",G),qn("onSubmit",G),qn("onClose",G),qn("onCancel",G),Hn("onTabChange",G)]),FM=function(e){return de(e)?[e].concat(Re(bt(e),FM)):fe(e)?Re(e,FM):[]},HM=function(e){return ce(e.type)&&ce(e.name)},jM={checkbox:VO,colorinput:qO,colorpicker:GO,dropzone:XO,input:iM,iframe:eM,sizeinput:uM,selectbox:aM,size:uM,textarea:fM,urlinput:mM,customeditor:yM,collection:DM,togglemenuitem:AO},VM=function(e){var t=Ae(FM(e),HM),n=Re(t,function(e){return t=e,se.from(jM[t.type]).fold(function(){return[]},function(t){return[$n(e.name,t)]});var t});return Xt(n)},zM=Xt(i([En("type",["cancel","custom"])],RM)),UM=Xt([Tn("title"),Tn("url"),Rn("height"),Rn("width"),In("buttons",Jt(zM)),qn("onAction",G),qn("onCancel",G),qn("onClose",G),qn("onMessage",G)]),WM=function(e){return{internalDialog:fn(dn("dialog",BM,e)),dataValidator:VM(e),initialData:e.initialData}},qM={open:function(e,t){var n=WM(t);return e(n.internalDialog,n.initialData,n.dataValidator)},openUrl:function(e,t){return e(fn(dn("dialog",UM,t)))},redial:function(e){return WM(e)}},YM=function(e){var t=[],n={};return ft(e,function(e,i){e.fold(function(){t.push(i)},function(e){n[i]=e})}),0<t.length?Ye.error(t):Ye.value(n)},GM=vf({name:"TabButton",configFields:[Hn("uid",void 0),Dn("value"),nn("dom","dom",Nt(function(){return{attributes:{role:"tab",id:Ao("aria"),"aria-selected":"false"}}}),vn()),Pn("action"),Hn("domModification",{}),hd("tabButtonBehaviours",[Hp,Ep,fd]),Dn("view")],factory:function(e,t){return{uid:e.uid,dom:e.dom,components:e.components,events:em(e.action),behaviours:md(e.tabButtonBehaviours,[Hp.config({}),Ep.config({mode:"execution",useSpace:!0,useEnter:!0}),fd.config({store:{mode:"memory",initialValue:e.value}})]),domModification:e.domModification}}}),KM=X([Dn("tabs"),Dn("dom"),Hn("clickToDismiss",!1),hd("tabbarBehaviours",[Pf,Ep]),js(["tabClass","selectedClass"])]),XM=Wd({factory:GM,name:"tabs",unit:"tab",overrides:function(e){var t=function(e,t){Pf.dehighlight(e,t),Tr(e,kr(),{tabbar:e,button:t})},n=function(e,t){Pf.highlight(e,t),Tr(e,_r(),{tabbar:e,button:t})};return{action:function(i){var r=i.getSystem().getByUid(e.uid).getOrDie(),o=Pf.isHighlighted(r,i);(o&&e.clickToDismiss?t:o?G:n)(r,i)},domModification:{classes:[e.markers.tabClass]}}}}),JM=X([XM]),ZM=bf({name:"Tabbar",configFields:KM(),partFields:JM(),factory:function(e,t,n,i){return{uid:e.uid,dom:e.dom,components:t,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:md(e.tabbarBehaviours,[Pf.config({highlightClass:e.markers.selectedClass,itemClass:e.markers.tabClass,onHighlight:function(e,t){yo(t.element(),"aria-selected","true")},onDehighlight:function(e,t){yo(t.element(),"aria-selected","false")}}),Ep.config({mode:"flow",getInitial:function(e){return Pf.getHighlighted(e).map(function(e){return e.element()})},selector:"."+e.markers.tabClass,executeOnMove:!0})])}}}),QM=vf({name:"Tabview",configFields:[hd("tabviewBehaviours",[Pp])],factory:function(e,t){return{uid:e.uid,dom:e.dom,behaviours:md(e.tabviewBehaviours,[Pp.config({})]),domModification:{attributes:{role:"tabpanel"}}}}}),eN=X([Hn("selectFirst",!0),zs("onChangeTab"),zs("onDismissTab"),Hn("tabs",[]),hd("tabSectionBehaviours",[])]),tN=Vd({factory:ZM,schema:[Dn("dom"),On("markers",[Dn("tabClass"),Dn("selectedClass")])],name:"tabbar",defaults:function(e){return{tabs:e.tabs}}}),nN=Vd({factory:QM,name:"tabview"}),iN=X([tN,nN]),rN=bf({name:"TabSection",configFields:eN(),partFields:iN(),factory:function(e,t,n,i){var r=function(t,n){nf(t,e,"tabbar").each(function(e){n(e).each(Er)})};return{uid:e.uid,dom:e.dom,components:t,behaviours:pd(e.tabSectionBehaviours),events:Nr(Ie([e.selectFirst?[zr(function(e,t){r(e,Pf.getFirst)})]:[],[Rr(_r(),function(t,n){var i,r,o=n.event().button();i=o,r=fd.getValue(i),nf(i,e,"tabview").each(function(t){Ne(e.tabs,function(e){return e.value===r}).each(function(n){var r=n.view();xo(i.element(),"id").each(function(e){yo(t.element(),"aria-labelledby",e)}),Pp.set(t,r),e.onChangeTab(t,i,r)})})}),Rr(kr(),function(t,n){var i=n.event().button();e.onDismissTab(t,i)})]])),apis:{getViewItems:function(t){return nf(t,e,"tabview").map(function(e){return Pp.contents(e)}).getOr([])},showTab:function(e,t){r(e,function(e){var n=Pf.getCandidates(e);return Ne(n,function(e){return fd.getValue(e)===t}).filter(function(t){return!Pf.isHighlighted(e,t)})})}}}},apis:{getViewItems:function(e,t){return e.getViewItems(t)},showTab:function(e,t,n){e.showTab(t,n)}}}),oN=function(e,t){Da(e,"height",t+"px"),Si().browser.isIE()?Na(e,"flex-basis"):Da(e,"flex-basis",t+"px")},aN=function(t,n,i){Cs(t,'[role="dialog"]').each(function(t){_s(t,'[role="tablist"]').each(function(r){i.get().map(function(i){return Da(n,"height","0"),Da(n,"flex-basis","0"),Math.min(i,function(t,n,i){var r,o=to(t).dom(),a=Cs(t,".tox-dialog-wrap").getOr(t);r="fixed"===Ea(a,"position")?Math.max(o.clientHeight,e.window.innerHeight):Math.max(o.offsetHeight,o.scrollHeight);var s=Ka(n),l=n.dom().offsetLeft>=i.dom().offsetLeft+is(i)?Math.max(Ka(i),s):s,u=parseInt(Ea(t,"margin-top"),10)||0,c=parseInt(Ea(t,"margin-bottom"),10)||0;return r-(Ka(t)+u+c-l)}(t,n,r))}).each(function(e){oN(n,e)})})})},sN=function(e){return _s(e,'[role="tabpanel"]')},lN=function(e){var t;return{smartTabHeight:(t=Kn(se.none()),{extraEvents:[zr(function(n){var i=n.element();sN(i).each(function(r){var o;Da(r,"visibility","hidden"),n.getSystem().getByDom(r).toOption().each(function(n){var i,o,a,s=(o=r,a=n,$e(i=e,function(e,t){Pp.set(a,i[t].view());var n=o.dom().getBoundingClientRect();return Pp.set(a,[]),n.height})),l=je(He(s,function(e,t){return t<e?-1:e<t?1:0}));t.set(l)}),aN(i,r,t),Na(r,"visibility"),o=n,je(e).each(function(e){return rN.showTab(o,e.value)}),Im.requestAnimationFrame(function(){aN(i,r,t)})})}),Rr(gr(),function(e){var n=e.element();sN(n).each(function(e){aN(n,e,t)})}),Rr(Jy,function(e,n){var i=e.element();sN(i).each(function(e){var n=Vl();Da(e,"visibility","hidden");var r=Oa(e,"height").map(function(e){return parseInt(e,10)});Na(e,"height"),Na(e,"flex-basis");var o=e.dom().getBoundingClientRect().height;r.forall(function(e){return e<o})?(t.set(se.from(o)),aN(i,e,t)):r.each(function(t){oN(e,t)}),Na(e,"visibility"),n.each(jl)})})],selectFirst:!1}),naiveTabHeight:{extraEvents:[],selectFirst:!0}}},uN="send-data-to-section",cN="send-data-to-view",dN=Ao("update-dialog"),fN=Ao("update-title"),hN=Ao("update-body"),pN=Ao("update-footer"),mN=Ao("body-send-message"),gN=function(t,n,i,r){return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:ie(ie({},n.map(function(e){return{id:e}}).getOr({})),r?{"aria-live":"polite"}:{})},components:[],behaviours:Ol([JC(0),v$.config({channel:hN,updateState:function(e,t){return se.some({isTabPanel:function(){return"tabpanel"===t.body.type}})},renderComponents:function(t){switch(t.body.type){case"tabpanel":return[(a=t.body,s=i,l=Kn({}),u=function(e){var t=fd.getValue(e),n=YM(t).getOr({}),i=l.get(),r=St(i,n);l.set(r)},c=function(e){var t=l.get();fd.setValue(e,t)},d=Kn(null),f=$e(a.tabs,function(e){return{value:e.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:s.shared.providers.translate(e.title)},view:function(){return[jC.sketch(function(t){return{dom:{tag:"div",classes:["tox-form"]},components:$e(e.items,function(e){return lS(t,e,s)}),formBehaviours:Ol([Ep.config({mode:"acyclic",useTabstopAt:Z(m_)}),Ip("TabView.form.events",[zr(c),Ur(u)]),Fl.config({channels:Lt([{key:uN,value:{onReceive:u}},{key:cN,value:{onReceive:c}}])})])}})]}}}),h=lN(f).smartTabHeight,rN.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(e,t,n){var i=fd.getValue(t);Tr(e,Xy,{name:i,oldName:d.get()}),d.set(i)},tabs:f,components:[rN.parts().tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[ZM.parts().tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Ol([By.config({})])}),rN.parts().tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:h.selectFirst,tabSectionBehaviours:Ol([Ip("tabpanel",h.extraEvents),Ep.config({mode:"acyclic"}),_f.config({find:function(e){return je(rN.getViewItems(e))}}),fd.config({store:{mode:"manual",getValue:function(e){return e.getSystem().broadcastOn([uN],{}),l.get()},setValue:function(e,t){l.set(t),e.getSystem().broadcastOn([cN],{})}}})])}))];default:return[(n=t.body,r=i,{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[(o=Lm(jC.sketch(function(e){return{dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:$e(n.items,function(t){return lS(e,t,r)})}}))).asSpec()]}],behaviours:Ol([Ep.config({mode:"acyclic",useTabstopAt:Z(m_)}),XC(o),r_(o,{postprocess:function(t){return YM(t).fold(function(t){return e.console.error(t),{}},function(e){return e})}})])})]}var n,r,o,a,s,l,u,c,d,f,h},initialData:t})])}},vN=Xv.deviceType.isTouch(),bN=function(e,t){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[e,t]}},yN=function(e,t){return TO.parts().close(Rm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close")}},action:e,buttonBehaviours:Ol([By.config({})])}))},wN=function(){return TO.parts().title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},xN=function(e,t){return TO.parts().body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:_E("<p>"+t.translate(e)+"</p>")}]}]})},CN=function(e){return TO.parts().footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:e})},_N=function(e,t){return[Oy.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:e}),Oy.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:t})]},kN=function(e){var t,n="tox-dialog",r=n+"-wrap",o=r+"__backdrop",a=n+"__disable-scroll";return TO.sketch({lazySink:e.lazySink,onEscape:function(t){return e.onEscape(t),se.some(!0)},useTabstopAt:function(e){return!m_(e)},dom:{tag:"div",classes:[n].concat(e.extraClasses),styles:ie({position:"relative"},e.extraStyles)},components:i([e.header,e.body],e.footer.toArray()),parts:{blocker:{dom:_E('<div class="'+r+'"></div>'),components:[{dom:{tag:"div",classes:vN?[o,o+"--opaque"]:[o]}}]}},dragBlockClass:r,modalBehaviours:Ol(i([Hp.config({}),Ip("dialog-events",e.dialogEvents.concat([Vr(qi(),function(e,t){Ep.focusIn(e)})])),Ip("scroll-lock",[zr(function(){la(Ca(),a)}),Ur(function(){ca(Ca(),a)})])],e.extraBehaviours)),eventOrder:ie(((t={})[ar()]=["dialog-events"],t[vr()]=["scroll-lock","dialog-events","alloy.base.behaviour"],t[br()]=["alloy.base.behaviour","dialog-events","scroll-lock"],t),e.eventOrder)})},SN=function(e){return Rm.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":e.translate("Close"),title:e.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17.953 7.453L13.422 12l4.531 4.547-1.406 1.406L12 13.422l-4.547 4.531-1.406-1.406L10.578 12 6.047 7.453l1.406-1.406L12 10.578l4.547-4.531z" fill-rule="evenodd"></path></svg>'}}],action:function(e){$r(e,Wy)}})},DN=function(e,t,n){var i=function(e){return[za(n.translate(e.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:ie({},t.map(function(e){return{id:e}}).getOr({}))},components:i(e),behaviours:Ol([v$.config({channel:fN,renderComponents:i})])}},$N=function(){return{dom:_E('<div class="tox-dialog__draghandle"></div>')}},TN=function(e,t){return n={title:t.shared.providers.translate(e),draggable:t.dialog.isDraggableModal()},i=t.shared.providers,r=TO.parts().title(DN(n,se.none(),i)),o=TO.parts().draghandle($N()),a=TO.parts().close(SN(i)),s=[r].concat(n.draggable?[o]:[]).concat([a]),Oy.sketch({dom:_E('<div class="tox-dialog__header"></div>'),components:s});var n,i,r,o,a,s},EN=function(e,t){return{onClose:function(){return t.closeWindow()},onBlock:function(t){TO.setBusy(e(),function(e,n){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":t.message()},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:n,components:[{dom:_E('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}})},onUnblock:function(){TO.setIdle(e())}}},AN=function(e,t,n,r){var o;return qa(kN(ie(ie({},e),{lazySink:r.shared.getSink,extraBehaviours:i([v$.config({channel:dN,updateState:function(e,t){return se.some(t)},initialData:t}),s_({})],e.extraBehaviours),onEscape:function(e){$r(e,Wy)},dialogEvents:n,eventOrder:((o={})[or()]=["reflecting","receiving"],o[vr()]=["scroll-lock","reflecting","messages","dialog-events","alloy.base.behaviour"],o[br()]=["alloy.base.behaviour","dialog-events","messages","reflecting","scroll-lock"],o)})))},ON=function(e){return $e(e,function(e){return"menu"===e.type?(n=$e((t=e).items,function(e){var t=Kn(!1);return ie(ie({},e),{storage:t})}),ie(ie({},t),{items:n})):e;var t,n})},MN=function(e){return Me(e,function(e,t){return"menu"!==t.type?e:Me(t.items,function(e,t){return e[t.name]=t.storage,e},e)},{})},NN=function(e,t){return[Hr(qi(),p_),e(Uy,function(e,n){t.onClose(),n.onClose()}),e(Wy,function(e,t,n,i){t.onCancel(e),$r(i,Uy)}),Rr(Ky,function(e,n){return t.onUnblock()}),Rr(Gy,function(e,n){return t.onBlock(n.event())})]},PN=function(e,t){var n=function(t,n){return Rr(t,function(t,i){r(t,function(r,o){n(e(),r,i.event(),t)})})},r=function(e,t){v$.getState(e).get().each(function(n){t(n,e)})};return i(NN(n,t),[n(qy,function(e,t,n){t.onAction(e,{name:n.name()})})])},IN=function(e,t,n){var r=function(t,n){return Rr(t,function(t,i){o(t,function(r,o){n(e(),r,i.event(),t)})})},o=function(e,t){v$.getState(e).get().each(function(n){t(n.internalDialog,e)})};return i(NN(r,t),[r(Yy,function(e,t){return t.onSubmit(e)}),r(zy,function(e,t,n){t.onChange(e,{name:n.name()})}),r(qy,function(e,t,i,r){var o=function(){return Ep.focusIn(r)},a=function(e){return Co(e,"disabled")||xo(e,"aria-disabled").exists(function(e){return"true"===e})},s=Vl();t.onAction(e,{name:i.name(),value:i.value()}),Vl().fold(o,function(e){a(e)||s.exists(function(t){return Ai(e,t)&&a(t)})?o():n().toOption().filter(function(t){return!Ai(t.element(),e)}).each(o)})}),r(Xy,function(e,t,n){t.onTabChange(e,{newTabName:n.name(),oldTabName:n.oldName()})}),Ur(function(t){var n=e();fd.setValue(t,n.getData())})])},RN=function(e,t){var n=t.map(function(e){return e.footerButtons}).getOr([]),i=Ee(n,function(e){return"start"===e.align}),r=function(e,t){return Oy.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+e]},components:$e(t,function(e){return e.memento.asSpec()})})};return[r("start",i.pass),r("end",i.fail)]},LN=function(e,t){return{dom:_E('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Ol([v$.config({channel:pN,initialData:e,updateState:function(e,n){var i=$e(n.buttons,function(e){var n,i,r=Lm((i=t,rk(n=e,n.type,i)));return{name:e.name,align:e.align,memento:r}});return se.some({lookupByName:function(e,t){return n=e,r=t,Ne(i,function(e){return e.name===r}).bind(function(e){return e.memento.getOpt(n)});var n,r},footerButtons:i})},renderComponents:RN})])}},BN=function(e,t){return TO.parts().footer(LN(e,t))},FN=function(e,t){if(e.getRoot().getSystem().isConnected()){var n=_f.getCurrent(e.getFormWrapper()).getOr(e.getFormWrapper());return jC.getField(n,t).fold(function(){var i=e.getFooter();return v$.getState(i).get().bind(function(e){return e.lookupByName(n,t)})},function(e){return se.some(e)})}return se.none()},HN=function(e,t,n){var i=function(t){var n=e.getRoot();n.getSystem().isConnected()&&t(n)},r={getData:function(){var t=e.getRoot(),i=t.getSystem().isConnected()?e.getFormWrapper():t,r=fd.getValue(i),o=ht(n,function(e){return e.get()});return ie(ie({},r),o)},setData:function(t){i(function(i){var o,a,s=r.getData(),l=ie(ie({},s),t),u=(o=l,a=e.getRoot(),v$.getState(a).get().map(function(e){return fn(dn("data",e.dataValidator,o))}).getOr(o)),c=e.getFormWrapper();fd.setValue(c,u),ft(n,function(e,t){wt(l,t)&&e.set(l[t])})})},disable:function(t){FN(e,t).each(dv.disable)},enable:function(t){FN(e,t).each(dv.enable)},focus:function(t){FN(e,t).each(Hp.focus)},block:function(e){if(!ce(e))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");i(function(t){Tr(t,Gy,{message:e})})},unblock:function(){i(function(e){$r(e,Ky)})},showTab:function(t){i(function(n){var i=e.getBody();v$.getState(i).get().exists(function(e){return e.isTabPanel()})&&_f.getCurrent(i).each(function(e){rN.showTab(e,t)})})},redial:function(e){i(function(n){var i=t(e);n.getSystem().broadcastOn([dN],i),n.getSystem().broadcastOn([fN],i.internalDialog),n.getSystem().broadcastOn([hN],i.internalDialog),n.getSystem().broadcastOn([pN],i.internalDialog),r.setData(i.initialData)})},close:function(){i(function(e){$r(e,Uy)})}};return r},jN=function(e,t,n){var i,r,o,a=TN(e.internalDialog.title,n),s=(i={body:e.internalDialog.body},r=n,o=gN(i,se.none(),r,!1),TO.parts().body(o)),l=ON(e.internalDialog.buttons),u=MN(l),c=BN({buttons:l},n),d=IN(function(){return m},EN(function(){return p},t),n.shared.getSink),f="normal"!==e.internalDialog.size?"large"===e.internalDialog.size?["tox-dialog--width-lg"]:["tox-dialog--width-md"]:[],h={header:a,body:s,footer:se.some(c),extraClasses:f,extraBehaviours:[],extraStyles:{}},p=AN(h,e,d,n),m=HN({getRoot:function(){return p},getBody:function(){return TO.getBody(p)},getFooter:function(){return TO.getFooter(p)},getFormWrapper:function(){var e=TO.getBody(p);return _f.getCurrent(e).getOr(e)}},t.redial,u);return{dialog:p,instanceApi:m}},VN=function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h=Ao("dialog-label"),p=Ao("dialog-content"),m=Lm((a={title:e.internalDialog.title,draggable:!0},s=h,l=n.shared.providers,Oy.sketch({dom:_E('<div class="tox-dialog__header"></div>'),components:[DN(a,se.some(s),l),$N(),SN(l)],containerBehaviours:Ol([pO.config({mode:"mouse",blockerClass:"blocker",getTarget:function(e){return ks(e,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])}))),g=Lm((u={body:e.internalDialog.body},c=p,d=n,f=i,gN(u,se.some(c),d,f))),v=ON(e.internalDialog.buttons),b=MN(v),y=Lm(LN({buttons:v},n)),w=IN(function(){return C},{onBlock:function(){},onUnblock:function(){},onClose:function(){return t.closeWindow()}},n.shared.getSink),x=qa({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:((r={role:"dialog"})["aria-labelledby"]=h,r["aria-describedby"]=""+p,r)},eventOrder:((o={})[or()]=[v$.name(),Fl.name()],o[ar()]=["execute-on-form"],o[vr()]=["reflecting","execute-on-form"],o),behaviours:Ol([Ep.config({mode:"cyclic",onEscape:function(e){return $r(e,Uy),se.some(!0)},useTabstopAt:function(e){return!m_(e)&&("button"!==Yr(e)||"disabled"!==wo(e,"disabled"))}}),v$.config({channel:dN,updateState:function(e,t){return se.some(t)},initialData:e}),Hp.config({}),Ip("execute-on-form",w.concat([Vr(qi(),function(e,t){Ep.focusIn(e)})])),s_({})]),components:[m.asSpec(),g.asSpec(),y.asSpec()]}),C=HN({getRoot:function(){return x},getFooter:function(){return y.get(x)},getBody:function(){return g.get(x)},getFormWrapper:function(){var e=g.get(x);return _f.getCurrent(e).getOr(e)}},t.redial,b);return{dialog:x,instanceApi:C}},zN=tinymce.util.Tools.resolve("tinymce.util.URI"),UN=["insertContent","setContent","execCommand","close","block","unblock"],WN=function(e){return de(e)&&-1!==UN.indexOf(e.mceAction)},qN=function(t,n,i,r){var o,a,s,l,u=TN(t.title,r),c=(a={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[f_({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Ol([By.config({}),Hp.config({})])})]}],behaviours:Ol([Ep.config({
mode:"acyclic",useTabstopAt:Z(m_)})])},TO.parts().body(a)),d=t.buttons.bind(function(e){return 0===e.length?se.none():se.some(BN({buttons:e},r))}),f=PN(function(){return w},EN(function(){return y},n)),h=ie(ie({},t.height.fold(function(){return{}},function(e){return{height:e+"px","max-height":e+"px"}})),t.width.fold(function(){return{}},function(e){return{width:e+"px","max-width":e+"px"}})),p=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],m=new zN(t.url,{base_uri:new zN(e.window.location.href)}),g=m.protocol+"://"+m.host+(m.port?":"+m.port:""),v=Kn(se.none()),b=[Ip("messages",[zr(function(){var n=py(Jn.fromDom(e.window),"message",function(e){if(m.isSameOrigin(new zN(e.raw().origin))){var n=e.raw().data;WN(n)?function(e,t,n){switch(n.mceAction){case"insertContent":e.insertContent(n.content);break;case"setContent":e.setContent(n.content);break;case"execCommand":var i=!!he(n.ui)&&n.ui;e.execCommand(n.cmd,i,n.value);break;case"close":t.close();break;case"block":t.block(n.message);break;case"unblock":t.unblock()}}(i,w,n):!WN(r=n)&&de(r)&&wt(r,"mceAction")&&t.onMessage(w,n)}var r});v.set(se.some(n))}),Ur(function(){v.get().each(function(e){return e.unbind()})})]),Fl.config({channels:((o={})[mN]={onReceive:function(e,t){_s(e.element(),"iframe").each(function(e){e.dom().contentWindow.postMessage(t,g)})}},o)})],y=AN({header:u,body:c,footer:d,extraClasses:p,extraBehaviours:b,extraStyles:h},t,f,r),w=(l=function(e){s.getSystem().isConnected()&&e(s)},{block:function(e){if(!ce(e))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");l(function(t){Tr(t,Gy,{message:e})})},unblock:function(){l(function(e){$r(e,Ky)})},close:function(){l(function(e){$r(e,Uy)})},sendMessage:function(e){l(function(t){t.getSystem().broadcastOn([mN],e)})}});return{dialog:s=y,instanceApi:w}},YN=function(e){var t,n,r,o,a=e.backstage,s=e.editor,l=Nv(s),u=(n=(t=e).backstage.shared,{open:function(e,i){var r=function(){TO.hide(l),i()},o=Lm(rk({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:se.none()},"cancel",t.backstage)),a=wN(),s=yN(r,n.providers),l=qa(kN({lazySink:function(){return n.getSink()},header:bN(a,s),body:xN(e,n.providers),footer:se.some(CN(_N([],[o.asSpec()]))),onEscape:r,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rr(Wy,r)],eventOrder:{}}));TO.show(l);var u=o.get(l);Hp.focus(u)}}),c=(o=(r=e).backstage.shared,{open:function(e,t){var n=function(e){TO.hide(u),t(e)},i=Lm(rk({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:se.none()},"submit",r.backstage)),a=rk({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:se.none()},"cancel",r.backstage),s=wN(),l=yN(function(){return n(!1)},o.providers),u=qa(kN({lazySink:function(){return o.getSink()},header:bN(s,l),body:xN(e,o.providers),footer:se.some(CN(_N([],[a,i.asSpec()]))),onEscape:function(){return n(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Rr(Wy,function(){return n(!1)}),Rr(Yy,function(){return n(!0)})],eventOrder:{}}));TO.show(u);var c=i.get(u);Hp.focus(c)}}),d=function(e,t){return qM.openUrl(function(e){var n=qN(e,{closeWindow:function(){TO.hide(n.dialog),t(n.instanceApi)}},s,a);return TO.show(n.dialog),n.instanceApi},e)},f=function(e,t){return qM.open(function(e,n,i){var r=n,o=jN({dataValidator:i,initialData:r,internalDialog:e},{redial:qM.redial,closeWindow:function(){TO.hide(o.dialog),t(o.instanceApi)}},a);return TO.show(o.dialog),o.instanceApi.setData(r),o.instanceApi},e)},h=function(e,t,n,r){return qM.open(function(e,o,u){var c,d,f,h=fn(dn("data",u,o)),p=(c=Kn(se.none()),{clear:function(){c.set(se.none())},set:function(e){c.set(se.some(e))},isSet:function(){return c.get().isSome()},on:function(e){c.get().each(e)}}),m=a.shared.header.isPositionedAtTop(),g=function(){return p.on(function(e){_m.reposition(e),XT.refresh(e)})},v=VN({dataValidator:u,initialData:h,internalDialog:e},{redial:qM.redial,closeWindow:function(){p.on(_m.hide),s.off("ResizeEditor",g),p.clear(),n(v.instanceApi)}},a,r),b=qa(_m.sketch(ie(ie({lazySink:a.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},m?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Ol(i([Ip("window-manager-inline-events",[Rr(yr(),function(e,t){$r(v.dialog,Wy)})])],(d=s,f=m,l&&f?[]:[XT.config({contextual:{lazyContext:function(){return se.some(gs(Jn.fromDom(d.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]))),isExtraPart:function(e,t){return vy(n=t,".tox-alert-dialog")||vy(n,".tox-confirm-dialog");var n}})));return p.set(b),_m.showWithin(b,t,Ya(v.dialog),se.some(Ca())),l&&m||(XT.refresh(b),s.on("ResizeEditor",g)),v.instanceApi.setData(h),Ep.focusIn(v.dialog),v.instanceApi},e)};return{open:function(e,t,n){return void 0!==t&&"toolbar"===t.inline?h(e,a.shared.anchors.inlineDialog(),n,t.ariaAttrs):void 0!==t&&"cursor"===t.inline?h(e,a.shared.anchors.cursor(),n,t.ariaAttrs):f(e,n)},openUrl:function(e,t){return d(e,t)},alert:function(e,t){u.open(e,function(){t()})},close:function(e){e.close()},confirm:function(e,t){c.open(e,function(e){t(e)})}}};!function(){ne.add("silver",function(e){var t=kO(e),n=t.uiMothership,i=t.backstage,r=t.renderUI,o=t.getUi;fy(e,i.shared);var s=YN({editor:e,backstage:i});return{renderUI:r,getWindowManagerImpl:X(s),getNotificationManagerImpl:function(){return a(0,{backstage:i},n)},ui:o()}})}()}(window),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig","uiTinymceService",function(e,t,n,i,r,o,a){return o=o||{},o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],priority:599,link:function(s,l,u,c){function d(e){e?(f(),p&&p.getBody().setAttribute("contenteditable",!1)):(f(),p&&!p.settings.readonly&&p.getDoc()&&p.getBody().setAttribute("contenteditable",!0))}function f(){p||(p=tinymce.get(u.id))}if(i.tinymce){var h,p,m=c[0],g=c[1]||null,v={debounce:!0},b=function(t){var n=t.getContent({format:v.format}).trim();n=r.trustAsHtml(n),m.$setViewValue(n),e.$$phase||s.$digest()},y=a.getUniqueId();u.$set("id",y),h={},angular.extend(h,s.$eval(u.uiTinymce));var w=function(e){var t;return function(i){n.cancel(t),t=n(function(){return function(e){e.isDirty()&&(e.save(),b(e))}(i)},e)}}(400),x={setup:function(t){t.on("init",function(){m.$render(),m.$setPristine(),m.$setUntouched(),g&&g.$setPristine()}),t.on("ExecCommand change NodeChange ObjectResized",function(){return v.debounce?void w(t):(t.save(),void b(t))}),t.on("blur",function(){l[0].blur(),m.$setTouched(),e.$$phase||s.$digest()}),t.on("remove",function(){l.remove()}),o.setup&&o.setup(t,{updateView:b}),h.setup&&h.setup(t,{updateView:b})},format:h.format||"html",selector:"#"+u.id};angular.extend(v,o,h,x),n(function(){v.baseURL&&(tinymce.baseURL=v.baseURL);var e=tinymce.init(v);e&&"function"==typeof e.then?e.then(function(){d(s.$eval(u.ngDisabled))}):d(s.$eval(u.ngDisabled))}),m.$formatters.unshift(function(e){return e?r.trustAsHtml(e):""}),m.$parsers.unshift(function(e){return e?r.getTrustedHtml(e):""}),m.$render=function(){f();var e=m.$viewValue?r.getTrustedHtml(m.$viewValue):"";p&&p.getDoc()&&(p.setContent(e),p.fire("change"))},u.$observe("disabled",d),s.$on("$tinymce:refresh",function(e,n){var i=u.id;if(angular.isUndefined(n)||n===i){var r=l.parent(),o=l.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,i),r.append(t(o)(s))}}),s.$on("$destroy",function(){f(),p&&(p.remove(),p=null)})}}}}]).service("uiTinymceService",[function(){var e=function(){var e="ui-tinymce",t=0,n=function(){return t++,e+"-"+t};return{getUniqueId:n}};return new e}]),!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(e){}}()):"function"==typeof define&&define.amd?define(["require"],function(e){return t(function(){try{return e("moment")}catch(e){}}())}):(e=e||self).Chart=t(e.moment)}(this,function(e){"use strict";function t(e){var t=function(){for(var e={},t=Object.keys(He),n=t.length,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;)for(var i=n.pop(),r=Object.keys(He[i]),o=r.length,a=0;a<o;a++){var s=r[a],l=t[s];-1===l.distance&&(l.distance=t[i].distance+1,l.parent=i,n.unshift(s))}return t}function n(e,t){return function(n){return t(e(n))}}function i(e,t){for(var i=[t[e].parent,e],r=He[t[e].parent][e],o=t[e].parent;t[o].parent;)i.unshift(t[o].parent),r=n(He[t[o].parent][o],r),o=t[o].parent;return r.conversion=i,r}function r(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var o=0;o<t.length;o++)t[o]=parseInt(i[o]+i[o],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],o=0;o<t.length;o++)t[o]=parseInt(i.slice(2*o,2*o+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=parseInt(i[o+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(o=0;o<t.length;o++)t[o]=Math.round(2.55*parseFloat(i[o+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=ze[i[1]]))return}for(o=0;o<t.length;o++)t[o]=c(t[o],0,255);return n=n||0==n?c(n,0,1):1,t[3]=n,t}}function o(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function a(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[c(parseInt(t[1]),0,360),c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}}}function s(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function l(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function u(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function c(e,t,n){return Math.min(Math.max(t,e),n)}function d(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}function f(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(Dt.forEach(function(t){delete e[t]}),delete e._chartjs)}}function h(e,t){var n=t.startAngle,i=t.endAngle,r=t.pixelMargin,o=r/t.outerRadius,a=t.x,s=t.y;e.beginPath(),e.arc(a,s,t.outerRadius,n-o,i+o),t.innerRadius>r?(o=r/t.innerRadius,e.arc(a,s,t.innerRadius-r,i+o,n-o,!0)):e.arc(a,s,r,i+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}function p(e,t,n){var i="inner"===t.borderAlign;i?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,i){var r,o=n.endAngle;for(i&&(n.endAngle=n.startAngle+Et,h(e,n),n.endAngle=o,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=Et,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+Et,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+Et),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,i),i&&h(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}function m(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function g(e){return e&&void 0!==e.width}function v(e){var t,n,i,r,o;return g(e)?(o=e.width/2,t=e.x-o,n=e.x+o,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(o=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-o,r=e.y+o),{left:t,top:i,right:n,bottom:r}}function b(e,t,n){return e===t?n:e===n?t:e}function y(e,t,n){var i,r,o,a,s=e.borderWidth,l=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=b(t,"left","right")):e.base<e.y&&(t=b(t,"bottom","top")),n[t]=!0,n):n}(e);return pt.isObject(s)?(i=+s.top||0,r=+s.right||0,o=+s.bottom||0,a=+s.left||0):i=r=o=a=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>t?t:r,b:l.bottom||o<0?0:o>n?n:o,l:l.left||a<0?0:a>t?t:a}}function w(e,t,n){var i=null===t,r=null===n,o=!(!e||i&&r)&&v(e);return o&&(i||t>=o.left&&t<=o.right)&&(r||n>=o.top&&n<=o.bottom)}function x(e,t,n){var i,r,o=n.barThickness,a=t.stackCount,s=t.pixels[e],l=pt.isNullOrUndef(o)?function(e,t){var n,i,r,o,a=e._length;for(r=1,o=t.length;r<o;++r)a=Math.min(a,Math.abs(t[r]-t[r-1]));for(r=0,o=e.getTicks().length;r<o;++r)i=e.getPixelForTick(r),a=r>0?Math.min(a,Math.abs(i-n)):a,n=i;return a}(t.scale,t.pixels):-1;return pt.isNullOrUndef(o)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=o*a,r=1),{chunk:i/a,ratio:r,start:s-i/2}}function C(e,t){var n=e&&e.options.ticks||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function _(e,t,n){var i=n/2,r=C(e,i),o=C(t,i);return{top:o.end,right:r.end,bottom:o.start,left:r.start}}function k(e){var t,n,i,r;return pt.isObject(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r}}function S(e,t){return e["native"]?{x:e.x,y:e.y}:pt.getRelativePosition(e,t)}function D(e,t){var n,i,r,o,a,s,l=e._getSortedVisibleDatasetMetas();for(i=0,o=l.length;i<o;++i)for(r=0,a=(n=l[i].data).length;r<a;++r)(s=n[r])._view.skip||t(s)}function $(e,t){var n=[];return D(e,function(e){e.inRange(t.x,t.y)&&n.push(e)}),n}function T(e,t,n,i){var r=Number.POSITIVE_INFINITY,o=[];return D(e,function(e){if(!n||e.inRange(t.x,t.y)){var a=e.getCenterPoint(),s=i(t,a);s<r?(o=[e],r=s):s===r&&o.push(e)}}),o}function E(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}function A(e,t,n){var i=S(t,e);n.axis=n.axis||"x";var r=E(n.axis),o=n.intersect?$(e,i):T(e,i,!1,r),a=[];return o.length?(e._getSortedVisibleDatasetMetas().forEach(function(e){var t=e.data[o[0]._index];t&&!t._view.skip&&a.push(t)}),a):[]}function O(e,t){return pt.where(e,function(e){return e.pos===t})}function M(e,t){return e.sort(function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight})}function N(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function P(e,t,n){var i,r,o=n.box,a=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?o.height:o.width,e[n.pos]+=n.size,o.getPadding){var s=o.getPadding();a.top=Math.max(a.top,s.top),a.left=Math.max(a.left,s.left),a.bottom=Math.max(a.bottom,s.bottom),a.right=Math.max(a.right,s.right)}if(i=t.outerWidth-N(a,e,"left","right"),r=t.outerHeight-N(a,e,"top","bottom"),i!==e.w||r!==e.h)return e.w=i,e.h=r,n.horizontal?i!==e.w:r!==e.h}function I(e,t){function n(e){var n={left:0,top:0,right:0,bottom:0};return e.forEach(function(e){n[e]=Math.max(t[e],i[e])}),n}var i=t.maxPadding;return n(e?["left","right"]:["top","bottom"])}function R(e,t,n){var i,r,o,a,s,l,u=[];for(i=0,r=e.length;i<r;++i)(a=(o=e[i]).box).update(o.width||t.w,o.height||t.h,I(o.horizontal,t)),P(t,n,o)&&(l=!0,u.length&&(s=!0)),a.fullWidth||u.push(o);return s&&R(u,t,n)||l}function L(e,t,n){var i,r,o,a,s=n.padding,l=t.x,u=t.y;for(i=0,r=e.length;i<r;++i)a=(o=e[i]).box,o.horizontal?(a.left=a.fullWidth?s.left:t.left,a.right=a.fullWidth?n.outerWidth-s.right:t.left+t.w,a.top=u,a.bottom=u+a.height,a.width=a.right-a.left,u=a.bottom):(a.left=l,a.right=l+a.width,a.top=t.top,a.bottom=t.top+t.h,a.height=a.bottom-a.top,l=a.right);t.x=l,t.y=u}function B(e,t){var n=pt.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function F(e,t,n){e.addEventListener(t,n,kn)}function H(e,t,n){e.removeEventListener(t,n,kn)}function j(e,t,n,i,r){return{type:e,chart:t,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function V(e){var t=document.createElement("div");return t.className=e||"",t}function z(e,t,n){var i,r,o,a,s=e[bn]||(e[bn]={}),l=s.resizer=function(e){var t=V(yn),n=V(yn+"-expand"),i=V(yn+"-shrink");n.appendChild(V()),i.appendChild(V()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return F(n,"scroll",r.bind(n,"expand")),F(i,"scroll",r.bind(i,"shrink")),t}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,r=i?i.clientWidth:0;t(j("resize",n)),i&&i.clientWidth<r&&n.canvas&&t(j("resize",n))}},o=!1,a=[],function(){a=Array.prototype.slice.call(arguments),r=r||this,o||(o=!0,pt.requestAnimFrame.call(window,function(){o=!1,i.apply(r,a)}))}));!function(e,t){var n=e[bn]||(e[bn]={}),i=n.renderProxy=function(e){e.animationName===xn&&t()};pt.each(Cn,function(t){F(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(wn)}(e,function(){if(s.resizer){var t=e.parentNode;t&&t!==l.parentNode&&t.insertBefore(l,t.firstChild),l._reset()}})}function U(e){var t=e[bn]||{},n=t.resizer;delete t.resizer,function(e){var t=e[bn]||{},n=t.renderProxy;n&&(pt.each(Cn,function(t){H(e,t,n)}),delete t.renderProxy),e.classList.remove(wn)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function W(e,t){return t&&(pt.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function q(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Y(e){var t=ut.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:An(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:An(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:An(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:An(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:An(e.titleFontStyle,t.defaultFontStyle),titleFontSize:An(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:An(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:An(e.footerFontStyle,t.defaultFontStyle),footerFontSize:An(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function G(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function K(e){return W([],q(e))}function X(){return pt.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,o,a,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)a=n[e][r],o=Rn(a.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||a.type&&a.type!==t[e][r].type?pt.merge(t[e][r],[En.getScaleDefaults(o),a]):pt.merge(t[e][r],a)}else pt._merger(e,t,n,i)}})}function J(){return pt.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||{},o=n[e];"scales"===e?t[e]=X(r,o):"scale"===e?t[e]=pt.merge(r,[En.getScaleDefaults(o.type),o]):pt._merger(e,t,n,i)}})}function Z(e){var t=e.options;pt.each(e.scales,function(t){gn.removeBox(e,t)}),t=J(ut.global,ut[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Q(e,t,n){var i,r=function(e){return e.id===i};do i=t+n++;while(pt.findIndex(e,r)>=0);return i}function ee(e){return"top"===e||"bottom"===e}function te(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function ne(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function ie(e){this.options=e||{}}function re(e,t,n){var i,r=e.getTicks().length,o=Math.min(t,r-1),a=e.getPixelForTick(o),s=e._startPixel,l=e._endPixel;if(!(n&&(i=1===r?Math.max(a-s,l-a):0===t?(e.getPixelForTick(1)-a)/2:(a-e.getPixelForTick(o-1))/2,(a+=o<t?i:-i)<s-1e-6||a>l+1e-6)))return a}function oe(e,t,n,i){function r(e){return{width:y[e]||0,height:w[e]||0,offset:x[e]||0}}var o,a,s,l,u,c,d,f,h,p,m,g,v,b=n.length,y=[],w=[],x=[];for(o=0;o<b;++o){if(l=n[o].label,u=n[o].major?t.major:t.minor,e.font=c=u.string,d=i[c]=i[c]||{data:{},gc:[]},f=u.lineHeight,h=p=0,Vn(l)||jn(l)){if(jn(l))for(a=0,s=l.length;a<s;++a)m=l[a],Vn(m)||jn(m)||(h=pt.measureText(e,d.data,d.gc,h,m),p+=f)}else h=pt.measureText(e,d.data,d.gc,h,l),p=f;y.push(h),w.push(p),x.push(f/2)}return function(e,t){pt.each(e,function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}})}(i,b),g=y.indexOf(Math.max.apply(null,y)),v=w.indexOf(Math.max.apply(null,w)),{first:r(0),last:r(b-1),widest:r(g),highest:r(v)}}function ae(e){return e.drawTicks?e.tickMarkLength:0}function se(e){var t,n;return e.display?(t=pt.options._parseFont(e),n=pt.options.toPadding(e.padding),t.lineHeight+n.height):0}function le(e,t){return pt.extend(pt.options._parseFont({fontFamily:zn(t.fontFamily,e.fontFamily),fontSize:zn(t.fontSize,e.fontSize),fontStyle:zn(t.fontStyle,e.fontStyle),lineHeight:zn(t.lineHeight,e.lineHeight)}),{color:pt.options.resolve([t.fontColor,e.fontColor,ut.global.defaultFontColor])})}function ue(e){var t=le(e,e.minor);return{minor:t,major:e.major.enabled?le(e,e.major):t}}function ce(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function de(e,t,n,i){var r,o,a,s,l=zn(n,0),u=Math.min(zn(i,e.length),e.length),c=0;for(t=Math.ceil(t),i&&(t=(r=i-n)/Math.floor(r/t)),s=l;s<0;)c++,s=Math.round(l+c*t);for(o=Math.max(l,0);o<u;o++)a=e[o],o===s?(a._index=o,c++,s=Math.round(l+c*t)):delete a.label}function fe(e,t,n,i){var r,o,a=e.options,s=function(e,t,n){var i=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[i]&&(e[i]={pos:[],neg:[]}),e[i]}(t,a.stacked,n),l=s.pos,u=s.neg,c=i.length;for(r=0;r<c;++r)o=e._parseValue(i[r]),isNaN(o.min)||isNaN(o.max)||n.data[r].hidden||(l[r]=l[r]||0,u[r]=u[r]||0,a.relativePoints?l[r]=100:o.min<0||o.max<0?u[r]+=o.min:l[r]+=o.max)}function he(e,t,n){var i,r,o=n.length;for(i=0;i<o;++i)r=e._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||t.data[i].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}function pe(e,t){return pt.isFinite(e)&&e>=0?e:t}function me(e){var t=e.ticks;return t.display&&e.display?si(t.fontSize,ut.global.defaultFontSize)+2*t.backdropPaddingY:0}function ge(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function ve(e){return 0===e||180===e?"center":e<180?"left":"right"}function be(e,t,n,i){var r,o,a=n.y+i/2;if(pt.isArray(t))for(r=0,o=t.length;r<o;++r)e.fillText(t[r],n.x,a),a+=i;else e.fillText(t,n.x,a)}function ye(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function we(e){return pt.isNumber(e)?e:0}function xe(e,t){return e-t}function Ce(e){return pt.valueOrDefault(e.time.min,e.ticks.min)}function _e(e){return pt.valueOrDefault(e.time.max,e.ticks.max)}function ke(e,t,n,i){var r=function(e,t,n){for(var i,r,o,a=0,s=e.length-1;a>=0&&a<=s;){if(r=e[(i=a+s>>1)-1]||null,o=e[i],!r)return{lo:null,hi:o};if(o[t]<n)a=i+1;else{if(!(r[t]>n))return{lo:r,hi:o};s=i-1}}return{lo:o,hi:null}}(e,t,n),o=r.lo?r.hi?r.lo:e[e.length-2]:e[0],a=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=a[t]-o[t],l=s?(n-o[t])/s:0,u=(a[i]-o[i])*l;return o[i]+u}function Se(e,t){var n=e._adapter,i=e.options.time,r=i.parser,o=r||i.format,a=t;return"function"==typeof r&&(a=r(a)),pt.isFinite(a)||(a="string"==typeof o?n.parse(a,o):n.parse(a)),null!==a?+a:(r||"function"!=typeof o||(a=o(t),pt.isFinite(a)||(a=n.parse(a))),a)}function De(e,t){if(pt.isNullOrUndef(t))return null;var n=e.options.time,i=Se(e,e.getRightValue(t));return null===i?i:(n.round&&(i=+e._adapter.startOf(i,n.round)),i)}function $e(e,t,n,i){var r,o,a,s=yi.length;for(r=yi.indexOf(e);r<s-1;++r)if(a=(o=bi[yi[r]]).steps?o.steps:vi,o.common&&Math.ceil((n-t)/(a*o.size))<=i)return yi[r];return yi[s-1]}function Te(e,t,n){var i,r,o=[],a={},s=t.length;for(i=0;i<s;++i)a[r=t[i]]=i,o.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,i){var r,o,a=e._adapter,s=+a.startOf(t[0].value,i),l=t[t.length-1].value;for(r=s;r<=l;r=+a.add(r,1,i))(o=n[r])>=0&&(t[o].major=!0);return t}(e,o,a,n):o}function Ee(e,t,n){var i,r=e._model||{},o=r.fill;if(void 0===o&&(o=!!r.backgroundColor),!1===o||null===o)return!1;if(!0===o)return"origin";if(i=parseFloat(o,10),isFinite(i)&&Math.floor(i)===i)return"-"!==o[0]&&"+"!==o[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(o){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return o;default:return!1}}function Ae(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,i,r,o,a=e.el._scale,s=a.options,l=a.chart.data.labels.length,u=e.fill,c=[];if(!l)return null;for(t=s.ticks.reverse?a.max:a.min,n=s.ticks.reverse?a.min:a.max,i=a.getPointPositionForValue(0,t),r=0;r<l;++r)o="start"===u||"end"===u?a.getPointPositionForValue(r,"start"===u?t:n):a.getBasePosition(r),s.gridLines.circular&&(o.cx=i.x,o.cy=i.y,o.angle=a.getIndexAngle(r)-Math.PI/2),c.push(o);return c}(e):function(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,o=null;if(isFinite(r))return null;if("start"===r?o=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?o=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?o=n.scaleZero:i.getBasePixel&&(o=i.getBasePixel()),null!=o){if(void 0!==o.x&&void 0!==o.y)return o;if(pt.isFinite(o))return{x:(t=i.isHorizontal())?o:null,y:t?null:o}}return null}(e)}function Oe(e,t,n){var i,r=e[t].fill,o=[t];if(!n)return r;for(;!1!==r&&-1===o.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function Me(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),ki[n](e))}function Ne(e){return e&&!e.skip}function Pe(e,t,n,i,r){var o,a,s,l;if(i&&r){for(e.moveTo(t[0].x,t[0].y),o=1;o<i;++o)pt.canvas.lineTo(e,t[o-1],t[o]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),o=r-1;o>0;--o)pt.canvas.lineTo(e,n[o],n[o-1],!0);else for(a=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-a,2)+Math.pow(n[0].y-s,2)),o=r-1;o>0;--o)e.arc(a,s,l,n[o].angle,n[o-1].angle,!0)}}function Ie(e,t,n,i,r,o){var a,s,l,u,c,d,f,h,p=t.length,m=i.spanGaps,g=[],v=[],b=0,y=0;for(e.beginPath(),a=0,s=p;a<s;++a)c=n(u=t[l=a%p]._view,l,i),d=Ne(u),f=Ne(c),o&&void 0===h&&d&&(s=p+(h=a+1)),d&&f?(b=g.push(u),y=v.push(c)):b&&y&&(m?(d&&g.push(u),f&&v.push(c)):(Pe(e,g,v,b,y),b=y=0,g=[],v=[]));Pe(e,g,v,b,y),e.closePath(),e.fillStyle=r,e.fill()}function Re(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}function Le(e,t){var n=new Ei({ctx:e.ctx,options:t,chart:e});gn.configure(e,n,t),gn.addBox(e,n),e.legend=n}function Be(e,t){var n=new Mi({ctx:e.ctx,options:t,chart:e});gn.configure(e,n,t),gn.addBox(e,n),e.titleBlock=n}e=e&&e.hasOwnProperty("default")?e["default"]:e;var Fe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},He=function(e,t){return e(t={exports:{}},t.exports),t.exports}(function(e){var t={};for(var n in Fe)Fe.hasOwnProperty(n)&&(t[Fe[n]]=n);var i=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in i)if(i.hasOwnProperty(r)){if(!("channels"in i[r]))throw new Error("missing channels property: "+r);if(!("labels"in i[r]))throw new Error("missing channel labels property: "+r);if(i[r].labels.length!==i[r].channels)throw new Error("channel and label counts mismatch: "+r);var o=i[r].channels,a=i[r].labels;delete i[r].channels,delete i[r].labels,Object.defineProperty(i[r],"channels",{value:o}),Object.defineProperty(i[r],"labels",{value:a})}i.rgb.hsl=function(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;
return s===a?t=0:i===s?t=(r-o)/l:r===s?t=2+(o-i)/l:o===s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},i.rgb.hsv=function(e){var t,n,i,r,o,a=e[0]/255,s=e[1]/255,l=e[2]/255,u=Math.max(a,s,l),c=u-Math.min(a,s,l),d=function(e){return(u-e)/6/c+.5};return 0===c?r=o=0:(o=c/u,t=d(a),n=d(s),i=d(l),a===u?r=i-n:s===u?r=1/3+t-i:l===u&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*o,100*u]},i.rgb.hwb=function(e){var t=e[0],n=e[1],r=e[2];return[i.rgb.hsl(e)[0],100*(1/255*Math.min(t,Math.min(n,r))),100*(r=1-1/255*Math.max(t,Math.max(n,r)))]},i.rgb.cmyk=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},i.rgb.keyword=function(e){var n=t[e];if(n)return n;var i,r,o,a=1/0;for(var s in Fe)if(Fe.hasOwnProperty(s)){var l=Fe[s],u=(r=e,o=l,Math.pow(r[0]-o[0],2)+Math.pow(r[1]-o[1],2)+Math.pow(r[2]-o[2],2));u<a&&(a=u,i=s)}return i},i.keyword.rgb=function(e){return Fe[e]},i.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},i.rgb.lab=function(e){var t=i.rgb.xyz(e),n=t[0],r=t[1],o=t[2];return r/=100,o/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(n-r),200*(r-(o=o>.008856?Math.pow(o,1/3):7.787*o+16/116))]},i.hsl.rgb=function(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[o=255*l,o,o];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var u=0;u<3;u++)(i=a+1/3*-(u-1))<0&&i++,i>1&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u]=255*o;return r},i.hsl.hsv=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,r=n,o=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=o<=1?o:2-o,[t,100*(0===i?2*r/(o+r):2*n/(i+n)),100*((i+n)/2)]},i.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,o=t-Math.floor(t),a=255*i*(1-n),s=255*i*(1-n*o),l=255*i*(1-n*(1-o));switch(i*=255,r){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}},i.hsv.hsl=function(e){var t,n,i,r=e[0],o=e[1]/100,a=e[2]/100,s=Math.max(a,.01);return i=(2-o)*a,n=o*s,[r,100*(n=(n/=(t=(2-o)*s)<=1?t:2-t)||0),100*(i/=2)]},i.hwb.rgb=function(e){var t,n,i,r,o,a,s,l=e[0]/360,u=e[1]/100,c=e[2]/100,d=u+c;switch(d>1&&(u/=d,c/=d),i=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(i=1-i),r=u+i*((n=1-c)-u),t){default:case 6:case 0:o=n,a=r,s=u;break;case 1:o=r,a=n,s=u;break;case 2:o=u,a=n,s=r;break;case 3:o=u,a=r,s=n;break;case 4:o=r,a=u,s=n;break;case 5:o=n,a=u,s=r}return[255*o,255*a,255*s]},i.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},i.xyz.rgb=function(e){var t,n,i,r=e[0]/100,o=e[1]/100,a=e[2]/100;return n=-.9689*r+1.8758*o+.0415*a,i=.0557*r+-.204*o+1.057*a,t=(t=3.2406*r+-1.5372*o+-.4986*a)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},i.xyz.lab=function(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},i.lab.xyz=function(e){var t,n,i,r=e[0];t=e[1]/500+(n=(r+16)/116),i=n-e[2]/200;var o=Math.pow(n,3),a=Math.pow(t,3),s=Math.pow(i,3);return n=o>.008856?o:(n-16/116)/7.787,t=a>.008856?a:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,[t*=95.047,n*=100,i*=108.883]},i.lab.lch=function(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]},i.lch.lab=function(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]},i.rgb.ansi16=function(e){var t=e[0],n=e[1],r=e[2],o=1 in arguments?arguments[1]:i.rgb.hsv(e)[2];if(0===(o=Math.round(o/50)))return 30;var a=30+(Math.round(r/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===o&&(a+=60),a},i.hsv.ansi16=function(e){return i.rgb.ansi16(i.hsv.rgb(e),e[2])},i.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},i.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},i.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},i.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},i.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map(function(e){return e+e}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},i.rgb.hcg=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255,o=Math.max(Math.max(n,i),r),a=Math.min(Math.min(n,i),r),s=o-a;return t=s<=0?0:o===n?(i-r)/s%6:o===i?2+(r-n)/s:4+(n-i)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?a/(1-s):0)]},i.hsl.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=1,r=0;return(i=n<.5?2*t*n:2*t*(1-n))<1&&(r=(n-.5*i)/(1-i)),[e[0],100*i,100*r]},i.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=t*n,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},i.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];var r,o=[0,0,0],a=t%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:o[0]=1,o[1]=s,o[2]=0;break;case 1:o[0]=l,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=s;break;case 3:o[0]=0,o[1]=l,o[2]=1;break;case 4:o[0]=s,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=l}return r=(1-n)*i,[255*(n*o[0]+r),255*(n*o[1]+r),255*(n*o[2]+r)]},i.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},i.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},i.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},i.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,i=n-t,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},i.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},i.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},i.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},i.gray.hsl=i.gray.hsv=function(e){return[0,0,e[0]]},i.gray.hwb=function(e){return[0,100,e[0]]},i.gray.cmyk=function(e){return[0,0,0,e[0]]},i.gray.lab=function(e){return[e[0],0,0]},i.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},i.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}});He.rgb,He.hsl,He.hsv,He.hwb,He.cmyk,He.xyz,He.lab,He.lch,He.hex,He.keyword,He.ansi16,He.ansi256,He.hcg,He.apple,He.gray;var je={};Object.keys(He).forEach(function(e){je[e]={},Object.defineProperty(je[e],"channels",{value:He[e].channels}),Object.defineProperty(je[e],"labels",{value:He[e].labels});var n=function(e){for(var n=t(e),r={},o=Object.keys(n),a=o.length,s=0;s<a;s++){var l=o[s];null!==n[l].parent&&(r[l]=i(l,n))}return r}(e);Object.keys(n).forEach(function(t){var i=n[t];je[e][t]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(i),je[e][t].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)})});var Ve=je,ze={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ue={getRgba:r,getHsla:o,getRgb:function(e){var t=r(e);return t&&t.slice(0,3)},getHsl:function(e){var t=o(e);return t&&t.slice(0,3)},getHwb:a,getAlpha:function(e){var t=r(e);return t?t[3]:(t=o(e))?t[3]:(t=a(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+d(e[0])+d(e[1])+d(e[2])+(t>=0&&t<1?d(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?s(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:s,percentString:function(e,t){if(t<1||e[3]&&e[3]<1)return l(e,t);var n=Math.round(e[0]/255*100),i=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return"rgb("+n+"%, "+i+"%, "+r+"%)"},percentaString:l,hslString:function(e,t){return t<1||e[3]&&e[3]<1?u(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:u,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return We[e.slice(0,3)]}},We={};for(var qe in ze)We[ze[qe]]=qe;var Ye=function(e){return e instanceof Ye?e:this instanceof Ye?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=Ue.getRgba(e))?this.setValues("rgb",t):(t=Ue.getHsla(e))?this.setValues("hsl",t):(t=Ue.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new Ye(e);var t};Ye.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return Ue.hexString(this.values.rgb)},rgbString:function(){return Ue.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return Ue.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return Ue.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return Ue.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return Ue.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return Ue.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return Ue.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,i=void 0===t?.5:t,r=2*i-1,o=this.alpha()-n.alpha(),a=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new Ye,i=this.values,r=n.values;for(var o in i)i.hasOwnProperty(o)&&(e=i[o],"[object Array]"===(t={}.toString.call(e))?r[o]=e.slice(0):"[object Number]"===t?r[o]=e:console.error("unexpected color value:",e));return n}},Ye.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Ye.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Ye.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},Ye.prototype.setValues=function(e,t){var n,i,r=this.values,o=this.spaces,a=this.maxes,s=1;if(this.valid=!0,"alpha"===e)s=t;else if(t.length)r[e]=t.slice(0,e.length),s=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];s=t.a}else if(void 0!==t[o[e][0]]){var l=o[e];for(n=0;n<e.length;n++)r[e][n]=t[l[n]];s=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===s?r.alpha:s)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(a[e][n],r[e][n])),r[e][n]=Math.round(i);for(var u in o)u!==e&&(r[u]=Ve[e][u](r[e]));return!0},Ye.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},Ye.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:n===i[t]?this:(i[t]=n,this.setValues(e,i),this)},"undefined"!=typeof window&&(window.Color=Ye);var Ge,Ke=Ye,Xe={noop:function(){},uid:(Ge=0,function(){return Ge++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return Xe.valueOrDefault(Xe.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,o,a;if(Xe.isArray(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(Xe.isObject(e))for(o=(a=Object.keys(e)).length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])},arrayEquals:function(e,t){var n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r instanceof Array&&o instanceof Array){if(!Xe.arrayEquals(r,o))return!1}else if(r!==o)return!1;return!0},clone:function(e){if(Xe.isArray(e))return e.map(Xe.clone);if(Xe.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=Xe.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){var r=t[e],o=n[e];Xe.isObject(r)&&Xe.isObject(o)?Xe.merge(r,o,i):t[e]=Xe.clone(o)},_mergerIf:function(e,t,n){var i=t[e],r=n[e];Xe.isObject(i)&&Xe.isObject(r)?Xe.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=Xe.clone(r))},merge:function(e,t,n){var i,r,o,a,s,l=Xe.isArray(t)?t:[t],u=l.length;if(!Xe.isObject(e))return e;for(i=(n=n||{}).merger||Xe._merger,r=0;r<u;++r)if(t=l[r],Xe.isObject(t))for(s=0,a=(o=Object.keys(t)).length;s<a;++s)i(o[s],e,t,n);return e},mergeIf:function(e,t){return Xe.merge(e,t,{merger:Xe._mergerIf})},extend:Object.assign||function(e){return Xe.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=Xe.inherits,e&&Xe.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,i){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},Je=Xe;Xe.callCallback=Xe.callback,Xe.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},Xe.getValueOrDefault=Xe.valueOrDefault,Xe.getValueAtIndexOrDefault=Xe.valueAtIndexOrDefault;var Ze={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Ze.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Ze.easeInBounce(2*e):.5*Ze.easeOutBounce(2*e-1)+.5}},Qe={effects:Ze};Je.easingEffects=Ze;var et=Math.PI,tt=et/180,nt=2*et,it=et/2,rt=et/4,ot=2*et/3,at={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,o){if(o){var a=Math.min(o,r/2,i/2),s=t+a,l=n+a,u=t+i-a,c=n+r-a;e.moveTo(t,l),s<u&&l<c?(e.arc(s,l,a,-et,-it),e.arc(u,l,a,-it,0),e.arc(u,c,a,0,it),e.arc(s,c,a,it,et)):s<u?(e.moveTo(s,n),e.arc(u,l,a,-it,it),e.arc(s,l,a,it,et+it)):l<c?(e.arc(s,l,a,-et,0),e.arc(s,c,a,0,et)):e.arc(s,l,a,-et,et),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,o){var a,s,l,u,c,d=(o||0)*tt;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(a=t.toString())||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(i,r),e.rotate(d),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,nt),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ot,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),d+=ot,e.lineTo(i+Math.sin(d)*n,r-Math.cos(d)*n),e.closePath();break;case"rectRounded":u=n-(c=.516*n),s=Math.cos(d+rt)*u,l=Math.sin(d+rt)*u,e.arc(i-s,r-l,c,d-et,d-it),e.arc(i+l,r-s,c,d-it,d),e.arc(i+s,r+l,c,d,d+it),e.arc(i-l,r+s,c,d+it,d+et),e.closePath();break;case"rect":if(!o){u=Math.SQRT1_2*n,e.rect(i-u,r-u,2*u,2*u);break}d+=rt;case"rectRot":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+l,r-s),e.lineTo(i+s,r+l),e.lineTo(i-l,r+s),e.closePath();break;case"crossRot":d+=rt;case"cross":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"star":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s),d+=rt,s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"line":s=Math.cos(d)*n,l=Math.sin(d)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(d)*n,r+Math.sin(d)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var o=(t.x+n.x)/2;e.lineTo(o,i?n.y:t.y),e.lineTo(o,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},st=at;Je.clear=at.clear,Je.drawRoundedRectangle=function(e){e.beginPath(),at.roundedRect.apply(at,arguments)};var lt={_set:function(e,t){return Je.merge(this[e]||(this[e]={}),t)}};lt._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var ut=lt,ct=Je.valueOrDefault,dt={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return Je.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t=ut.global,n=ct(e.fontSize,t.defaultFontSize),i={family:ct(e.fontFamily,t.defaultFontFamily),lineHeight:Je.options.toLineHeight(ct(e.lineHeight,t.defaultLineHeight),n),size:n,style:ct(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return i.string=function(e){return!e||Je.isNullOrUndef(e.size)||Je.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i},resolve:function(e,t,n,i){var r,o,a,s=!0;for(r=0,o=e.length;r<o;++r)if(void 0!==(a=e[r])&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==n&&Je.isArray(a)&&(a=a[n],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}},ft={_factorize:function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort(function(e,t){return e-t}).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},ht=ft;Je.log10=ft.log10;var pt=Je,mt=Qe,gt=st,vt=dt,bt=ht,yt={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};pt.easing=mt,pt.canvas=gt,pt.options=vt,pt.math=bt,pt.rtl=yt;var wt=function(e){pt.extend(this,e),this.initialize.apply(this,arguments)};pt.extend(wt.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=pt.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),function(e,t,n,i){var r,o,a,s,l,u,c,d,f,h=Object.keys(n);for(r=0,o=h.length;r<o;++r)if(u=n[a=h[r]],t.hasOwnProperty(a)||(t[a]=u),(s=t[a])!==u&&"_"!==a[0]){if(e.hasOwnProperty(a)||(e[a]=s),(c=typeof u)==typeof(l=e[a]))if("string"===c){if((d=Ke(l)).valid&&(f=Ke(u)).valid){t[a]=f.mix(d,i).rgbString();continue}}else if(pt.isFinite(l)&&pt.isFinite(u)){t[a]=l+(u-l)*i;continue}t[a]=u}}(i,r,n,e),t):(t._view=pt.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return pt.isNumber(this._model.x)&&pt.isNumber(this._model.y)}}),wt.extend=pt.inherits;var xt=wt,Ct=xt.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),_t=Ct;Object.defineProperty(Ct.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Ct.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),ut._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:pt.noop,onComplete:pt.noop}});var kt={animations:[],request:null,addAnimation:function(e,t,n,i){var r,o,a=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,o=a.length;r<o;++r)if(a[r].chart===e)return void(a[r]=t);a.push(t),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=pt.findIndex(this.animations,function(t){return t.chart===e});-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=pt.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,o=0;o<r.length;)t=(e=r[o]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),pt.callback(e.render,[t,e],t),pt.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(pt.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(o,1)):++o}},St=pt.options.resolve,Dt=["push","pop","shift","splice","unshift"],$t=function(e,t){this.initialize(e,t)};pt.extend($t.prototype,{
datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,i=this.getDataset(),r=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!i.xAxisID||(e.xAxisID=i.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!i.yAxisID||(e.yAxisID=i.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&f(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(e=0,t=i.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&f(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Dt.forEach(function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=i.apply(this,t);return pt.each(e._chartjs.listeners,function(e){"function"==typeof e[n]&&e[n].apply(e,t)}),r}})}))),n._data=r),n.resyncElements()},_configure:function(){this._config=pt.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&pt._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:pt.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},getStyle:function(e){var t,n=this.getMeta(),i=n.dataset;return this._configure(),i&&void 0===e?t=this._resolveDatasetElementOptions(i||{}):(e=e||0,t=this._resolveDataElementOptions(n.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,i,r,o,a=this,s=a.chart,l=a._config,u=e.custom||{},c=s.options.elements[a.datasetElementType.prototype._type]||{},d=a._datasetElementOptions,f={},h={chart:s,dataset:a.getDataset(),datasetIndex:a.index,hover:t};for(n=0,i=d.length;n<i;++n)r=d[n],o=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,f[r]=St([u[o],l[o],c[o]],h);return f},_resolveDataElementOptions:function(e,t){var n=this,i=e&&e.custom,r=n._cachedDataOpts;if(r&&!i)return r;var o,a,s,l,u=n.chart,c=n._config,d=u.options.elements[n.dataElementType.prototype._type]||{},f=n._dataElementOptions,h={},p={chart:u,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},m={cacheable:!i};if(i=i||{},pt.isArray(f))for(a=0,s=f.length;a<s;++a)h[l=f[a]]=St([i[l],c[l],d[l]],p,t,m);else for(a=0,s=(o=Object.keys(f)).length;a<s;++a)h[l=o[a]]=St([i[l],c[f[l]],c[l],d[l]],p,t,m);return m.cacheable&&(n._cachedDataOpts=Object.freeze(h)),h},removeHoverStyle:function(e){pt.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,o=pt.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=St([i.hoverBackgroundColor,t.hoverBackgroundColor,o(r.backgroundColor)],void 0,n),r.borderColor=St([i.hoverBorderColor,t.hoverBorderColor,o(r.borderColor)],void 0,n),r.borderWidth=St([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,i,r,o,a=this.getMeta().dataset,s={};if(a){for(o=a._model,r=this._resolveDatasetElementOptions(a,!0),e=0,t=(i=Object.keys(r)).length;e<t;++e)s[n=i[e]]=o[n],o[n]=r[n];a.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,i=t.length;i<n?e.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),$t.extend=pt.inherits;var Tt=$t,Et=2*Math.PI;ut._set("global",{elements:{arc:{backgroundColor:ut.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var At=xt.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=pt.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,o=i.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=Et;for(;r>s;)r-=Et;for(;r<a;)r+=Et;var l=r>=a&&r<=s,u=o>=n.innerRadius&&o<=n.outerRadius;return l&&u}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/Et)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+Et,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%Et}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&p(t,n,r),t.restore()}}),Ot=pt.valueOrDefault,Mt=ut.global.defaultColor;ut._set("global",{elements:{line:{tension:.4,backgroundColor:Mt,borderWidth:3,borderColor:Mt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Nt=xt.extend({_type:"line",draw:function(){var e,t,n,i=this,r=i._view,o=i._chart.ctx,a=r.spanGaps,s=i._children.slice(),l=ut.global,u=l.elements.line,c=-1,d=i._loop;if(s.length){if(i._loop){for(e=0;e<s.length;++e)if(t=pt.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),d=a;break}d&&s.push(s[0])}for(o.save(),o.lineCap=r.borderCapStyle||u.borderCapStyle,o.setLineDash&&o.setLineDash(r.borderDash||u.borderDash),o.lineDashOffset=Ot(r.borderDashOffset,u.borderDashOffset),o.lineJoin=r.borderJoinStyle||u.borderJoinStyle,o.lineWidth=Ot(r.borderWidth,u.borderWidth),o.strokeStyle=r.borderColor||l.defaultColor,o.beginPath(),(n=s[0]._view).skip||(o.moveTo(n.x,n.y),c=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===c?pt.previousItem(s,e):s[c],n.skip||(c!==e-1&&!a||-1===c?o.moveTo(n.x,n.y):pt.canvas.lineTo(o,t._view,n),c=e);d&&o.closePath(),o.stroke(),o.restore()}}}),Pt=pt.valueOrDefault,It=ut.global.defaultColor;ut._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:It,borderColor:It,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Rt=xt.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:m,inXRange:m,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,o=t.radius,a=t.x,s=t.y,l=ut.global,u=l.defaultColor;t.skip||(void 0===e||pt.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||u,n.lineWidth=Pt(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||u,pt.canvas.drawPoint(n,i,o,a,s,r))}}),Lt=ut.global.defaultColor;ut._set("global",{elements:{rectangle:{backgroundColor:Lt,borderColor:Lt,borderSkipped:"bottom",borderWidth:0}}});var Bt=xt.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=v(e),n=t.right-t.left,i=t.bottom-t.top,r=y(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(t),i=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return w(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return g(n)?w(n,e,null):w(n,null,t)},inXRange:function(e){return w(this._view,e,null)},inYRange:function(e){return w(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return g(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return g(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),Ft={},Ht=At,jt=Nt,Vt=Rt,zt=Bt;Ft.Arc=Ht,Ft.Line=jt,Ft.Point=Vt,Ft.Rectangle=zt;var Ut=pt._deprecated,Wt=pt.valueOrDefault;ut._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),ut._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var qt=Tt.extend({dataElementType:Ft.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;Tt.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,Ut("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),Ut("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),Ut("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),Ut("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),Ut("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=i.length;t<n;++t)this.updateElement(i[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=i.getDataset(),a=i._resolveDataElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:o.label,label:i.chart.data.labels[t]},pt.isArray(o.data[t])&&(e._model.borderSkipped=null),i._updateElementGeometry(e,t,n,a),e.pivot()},_updateElementGeometry:function(e,t,n,i){var r=this,o=e._model,a=r._getValueScale(),s=a.getBasePixel(),l=a.isHorizontal(),u=r._ruler||r.getRuler(),c=r.calculateBarValuePixels(r.index,t,i),d=r.calculateBarIndexPixels(r.index,t,u,i);o.horizontal=l,o.base=n?s:c.base,o.x=l?n?s:c.head:d.center,o.y=l?d.center:n?s:c.head,o.height=l?d.size:void 0,o.width=l?void 0:d.size},_getStacks:function(e){var t,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),o=i.options.stacked,a=r.length,s=[];for(t=0;t<a&&(n=r[t],(!1===o||-1===s.indexOf(n.stack)||void 0===o&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this._getIndexScale(),i=[];for(e=0,t=this.getMeta().data.length;e<t;++e)i.push(n.getPixelForValue(null,e,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(e,t,n){var i,r,o,a,s,l,u,c=this.chart,d=this._getValueScale(),f=d.isHorizontal(),h=c.data.datasets,p=d._getMatchingVisibleMetas(this._type),m=d._parseValue(h[e].data[t]),g=n.minBarLength,v=d.options.stacked,b=this.getMeta().stack,y=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,w=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,x=p.length;if(v||void 0===v&&void 0!==b)for(i=0;i<x&&(r=p[i]).index!==e;++i)r.stack===b&&(o=void 0===(u=d._parseValue(h[r.index].data[t])).start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(m.min<0&&o<0||m.max>=0&&o>0)&&(y+=o));return a=d.getPixelForValue(y),l=(s=d.getPixelForValue(y+w))-a,void 0!==g&&Math.abs(l)<g&&(l=g,s=w>=0&&!f||w<0&&f?a-g:a+g),{size:l,base:a,head:s,center:s+l/2}},calculateBarIndexPixels:function(e,t,n,i){var r="flex"===i.barThickness?function(e,t,n){var i,r=t.pixels,o=r[e],a=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;return null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a),i=o-(o-Math.min(a,s))/2*l,{chunk:Math.abs(s-a)/2*l/t.stackCount,ratio:n.barPercentage,start:i}}(t,n,i):x(t,n,i),o=this.getStackIndex(e,this.getMeta().stack),a=r.start+r.chunk*o+r.chunk/2,s=Math.min(Wt(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,o=0;for(pt.canvas.clipArea(e.ctx,e.chartArea);o<r;++o){var a=t._parseValue(i.data[o]);isNaN(a.min)||isNaN(a.max)||n[o].draw()}pt.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=pt.extend({},Tt.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,i=e._getValueScale().options;return t.barPercentage=Wt(n.barPercentage,t.barPercentage),t.barThickness=Wt(n.barThickness,t.barThickness),t.categoryPercentage=Wt(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Wt(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Wt(i.minBarLength,t.minBarLength),t}}),Yt=pt.valueOrDefault,Gt=pt.options.resolve;ut._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}});var Kt=Tt.extend({dataElementType:Ft.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;pt.each(n,function(n,i){t.updateElement(n,i,e)})},updateElement:function(e,t,n){var i=this,r=i.getMeta(),o=e.custom||{},a=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveDataElementOptions(e,t),u=i.getDataset().data[t],c=i.index,d=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof u?u:NaN,t,c),f=n?s.getBasePixel():s.getPixelForValue(u,t,c);e._xScale=a,e._yScale=s,e._options=l,e._datasetIndex=c,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:o.skip||isNaN(d)||isNaN(f),x:d,y:f},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=pt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Yt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Yt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Yt(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,i=n.chart,r=n.getDataset(),o=e.custom||{},a=r.data[t]||{},s=Tt.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=pt.extend({},s)),s.radius=Gt([o.radius,a.r,n._config.radius,i.options.elements.point.radius],l,t),s}}),Xt=pt.valueOrDefault,Jt=Math.PI,Zt=2*Jt,Qt=Jt/2;ut._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data,a=o.datasets,s=o.labels;if(r.setAttribute("class",e.id+"-legend"),a.length)for(t=0,n=a[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o]&&(r.data[o].hidden=!r.data[o].hidden);a.update()}},cutoutPercentage:50,rotation:-Qt,circumference:Zt,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return pt.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var en=Tt.extend({dataElementType:Ft.Arc,linkScales:pt.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i,r,o=this,a=o.chart,s=a.chartArea,l=a.options,u=1,c=1,d=0,f=0,h=o.getMeta(),p=h.data,m=l.cutoutPercentage/100||0,g=l.circumference,v=o._getRingWeight(o.index);if(g<Zt){var b=l.rotation%Zt,y=(b+=b>=Jt?-Zt:b<-Jt?Zt:0)+g,w=Math.cos(b),x=Math.sin(b),C=Math.cos(y),_=Math.sin(y),k=b<=0&&y>=0||y>=Zt,S=b<=Qt&&y>=Qt||y>=Zt+Qt,D=b<=-Qt&&y>=-Qt||y>=Jt+Qt,$=b===-Jt||y>=Jt?-1:Math.min(w,w*m,C,C*m),T=D?-1:Math.min(x,x*m,_,_*m),E=k?1:Math.max(w,w*m,C,C*m),A=S?1:Math.max(x,x*m,_,_*m);u=(E-$)/2,c=(A-T)/2,d=-(E+$)/2,f=-(A+T)/2}for(i=0,r=p.length;i<r;++i)p[i]._options=o._resolveDataElementOptions(p[i],i);for(a.borderWidth=o.getMaxBorderWidth(),t=(s.right-s.left-a.borderWidth)/u,n=(s.bottom-s.top-a.borderWidth)/c,a.outerRadius=Math.max(Math.min(t,n)/2,0),a.innerRadius=Math.max(a.outerRadius*m,0),a.radiusLength=(a.outerRadius-a.innerRadius)/(o._getVisibleDatasetWeightTotal()||1),a.offsetX=d*a.outerRadius,a.offsetY=f*a.outerRadius,h.total=o.calculateTotal(),o.outerRadius=a.outerRadius-a.radiusLength*o._getRingWeightOffset(o.index),o.innerRadius=Math.max(o.outerRadius-a.radiusLength*v,0),i=0,r=p.length;i<r;++i)o.updateElement(p[i],i,e)},updateElement:function(e,t,n){var i=this,r=i.chart,o=r.chartArea,a=r.options,s=a.animation,l=(o.left+o.right)/2,u=(o.top+o.bottom)/2,c=a.rotation,d=a.rotation,f=i.getDataset(),h=n&&s.animateRotate?0:e.hidden?0:i.calculateCircumference(f.data[t])*(a.circumference/Zt),p=n&&s.animateScale?0:i.innerRadius,m=n&&s.animateScale?0:i.outerRadius,g=e._options||{};pt.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,borderAlign:g.borderAlign,x:l+r.offsetX,y:u+r.offsetY,startAngle:c,endAngle:d,circumference:h,outerRadius:m,innerRadius:p,label:pt.valueAtIndexOrDefault(f.label,t,r.data.labels[t])}});var v=e._model;n&&s.animateRotate||(v.startAngle=0===t?a.rotation:i.getMeta().data[t-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return pt.each(n.data,function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))}),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Zt*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,o,a,s,l,u=0,c=this.chart;if(!e)for(t=0,n=c.data.datasets.length;t<n;++t)if(c.isDatasetVisible(t)){e=(i=c.getDatasetMeta(t)).data,t!==this.index&&(o=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],o?(o._configure(),a=o._resolveDataElementOptions(r,t)):a=r._options,"inner"!==a.borderAlign&&(s=a.borderWidth,u=(l=a.hoverBorderWidth)>(u=s>u?s:u)?l:u);return u},setHoverStyle:function(e){var t=e._model,n=e._options,i=pt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Xt(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Xt(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Xt(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Xt(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});ut._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),ut._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var tn=qt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),nn=pt.valueOrDefault,rn=pt.options.resolve,on=pt.canvas._isPointInArea;ut._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var an=Tt.extend({datasetElementType:Ft.Line,dataElementType:Ft.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],s=i.chart.options,l=i._config,u=i._showLine=nn(l.showLine,s.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),u&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=i._yScale,o._datasetIndex=i.index,o._children=a,o._model=i._resolveDatasetElementOptions(o),o.pivot()),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(u&&0!==o._model.tension&&i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i,r,o=this,a=o.getMeta(),s=e.custom||{},l=o.getDataset(),u=o.index,c=l.data[t],d=o._xScale,f=o._yScale,h=a.dataset._model,p=o._resolveDataElementOptions(e,t);i=d.getPixelForValue("object"==typeof c?c:NaN,t,u),r=n?f.getBasePixel():o.calculatePointY(c,t,u),e._xScale=d,e._yScale=f,e._options=p,e._datasetIndex=u,e._index=t,e._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:nn(s.tension,h?h.tension:0),steppedLine:!!h&&h.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,i=e.custom||{},r=t.chart.options,o=r.elements.line,a=Tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return a.spanGaps=nn(n.spanGaps,r.spanGaps),a.tension=nn(n.lineTension,o.tension),a.steppedLine=rn([i.steppedLine,n.steppedLine,o.stepped]),a.clip=k(nn(n.clip,_(t._xScale,t._yScale,a.borderWidth))),a},calculatePointY:function(e,t,n){var i,r,o,a,s,l,u,c=this.chart,d=this._yScale,f=0,h=0;if(d.options.stacked){for(s=+d.getRightValue(e),u=(l=c._getSortedVisibleDatasetMetas()).length,i=0;i<u&&(o=l[i]).index!==n;++i)r=c.data.datasets[o.index],"line"===o.type&&o.yAxisID===d.id&&((a=+d.getRightValue(r.data[t]))<0?h+=a||0:f+=a||0);return s<0?d.getPixelForValue(h+s):d.getPixelForValue(f+s)}return d.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,i,r,o=this.chart,a=this.getMeta(),s=a.dataset._model,l=o.chartArea,u=a.data||[];if(s.spanGaps&&(u=u.filter(function(e){return!e._model.skip})),"monotone"===s.cubicInterpolationMode)pt.splineCurveMonotone(u);else for(t=0,n=u.length;t<n;++t)i=u[t]._model,r=pt.splineCurve(pt.previousItem(u,t)._model,i,pt.nextItem(u,t)._model,s.tension),i.controlPointPreviousX=r.previous.x,i.controlPointPreviousY=r.previous.y,i.controlPointNextX=r.next.x,i.controlPointNextY=r.next.y;if(o.options.elements.line.capBezierPoints)for(t=0,n=u.length;t<n;++t)i=u[t]._model,on(i,l)&&(t>0&&on(u[t-1]._model,l)&&(i.controlPointPreviousX=e(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=e(i.controlPointPreviousY,l.top,l.bottom)),t<u.length-1&&on(u[t+1]._model,l)&&(i.controlPointNextX=e(i.controlPointNextX,l.left,l.right),i.controlPointNextY=e(i.controlPointNextY,l.top,l.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),i=n.data||[],r=t.chartArea,o=t.canvas,a=0,s=i.length;for(this._showLine&&(e=n.dataset._model.clip,pt.canvas.clipArea(t.ctx,{left:!1===e.left?0:r.left-e.left,right:!1===e.right?o.width:r.right+e.right,top:!1===e.top?0:r.top-e.top,bottom:!1===e.bottom?o.height:r.bottom+e.bottom}),n.dataset.draw(),pt.canvas.unclipArea(t.ctx));a<s;++a)i[a].draw(r)},setHoverStyle:function(e){var t=e._model,n=e._options,i=pt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=nn(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=nn(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=nn(n.hoverBorderWidth,n.borderWidth),t.radius=nn(n.hoverRadius,n.radius)}}),sn=pt.options.resolve;ut._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data,a=o.datasets,s=o.labels;if(r.setAttribute("class",e.id+"-legend"),a.length)for(t=0,n=a[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(n,i){var r=e.getDatasetMeta(0),o=r.controller.getStyle(i);return{text:n,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,lineWidth:o.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}}):[]}},onClick:function(e,t){var n,i,r,o=t.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(r=a.getDatasetMeta(n)).data[o].hidden=!r.data[o].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var ln=Tt.extend({dataElementType:Ft.Arc,linkScales:pt.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i,r=this,o=r.getDataset(),a=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],u=r._angles=[],c=a.data;for(r._updateRadius(),a.count=r.countVisibleElements(),t=0,n=o.data.length;t<n;t++)l[t]=s,i=r._computeAngle(t),u[t]=i,s+=i;for(t=0,n=c.length;t<n;++t)c[t]._options=r._resolveDataElementOptions(c[t],t),r.updateElement(c[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,o=i.getDataset(),a=r.options,s=a.animation,l=r.scale,u=r.data.labels,c=l.xCenter,d=l.yCenter,f=a.startAngle,h=e.hidden?0:l.getDistanceFromCenterForValue(o.data[t]),p=i._starts[t],m=p+(e.hidden?0:i._angles[t]),g=s.animateScale?0:l.getDistanceFromCenterForValue(o.data[t]),v=e._options||{};pt.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:c,y:d,innerRadius:0,outerRadius:n?g:h,startAngle:n&&s.animateRotate?f:p,endAngle:n&&s.animateRotate?f:m,label:pt.valueAtIndexOrDefault(u,t,u[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return pt.each(t.data,function(t,i){isNaN(e.data[i])||t.hidden||n++}),n},setHoverStyle:function(e){var t=e._model,n=e._options,i=pt.getHoverColor,r=pt.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();if(isNaN(i.data[e])||r.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index};return sn([t.chart.options.elements.arc.angle,2*Math.PI/n],o,e)}});ut._set("pie",pt.clone(ut.doughnut)),ut._set("pie",{cutoutPercentage:0});var un=en,cn=pt.valueOrDefault;ut._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",
tension:0}}});var dn=Tt.extend({datasetElementType:Ft.Line,dataElementType:Ft.Point,linkScales:pt.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i=this,r=i.getMeta(),o=r.dataset,a=r.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),o._scale=s,o._datasetIndex=i.index,o._children=a,o._loop=!0,o._model=i._resolveDatasetElementOptions(o),o.pivot(),t=0,n=a.length;t<n;++t)i.updateElement(a[t],t,e);for(i.updateBezierControlPoints(),t=0,n=a.length;t<n;++t)a[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},o=i.getDataset(),a=i.chart.scale,s=a.getPointPositionForValue(t,o.data[t]),l=i._resolveDataElementOptions(e,t),u=i.getMeta().dataset._model,c=n?a.xCenter:s.x,d=n?a.yCenter:s.y;e._scale=a,e._options=l,e._datasetIndex=i.index,e._index=t,e._model={x:c,y:d,skip:r.skip||isNaN(c)||isNaN(d),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:cn(r.tension,u?u.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,i=Tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return i.spanGaps=cn(t.spanGaps,n.spanGaps),i.tension=cn(t.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){function e(e,t,n){return Math.max(Math.min(e,n),t)}var t,n,i,r,o=this.getMeta(),a=this.chart.chartArea,s=o.data||[];for(o.dataset._model.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),t=0,n=s.length;t<n;++t)i=s[t]._model,r=pt.splineCurve(pt.previousItem(s,t,!0)._model,i,pt.nextItem(s,t,!0)._model,i.tension),i.controlPointPreviousX=e(r.previous.x,a.left,a.right),i.controlPointPreviousY=e(r.previous.y,a.top,a.bottom),i.controlPointNextX=e(r.next.x,a.left,a.right),i.controlPointNextY=e(r.next.y,a.top,a.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=pt.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=cn(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=cn(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=cn(n.hoverBorderWidth,n.borderWidth),t.radius=cn(n.hoverRadius,n.radius)}});ut._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),ut._set("global",{datasets:{scatter:{showLine:!1}}});var fn={bar:qt,bubble:Kt,doughnut:en,horizontalBar:tn,line:an,polarArea:ln,pie:un,radar:dn,scatter:an},hn={modes:{single:function(e,t){var n=S(t,e),i=[];return D(e,function(e){if(e.inRange(n.x,n.y))return i.push(e),i}),i.slice(0,1)},label:A,index:A,dataset:function(e,t,n){var i=S(t,e);n.axis=n.axis||"xy";var r=E(n.axis),o=n.intersect?$(e,i):T(e,i,!1,r);return o.length>0&&(o=e.getDatasetMeta(o[0]._datasetIndex).data),o},"x-axis":function(e,t){return A(e,t,{intersect:!1})},point:function(e,t){return $(e,S(t,e))},nearest:function(e,t,n){var i=S(t,e);n.axis=n.axis||"xy";var r=E(n.axis);return T(e,i,n.intersect,r)},x:function(e,t,n){var i=S(t,e),r=[],o=!1;return D(e,function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r},y:function(e,t,n){var i=S(t,e),r=[],o=!1;return D(e,function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(o=!0)}),n.intersect&&!o&&(r=[]),r}}},pn=pt.extend;ut._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var mn,gn={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],o=r.length,a=0;a<o;++a)i=r[a],n.hasOwnProperty(i)&&(t[i]=n[i])},update:function(e,t,n){if(e){var i=e.options.layout||{},r=pt.options.toPadding(i.padding),o=t-r.width,a=n-r.height,s=function(e){var t=function(e){var t,n,i,r=[];for(t=0,n=(e||[]).length;t<n;++t)i=e[t],r.push({index:t,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(e),n=M(O(t,"left"),!0),i=M(O(t,"right")),r=M(O(t,"top"),!0),o=M(O(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(o),chartArea:O(t,"chartArea"),vertical:n.concat(i),horizontal:r.concat(o)}}(e.boxes),l=s.vertical,u=s.horizontal,c=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,vBoxMaxWidth:o/2/l.length,hBoxMaxHeight:a/2}),d=pn({maxPadding:pn({},r),w:o,h:a,x:r.left,y:r.top},r);!function(e,t){var n,i,r;for(n=0,i=e.length;n<i;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight}(l.concat(u),c),R(l,d,c),R(u,d,c)&&R(l,d,c),function(e){function t(t){var i=Math.max(n[t]-e[t],0);return e[t]+=i,i}var n=e.maxPadding;e.y+=t("top"),e.x+=t("left"),t("right"),t("bottom")}(d),L(s.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,L(s.rightAndBottom,d,c),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},pt.each(s.chartArea,function(t){var n=t.box;pn(n,e.chartArea),n.update(d.w,d.h)})}}},vn=(mn=Object.freeze({__proto__:null,"default":"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&mn["default"]||mn,bn="$chartjs",yn="chartjs-size-monitor",wn="chartjs-render-monitor",xn="chartjs-render-animation",Cn=["animationstart","webkitAnimationStart"],_n={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},kn=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0},Sn={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e[bn]||(e[bn]={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),e.appendChild(i)}}(t.host?t:document.head,vn)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[bn]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=B(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var a=B(e,"height");void 0!==o&&(e.height=a)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[bn]){var n=t[bn].initial;["height","width"].forEach(function(e){var i=n[e];pt.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),pt.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[bn]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n[bn]||(n[bn]={});F(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=_n[e.type]||e.type,i=pt.getRelativePosition(e,t);return j(n,t,i.x,i.y,e)}(t,e))})}else z(i,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n[bn]||{}).proxies||{})[e.id+"_"+t];r&&H(i,t,r)}else U(i)}};pt.addEvent=F,pt.removeEvent=H;var Dn=Sn._enabled?Sn:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},$n=pt.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Dn);ut._set("global",{plugins:{}});var Tn={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)}),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach(function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,o,a,s,l=this.descriptors(e),u=l.length;for(i=0;i<u;++i)if("function"==typeof(s=(o=(r=l[i]).plugin)[t])&&((a=[e].concat(n||[])).push(r.options),!1===s.apply(o,a)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],r=e&&e.config||{},o=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach(function(e){if(-1===n.indexOf(e)){var t=e.id,r=o[t];!1!==r&&(!0===r&&(r=pt.clone(ut.global.plugins[t])),n.push(e),i.push({plugin:e,options:r||{}}))}}),t.descriptors=i,t.id=this._cacheId,i},_invalidate:function(e){delete e.$plugins}},En={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=pt.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?pt.merge({},[ut.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=pt.extend(this.defaults[e],t))},addScalesToLayout:function(e){pt.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,gn.addBox(e,t)})}},An=pt.valueOrDefault,On=pt.rtl.getRtlAdapter;ut._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:pt.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var o=e[0];o.label?n=o.label:o.xLabel?n=o.xLabel:r>0&&o.index<r&&(n=i[o.index])}return n},afterTitle:pt.noop,beforeBody:pt.noop,beforeLabel:pt.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),n+=pt.isNullOrUndef(e.value)?e.yLabel:e.value},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:pt.noop,afterBody:pt.noop,beforeFooter:pt.noop,footer:pt.noop,afterFooter:pt.noop}}});var Mn={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,r+=s.y,++o}}return{x:i/o,y:r/o}},nearest:function(e,t){var n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n];if(l&&l.hasValue()){var u=l.getCenterPoint(),c=pt.distanceBetweenPoints(t,u);c<s&&(s=c,r=l)}}if(r){var d=r.tooltipPosition();o=d.x,a=d.y}return{x:o,y:a}}},Nn=xt.extend({initialize:function(){this._model=Y(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,i=n.beforeTitle.apply(e,arguments),r=n.title.apply(e,arguments),o=n.afterTitle.apply(e,arguments),a=[];return a=W(a,q(i)),a=W(a,q(r)),a=W(a,q(o))},getBeforeBody:function(){return K(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,i=n._options.callbacks,r=[];return pt.each(e,function(e){var o={before:[],lines:[],after:[]};W(o.before,q(i.beforeLabel.call(n,e,t))),W(o.lines,i.label.call(n,e,t)),W(o.after,q(i.afterLabel.call(n,e,t))),r.push(o)}),r},getAfterBody:function(){return K(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),o=[];return o=W(o,q(n)),o=W(o,q(i)),o=W(o,q(r))},update:function(e){var t,n,i,r,o,a,s,l,u,c,d=this,f=d._options,h=d._model,p=d._model=Y(f),m=d._active,g=d._data,v={xAlign:h.xAlign,yAlign:h.yAlign},b={x:h.x,y:h.y},y={width:h.width,height:h.height},w={x:h.caretX,y:h.caretY};if(m.length){p.opacity=1;var x=[],C=[];w=Mn[f.position].call(d,m,d._eventPosition);var _=[];for(t=0,n=m.length;t<n;++t)_.push((i=m[t],r=void 0,o=void 0,a=void 0,s=void 0,l=void 0,u=void 0,c=void 0,r=i._xScale,o=i._yScale||i._scale,a=i._index,s=i._datasetIndex,l=i._chart.getDatasetMeta(s).controller,u=l._getIndexScale(),c=l._getValueScale(),{xLabel:r?r.getLabelForIndex(a,s):"",yLabel:o?o.getLabelForIndex(a,s):"",label:u?""+u.getLabelForIndex(a,s):"",value:c?""+c.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:i._model.x,y:i._model.y}));f.filter&&(_=_.filter(function(e){return f.filter(e,g)})),f.itemSort&&(_=_.sort(function(e,t){return f.itemSort(e,t,g)})),pt.each(_,function(e){x.push(f.callbacks.labelColor.call(d,e,d._chart)),C.push(f.callbacks.labelTextColor.call(d,e,d._chart))}),p.title=d.getTitle(_,g),p.beforeBody=d.getBeforeBody(_,g),p.body=d.getBody(_,g),p.afterBody=d.getAfterBody(_,g),p.footer=d.getFooter(_,g),p.x=w.x,p.y=w.y,p.caretPadding=f.caretPadding,p.labelColors=x,p.labelTextColors=C,p.dataPoints=_,y=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,o=t.body,a=o.reduce(function(e,t){return e+t.before.length+t.lines.length+t.after.length},0);a+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,u=t.titleFontSize,c=t.bodyFontSize,d=t.footerFontSize;i+=s*u,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=a*c,i+=a?(a-1)*t.bodySpacing:0,i+=l?t.footerMarginTop:0,i+=l*d,i+=l?(l-1)*t.footerSpacing:0;var f=0,h=function(e){r=Math.max(r,n.measureText(e).width+f)};return n.font=pt.fontString(u,t._titleFontStyle,t._titleFontFamily),pt.each(t.title,h),n.font=pt.fontString(c,t._bodyFontStyle,t._bodyFontFamily),pt.each(t.beforeBody.concat(t.afterBody),h),f=t.displayColors?c+2:0,pt.each(o,function(e){pt.each(e.before,h),pt.each(e.lines,h),pt.each(e.after,h)}),f=0,n.font=pt.fontString(d,t._footerFontStyle,t._footerFontFamily),pt.each(t.footer,h),{width:r+=2*t.xPadding,height:i}}(this,p),b=function(e,t,n,i){var r=e.x,o=e.y,a=e.caretSize,s=e.caretPadding,l=e.cornerRadius,u=n.xAlign,c=n.yAlign,d=a+s,f=l+s;return"right"===u?r-=t.width:"center"===u&&((r-=t.width/2)+t.width>i.width&&(r=i.width-t.width),r<0&&(r=0)),"top"===c?o+=d:o-="bottom"===c?t.height+d:t.height/2,"center"===c?"left"===u?r+=d:"right"===u&&(r-=d):"left"===u?r-=f:"right"===u&&(r+=f),{x:r,y:o}}(p,y,v=function(e,t){var n,i,r,o,a,s=e._model,l=e._chart,u=e._chart.chartArea,c="center",d="center";s.y<t.height?d="top":s.y>l.height-t.height&&(d="bottom");var f=(u.left+u.right)/2,h=(u.top+u.bottom)/2;"center"===d?(n=function(e){return e<=f},i=function(e){return e>f}):(n=function(e){return e<=t.width/2},i=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},o=function(e){return e-t.width-s.caretSize-s.caretPadding<0},a=function(e){return e<=h?"top":"bottom"},n(s.x)?(c="left",r(s.x)&&(c="center",d=a(s.y))):i(s.x)&&(c="right",o(s.x)&&(c="center",d=a(s.y)));var p=e._options;return{xAlign:p.xAlign?p.xAlign:c,yAlign:p.yAlign?p.yAlign:d}}(this,y),d._chart)}else p.opacity=0;return p.xAlign=v.xAlign,p.yAlign=v.yAlign,p.x=b.x,p.y=b.y,p.width=y.width,p.height=y.height,p.caretX=w.x,p.caretY=w.y,d._model=p,e&&f.custom&&f.custom.call(d,p),d},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(e,t,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var i,r,o,a,s,l,u=n.caretSize,c=n.cornerRadius,d=n.xAlign,f=n.yAlign,h=e.x,p=e.y,m=t.width,g=t.height;if("center"===f)s=p+g/2,"left"===d?(r=(i=h)-u,o=i,a=s+u,l=s-u):(r=(i=h+m)+u,o=i,a=s-u,l=s+u);else if("left"===d?(i=(r=h+c+u)-u,o=r+u):"right"===d?(i=(r=h+m-c-u)-u,o=r+u):(i=(r=n.caretX)-u,o=r+u),"top"===f)s=(a=p)-u,l=a;else{s=(a=p+g)+u,l=a;var v=o;o=i,i=v}return{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}},drawTitle:function(e,t,n){var i,r,o,a=t.title,s=a.length;if(s){var l=On(t.rtl,t.x,t.width);for(e.x=G(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=pt.fontString(i,t._titleFontStyle,t._titleFontFamily),o=0;o<s;++o)n.fillText(a[o],l.x(e.x),e.y+i/2),e.y+=i+r,o+1===s&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var i,r,o,a,s,l,u,c,d=t.bodyFontSize,f=t.bodySpacing,h=t._bodyAlign,p=t.body,m=t.displayColors,g=0,v=m?G(t,"left"):0,b=On(t.rtl,t.x,t.width),y=function(t){n.fillText(t,b.x(e.x+g),e.y+d/2),e.y+=d+f},w=b.textAlign(h);for(n.textAlign=h,n.textBaseline="middle",n.font=pt.fontString(d,t._bodyFontStyle,t._bodyFontFamily),e.x=G(t,w),n.fillStyle=t.bodyFontColor,pt.each(t.beforeBody,y),g=m&&"right"!==w?"center"===h?d/2+1:d+2:0,s=0,u=p.length;s<u;++s){for(i=p[s],r=t.labelTextColors[s],o=t.labelColors[s],n.fillStyle=r,pt.each(i.before,y),l=0,c=(a=i.lines).length;l<c;++l){if(m){var x=b.x(v);n.fillStyle=t.legendColorBackground,n.fillRect(b.leftForLtr(x,d),e.y,d,d),n.lineWidth=1,n.strokeStyle=o.borderColor,n.strokeRect(b.leftForLtr(x,d),e.y,d,d),n.fillStyle=o.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(x,1),d-2),e.y+1,d-2,d-2),n.fillStyle=r}y(a[l])}pt.each(i.after,y)}g=0,pt.each(t.afterBody,y),e.y-=f},drawFooter:function(e,t,n){var i,r,o=t.footer,a=o.length;if(a){var s=On(t.rtl,t.x,t.width);for(e.x=G(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=pt.fontString(i,t._footerFontStyle,t._footerFontFamily),r=0;r<a;++r)n.fillText(o[r],s.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,o=t.yAlign,a=e.x,s=e.y,l=i.width,u=i.height,c=t.cornerRadius;n.beginPath(),n.moveTo(a+c,s),"top"===o&&this.drawCaret(e,i),n.lineTo(a+l-c,s),n.quadraticCurveTo(a+l,s,a+l,s+c),"center"===o&&"right"===r&&this.drawCaret(e,i),n.lineTo(a+l,s+u-c),n.quadraticCurveTo(a+l,s+u,a+l-c,s+u),"bottom"===o&&this.drawCaret(e,i),n.lineTo(a+c,s+u),n.quadraticCurveTo(a,s+u,a,s+u-c),"center"===o&&"left"===r&&this.drawCaret(e,i),n.lineTo(a,s+c),n.quadraticCurveTo(a,s,a+c,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,o=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&o&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,pt.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),pt.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&n._active.reverse()),(t=!pt.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Pn=Mn,In=Nn;In.positioners=Pn;var Rn=pt.valueOrDefault;ut._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Ln=function(e,t){return this.construct(e,t),this};pt.extend(Ln.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=J(ut.global,ut[e.type],e.options||{}),e}(t);var i=$n.acquireContext(e,t),r=i&&i.canvas,o=r&&r.height,a=r&&r.width;n.id=pt.uid(),n.ctx=i,n.canvas=r,n.config=t,n.width=a,n.height=o,n.aspectRatio=o?a/o:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Ln.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return Tn.notify(e,"beforeInit"),pt.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),Tn.notify(e,"afterInit"),e},clear:function(){return pt.canvas.clear(this),this},stop:function(){return kt.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,o=Math.max(0,Math.floor(pt.getMaximumWidth(i))),a=Math.max(0,Math.floor(r?o/r:pt.getMaximumHeight(i)));if((t.width!==o||t.height!==a)&&(i.width=t.width=o,i.height=t.height=a,i.style.width=o+"px",i.style.height=a+"px",pt.retinaScale(t,n.devicePixelRatio),!e)){var s={width:o,height:a};Tn.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;pt.each(t.xAxes,function(e,n){e.id||(e.id=Q(t.xAxes,"x-axis-",n))}),pt.each(t.yAxes,function(e,n){e.id||(e.id=Q(t.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},i=[],r=Object.keys(n).reduce(function(e,t){return e[t]=!1,e},{});t.scales&&(i=i.concat((t.scales.xAxes||[]).map(function(e){return{options:e,dtype:"category",dposition:"bottom"}}),(t.scales.yAxes||[]).map(function(e){return{options:e,dtype:"linear",dposition:"left"}}))),t.scale&&i.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),pt.each(i,function(t){var i=t.options,o=i.id,a=Rn(i.type,t.dtype);ee(i.position)!==ee(t.dposition)&&(i.position=t.dposition),r[o]=!0;var s=null;if(o in n&&n[o].type===a)(s=n[o]).options=i,s.ctx=e.ctx,s.chart=e;else{var l=En.getScaleConstructor(a);if(!l)return;s=new l({id:o,type:a,options:i,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)}),pt.each(r,function(e,t){e||delete n[t]}),e.scales=n,En.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,i=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var o=r[e],a=n.getDatasetMeta(e),s=o.type||n.config.type;if(a.type&&a.type!==s&&(n.destroyDatasetMeta(e),a=n.getDatasetMeta(e)),a.type=s,a.order=o.order||0,a.index=e,a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var l=fn[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(n,e),i.push(a.controller)}}return i},resetElements:function(){var e=this;pt.each(e.data.datasets,function(t,n){e.getDatasetMeta(n).controller.reset()},e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,i=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Z(i),Tn._invalidate(i),!1!==Tn.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(t=0,n=i.data.datasets.length;t<n;t++)i.getDatasetMeta(t).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&pt.each(r,function(e){e.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],Tn.notify(i,"afterUpdate"),i._layers.sort(te("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:i.render(e)}},updateLayout:function(){var e=this;!1!==Tn.notify(e,"beforeLayout")&&(gn.update(this,this.width,this.height),e._layers=[],pt.each(e.boxes,function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())},e),e._layers.forEach(function(e,t){e._idx=t}),Tn.notify(e,"afterScaleUpdate"),Tn.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==Tn.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);Tn.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==Tn.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),Tn.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,i=Rn(e.duration,n&&n.duration),r=e.lazy;if(!1!==Tn.notify(t,"beforeRender")){var o=function(e){Tn.notify(t,"afterRender"),pt.callback(n&&n.onComplete,[e],t)};if(n&&i){var a=new _t({numSteps:i/16.66,easing:e.easing||n.easing,render:function(e,t){var n=pt.easing.effects[t.easing],i=t.currentStep,r=i/t.numSteps;e.draw(n(r),r,i)},onAnimationProgress:n.onProgress,onAnimationComplete:o});kt.addAnimation(t,a,i,r)}else t.draw(),o(new _t({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,i=this;if(i.clear(),pt.isNullOrUndef(e)&&(e=1),i.transition(e),!(i.width<=0||i.height<=0)&&!1!==Tn.notify(i,"beforeDraw",[e])){for(n=i._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(i.chartArea);for(i.drawDatasets(e);t<n.length;++t)n[t].draw(i.chartArea);i._drawTooltip(e),Tn.notify(i,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,i=[];for(t=0,n=(this.data.datasets||[]).length;t<n;++t)e&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(te("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==Tn.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(t[n],e);Tn.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==Tn.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),Tn.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==Tn.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),Tn.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return hn.modes.single(this,e)},getElementsAtEvent:function(e){return hn.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return hn.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=hn.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return hn.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),pt.canvas.clear(n),$n.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Tn.notify(n,"destroy"),delete Ln.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new In({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};pt.each(e.options.events,function(i){$n.addEventListener(e,i,n),t[i]=n}),e.options.responsive&&(n=function(){e.resize()},$n.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,pt.each(t,function(t,n){$n.removeEventListener(e,n,t)}))},updateHoverStyle:function(e,t,n){var i,r,o,a=n?"set":"remove";for(r=0,o=e.length;r<o;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[a+"HoverStyle"](i);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+a+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==Tn.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),Tn.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,r.mode,r),pt.callback(i.onHover||i.hover.onHover,[e["native"],n.active],n),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(n,e["native"],n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!pt.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),Ln.instances={};var Bn=Ln;Ln.Controller=Ln,Ln.types={},pt.configMerge=J,pt.scaleMerge=X,pt.extend(ie.prototype,{formats:ne,parse:ne,format:ne,add:ne,diff:ne,startOf:ne,endOf:ne,_create:function(e){return e}}),ie.override=function(e){pt.extend(ie.prototype,e)};var Fn={_date:ie},Hn={formatters:{values:function(e){return pt.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=pt.log10(Math.abs(i)),o="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var a=pt.log10(Math.abs(e)),s=Math.floor(a)-Math.floor(r);s=Math.max(Math.min(s,20),0),o=e.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),o=e.toFixed(l)}else o="0";return o},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(pt.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},jn=pt.isArray,Vn=pt.isNullOrUndef,zn=pt.valueOrDefault,Un=pt.valueAtIndexOrDefault;ut._set("scale",{display:!0,position:"left",offset:!1,gridLines:{
display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Hn.formatters.values,minor:{},major:{}}});var Wn=xt.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){pt.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,o,a,s,l=this,u=l.options.ticks,c=u.sampleSize;if(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=pt.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),a=l.buildTicks()||[],(!(a=l.afterBuildTicks(a)||a)||!a.length)&&l.ticks)for(a=[],i=0,r=l.ticks.length;i<r;++i)a.push({value:l.ticks[i],major:!1});return l._ticks=a,s=c<a.length,o=l._convertTicksToLabels(s?function(e,t){for(var n=[],i=e.length/t,r=0,o=e.length;r<o;r+=i)n.push(e[Math.floor(r)]);return n}(a,c):a),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?l._autoSkip(a):a,s&&(o=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=o,l.afterUpdate(),l.minSize},_configure:function(){var e,t,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,i=!i),n._startPixel=e,n._endPixel=t,n._reversePixels=i,n._length=t-e},afterUpdate:function(){pt.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){pt.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){pt.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){pt.callback(this.options.beforeDataLimits,[this])},determineDataLimits:pt.noop,afterDataLimits:function(){pt.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){pt.callback(this.options.beforeBuildTicks,[this])},buildTicks:pt.noop,afterBuildTicks:function(e){var t=this;return jn(e)&&e.length?pt.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=pt.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){pt.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){pt.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){pt.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,i,r,o,a,s=this,l=s.options,u=l.ticks,c=s.getTicks().length,d=u.minRotation||0,f=u.maxRotation,h=d;!s._isVisible()||!u.display||d>=f||c<=1||!s.isHorizontal()?s.labelRotation=d:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,i=Math.min(s.maxWidth,s.chart.width-t),t+6>(r=l.offset?s.maxWidth/c:i/(c-1))&&(r=i/(c-(l.offset?.5:1)),o=s.maxHeight-ae(l.gridLines)-u.padding-se(l.scaleLabel),a=Math.sqrt(t*t+n*n),h=pt.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(o/a,1))-Math.asin(n/a))),h=Math.max(d,Math.min(f,h))),s.labelRotation=h)},afterCalculateTickRotation:function(){pt.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){pt.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,i=e.options,r=i.ticks,o=i.scaleLabel,a=i.gridLines,s=e._isVisible(),l="bottom"===i.position,u=e.isHorizontal();if(u?t.width=e.maxWidth:s&&(t.width=ae(a)+se(o)),u?s&&(t.height=ae(a)+se(o)):t.height=e.maxHeight,r.display&&s){var c=ue(r),d=e._getLabelSizes(),f=d.first,h=d.last,p=d.widest,m=d.highest,g=.4*c.minor.lineHeight,v=r.padding;if(u){var b=0!==e.labelRotation,y=pt.toRadians(e.labelRotation),w=Math.cos(y),x=Math.sin(y),C=x*p.width+w*(m.height-(b?m.offset:0))+(b?0:g);t.height=Math.min(e.maxHeight,t.height+C+v);var _,k,S=e.getPixelForTick(0)-e.left,D=e.right-e.getPixelForTick(e.getTicks().length-1);b?(_=l?w*f.width+x*f.offset:x*(f.height-f.offset),k=l?x*(h.height-h.offset):w*h.width+x*h.offset):(_=f.width/2,k=h.width/2),e.paddingLeft=Math.max((_-S)*e.width/(e.width-S),0)+3,e.paddingRight=Math.max((k-D)*e.width/(e.width-D),0)+3}else{var $=r.mirror?0:p.width+v+g;t.width=Math.min(e.maxWidth,t.width+$),e.paddingTop=f.height/2,e.paddingBottom=h.height/2}}e.handleMargins(),u?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){pt.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(Vn(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,i,r=this;for(r.ticks=e.map(function(e){return e.value}),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,i=e.length;n<i;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=oe(e.ctx,ue(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,i,r;return jn(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),i=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),i=e,r=e),{min:i,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:pt.noop,getPixelForValue:pt.noop,getValueForPixel:pt.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*i+(t?i/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,i,r,o=this.options.ticks,a=this._length,s=o.maxTicksLimit||a/this._tickSize()+1,l=o.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(e):[],u=l.length,c=l[0],d=l[u-1];if(u>s)return function(e,t,n){var i,r,o=0,a=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)r=e[i],i===a?(r._index=i,a=t[++o*n]):delete r.label}(e,l,u/s),ce(e);if(i=function(e,t,n,i){var r,o,a,s,l=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),u=(t.length-1)/i;if(!l)return Math.max(u,1);for(a=0,s=(r=pt.math._factorize(l)).length-1;a<s;a++)if((o=r[a])>u)return o;return Math.max(u,1)}(l,e,0,s),u>0){for(t=0,n=u-1;t<n;t++)de(e,i,l[t],l[t+1]);return r=u>1?(d-c)/(u-1):null,de(e,i,pt.isNullOrUndef(r)?0:c-r,c),de(e,i,d,pt.isNullOrUndef(r)?e.length:d+r),ce(e)}return de(e,i),ce(e)},_tickSize:function(){var e=this.options.ticks,t=pt.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,s=r?r.highest.height+o:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i},_isVisible:function(){var e,t,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,i,r,o,a,s,l,u,c,d,f,h,p,m,g,v,b=this,y=b.chart,w=b.options,x=w.gridLines,C=w.position,_=x.offsetGridLines,k=b.isHorizontal(),S=b._ticksToDraw,D=S.length+(_?1:0),$=ae(x),T=[],E=x.drawBorder?Un(x.lineWidth,0,0):0,A=E/2,O=pt._alignPixel,M=function(e){return O(y,e,E)};for("top"===C?(t=M(b.bottom),s=b.bottom-$,u=t-A,d=M(e.top)+A,h=e.bottom):"bottom"===C?(t=M(b.top),d=e.top,h=M(e.bottom)-A,s=t+A,u=b.top+$):"left"===C?(t=M(b.right),a=b.right-$,l=t-A,c=M(e.left)+A,f=e.right):(t=M(b.left),c=e.left,f=M(e.right)-A,a=t+A,l=b.left+$),n=0;n<D;++n)i=S[n]||{},Vn(i.label)&&n<S.length||(n===b.zeroLineIndex&&w.offset===_?(p=x.zeroLineWidth,m=x.zeroLineColor,g=x.zeroLineBorderDash||[],v=x.zeroLineBorderDashOffset||0):(p=Un(x.lineWidth,n,1),m=Un(x.color,n,"rgba(0,0,0,0.1)"),g=x.borderDash||[],v=x.borderDashOffset||0),void 0!==(r=re(b,i._index||n,_))&&(o=O(y,r,p),k?a=l=c=f=o:s=u=d=h=o,T.push({tx1:a,ty1:s,tx2:l,ty2:u,x1:c,y1:d,x2:f,y2:h,width:p,color:m,borderDash:g,borderDashOffset:v})));return T.ticksLength=D,T.borderValue=t,T},_computeLabelItems:function(){var e,t,n,i,r,o,a,s,l,u,c,d,f=this,h=f.options,p=h.ticks,m=h.position,g=p.mirror,v=f.isHorizontal(),b=f._ticksToDraw,y=ue(p),w=p.padding,x=ae(h.gridLines),C=-pt.toRadians(f.labelRotation),_=[];for("top"===m?(o=f.bottom-x-w,a=C?"left":"center"):"bottom"===m?(o=f.top+x+w,a=C?"right":"center"):"left"===m?(r=f.right-(g?0:x)-w,a=g?"left":"right"):(r=f.left+(g?0:x)+w,a=g?"right":"left"),e=0,t=b.length;e<t;++e)i=(n=b[e]).label,Vn(i)||(s=f.getPixelForTick(n._index||e)+p.labelOffset,u=(l=n.major?y.major:y.minor).lineHeight,c=jn(i)?i.length:1,v?(r=s,d="top"===m?((C?1:.5)-c)*u:(C?0:.5)*u):(o=s,d=(1-c)*u/2),_.push({x:r,y:o,rotation:C,label:i,font:l,textOffset:d,textAlign:a}));return _},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var i,r,o,a,s,l=t.ctx,u=t.chart,c=pt._alignPixel,d=n.drawBorder?Un(n.lineWidth,0,0):0,f=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(o=0,a=f.length;o<a;++o)i=(s=f[o]).width,r=s.color,i&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(d){var h,p,m,g,v=d,b=Un(n.lineWidth,f.ticksLength-1,1),y=f.borderValue;t.isHorizontal()?(h=c(u,t.left,v)-v/2,p=c(u,t.right,b)+b/2,m=g=y):(m=c(u,t.top,v)-v/2,g=c(u,t.bottom,b)+b/2,h=p=y),l.lineWidth=d,l.strokeStyle=Un(n.color,0),l.beginPath(),l.moveTo(h,m),l.lineTo(p,g),l.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,i,r,o,a,s,l,u=e.ctx,c=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,i=c.length;t<i;++t){if(a=(o=c[t]).font,u.save(),u.translate(o.x,o.y),u.rotate(o.rotation),u.font=a.string,u.fillStyle=a.color,u.textBaseline="middle",u.textAlign=o.textAlign,s=o.label,l=o.textOffset,jn(s))for(n=0,r=s.length;n<r;++n)u.fillText(""+s[n],0,l),l+=a.lineHeight;else u.fillText(s,0,l);u.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,i=n.scaleLabel;if(i.display){var r,o,a=zn(i.fontColor,ut.global.defaultFontColor),s=pt.options._parseFont(i),l=pt.options.toPadding(i.padding),u=s.lineHeight/2,c=n.position,d=0;if(e.isHorizontal())r=e.left+e.width/2,o="bottom"===c?e.bottom-u-l.bottom:e.top+u+l.top;else{var f="left"===c;r=f?e.left+u+l.top:e.right-u-l.top,o=e.top+e.height/2,d=f?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,o),t.rotate(d),t.textAlign="center",t.textBaseline="middle",t.fillStyle=a,t.font=s.string,t.fillText(i.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,i=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==i&&e.draw===e._draw?[{z:i,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter(function(i){return(!e||i.type===e)&&(n?i.xAxisID===t.id:i.yAxisID===t.id)})}});Wn.prototype._draw=Wn.prototype.draw;var qn=Wn,Yn=pt.isNullOrUndef,Gn=qn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),i=t.options.ticks,r=i.min,o=i.max,a=0,s=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(a=e),void 0!==o&&(e=n.indexOf(o))>=0&&(s=e),t.minIndex=a,t.maxIndex=s,t.min=n[a],t.max=n[s]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;qn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var i,r,o,a=this;return Yn(t)||Yn(n)||(e=a.chart.data.datasets[n].data[t]),Yn(e)||(i=a.isHorizontal()?e.x:e.y),(void 0!==i||void 0!==e&&isNaN(t))&&(r=a._getLabels(),e=pt.valueOrDefault(i,e),t=-1!==(o=r.indexOf(e))?o:t,isNaN(t)&&(t=e)),a.getPixelForDecimal((t-a._startValue)/a._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}}),Kn={position:"bottom"};Gn._defaults=Kn;var Xn=pt.noop,Jn=pt.isNullOrUndef,Zn=qn.extend({getRightValue:function(e){return"string"==typeof e?+e:qn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=pt.sign(e.min),i=pt.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,o=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==o&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,i=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:Xn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:pt.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,i,r,o,a=[],s=e.stepSize,l=s||1,u=e.maxTicks-1,c=e.min,d=e.max,f=e.precision,h=t.min,p=t.max,m=pt.niceNum((p-h)/u/l)*l;if(m<1e-14&&Jn(c)&&Jn(d))return[h,p];(o=Math.ceil(p/m)-Math.floor(h/m))>u&&(m=pt.niceNum(o*m/u/l)*l),s||Jn(f)?n=Math.pow(10,pt._decimalPlaces(m)):(n=Math.pow(10,f),m=Math.ceil(m*n)/n),i=Math.floor(h/m)*m,r=Math.ceil(p/m)*m,s&&(!Jn(c)&&pt.almostWhole(c/m,m/1e3)&&(i=c),!Jn(d)&&pt.almostWhole(d/m,m/1e3)&&(r=d)),o=(r-i)/m,o=pt.almostEquals(o,Math.round(o),m/1e3)?Math.round(o):Math.ceil(o),i=Math.round(i*n)/n,r=Math.round(r*n)/n,a.push(Jn(c)?i:c);for(var g=1;g<o;++g)a.push(Math.round((i+g*m)*n)/n);return a.push(Jn(d)?r:d),a}(i,e);e.handleDirectionalChanges(),e.max=pt.max(r),e.min=pt.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),qn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),i=t.min,r=t.max;qn.prototype._configure.call(t),t.options.offset&&n.length&&(i-=e=(r-i)/Math.max(n.length-1,1)/2,r+=e),t._startValue=i,t._endValue=r,t._valueRange=r-i}}),Qn={position:"left",ticks:{callback:Hn.formatters.linear}},ei=Zn.extend({determineDataLimits:function(){var e,t,n,i,r=this,o=r.options,a=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=o.stacked,u={},c=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(e=0;!l&&e<c;++e)l=void 0!==(t=s[e]).stack;for(e=0;e<c;++e)n=a[(t=s[e]).index].data,l?fe(r,u,t,n):he(r,t,n);pt.each(u,function(e){i=e.pos.concat(e.neg),r.min=Math.min(r.min,pt.min(i)),r.max=Math.max(r.max,pt.max(i))}),r.min=pt.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=pt.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=pt.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),ti=Qn;ei._defaults=ti;var ni=pt.valueOrDefault,ii=pt.math.log10,ri={position:"left",ticks:{callback:Hn.formatters.logarithmic}},oi=qn.extend({determineDataLimits:function(){function e(e){return d?e.xAxisID===s.id:e.yAxisID===s.id}var t,n,i,r,o,a,s=this,l=s.options,u=s.chart,c=u.data.datasets,d=s.isHorizontal();s.min=Number.POSITIVE_INFINITY,s.max=Number.NEGATIVE_INFINITY,s.minNotZero=Number.POSITIVE_INFINITY;var f=l.stacked;if(void 0===f)for(t=0;t<c.length;t++)if(n=u.getDatasetMeta(t),u.isDatasetVisible(t)&&e(n)&&void 0!==n.stack){f=!0;break}if(l.stacked||f){var h={};for(t=0;t<c.length;t++){var p=[(n=u.getDatasetMeta(t)).type,void 0===l.stacked&&void 0===n.stack?t:"",n.stack].join(".");if(u.isDatasetVisible(t)&&e(n))for(void 0===h[p]&&(h[p]=[]),o=0,a=(r=c[t].data).length;o<a;o++){var m=h[p];i=s._parseValue(r[o]),isNaN(i.min)||isNaN(i.max)||n.data[o].hidden||i.min<0||i.max<0||(m[o]=m[o]||0,m[o]+=i.max)}}pt.each(h,function(e){if(e.length>0){var t=pt.min(e),n=pt.max(e);s.min=Math.min(s.min,t),s.max=Math.max(s.max,n)}})}else for(t=0;t<c.length;t++)if(n=u.getDatasetMeta(t),u.isDatasetVisible(t)&&e(n))for(o=0,a=(r=c[t].data).length;o<a;o++)i=s._parseValue(r[o]),isNaN(i.min)||isNaN(i.max)||n.data[o].hidden||i.min<0||i.max<0||(s.min=Math.min(i.min,s.min),s.max=Math.max(i.max,s.max),0!==i.min&&(s.minNotZero=Math.min(i.min,s.minNotZero)));s.min=pt.isFinite(s.min)?s.min:null,s.max=pt.isFinite(s.max)?s.max:null,s.minNotZero=pt.isFinite(s.minNotZero)?s.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=pe(t.min,e.min),e.max=pe(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(ii(e.min))-1),e.max=Math.pow(10,Math.floor(ii(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(ii(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(ii(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(ii(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:pe(t.min),max:pe(t.max)},r=e.ticks=function(e,t){var n,i,r=[],o=ni(e.min,Math.pow(10,Math.floor(ii(t.min)))),a=Math.floor(ii(t.max)),s=Math.ceil(t.max/Math.pow(10,a));0===o?(n=Math.floor(ii(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(o),o=i*Math.pow(10,n)):(n=Math.floor(ii(o)),i=Math.floor(o/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do r.push(o),10===++i&&(i=1,l=++n>=0?1:l),o=Math.round(i*Math.pow(10,n)*l)/l;while(n<a||n===a&&i<s);var u=ni(e.max,o);return r.push(u),r}(i,e);e.max=pt.max(r),e.min=pt.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),qn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(ii(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;qn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=ni(e.options.ticks.fontSize,ut.global.defaultFontSize)/e._length),e._startValue=ii(t),e._valueOffset=n,e._valueRange=(ii(e.max)-ii(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(ii(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),ai=ri;oi._defaults=ai;var si=pt.valueOrDefault,li=pt.valueAtIndexOrDefault,ui=pt.options.resolve,ci={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Hn.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}},di=Zn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=me(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;pt.each(t.data.datasets,function(r,o){if(t.isDatasetVisible(o)){var a=t.getDatasetMeta(o);pt.each(r.data,function(t,r){var o=+e.getRightValue(t);isNaN(o)||a.data[r].hidden||(n=Math.min(o,n),i=Math.max(o,i))})}}),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/me(this.options))},convertTicksToLabels:function(){var e=this;Zn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(function(){var t=pt.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""})},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,i,r=pt.options._parseFont(e.options.pointLabels),o={l:0,r:e.width,t:0,b:e.height-e.paddingTop},a={};e.ctx.font=r.string,e._pointLabelSizes=[];var s,l,u,c=e.chart.data.labels.length;for(t=0;t<c;t++){i=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=r.lineHeight,u=e.pointLabels[t],n=pt.isArray(u)?{w:pt.longestText(s,s.font,u),h:u.length*l}:{w:s.measureText(u).width,h:l},e._pointLabelSizes[t]=n;var d=e.getIndexAngle(t),f=pt.toDegrees(d)%360,h=ge(f,i.x,n.w,0,180),p=ge(f,i.y,n.h,90,270);h.start<o.l&&(o.l=h.start,a.l=d),h.end>o.r&&(o.r=h.end,a.r=d),p.start<o.t&&(o.t=p.start,a.t=d),p.end>o.b&&(o.b=p.end,a.b=d)}e.setReductions(e.drawingArea,o,a)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),o=Math.max(t.r-i.width,0)/Math.sin(n.r),a=-t.t/Math.cos(n.t),s=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=we(r),o=we(o),a=we(a),s=we(s),i.drawingArea=Math.min(Math.floor(e-(r+o)/2),Math.floor(e-(a+s)/2)),i.setCenterPoint(r,o,a,s)},setCenterPoint:function(e,t,n,i){var r=this,o=r.width-t-r.drawingArea,a=e+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((a+o)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(pt.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var e,t,n,i=this,r=i.ctx,o=i.options,a=o.gridLines,s=o.angleLines,l=si(s.lineWidth,a.lineWidth),u=si(s.color,a.color);if(o.pointLabels.display&&function(e){var t=e.ctx,n=e.options,i=n.pointLabels,r=me(n),o=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),a=pt.options._parseFont(i);t.save(),t.font=a.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var l=0===s?r/2:0,u=e.getPointPosition(s,o+l+5),c=li(i.fontColor,s,ut.global.defaultFontColor);t.fillStyle=c;var d=e.getIndexAngle(s),f=pt.toDegrees(d);t.textAlign=ve(f),ye(f,e._pointLabelSizes[s],u),be(t,e.pointLabels[s],u,a.lineHeight)}t.restore()}(i),a.display&&pt.each(i.ticks,function(e,n){0!==n&&(t=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(e,t,n,i){var r,o=e.ctx,a=t.circular,s=e.chart.data.labels.length,l=li(t.color,i-1),u=li(t.lineWidth,i-1);if((a||s)&&l&&u){if(o.save(),o.strokeStyle=l,o.lineWidth=u,o.setLineDash&&(o.setLineDash(t.borderDash||[]),o.lineDashOffset=t.borderDashOffset||0),o.beginPath(),a)o.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),o.moveTo(r.x,r.y);for(var c=1;c<s;c++)r=e.getPointPosition(c,n),o.lineTo(r.x,r.y)}o.closePath(),o.stroke(),o.restore()}}(i,a,t,n))}),s.display&&l&&u){for(r.save(),r.lineWidth=l,r.strokeStyle=u,r.setLineDash&&(r.setLineDash(ui([s.borderDash,a.borderDash,[]])),r.lineDashOffset=ui([s.borderDashOffset,a.borderDashOffset,0])),e=i.chart.data.labels.length-1;e>=0;e--)t=i.getDistanceFromCenterForValue(o.ticks.reverse?i.min:i.max),n=i.getPointPosition(e,t),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var i,r,o=e.getIndexAngle(0),a=pt.options._parseFont(n),s=si(n.fontColor,ut.global.defaultFontColor);t.save(),t.font=a.string,t.translate(e.xCenter,e.yCenter),t.rotate(o),t.textAlign="center",t.textBaseline="middle",pt.each(e.ticks,function(o,l){(0!==l||n.reverse)&&(i=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=t.measureText(o).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-i-a.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,a.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(o,0,-i))}),t.restore()}},_drawTitle:pt.noop}),fi=ci;di._defaults=fi;var hi=pt._deprecated,pi=pt.options.resolve,mi=pt.valueOrDefault,gi=Number.MIN_SAFE_INTEGER||-9007199254740991,vi=Number.MAX_SAFE_INTEGER||9007199254740991,bi={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},yi=Object.keys(bi),wi=qn.extend({initialize:function(){this.mergeTicksOptions(),qn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),i=e._adapter=new Fn._date(t.adapters.date);return hi("time scale",n.format,"time.format","time.parser"),hi("time scale",n.min,"time.min","ticks.min"),hi("time scale",n.max,"time.max","ticks.max"),pt.mergeIf(n.displayFormats,i.formats()),qn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),qn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,o,a,s=this,l=s.chart,u=s._adapter,c=s.options,d=c.time.unit||"day",f=vi,h=gi,p=[],m=[],g=[],v=s._getLabels();for(e=0,n=v.length;e<n;++e)g.push(De(s,v[e]));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(r=l.data.datasets[e].data,pt.isObject(r[0]))for(m[e]=[],t=0,i=r.length;t<i;++t)o=De(s,r[t]),p.push(o),m[e][t]=o;else m[e]=g.slice(0),a||(p=p.concat(g),a=!0);else m[e]=[];g.length&&(f=Math.min(f,g[0]),h=Math.max(h,g[g.length-1])),p.length&&(p=n>1?function(e){var t,n,i,r={},o=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,o.push(i));return o}(p).sort(xe):p.sort(xe),f=Math.min(f,p[0]),h=Math.max(h,p[p.length-1])),f=De(s,Ce(c))||f,h=De(s,_e(c))||h,f=f===vi?+u.startOf(Date.now(),d):f,h=h===gi?+u.endOf(Date.now(),d)+1:h,s.min=Math.min(f,h),s.max=Math.max(f+1,h),s._table=[],s._timestamps={data:p,datasets:m,labels:g}},buildTicks:function(){var e,t,n,i=this,r=i.min,o=i.max,a=i.options,s=a.ticks,l=a.time,u=i._timestamps,c=[],d=i.getLabelCapacity(r),f=s.source,h=a.distribution;for(u="data"===f||"auto"===f&&"series"===h?u.data:"labels"===f?u.labels:function(e,t,n,i){var r,o=e._adapter,a=e.options,s=a.time,l=s.unit||$e(s.minUnit,t,n,i),u=pi([s.stepSize,s.unitStepSize,1]),c="week"===l&&s.isoWeekday,d=t,f=[];if(c&&(d=+o.startOf(d,"isoWeek",c)),d=+o.startOf(d,c?"day":l),o.diff(n,t,l)>1e5*u)throw t+" and "+n+" are too far apart with stepSize of "+u+" "+l;for(r=d;r<n;r=+o.add(r,u,l))f.push(r);return r!==n&&"ticks"!==a.bounds||f.push(r),f}(i,r,o,d),"ticks"===a.bounds&&u.length&&(r=u[0],o=u[u.length-1]),r=De(i,Ce(a))||r,o=De(i,_e(a))||o,e=0,t=u.length;e<t;++e)(n=u[e])>=r&&n<=o&&c.push(n);return i.min=r,i.max=o,i._unit=l.unit||(s.autoSkip?$e(l.minUnit,i.min,i.max,d):function(e,t,n,i,r){var o,a;for(o=yi.length-1;o>=yi.indexOf(n);o--)if(a=yi[o],bi[a].common&&e._adapter.diff(r,i,a)>=t-1)return a;return yi[n?yi.indexOf(n):0]}(i,c.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&"year"!==i._unit?function(e){for(var t=yi.indexOf(e)+1,n=yi.length;t<n;++t)if(bi[yi[t]].common)return yi[t]}(i._unit):void 0,i._table=function(e,t,n,i){if("linear"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,o,a,s,l,u=[],c=[t];for(r=0,o=e.length;r<o;++r)(s=e[r])>t&&s<n&&c.push(s);for(c.push(n),r=0,o=c.length;r<o;++r)l=c[r+1],a=c[r-1],s=c[r],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||u.push({time:s,pos:r/(o-1)});return u}(i._timestamps.data,r,o,h),i._offsets=function(e,t,n,i,r){var o,a,s=0,l=0;return r.offset&&t.length&&(o=ke(e,"time",t[0],"pos"),s=1===t.length?1-o:(ke(e,"time",t[1],"pos")-o)/2,a=ke(e,"time",t[t.length-1],"pos"),
l=1===t.length?a:(a-ke(e,"time",t[t.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,c,0,0,a),s.reverse&&c.reverse(),Te(i,c,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,o=n.options.time,a=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return pt.isObject(s)&&(a=n.getRightValue(s)),o.tooltipFormat?i.format(Se(n,a),o.tooltipFormat):"string"==typeof a?a:i.format(Se(n,a),o.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this._adapter,o=this.options,a=o.time.displayFormats,s=a[this._unit],l=this._majorUnit,u=a[l],c=n[t],d=o.ticks,f=l&&u&&c&&c.major,h=r.format(e,i||(f?u:s)),p=f?d.major:d.minor,m=pi([p.callback,p.userCallback,d.callback,d.userCallback]);return m?m(h,t,n):h},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this._offsets,n=ke(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var i=null;if(void 0!==t&&void 0!==n&&(i=this._timestamps.datasets[n][t]),null===i&&(i=De(this,e)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,i=ke(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=pt.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=mi(t.fontSize,ut.global.defaultFontSize);return{w:n*r+a*o,h:n*o+a*r}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,o=t.tickFormatFunction(e,0,Te(t,[e],t._majorUnit),r),a=t._getLabelSize(o),s=Math.floor(t.isHorizontal()?t.width/a.w:t.height/a.h);return t.options.offset&&s--,s>0?s:1}}),xi={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};wi._defaults=xi;var Ci={category:Gn,linear:ei,logarithmic:oi,radialLinear:di,time:wi},_i={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Fn._date.override("function"==typeof e?{_id:"moment",formats:function(){return _i},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,i){return e(t).add(n,i).valueOf()},diff:function(t,n,i){return e(t).diff(e(n),i)},startOf:function(t,n,i){return t=e(t),"isoWeek"===n?t.isoWeekday(i).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),ut._set("global",{plugins:{filler:{propagate:!0}}});var ki={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],o=r.length||0;return o?function(e,t){return t<o&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return pt.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}},Si={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,o,a=(e.data.datasets||[]).length,s=t.propagate,l=[];for(i=0;i<a;++i)o=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof Ft.Line&&(o={visible:e.isDatasetVisible(i),fill:Ee(r,i,a),chart:e,el:r}),n.$filler=o,l.push(o);for(i=0;i<a;++i)(o=l[i])&&(o.fill=Oe(l,i,s),o.boundary=Ae(o),o.mapper=Me(o))},beforeDatasetsDraw:function(e){var t,n,i,r,o,a,s,l=e._getSortedVisibleDatasetMetas(),u=e.ctx;for(n=l.length-1;n>=0;--n)(t=l[n].$filler)&&t.visible&&(r=(i=t.el)._view,o=i._children||[],a=t.mapper,s=r.backgroundColor||ut.global.defaultColor,a&&s&&o.length&&(pt.canvas.clipArea(u,e.chartArea),Ie(u,o,a,r,s,i._loop),pt.canvas.unclipArea(u)))}},Di=pt.rtl.getRtlAdapter,$i=pt.noop,Ti=pt.valueOrDefault;ut._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},i=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map(function(n){var r=n.controller.getStyle(i?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}},this)}}},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),o=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=o.length;t<n;t++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[t].backgroundColor,o[t].label&&i.appendChild(document.createTextNode(o[t].label));return r.outerHTML}});var Ei=xt.extend({initialize:function(e){pt.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:$i,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:$i,beforeSetDimensions:$i,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:$i,beforeBuildLabels:$i,buildLabels:function(){var e=this,t=e.options.labels||{},n=pt.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter(function(n){return t.filter(n,e.chart.data)})),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:$i,beforeFit:$i,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,r=e.ctx,o=pt.options._parseFont(n),a=o.size,s=e.legendHitBoxes=[],l=e.minSize,u=e.isHorizontal();if(u?(l.width=e.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=e.maxHeight),i){if(r.font=o.string,u){var c=e.lineWidths=[0],d=0;r.textAlign="left",r.textBaseline="middle",pt.each(e.legendItems,function(e,t){var i=Re(n,a)+a/2+r.measureText(e.text).width;(0===t||c[c.length-1]+i+2*n.padding>l.width)&&(d+=a+n.padding,c[c.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:i,height:a},c[c.length-1]+=i+n.padding}),l.height+=d}else{var f=n.padding,h=e.columnWidths=[],p=e.columnHeights=[],m=n.padding,g=0,v=0;pt.each(e.legendItems,function(e,t){var i=Re(n,a)+a/2+r.measureText(e.text).width;t>0&&v+a+2*f>l.height&&(m+=g+n.padding,h.push(g),p.push(v),g=0,v=0),g=Math.max(g,i),v+=a+f,s[t]={left:0,top:0,width:i,height:a}}),m+=g,h.push(g),p.push(v),l.width+=m}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:$i,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=ut.global,r=i.defaultColor,o=i.elements.line,a=e.height,s=e.columnHeights,l=e.width,u=e.lineWidths;if(t.display){var c,d=Di(t.rtl,e.left,e.minSize.width),f=e.ctx,h=Ti(n.fontColor,i.defaultFontColor),p=pt.options._parseFont(n),m=p.size;f.textAlign=d.textAlign("left"),f.textBaseline="middle",f.lineWidth=.5,f.strokeStyle=h,f.fillStyle=h,f.font=p.string;var g=Re(n,m),v=e.legendHitBoxes,b=function(e,i){switch(t.align){case"start":return n.padding;case"end":return e-i;default:return(e-i+n.padding)/2}},y=e.isHorizontal();c=y?{x:e.left+b(l,u[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+b(a,s[0]),line:0},pt.rtl.overrideTextDirection(e.ctx,t.textDirection);var w=m+n.padding;pt.each(e.legendItems,function(t,i){var h=f.measureText(t.text).width,p=g+m/2+h,x=c.x,C=c.y;d.setWidth(e.minSize.width),y?i>0&&x+p+n.padding>e.left+e.minSize.width&&(C=c.y+=w,c.line++,x=c.x=e.left+b(l,u[c.line])):i>0&&C+w>e.top+e.minSize.height&&(x=c.x=x+e.columnWidths[c.line]+n.padding,c.line++,C=c.y=e.top+b(a,s[c.line]));var _=d.x(x);!function(e,t,i){if(!(isNaN(g)||g<=0)){f.save();var a=Ti(i.lineWidth,o.borderWidth);if(f.fillStyle=Ti(i.fillStyle,r),f.lineCap=Ti(i.lineCap,o.borderCapStyle),f.lineDashOffset=Ti(i.lineDashOffset,o.borderDashOffset),f.lineJoin=Ti(i.lineJoin,o.borderJoinStyle),f.lineWidth=a,f.strokeStyle=Ti(i.strokeStyle,r),f.setLineDash&&f.setLineDash(Ti(i.lineDash,o.borderDash)),n&&n.usePointStyle){var s=g*Math.SQRT2/2,l=d.xPlus(e,g/2),u=t+m/2;pt.canvas.drawPoint(f,i.pointStyle,s,l,u,i.rotation)}else f.fillRect(d.leftForLtr(e,g),t,g,m),0!==a&&f.strokeRect(d.leftForLtr(e,g),t,g,m);f.restore()}}(_,C,t),v[i].left=d.leftForLtr(_,v[i].width),v[i].top=C,function(e,t,n,i){var r=m/2,o=d.xPlus(e,g+r),a=t+r;f.fillText(n.text,o,a),n.hidden&&(f.beginPath(),f.lineWidth=2,f.moveTo(o,a),f.lineTo(d.xPlus(o,i),a),f.stroke())}(_,C,t,h),y?c.x+=p+n.padding:c.y+=w}),pt.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,i,r,o=this;if(e>=o.left&&e<=o.right&&t>=o.top&&t<=o.bottom)for(r=o.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return o.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e["native"],t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e["native"],n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e["native"],t))}}),Ai={id:"legend",_element:Ei,beforeInit:function(e){var t=e.options.legend;t&&Le(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(pt.mergeIf(t,ut.global.legend),n?(gn.configure(e,n,t),n.options=t):Le(e,t)):n&&(gn.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},Oi=pt.noop;ut._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Mi=xt.extend({initialize:function(e){pt.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:Oi,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:Oi,beforeSetDimensions:Oi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:Oi,beforeBuildLabels:Oi,buildLabels:Oi,afterBuildLabels:Oi,beforeFit:Oi,fit:function(){var e,t=this,n=t.options,i=t.minSize={},r=t.isHorizontal();n.display?(e=(pt.isArray(n.text)?n.text.length:1)*pt.options._parseFont(n).lineHeight+2*n.padding,t.width=i.width=r?t.maxWidth:e,t.height=i.height=r?e:t.maxHeight):t.width=i.width=t.height=i.height=0},afterFit:Oi,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,o,a=pt.options._parseFont(n),s=a.lineHeight,l=s/2+n.padding,u=0,c=e.top,d=e.left,f=e.bottom,h=e.right;t.fillStyle=pt.valueOrDefault(n.fontColor,ut.global.defaultFontColor),t.font=a.string,e.isHorizontal()?(r=d+(h-d)/2,o=c+l,i=h-d):(r="left"===n.position?d+l:h-l,o=c+(f-c)/2,i=f-c,u=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,o),t.rotate(u),t.textAlign="center",t.textBaseline="middle";var p=n.text;if(pt.isArray(p))for(var m=0,g=0;g<p.length;++g)t.fillText(p[g],0,m,i),m+=s;else t.fillText(p,0,0,i);t.restore()}}}),Ni={},Pi=Si,Ii=Ai,Ri={id:"title",_element:Mi,beforeInit:function(e){var t=e.options.title;t&&Be(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(pt.mergeIf(t,ut.global.title),n?(gn.configure(e,n,t),n.options=t):Be(e,t)):n&&(gn.removeBox(e,n),delete e.titleBlock)}};for(var Li in Ni.filler=Pi,Ni.legend=Ii,Ni.title=Ri,Bn.helpers=pt,function(){function e(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function t(e){return null!=e&&"none"!==e}function n(n,i,r){var o=document.defaultView,a=pt._getParentNode(n),s=o.getComputedStyle(n)[i],l=o.getComputedStyle(a)[i],u=t(s),c=t(l),d=Number.POSITIVE_INFINITY;return u||c?Math.min(u?e(s,n,r):d,c?e(l,a,r):d):"none"}pt.where=function(e,t){if(pt.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return pt.each(e,function(e){t(e)&&n.push(e)}),n},pt.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},pt.findNextWhere=function(e,t,n){pt.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},pt.findPreviousWhere=function(e,t,n){pt.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},pt.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},pt.almostEquals=function(e,t,n){return Math.abs(e-t)<n},pt.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},pt.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},pt.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},pt.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0===(e=+e)||isNaN(e)?e:e>0?1:-1},pt.toRadians=function(e){return e*(Math.PI/180)},pt.toDegrees=function(e){return e*(180/Math.PI)},pt._decimalPlaces=function(e){if(pt.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},pt.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*Math.PI&&(o+=2*Math.PI),{angle:o,distance:r}},pt.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},pt.aliasPixel=function(e){return e%2==0?0:.5},pt._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},pt.splineCurve=function(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),l=Math.sqrt(Math.pow(a.x-o.x,2)+Math.pow(a.y-o.y,2)),u=s/(s+l),c=l/(s+l),d=i*(u=isNaN(u)?0:u),f=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-d*(a.x-r.x),y:o.y-d*(a.y-r.y)},next:{x:o.x+f*(a.x-r.x),y:o.y+f*(a.y-r.y)}}},pt.EPSILON=Number.EPSILON||1e-14,pt.splineCurveMonotone=function(e){var t,n,i,r,o,a,s,l,u,c=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),d=c.length;for(t=0;t<d;++t)if(!(i=c[t]).model.skip){if(n=t>0?c[t-1]:null,(r=t<d-1?c[t+1]:null)&&!r.model.skip){var f=r.model.x-i.model.x;i.deltaK=0!==f?(r.model.y-i.model.y)/f:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(t=0;t<d-1;++t)i=c[t],r=c[t+1],i.model.skip||r.model.skip||(pt.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(o=i.mK/i.deltaK,a=r.mK/i.deltaK,(l=Math.pow(o,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),i.mK=o*s*i.deltaK,r.mK=a*s*i.deltaK)));for(t=0;t<d;++t)(i=c[t]).model.skip||(n=t>0?c[t-1]:null,r=t<d-1?c[t+1]:null,n&&!n.model.skip&&(u=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-u,i.model.controlPointPreviousY=i.model.y-u*i.mK),r&&!r.model.skip&&(u=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+u,i.model.controlPointNextY=i.model.y+u*i.mK))},pt.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},pt.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},pt.niceNum=function(e,t){var n=Math.floor(pt.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},pt.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},pt.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,o=e.target||e.srcElement,a=o.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(pt.getStyle(o,"padding-left")),u=parseFloat(pt.getStyle(o,"padding-top")),c=parseFloat(pt.getStyle(o,"padding-right")),d=parseFloat(pt.getStyle(o,"padding-bottom")),f=a.right-a.left-l-c,h=a.bottom-a.top-u-d;return{x:n=Math.round((n-a.left-l)/f*o.width/t.currentDevicePixelRatio),y:i=Math.round((i-a.top-u)/h*o.height/t.currentDevicePixelRatio)}},pt.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},pt.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},pt._calculatePadding=function(e,t,n){return(t=pt.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},pt._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},pt.getMaximumWidth=function(e){var t=pt._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-pt._calculatePadding(t,"padding-left",n)-pt._calculatePadding(t,"padding-right",n),r=pt.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},pt.getMaximumHeight=function(e){var t=pt._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-pt._calculatePadding(t,"padding-top",n)-pt._calculatePadding(t,"padding-bottom",n),r=pt.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},pt.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},pt.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,o=e.width;i.height=r*n,i.width=o*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=o+"px")}},pt.fontString=function(e,t,n){return t+" "+e+"px "+n},pt.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.font=t;var a,s,l,u,c,d=0,f=n.length;for(a=0;a<f;a++)if(null!=(u=n[a])&&!0!==pt.isArray(u))d=pt.measureText(e,r,o,d,u);else if(pt.isArray(u))for(s=0,l=u.length;s<l;s++)null==(c=u[s])||pt.isArray(c)||(d=pt.measureText(e,r,o,d,c));var h=o.length/2;if(h>n.length){for(a=0;a<h;a++)delete r[o[a]];o.splice(0,h)}return d},pt.measureText=function(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i},pt.numberOfLabelLines=function(e){var t=1;return pt.each(e,function(e){pt.isArray(e)&&e.length>t&&(t=e.length)}),t},pt.color=Ke?function(e){return e instanceof CanvasGradient&&(e=ut.global.defaultColor),Ke(e)}:function(e){return console.error("Color.js not found!"),e},pt.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:pt.color(e).saturate(.5).darken(.1).rgbString()}}(),Bn._adapters=Fn,Bn.Animation=_t,Bn.animationService=kt,Bn.controllers=fn,Bn.DatasetController=Tt,Bn.defaults=ut,Bn.Element=xt,Bn.elements=Ft,Bn.Interaction=hn,Bn.layouts=gn,Bn.platform=$n,Bn.plugins=Tn,Bn.Scale=qn,Bn.scaleService=En,Bn.Ticks=Hn,Bn.Tooltip=In,Bn.helpers.each(Ci,function(e,t){Bn.scaleService.registerScaleType(t,e,e._defaults)}),Ni)Ni.hasOwnProperty(Li)&&Bn.plugins.register(Ni[Li]);Bn.platform.initialize();var Bi=Bn;return"undefined"!=typeof window&&(window.Chart=Bn),Bn.Chart=Bn,Bn.Legend=Ni.legend._element,Bn.Title=Ni.title._element,Bn.pluginService=Bn.plugins,Bn.PluginBase=Bn.Element.extend({}),Bn.canvasHelpers=Bn.helpers.canvas,Bn.layoutService=Bn.layouts,Bn.LinearScaleBase=Zn,Bn.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(e){Bn[e]=function(t,n){return new Bn(t,Bn.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}}),Bi}),!function(e){"use strict";if("object"==typeof exports)module.exports=e("undefined"!=typeof angular?angular:require("angular"),"undefined"!=typeof Chart?Chart:require("chart.js"));else if("function"==typeof define&&define.amd)define(["angular","chart"],e);else{if("undefined"==typeof angular)throw new Error("AngularJS framework needs to be included, see https://angularjs.org/");if("undefined"==typeof Chart)throw new Error("Chart.js library needs to be included, see http://jtblin.github.io/angular-chart.js/");e(angular,Chart)}}(function(e,t){"use strict";function n(){var n={responsive:!0},i={Chart:t,getOptions:function(t){var i=t&&n[t]||{};return e.extend({},n,i)}};this.setOptions=function(t,r){r?n[t]=e.merge(n[t]||{},r):(r=t,n=e.merge(n,r)),e.merge(i.Chart.defaults,n)},this.$get=function(){return i}}function i(n,i){function o(e,t,i){var r=C(e,t);if(v(t)&&D(e,t,i,r)){var o=i[0],a=o.getContext("2d");t.chartGetColor=b(t);var s=y(e,t);$(t),t.chart=new n.Chart(a,{type:e,data:s,options:r}),t.$emit("chart-create",t.chart),_(o,t)}}function a(e,t){return!!(e&&t&&e.length&&t.length)&&(Array.isArray(e[0])?e.length===t.length&&e.every(function(e,n){return e.length===t[n].length}):t.reduce(s,0)>0&&e.length===t.length)}function s(e,t){return e+t}function l(t,n,i){var r={point:void 0,points:void 0};return function(o){var a=t.chart.getElementAtEvent||t.chart.getPointAtEvent,s=t.chart.getElementsAtEvent||t.chart.getPointsAtEvent;if(s){var l=s.call(t.chart,o),u=a?a.call(t.chart,o)[0]:void 0;i!==!1&&(e.equals(r.points,l)||e.equals(r.point,u))||(r.point=u,r.points=l,t[n](l,o,u))}}}function u(i,r){for(var o=e.copy(r.chartColors||n.getOptions(i).chartColors||t.defaults.global.colors),a=o.length<r.chartData.length;o.length<r.chartData.length;)o.push(r.chartGetColor());return a&&(r.chartColors=o),o.map(c)}function c(e){return"string"==typeof e&&"r"===e[0]?f(g(e)):"string"==typeof e&&"#"===e[0]?f(m(e.substr(1))):"object"==typeof e&&null!==e?e:d()}function d(){var e=[h(0,255),h(0,255),h(0,255)];return f(e)}function f(e){var t=e[3]||1;return e=e.slice(0,3),{backgroundColor:p(e,.2),pointBackgroundColor:p(e,t),pointHoverBackgroundColor:p(e,.8),borderColor:p(e,t),pointBorderColor:"#fff",pointHoverBorderColor:p(e,t)}}function h(e,t){return Math.floor(Math.random()*(t-e+1))+e}function p(e,t){return r?"rgb("+e.join(",")+")":"rgba("+e.concat(t).join(",")+")"}function m(e){var t=parseInt(e,16),n=t>>16&255,i=t>>8&255,r=255&t;return[n,i,r]}function g(e){var t=e.match(/^rgba?\(([\d,.]+)\)$/);if(!t)throw new Error("Cannot parse rgb value");return e=t[1].split(","),e.map(Number)}function v(e){return e.chartData&&e.chartData.length}function b(e){return"function"==typeof e.chartGetColor?e.chartGetColor:d}function y(e,t){var n=u(e,t);return Array.isArray(t.chartData[0])?w(t.chartLabels,t.chartData,t.chartSeries||[],n,t.chartDatasetOverride):x(t.chartLabels,t.chartData,n,t.chartDatasetOverride)}function w(t,n,i,r,o){return{labels:t,datasets:n.map(function(t,n){var a=e.extend({},r[n],{label:i[n],data:t});return o&&o.length>=n&&e.merge(a,o[n]),a})}}function x(t,n,i,r){var o={labels:t,datasets:[{data:n,backgroundColor:i.map(function(e){return e.pointBackgroundColor}),hoverBackgroundColor:i.map(function(e){return e.backgroundColor})}]};return r&&e.merge(o.datasets[0],r),o}function C(t,i){return e.extend({},n.getOptions(t),i.chartOptions)}function _(t,n){t.onclick=n.chartClick?l(n,"chartClick",!1):e.noop,t.onmousemove=n.chartHover?l(n,"chartHover",!0):e.noop}function k(e,t){Array.isArray(t.chartData[0])?t.chart.data.datasets.forEach(function(t,n){t.data=e[n]}):t.chart.data.datasets[0].data=e,t.chart.update(),t.$emit("chart-update",t.chart)}function S(e){return!e||Array.isArray(e)&&!e.length||"object"==typeof e&&!Object.keys(e).length}function D(e,t,n,r){return!r.responsive||0!==n[0].clientHeight||(i(function(){o(e,t,n)},50,!1),!1)}function $(e){e.chart&&(e.chart.destroy(),e.$emit("chart-destroy",e.chart))}return function(t){return{restrict:"CA",scope:{chartGetColor:"=?",chartType:"=",chartData:"=?",chartLabels:"=?",chartOptions:"=?",chartSeries:"=?",chartColors:"=?",chartClick:"=?",chartHover:"=?",chartDatasetOverride:"=?"},link:function(n,i){function s(e,r){if(!e||!e.length||Array.isArray(e[0])&&!e[0].length)return void $(n);var s=t||n.chartType;return s?n.chart&&a(e,r)?k(e,n):void o(s,n,i):void 0}function l(r,a){if(!S(r)&&!e.equals(r,a)){var s=t||n.chartType;s&&o(s,n,i)}}function u(t,r){S(t)||e.equals(t,r)||o(t,n,i)}r&&window.G_vmlCanvasManager.initElement(i[0]),n.$watch("chartData",s,!0),n.$watch("chartSeries",l,!0),n.$watch("chartLabels",l,!0),n.$watch("chartOptions",l,!0),n.$watch("chartColors",l,!0),n.$watch("chartDatasetOverride",l,!0),n.$watch("chartType",u,!1),n.$on("$destroy",function(){$(n)}),n.$on("$resize",function(){n.chart&&n.chart.resize()})}}}}t.defaults.global.multiTooltipTemplate="<%if (datasetLabel){%><%=datasetLabel%>: <%}%><%= value %>",t.defaults.global.tooltips.mode="label",t.defaults.global.elements.line.borderWidth=2,t.defaults.global.elements.rectangle.borderWidth=2,t.defaults.global.legend.display=!1,t.defaults.global.colors=["#97BBCD","#DCDCDC","#F7464A","#46BFBD","#FDB45C","#949FB1","#4D5360"];var r="object"==typeof window.G_vmlCanvasManager&&null!==window.G_vmlCanvasManager&&"function"==typeof window.G_vmlCanvasManager.initElement;return r&&(t.defaults.global.animation=!1),e.module("chart.js",[]).provider("ChartJs",n).factory("ChartJsFactory",["ChartJs","$timeout",i]).directive("chartBase",["ChartJsFactory",function(e){return new e}]).directive("chartLine",["ChartJsFactory",function(e){return new e("line")}]).directive("chartBar",["ChartJsFactory",function(e){return new e("bar")}]).directive("chartHorizontalBar",["ChartJsFactory",function(e){return new e("horizontalBar")}]).directive("chartRadar",["ChartJsFactory",function(e){return new e("radar")}]).directive("chartDoughnut",["ChartJsFactory",function(e){return new e("doughnut")}]).directive("chartPie",["ChartJsFactory",function(e){return new e("pie")}]).directive("chartPolarArea",["ChartJsFactory",function(e){return new e("polarArea")}]).directive("chartBubble",["ChartJsFactory",function(e){return new e("bubble")}]).name}),function(){var e;e=angular.module("daterangepicker",[]),e.constant("dateRangePickerConfig",{clearLabel:"Clear",locale:{separator:" - ",format:"YYYY-MM-DD"}}),e.directive("dateRangePicker",["$compile","$timeout","$parse","dateRangePickerConfig",function(e,t,n,i){return{require:"ngModel",restrict:"A",scope:{min:"=",max:"=",model:"=ngModel",opts:"=options",clearable:"="},link:function(e,t,n,r){var o,a,s,l,u,c,d,f,h,p,m,g,v,b;return l=function(){var e,t;return t=angular.extend.apply(angular,Array.prototype.slice.call(arguments).map(function(e){return null!=e?e.locale:void 0}).filter(function(e){return!!e})),e=angular.extend.apply(angular,arguments),e.locale=t,e},v=$(t),g=e.opts,b=l({locale:{}},i,g),u=null,o=function(){return u.setStartDate(),u.setEndDate()},c=function(e){return function(t){if(u&&t)return e(moment(t))}},f=c(function(e){return u.endDate<e&&u.setEndDate(e),b.startDate=e,u.setStartDate(e)}),d=c(function(e){return u.startDate>e&&u.setStartDate(e),b.endDate=e,u.setEndDate(e)}),h=function(e){return function(t,n){return!t||!n||e(moment(t),moment(n))}},m=h(function(e,t){return e.isBefore(t)||e.isSame(t,"day")}),p=h(function(e,t){return e.isAfter(t)||e.isSame(t,"day")}),r.$formatters.push(function(e){var t;return t=function(e){return moment.isMoment(e)?e.format(b.locale.format):moment(e).format(b.locale.format)},b.singleDatePicker&&e?t(e):e.startDate?[t(e.startDate),t(e.endDate)].join(b.locale.separator):""}),r.$render=function(){return r.$modelValue&&r.$modelValue.startDate?(f(r.$modelValue.startDate),d(r.$modelValue.endDate)):o(),v.val(r.$viewValue)},r.$parsers.push(function(e){var t,n,i;return t=function(e){return moment(e,b.locale.format)},n={startDate:null,endDate:null},angular.isString(e)&&e.length>0&&(b.singleDatePicker?n=t(e):(i=e.split(b.locale.separator).map(t),n.startDate=i[0],n.endDate=i[1])),n}),r.$isEmpty=function(e){return!(angular.isString(e)&&e.length>0)},a=function(){var t,n;v.daterangepicker(angular.extend(b,{autoUpdateInput:!1}),function(t,n){return e.$apply(function(){return e.model=b.singleDatePicker?t:{startDate:t,endDate:n}})}),u=v.data("daterangepicker"),n=[];for(t in b.eventHandlers)n.push(v.on(t,function(t){var n;return n=t.type+"."+t.namespace,e.$evalAsync(b.eventHandlers[n])}));return n},a(),e.$watch("model.startDate",function(e){return f(e)}),e.$watch("model.endDate",function(e){return d(e)}),s=function(t,i,o,s){if(n[t])return r.$validators[t]=function(e){return e&&i(b[s],e[o])},e.$watch(t,function(e){return b[s]=!!e&&moment(e),a()})},s("min",m,"startDate","minDate"),s("max",p,"endDate","maxDate"),n.options&&e.$watch("opts",function(e){return b=l(b,e),a()},!0),n.clearable&&e.$watch("clearable",function(t){if(t&&(b=l(b,{locale:{cancelLabel:b.clearLabel}})),a(),t)return v.on("cancel.daterangepicker",function(){return e.$apply(function(){return e.model=b.singleDatePicker?null:{startDate:null,endDate:null}})})}),e.$on("$destroy",function(){return null!=u?u.remove():void 0})}}}])}.call(this),"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="checklist-model"),angular.module("checklist-model",[]).directive("checklistModel",["$parse","$compile",function(e,t){function n(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t))return!0;return!1}function i(e,t,i){return e=angular.isArray(e)?e:[],n(e,t,i)||e.push(t),e}function r(e,t,n){if(angular.isArray(e))for(var i=e.length;i--;)if(n(e[i],t)){e.splice(i,1);break}return e}function o(o,a,s){function l(){y(),w(),x()}function u(){return s.checklistValue?e(s.checklistValue)(o.$parent):s.value}function c(e,t){var n=h(o.$parent);angular.isFunction(h.assign)&&(t===!0?h.assign(o.$parent,i(n,e,v)):h.assign(o.$parent,r(n,e,v)))}function d(e,t){return m&&m(o)===!1?void c(u(),g(o)):void g.assign(o,n(e,u(),v))}var f=s.checklistModel;s.$set("checklistModel",null),t(a)(o),s.$set("checklistModel",f);var h=e(f),p=e(s.checklistChange),m=e(s.checklistBeforeChange),g=e(s.ngModel),v=function(e,t){return isNaN(e)||isNaN(t)?angular.equals(e,t):String(e)===String(t)};if(s.hasOwnProperty("checklistComparator"))if("."==s.checklistComparator[0]){var b=s.checklistComparator.substring(1);v=function(e,t){return e[b]===t[b]}}else v=e(s.checklistComparator)(o.$parent);var y=o.$watch(s.ngModel,function(e,t){if(e!==t){if(m&&m(o)===!1)return void g.assign(o,n(h(o.$parent),u(),v));c(u(),e),p&&p(o)}}),w=o.$watch(u,function(e,t){if(e!=t&&angular.isDefined(t)&&o[s.ngModel]===!0){var n=h(o.$parent);h.assign(o.$parent,r(n,t,v)),h.assign(o.$parent,i(n,e,v))}},!0),x=o.$on("$destroy",l);angular.isFunction(o.$parent.$watchCollection)?o.$parent.$watchCollection(f,d):o.$parent.$watch(f,d,!0)}return{restrict:"A",priority:1e3,terminal:!0,scope:!0,compile:function(e,t){if(!t.checklistValue&&!t.value)throw"You should provide `value` or `checklist-value`.";return t.ngModel||t.$set("ngModel","checked"),o}}}]);